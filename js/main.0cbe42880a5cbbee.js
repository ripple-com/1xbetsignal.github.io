var kFe=Object.defineProperty,NFe=Object.defineProperties,FFe=Object.getOwnPropertyDescriptors,wx=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,bX=Object.prototype.propertyIsEnumerable,ha=Math.pow,_X=(Me,z,A)=>z in Me?kFe(Me,z,{enumerable:!0,configurable:!0,writable:!0,value:A}):Me[z]=A,je=(Me,z)=>{for(var A in z||(z={}))yX.call(z,A)&&_X(Me,A,z[A]);if(wx)for(var A of wx(z))bX.call(z,A)&&_X(Me,A,z[A]);return Me},Nn=(Me,z)=>NFe(Me,FFe(z)),Sx=(Me,z)=>{var A={};for(var h in Me)yX.call(Me,h)&&z.indexOf(h)<0&&(A[h]=Me[h]);if(null!=Me&&wx)for(var h of wx(Me))z.indexOf(h)<0&&bX.call(Me,h)&&(A[h]=Me[h]);return A};(self.webpackChunkng_aviator=self.webpackChunkng_aviator||[]).push([[179],{8515:(Me,z,A)=>{var gX,h={};A.r(h),A.d(h,{BaseTextureCache:()=>Cl,BoundingBox:()=>fA,CanvasRenderTarget:()=>jb,DATA_URI:()=>qj,EventEmitter:()=>G_,ProgramCache:()=>gA,TextureCache:()=>Oa,clearTextureCache:()=>m0e,correctBlendMode:()=>uA,createIndicesForQuads:()=>Kj,decomposeDataUri:()=>_0e,deprecation:()=>Mn,destroyTextureCache:()=>g0e,detectVideoAlphaMode:()=>kj,determineCrossOrigin:()=>tG,earcut:()=>Aj,getBufferType:()=>uT,getCanvasBoundingBox:()=>Zj,getResolutionOfUrl:()=>Qu,hex2rgb:()=>o0e,hex2string:()=>Yj,interleaveTypedArrays:()=>p0e,isMobile:()=>su,isPow2:()=>dA,isWebGLSupported:()=>Nj,log2:()=>hA,nextPow2:()=>Hb,path:()=>Zs,premultiplyBlendMode:()=>cA,premultiplyRgba:()=>c0e,premultiplyTint:()=>u0e,premultiplyTintToRgba:()=>d0e,removeItems:()=>Lf,rgb2hex:()=>Xj,sayHello:()=>J_e,sign:()=>Xd,skipHello:()=>K_e,string2hex:()=>a0e,trimCanvas:()=>eG,uid:()=>sp,url:()=>W_e});var E={};function v(n){return"function"==typeof n}function T(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}A.r(E),A.d(E,{ALPHA_MODES:()=>Ea,AbstractMultiResource:()=>tD,AccessibilityManager:()=>_D,AlphaFilter:()=>rV,AnimatedSprite:()=>Sv,Application:()=>yD,ArrayResource:()=>WG,Assets:()=>K_,AssetsClass:()=>PV,Attribute:()=>Vb,BLEND_MODES:()=>wt,BUFFER_BITS:()=>sT,BUFFER_TYPE:()=>ru,BackgroundSystem:()=>Jb,BaseImageResource:()=>td,BasePrepare:()=>wv,BaseRenderTexture:()=>CT,BaseTexture:()=>kn,BatchDrawCall:()=>pT,BatchGeometry:()=>MA,BatchRenderer:()=>ap,BatchShaderGenerator:()=>fG,BatchSystem:()=>IA,BatchTextureArray:()=>bT,BitmapFont:()=>du,BitmapFontData:()=>Tv,BitmapText:()=>xv,BlobResource:()=>GV,BlurFilter:()=>sV,BlurFilterPass:()=>FT,Bounds:()=>ov,BrowserAdapter:()=>yj,Buffer:()=>ds,BufferResource:()=>Gb,BufferSystem:()=>ZA,CLEAR_MODES:()=>iu,COLOR_MASK_BITS:()=>_j,Cache:()=>up,CanvasContextSystem:()=>aD,CanvasExtract:()=>LD,CanvasGraphicsRenderer:()=>HD,CanvasMaskSystem:()=>lD,CanvasMeshRenderer:()=>jD,CanvasObjectRendererSystem:()=>cD,CanvasPrepare:()=>GD,CanvasRenderer:()=>sv,CanvasResource:()=>nD,CanvasSpriteRenderer:()=>VD,Circle:()=>$b,Color:()=>si,ColorMatrixFilter:()=>BT,CompressedTextureResource:()=>dp,Container:()=>vr,ContextSystem:()=>Qb,CountLimiter:()=>g9,CubeResource:()=>XG,DEG_TO_RAD:()=>oG,DRAW_MODES:()=>cc,DisplacementFilter:()=>oV,DisplayObject:()=>Ur,ENV:()=>rp,Ellipse:()=>Wb,EventBoundary:()=>cV,EventSystem:()=>LT,ExtensionType:()=>Bt,Extract:()=>ZV,FORMATS:()=>Dt,FORMATS_TO_COMPONENTS:()=>WV,FXAAFilter:()=>aV,FederatedDisplayObject:()=>dV,FederatedEvent:()=>W_,FederatedMouseEvent:()=>hv,FederatedPointerEvent:()=>pc,FederatedWheelEvent:()=>Wf,FillStyle:()=>bv,Filter:()=>Qo,FilterState:()=>bG,FilterSystem:()=>kA,Framebuffer:()=>vT,FramebufferSystem:()=>NA,GC_MODES:()=>oT,GLFramebuffer:()=>vG,GLProgram:()=>IG,GLTexture:()=>ET,GRAPHICS_CURVES:()=>$be,GenerateTextureSystem:()=>GA,Geometry:()=>qd,GeometrySystem:()=>BA,Graphics:()=>mc,GraphicsData:()=>yv,GraphicsGeometry:()=>o9,HTMLText:()=>fve,HTMLTextStyle:()=>ZT,IGLUniformData:()=>W0e,INSTALLED:()=>hT,INTERNAL_FORMATS:()=>po,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>gv,ImageBitmapResource:()=>$f,ImageResource:()=>AA,LINE_CAP:()=>eh,LINE_JOIN:()=>Sl,LineStyle:()=>XT,LoaderParserPriority:()=>gc,MASK_TYPES:()=>As,MIPMAP_MODES:()=>nu,MSAA_QUALITY:()=>ws,MaskData:()=>SG,MaskSystem:()=>LA,Matrix:()=>Vi,Mesh:()=>ea,MeshBatchUvs:()=>a9,MeshGeometry:()=>vv,MeshMaterial:()=>qf,MultisampleSystem:()=>QA,NineSlicePlane:()=>Cv,NoiseFilter:()=>lV,ObjectRenderer:()=>qb,ObjectRendererSystem:()=>eD,ObservablePoint:()=>Zu,PI_2:()=>zb,PRECISION:()=>vl,ParticleContainer:()=>ZG,ParticleRenderer:()=>dD,PlaneGeometry:()=>u9,PluginSystem:()=>HA,Point:()=>fi,Polygon:()=>op,Prepare:()=>kD,Program:()=>ed,ProjectionSystem:()=>jA,Quad:()=>yG,QuadUv:()=>DA,RAD_TO_DEG:()=>sG,RENDERER_TYPE:()=>rT,Rectangle:()=>Ln,RenderTexture:()=>cu,RenderTexturePool:()=>_G,RenderTextureSystem:()=>VA,Renderer:()=>PT,ResizePlugin:()=>bD,Resource:()=>z_,RopeGeometry:()=>d9,RoundedRectangle:()=>Yb,Runner:()=>wl,SAMPLER_TYPES:()=>Jt,SCALE_MODES:()=>uc,SHAPES:()=>fr,SVGResource:()=>IT,ScissorSystem:()=>OG,Shader:()=>lu,ShaderSystem:()=>$A,SimpleMesh:()=>p9,SimplePlane:()=>h9,SimpleRope:()=>f9,Sprite:()=>Ds,SpriteMaskFilter:()=>wG,Spritesheet:()=>ND,StartupSystem:()=>tv,State:()=>au,StateSystem:()=>jG,StencilSystem:()=>UA,SystemManager:()=>WA,TARGETS:()=>Bf,TEXT_GRADIENT:()=>uv,TYPES:()=>pn,TYPES_TO_BYTES_PER_COMPONENT:()=>xD,TYPES_TO_BYTES_PER_PIXEL:()=>YV,TemporaryDisplayObject:()=>KG,Text:()=>dv,TextFormat:()=>Mv,TextMetrics:()=>Jd,TextStyle:()=>Qd,Texture:()=>Lt,TextureGCSystem:()=>lp,TextureMatrix:()=>MT,TextureSystem:()=>YA,TextureUvs:()=>wT,Ticker:()=>ho,TickerPlugin:()=>KA,TilingSprite:()=>DT,TilingSpriteRenderer:()=>uD,TimeLimiter:()=>ove,Transform:()=>Xb,TransformFeedback:()=>hye,TransformFeedbackSystem:()=>XA,UPDATE_PRIORITY:()=>Kd,UniformGroup:()=>hc,VERSION:()=>pye,VideoResource:()=>sD,ViewSystem:()=>iv,ViewableBuffer:()=>dT,WRAP_MODES:()=>Ku,XMLFormat:()=>KT,XMLStringFormat:()=>JT,accessibleTarget:()=>hV,autoDetectFormat:()=>C9,autoDetectRenderer:()=>zG,autoDetectResource:()=>SA,cacheTextureArray:()=>IV,canUseNewCanvasBlendModes:()=>oD,canvasUtils:()=>eo,checkDataUrl:()=>Yf,checkExtension:()=>Zd,checkMaxIfStatementsInShader:()=>iG,convertToList:()=>fc,copySearchParams:()=>HT,createStringVariations:()=>OV,createTexture:()=>q_,createUBOElements:()=>FG,curves:()=>hp,defaultFilterVertex:()=>JA,defaultVertex:()=>$G,detectAvif:()=>DV,detectCompressedTextures:()=>jV,detectDefaults:()=>NV,detectMp4:()=>BV,detectOgv:()=>LV,detectWebm:()=>FV,detectWebp:()=>RV,extensions:()=>Wt,filters:()=>fD,generateProgram:()=>kG,generateUniformBufferSync:()=>LG,getFontFamilyName:()=>bV,getTestContext:()=>cG,getUBOData:()=>BG,graphicsUtils:()=>Xbe,groupD8:()=>Rr,isMobile:()=>su,isSingleItem:()=>pv,loadBitmapFont:()=>E9,loadDDS:()=>qV,loadImageBitmap:()=>TV,loadJson:()=>_V,loadKTX:()=>KV,loadSVG:()=>MV,loadTextures:()=>fv,loadTxt:()=>yV,loadVideo:()=>xV,loadWebFont:()=>vV,parseDDS:()=>zV,parseKTX:()=>XV,resolveCompressedTextureUrl:()=>JV,resolveTextureUrl:()=>UV,settings:()=>zt,spritesheetAsset:()=>v9,uniformParsers:()=>Vf,unsafeEvalSupported:()=>UG,utils:()=>h});const y=T(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function _(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class g{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(v(i))try{i()}catch(s){e=s instanceof y?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{x(s)}catch(o){e=null!=e?e:[],o instanceof y?e=[...e,...o.errors]:e.push(o)}}if(e)throw new y(e)}}add(e){var t;if(e&&e!==this)if(this.closed)x(e);else{if(e instanceof g){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_(t,e)}remove(e){const{_finalizers:t}=this;t&&_(t,e),e instanceof g&&e._removeParent(this)}}g.EMPTY=(()=>{const n=new g;return n.closed=!0,n})();const f=g.EMPTY;function m(n){return n instanceof g||n&&"closed"in n&&v(n.remove)&&v(n.add)&&v(n.unsubscribe)}function x(n){v(n)?n():n.unsubscribe()}const P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},p={setTimeout(n,e,...t){const{delegate:i}=p;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=p;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function w(n){p.setTimeout(()=>{const{onUnhandledError:e}=P;if(!e)throw n;e(n)})}function O(){}const N=J("C",void 0,void 0);function J(n,e,t){return{kind:n,value:e,error:t}}let X=null;function Z(n){if(P.useDeprecatedSynchronousErrorHandling){const e=!X;if(e&&(X={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=X;if(X=null,t)throw i}}else n()}class K extends g{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,m(e)&&e.add(this)):this.destination=xe}static create(e,t,i){return new pe(e,t,i)}next(e){this.isStopped?Se(function V(n){return J("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Se(function $(n){return J("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Se(N,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function re(n,e){return Q.call(n,e)}class ne{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){be(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){be(i)}else be(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){be(t)}}}class pe extends K{constructor(e,t,i){let r;if(super(),v(e)||!e)r={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=i?i:void 0};else{let s;this&&P.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&re(e.next,s),error:e.error&&re(e.error,s),complete:e.complete&&re(e.complete,s)}):r=e}this.destination=new ne(r)}}function be(n){P.useDeprecatedSynchronousErrorHandling?function j(n){P.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=n)}(n):w(n)}function Se(n,e){const{onStoppedNotification:t}=P;t&&p.setTimeout(()=>t(n,e))}const xe={closed:!0,next:O,error:function Le(n){throw n},complete:O},le="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ce(n){return n}let he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function Ke(n){return n&&n instanceof K||function Ne(n){return n&&v(n.next)&&v(n.error)&&v(n.complete)}(n)&&m(n)}(t)?t:new pe(t,i,r);return Z(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Te(i))((r,s)=>{const o=new pe({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[le](){return this}pipe(...t){return function Xe(n){return 0===n.length?Ce:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Te(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function Te(n){var e;return null!==(e=null!=n?n:P.Promise)&&void 0!==e?e:Promise}const ot=T(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ze=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new mt(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new ot}next(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?f:(this.currentObservers=null,s.push(t),new g(()=>{this.currentObservers=null,_(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new he;return t.source=this,t}}return n.create=(e,t)=>new mt(e,t),n})();class mt extends Ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:f}}function tt(n){return e=>{if(function yt(n){return v(null==n?void 0:n.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,i,r){return new Ie(n,e,t,i,r)}class Ie extends K{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ke(n,e){return tt((t,i)=>{let r=0;t.subscribe(me(i,s=>{i.next(n.call(e,s,r++))}))})}function Ve(n,e,t,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function it(n){return this instanceof it?(this.v=n,this):new it(n)}function xt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(b){i[b]&&(r[b]=function(C){return new Promise(function(M,I){s.push([b,C,M,I])>1||a(b,C)})})}function a(b,C){try{!function l(b){b.value instanceof it?Promise.resolve(b.value.v).then(c,u):d(s[0][2],b)}(i[b](C))}catch(M){d(s[0][3],M)}}function c(b){a("next",b)}function u(b){a("throw",b)}function d(b,C){b(C),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ft(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Fe(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const Ue=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ye(n){return v(null==n?void 0:n.then)}function mn(n){return v(n[le])}function En(n){return Symbol.asyncIterator&&v(null==n?void 0:n[Symbol.asyncIterator])}function ln(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Si=function Rt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function un(n){return v(null==n?void 0:n[Si])}function mi(n){return xt(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield it(t.read());if(r)return yield it(void 0);yield yield it(i)}}finally{t.releaseLock()}})}function Wi(n){return v(null==n?void 0:n.getReader)}function It(n){if(n instanceof he)return n;if(null!=n){if(mn(n))return function ir(n){return new he(e=>{const t=n[le]();if(v(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ue(n))return function Yi(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ye(n))return function pa(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,w)})}(n);if(En(n))return fa(n);if(un(n))return function Pu(n){return new he(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Wi(n))return function ga(n){return fa(mi(n))}(n)}throw ln(n)}function fa(n){return new he(e=>{(function Tr(n,e){var t,i,r,s;return function rn(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ft(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function _s(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function ma(n,e,t=1/0){return v(e)?ma((i,r)=>ke((s,o)=>e(i,s,r,o))(It(n(i,r))),t):("number"==typeof e&&(t=e),tt((i,r)=>function rs(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const b=()=>{d&&!l.length&&!c&&e.complete()},C=I=>c<i?M(I):l.push(I),M=I=>{s&&e.next(I),c++;let k=!1;It(t(I,u++)).subscribe(me(e,B=>{null==r||r(B),s?C(B):e.next(B)},()=>{k=!0},void 0,()=>{if(k)try{for(c--;l.length&&c<i;){const B=l.shift();o?_s(e,o,()=>M(B)):M(B)}b()}catch(B){e.error(B)}}))};return n.subscribe(me(e,C,()=>{d=!0,b()})),()=>{null==a||a()}}(i,r,n,t)))}function Ls(n=1/0){return ma(Ce,n)}const vt=new he(n=>n.complete());function Ni(n){return n&&v(n.schedule)}function On(n){return n[n.length-1]}function dr(n){return v(On(n))?n.pop():void 0}function To(n){return Ni(On(n))?n.pop():void 0}function Xi(n,e=0){return tt((t,i)=>{t.subscribe(me(i,r=>_s(i,n,()=>i.next(r),e),()=>_s(i,n,()=>i.complete(),e),r=>_s(i,n,()=>i.error(r),e)))})}function jr(n,e=0){return tt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Fc(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{_s(t,e,()=>{const i=n[Symbol.asyncIterator]();_s(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Mr(n,e){return e?function $p(n,e){if(null!=n){if(mn(n))return function Us(n,e){return It(n).pipe(jr(e),Xi(e))}(n,e);if(Ue(n))return function ys(n,e){return new he(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Ye(n))return function so(n,e){return It(n).pipe(jr(e),Xi(e))}(n,e);if(En(n))return Fc(n,e);if(un(n))return function Td(n,e){return new he(t=>{let i;return _s(t,e,()=>{i=n[Si](),_s(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>v(null==i?void 0:i.return)&&i.return()})}(n,e);if(Wi(n))return function Th(n,e){return Fc(mi(n),e)}(n,e)}throw ln(n)}(n,e):It(n)}function sr(n){return n<=0?()=>vt:tt((e,t)=>{let i=0;e.subscribe(me(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Uo(n={}){const{connector:e=(()=>new Ze),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o=null,a=null,l=null,c=0,u=!1,d=!1;const b=()=>{null==a||a.unsubscribe(),a=null},C=()=>{b(),o=l=null,u=d=!1},M=()=>{const I=o;C(),null==I||I.unsubscribe()};return tt((I,k)=>{c++,!d&&!u&&b();const B=l=null!=l?l:e();k.add(()=>{c--,0===c&&!d&&!u&&(a=Ho(M,r))}),B.subscribe(k),o||(o=new pe({next:L=>B.next(L),error:L=>{d=!0,b(),a=Ho(C,t,L),B.error(L)},complete:()=>{u=!0,b(),a=Ho(C,i),B.complete()}}),Mr(I).subscribe(o))})(s)}}function Ho(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(sr(1)).subscribe(()=>n())}function pi(n){for(let e in n)if(n[e]===pi)return e;throw Error("Could not find renamed property on target object.")}function $l(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function zi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(zi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function gm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const mm=pi({__forward_ref__:pi});function Un(n){return n.__forward_ref__=Un,n.toString=function(){return zi(this())},n}function ci(n){return oN(n)?n():n}function oN(n){return"function"==typeof n&&n.hasOwnProperty(mm)&&n.__forward_ref__===Un}class Zt extends Error{constructor(e,t){super(function Px(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function jn(n){return"string"==typeof n?n:null==n?"":String(n)}function Mo(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():jn(n)}function K1(n,e){const t=e?` in ${e}`:"";throw new Zt(-201,`No provider for ${Mo(n)} found${t}`)}function rl(n,e){null==n&&function or(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Ct(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Je(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ix(n){return aN(n,J1)||aN(n,cN)}function aN(n,e){return n.hasOwnProperty(e)?n[e]:null}function lN(n){return n&&(n.hasOwnProperty(Ax)||n.hasOwnProperty(IX))?n[Ax]:null}const J1=pi({\u0275prov:pi}),Ax=pi({\u0275inj:pi}),cN=pi({ngInjectableDef:pi}),IX=pi({ngInjectorDef:pi});var Yn=(()=>((Yn=Yn||{})[Yn.Default=0]="Default",Yn[Yn.Host=1]="Host",Yn[Yn.Self=2]="Self",Yn[Yn.SkipSelf=4]="SkipSelf",Yn[Yn.Optional=8]="Optional",Yn))();let Dx;function Mh(n){const e=Dx;return Dx=n,e}function uN(n,e,t){const i=Ix(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Yn.Optional?null:void 0!==e?e:void K1(zi(n),"Injector")}function xh(n){return{toString:n}.toString()}var Bc=(()=>((Bc=Bc||{})[Bc.OnPush=0]="OnPush",Bc[Bc.Default=1]="Default",Bc))(),Lc=(()=>{return(n=Lc||(Lc={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Lc;var n})();const DX="undefined"!=typeof globalThis&&globalThis,RX="undefined"!=typeof window&&window,kX="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,hr=DX||"undefined"!=typeof global&&global||RX||kX,_m={},yr=[],Q1=pi({\u0275cmp:pi}),Rx=pi({\u0275dir:pi}),Z1=pi({\u0275pipe:pi}),dN=pi({\u0275mod:pi}),xd=pi({\u0275fac:pi}),ty=pi({__NG_ELEMENT_ID__:pi});let NX=0;function rt(n){return xh(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Bc.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||yr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Lc.Emulated,id:"c",styles:n.styles||yr,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=NX++,i.inputs=gN(n.inputs,t),i.outputs=gN(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(hN):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(pN):null,i})}function hN(n){return xo(n)||function Eh(n){return n[Rx]||null}(n)}function pN(n){return function Wp(n){return n[Z1]||null}(n)}const fN={};function Qe(n){return xh(()=>{const e={type:n.type,bootstrap:n.bootstrap||yr,declarations:n.declarations||yr,imports:n.imports||yr,exports:n.exports||yr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(fN[n.id]=n.type),e})}function gN(n,e){if(null==n)return _m;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const Ht=rt;function ss(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function xo(n){return n[Q1]||null}function Wl(n,e){const t=n[dN]||null;if(!t&&!0===e)throw new Error(`Type ${zi(n)} does not have '\u0275mod' property.`);return t}function Iu(n){return Array.isArray(n)&&"object"==typeof n[1]}function Hc(n){return Array.isArray(n)&&!0===n[1]}function Fx(n){return 0!=(8&n.flags)}function iC(n){return 2==(2&n.flags)}function rC(n){return 1==(1&n.flags)}function jc(n){return null!==n.template}function jX(n){return 0!=(512&n[2])}function Kp(n,e){return n.hasOwnProperty(xd)?n[xd]:null}class zX{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Eo(){return _N}function _N(n){return n.type.prototype.ngOnChanges&&(n.setInput=WX),$X}function $X(){const n=bN(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===_m)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function WX(n,e,t,i){const r=bN(n)||function YX(n,e){return n[yN]=e}(n,{previous:_m,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new zX(l&&l.currentValue,e,o===_m),n[i]=e}Eo.ngInherit=!0;const yN="__ngSimpleChanges__";function bN(n){return n[yN]||null}let jx;function Gx(){return void 0!==jx?jx:"undefined"!=typeof document?document:void 0}function as(n){return!!n.listen}const vN={createRenderer:(n,e)=>Gx()};function Es(n){for(;Array.isArray(n);)n=n[0];return n}function sC(n,e){return Es(e[n])}function ol(n,e){return Es(e[n.index])}function Vx(n,e){return n.data[e]}function wm(n,e){return n[e]}function al(n,e){const t=e[n];return Iu(t)?t:t[0]}function CN(n){return 4==(4&n[2])}function zx(n){return 128==(128&n[2])}function Oh(n,e){return null==e?null:n[e]}function wN(n){n[18]=0}function $x(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const Gn={lFrame:AN(null),bindingsEnabled:!0};function TN(){return Gn.bindingsEnabled}function Tt(){return Gn.lFrame.lView}function Ui(){return Gn.lFrame.tView}function ht(n){return Gn.lFrame.contextLView=n,n[8]}function Hs(){let n=MN();for(;null!==n&&64===n.type;)n=n.parent;return n}function MN(){return Gn.lFrame.currentTNode}function Au(n,e){const t=Gn.lFrame;t.currentTNode=n,t.isParent=e}function Wx(){return Gn.lFrame.isParent}function Yx(){Gn.lFrame.isParent=!1}function ya(){const n=Gn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ed(){return Gn.lFrame.bindingIndex}function Sm(){return Gn.lFrame.bindingIndex++}function Od(n){const e=Gn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function uq(n,e){const t=Gn.lFrame;t.bindingIndex=t.bindingRootIndex=n,Xx(e)}function Xx(n){Gn.lFrame.currentDirectiveIndex=n}function ON(){return Gn.lFrame.currentQueryIndex}function Kx(n){Gn.lFrame.currentQueryIndex=n}function hq(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function PN(n,e,t){if(t&Yn.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&Yn.Host||(r=hq(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=Gn.lFrame=IN();return i.currentTNode=e,i.lView=n,!0}function aC(n){const e=IN(),t=n[1];Gn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function IN(){const n=Gn.lFrame,e=null===n?null:n.child;return null===e?AN(n):e}function AN(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function DN(){const n=Gn.lFrame;return Gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const RN=DN;function lC(){const n=DN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ba(){return Gn.lFrame.selectedIndex}function Ph(n){Gn.lFrame.selectedIndex=n}function Jr(){const n=Gn.lFrame;return Vx(n.tView,n.selectedIndex)}function cC(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function uC(n,e,t){NN(n,e,3,t)}function dC(n,e,t,i){(3&n[2])===t&&NN(n,e,t,i)}function Jx(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function NN(n,e,t,i){const s=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(vq(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function vq(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class oy{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function hC(n,e,t){const i=as(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];i?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];Zx(o)?i&&n.setProperty(e,o,a):i?n.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function FN(n){return 3===n||4===n||6===n}function Zx(n){return 64===n.charCodeAt(0)}function pC(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||BN(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function BN(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function LN(n){return-1!==n}function Tm(n){return 32767&n}function Mm(n,e){let t=function Mq(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let eE=!0;function fC(n){const e=eE;return eE=n,e}let xq=0;function ly(n,e){const t=nE(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,tE(i.data,n),tE(e,null),tE(i.blueprint,null));const r=gC(n,e),s=n.injectorIndex;if(LN(r)){const o=Tm(r),a=Mm(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function tE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nE(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function gC(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function mC(n,e,t){!function Eq(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ty)&&(i=t[ty]),null==i&&(i=t[ty]=xq++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function jN(n,e,t){if(t&Yn.Optional)return n;K1(e,"NodeInjector")}function GN(n,e,t,i){if(t&Yn.Optional&&void 0===i&&(i=null),0==(t&(Yn.Self|Yn.Host))){const r=n[9],s=Mh(void 0);try{return r?r.get(e,i,t&Yn.Optional):uN(e,i,t&Yn.Optional)}finally{Mh(s)}}return jN(i,e,t)}function VN(n,e,t,i=Yn.Default,r){if(null!==n){const s=function Aq(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ty)?n[ty]:void 0;return"number"==typeof e?e>=0?255&e:Pq:e}(t);if("function"==typeof s){if(!PN(e,n,i))return i&Yn.Host?jN(r,t,i):GN(e,t,i,r);try{const o=s(i);if(null!=o||i&Yn.Optional)return o;K1(t)}finally{RN()}}else if("number"==typeof s){let o=null,a=nE(n,e),l=-1,c=i&Yn.Host?e[16][6]:null;for((-1===a||i&Yn.SkipSelf)&&(l=-1===a?gC(n,e):e[a+8],-1!==l&&WN(i,!1)?(o=e[1],a=Tm(l),e=Mm(l,e)):a=-1);-1!==a;){const u=e[1];if($N(s,a,u.data)){const d=Iq(a,e,t,o,i,c);if(d!==zN)return d}l=e[a+8],-1!==l&&WN(i,e[1].data[a+8]===c)&&$N(s,a,e)?(o=u,a=Tm(l),e=Mm(l,e)):a=-1}}}return GN(e,t,i,r)}const zN={};function Pq(){return new xm(Hs(),Tt())}function Iq(n,e,t,i,r,s){const o=e[1],a=o.data[n+8],u=_C(a,o,t,null==i?iC(a)&&eE:i!=o&&0!=(3&a.type),r&Yn.Host&&s===a);return null!==u?cy(e,o,u,a):zN}function _C(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,b=r?a+u:n.directiveEnd;for(let C=i?a:a+u;C<b;C++){const M=o[C];if(C<l&&t===M||C>=l&&M.type===t)return C}if(r){const C=o[l];if(C&&jc(C)&&C.type===t)return l}return null}function cy(n,e,t,i){let r=n[t];const s=e.data;if(function Cq(n){return n instanceof oy}(r)){const o=r;o.resolving&&function TX(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Zt(-200,`Circular dependency in DI detected for ${n}${t}`)}(Mo(s[t]));const a=fC(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Mh(o.injectImpl):null;PN(n,i,Yn.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function bq(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=_N(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Mh(l),fC(a),o.resolving=!1,RN()}}return r}function $N(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function WN(n,e){return!(n&Yn.Self||n&Yn.Host&&e)}class xm{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return VN(this._tNode,this._lView,e,i,t)}}function Go(n){return xh(()=>{const e=n.prototype.constructor,t=e[xd]||iE(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[xd]||iE(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function iE(n){return oN(n)?()=>{const e=iE(ci(n));return e&&e()}:Kp(n)}const Om="__parameters__";function Im(n,e,t){return xh(()=>{const i=function rE(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Om)?l[Om]:Object.defineProperty(l,Om,{value:[]})[Om];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class hn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ct({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function ql(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),ql(i,e)):e!==n&&e.push(i)}return e}function Du(n,e){n.forEach(t=>Array.isArray(t)?Du(t,e):e(t))}function XN(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yC(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function py(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ll(n,e,t){let i=Am(n,e);return i>=0?n[1|i]=t:(i=~i,function Nq(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function oE(n,e){const t=Am(n,e);if(t>=0)return n[1|t]}function Am(n,e){return function JN(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const fy={},lE="__NG_DI_FLAG__",vC="ngTempTokenPath",Gq=/\n/gm,ZN="__source",zq=pi({provide:String,useValue:pi});let gy;function e3(n){const e=gy;return gy=n,e}function $q(n,e=Yn.Default){if(void 0===gy)throw new Zt(203,"");return null===gy?uN(n,void 0,e):gy.get(n,e&Yn.Optional?null:void 0,e)}function We(n,e=Yn.Default){return(function AX(){return Dx}()||$q)(ci(n),e)}const n3=We;function cE(n){const e=[];for(let t=0;t<n.length;t++){const i=ci(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Zt(900,"");let r,s=Yn.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Wq(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(We(r,s))}else e.push(We(i))}return e}function my(n,e){return n[lE]=e,n.prototype[lE]=e,n}function Wq(n){return n[lE]}const Jp=my(Im("Optional"),8),_y=my(Im("SkipSelf"),4);var cl=(()=>((cl=cl||{})[cl.Important=1]="Important",cl[cl.DashCase=2]="DashCase",cl))();const u3="__ngContext__";function Vo(n,e){n[u3]=e}function pE(n){const e=function by(n){return n[u3]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function gE(n,e){return undefined(n,e)}function vy(n){const e=n[3];return Hc(e)?e[3]:e}function mE(n){return _3(n[13])}function _E(n){return _3(n[4])}function _3(n){for(;null!==n&&!Hc(n);)n=n[4];return n}function Rm(n,e,t,i,r){if(null!=i){let s,o=!1;Hc(i)?s=i:Iu(i)&&(o=!0,i=i[0]);const a=Es(i);0===n&&null!==t?null==r?S3(e,t,a):Qp(e,t,a,r||null,!0):1===n&&null!==t?Qp(e,t,a,r||null,!0):2===n?function TE(n,e,t){const i=wC(n,e);i&&function SK(n,e,t,i){as(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function xK(n,e,t,i,r){const s=t[7];s!==Es(t)&&Rm(e,n,i,s,r);for(let a=10;a<t.length;a++){const l=t[a];Cy(l[1],l,n,e,i,s)}}(e,n,s,t,r)}}function bE(n,e,t){if(as(n))return n.createElement(e,t);{const i=null!==t?function JX(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===i?n.createElement(e):n.createElementNS(i,e)}}function b3(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,$x(r,-1)),t.splice(i,1)}function vE(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&b3(r,i),e>0&&(n[t-1][4]=i[4]);const s=yC(n,10+e);!function gK(n,e){Cy(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function v3(n,e){if(!(256&e[2])){const t=e[11];as(t)&&t.destroyNode&&Cy(n,e,t,3,null,null),function yK(n){let e=n[13];if(!e)return CE(n[1],n);for(;e;){let t=null;if(Iu(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Iu(e)&&CE(e[1],e),e=e[3];null===e&&(e=n),Iu(e)&&CE(e[1],e),t=e&&e[4]}e=t}}(e)}}function CE(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function wK(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof oy)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function CK(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Es(e[o]),l=i[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&as(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Hc(e[3])){t!==e[3]&&b3(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function C3(n,e,t){return function w3(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Lc.None||r===Lc.Emulated)return null}return ol(i,t)}(n,e.parent,t)}function Qp(n,e,t,i,r){as(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function S3(n,e,t){as(n)?n.appendChild(e,t):e.appendChild(t)}function T3(n,e,t,i,r){null!==i?Qp(n,e,t,i,r):S3(n,e,t)}function wC(n,e){return as(n)?n.parentNode(e):e.parentNode}function M3(n,e,t){return E3(n,e,t)}let MC,xC,E3=function x3(n,e,t){return 40&n.type?ol(n,t):null};function SC(n,e,t,i){const r=C3(n,i,e),s=e[11],a=M3(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)T3(s,r,t[l],a,!1);else T3(s,r,t,a,!1)}function TC(n,e){if(null!==e){const t=e.type;if(3&t)return ol(e,n);if(4&t)return SE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return TC(n,i);{const r=n[e.index];return Hc(r)?SE(-1,r):Es(r)}}if(32&t)return gE(e,n)()||Es(n[e.index]);{const i=P3(n,e);return null!==i?Array.isArray(i)?i[0]:TC(vy(n[16]),i):TC(n,e.next)}}return null}function P3(n,e){return null!==e?n[16][6].projection[e.projection]:null}function SE(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return TC(i,r)}return e[7]}function ME(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&Vo(Es(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)ME(n,e,t.child,i,r,s,!1),Rm(e,n,r,a,s);else if(32&l){const c=gE(t,i);let u;for(;u=c();)Rm(e,n,r,u,s);Rm(e,n,r,a,s)}else 16&l?I3(n,e,i,t,r,s):Rm(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Cy(n,e,t,i,r,s){ME(t,i,n.firstChild,e,r,s,!1)}function I3(n,e,t,i,r,s){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Rm(e,n,r,l[c],s);else ME(n,e,l,o[3],r,s,!0)}function A3(n,e,t){as(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function xE(n,e,t){as(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function Zp(n){var e;return(null===(e=function EE(){if(void 0===MC&&(MC=null,hr.trustedTypes))try{MC=hr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return MC}())||void 0===e?void 0:e.createHTML(n))||n}function OE(){if(void 0===xC&&(xC=null,hr.trustedTypes))try{xC=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return xC}function D3(n){var e;return(null===(e=OE())||void 0===e?void 0:e.createHTML(n))||n}function k3(n){var e;return(null===(e=OE())||void 0===e?void 0:e.createScriptURL(n))||n}class ef{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class AK extends ef{getTypeName(){return"HTML"}}class DK extends ef{getTypeName(){return"Style"}}class RK extends ef{getTypeName(){return"Script"}}class kK extends ef{getTypeName(){return"URL"}}class NK extends ef{getTypeName(){return"ResourceURL"}}function ul(n){return n instanceof ef?n.changingThisBreaksApplicationSecurity:n}function Ru(n,e){const t=N3(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function N3(n){return n instanceof ef&&n.getTypeName()||null}class jK{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Zp(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class GK{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Zp(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=Zp(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const zK=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$K=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wy(n){return(n=String(n)).match(zK)||n.match($K)?n:"unsafe:"+n}function ku(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Sy(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const L3=ku("area,br,col,hr,img,wbr"),U3=ku("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),H3=ku("rp,rt"),PE=Sy(L3,Sy(U3,ku("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sy(H3,ku("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sy(H3,U3)),IE=ku("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AE=ku("srcset"),j3=Sy(IE,AE,ku("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ku("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),WK=ku("script,style,template");class YK{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!PE.hasOwnProperty(t))return this.sanitizedSomething=!0,!WK.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!j3.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;IE[a]&&(l=wy(l)),AE[a]&&(n=l,l=(n=String(n)).split(",").map(e=>wy(e.trim())).join(", ")),this.buf.push(" ",o,'="',G3(l),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();PE.hasOwnProperty(t)&&!L3.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(G3(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const XK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qK=/([^\#-~ |!])/g;function G3(n){return n.replace(/&/g,"&amp;").replace(XK,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(qK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let EC;function V3(n,e){let t=null;try{EC=EC||function F3(n){const e=new GK(n);return function VK(){try{return!!(new window.DOMParser).parseFromString(Zp(""),"text/html")}catch(n){return!1}}()?new jK(e):e}(n);let i=e?String(e):"";t=EC.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=EC.getInertBodyElement(i)}while(i!==s);return Zp((new YK).sanitizeChildren(DE(t)||t))}finally{if(t){const i=DE(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function DE(n){return"content"in n&&function KK(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Er=(()=>((Er=Er||{})[Er.NONE=0]="NONE",Er[Er.HTML=1]="HTML",Er[Er.STYLE=2]="STYLE",Er[Er.SCRIPT=3]="SCRIPT",Er[Er.URL=4]="URL",Er[Er.RESOURCE_URL=5]="RESOURCE_URL",Er))();function tf(n){const e=Ty();return e?D3(e.sanitize(Er.HTML,n)||""):Ru(n,"HTML")?D3(ul(n)):V3(Gx(),jn(n))}function an(n){const e=Ty();return e?e.sanitize(Er.URL,n)||"":Ru(n,"URL")?ul(n):wy(jn(n))}function OC(n){const e=Ty();if(e)return k3(e.sanitize(Er.RESOURCE_URL,n)||"");if(Ru(n,"ResourceURL"))return k3(ul(n));throw new Zt(904,"")}function Ty(){const n=Tt();return n&&n[12]}function kE(n){return n.ngOriginalError}function oJ(n,...e){n.error(...e)}class km{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=function sJ(n){return n&&n.ngErrorLogger||oJ}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&kE(e);for(;t&&kE(t);)t=kE(t);return t||null}}const pJ=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(hr))();function Nu(n){return n instanceof Function?n():n}function $3(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const W3="ng-template";function _J(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==$3(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Y3(n){return 4===n.type&&n.value!==W3}function yJ(n,e,t){return e===(4!==n.type||t?n.value:W3)}function bJ(n,e,t){let i=4;const r=n.attrs||[],s=function wJ(n){for(let e=0;e<n.length;e++)if(FN(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!yJ(n,l,t)||""===l&&1===e.length){if(Gc(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!_J(n.attrs,c,t)){if(Gc(i))return!1;o=!0}continue}const d=vJ(8&i?"class":l,r,Y3(n),t);if(-1===d){if(Gc(i))return!1;o=!0;continue}if(""!==c){let b;b=d>s?"":r[d+1].toLowerCase();const C=8&i?b:null;if(C&&-1!==$3(C,c,0)||2&i&&c!==b){if(Gc(i))return!1;o=!0}}}}else{if(!o&&!Gc(i)&&!Gc(l))return!1;if(o&&Gc(l))continue;o=!1,i=l|1&i}}return Gc(i)||o}function Gc(n){return 0==(1&n)}function vJ(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function SJ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function X3(n,e,t=!1){for(let i=0;i<e.length;i++)if(bJ(n,e[i],t))return!0;return!1}function TJ(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function q3(n,e){return n?":not("+e.trim()+")":e}function MJ(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Gc(o)&&(e+=q3(s,r),r=""),i=o,s=s||!Gc(i);t++}return""!==r&&(e+=q3(s,r)),e}const Vn={};function S(n){K3(Ui(),Tt(),ba()+n,!1)}function K3(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&uC(e,s,t)}else{const s=n.preOrderHooks;null!==s&&dC(e,s,0,t)}Ph(t)}function PC(n,e){return n<<17|e<<2}function Vc(n){return n>>17&32767}function NE(n){return 2|n}function Pd(n){return(131068&n)>>2}function FE(n,e){return-131069&n|e<<2}function BE(n){return 1|n}function aF(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];Kx(r),o.contentQueries(2,e[s],s)}}}function My(n,e,t,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,wN(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Fm(n,e,t,i,r){let s=n.data[e];if(null===s)s=function WE(n,e,t,i,r){const s=MN(),o=Wx(),l=n.data[e]=function VJ(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,i,r),function cq(){return Gn.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function sy(){const n=Gn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Au(s,!0),s}function Bm(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function xy(n,e,t){aC(e);try{const i=n.viewQuery;null!==i&&tO(1,i,t);const r=n.template;null!==r&&lF(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&aF(n,e),n.staticViewQueries&&tO(2,n.viewQuery,t);const s=n.components;null!==s&&function HJ(n,e){for(let t=0;t<e.length;t++)aQ(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,lC()}}function Lm(n,e,t,i){const r=e[2];if(256!=(256&r)){aC(e);try{wN(e),function xN(n){return Gn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&lF(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&uC(e,c,null)}else{const c=n.preOrderHooks;null!==c&&dC(e,c,0,null),Jx(e,0)}if(function sQ(n){for(let e=mE(n);null!==e;e=_E(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&$x(s,1),r[2]|=1024}}}(e),function rQ(n){for(let e=mE(n);null!==e;e=_E(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];zx(i)&&Lm(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&aF(n,e),o){const c=n.contentCheckHooks;null!==c&&uC(e,c)}else{const c=n.contentHooks;null!==c&&dC(e,c,1),Jx(e,1)}!function LJ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ph(~r);else{const s=r,o=t[++i],a=t[++i];uq(o,s),a(2,e[s])}}}finally{Ph(-1)}}(n,e);const a=n.components;null!==a&&function UJ(n,e){for(let t=0;t<e.length;t++)oQ(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&tO(2,l,i),o){const c=n.viewCheckHooks;null!==c&&uC(e,c)}else{const c=n.viewHooks;null!==c&&dC(e,c,2),Jx(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,$x(e[3],-1))}finally{lC()}}}function jJ(n,e,t,i){const r=e[10],o=CN(e);try{!o&&r.begin&&r.begin(),o&&xy(n,e,i),Lm(n,e,t,i)}finally{!o&&r.end&&r.end()}}function lF(n,e,t,i,r){const s=ba(),o=2&i;try{Ph(-1),o&&e.length>20&&K3(n,e,20,!1),t(i,r)}finally{Ph(s)}}function cF(n,e,t){if(Fx(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function YE(n,e,t){!TN()||(function KJ(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||ly(t,e),Vo(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=jc(l);c&&tQ(e,t,l);const u=cy(e,n,a,t);Vo(u,e),null!==o&&nQ(0,a-r,u,l,0,o),c&&(al(t.index,e)[8]=u)}}(n,e,t,ol(t,e)),128==(128&t.flags)&&function JJ(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,a=function dq(){return Gn.lFrame.currentDirectiveIndex}();try{Ph(o);for(let l=i;l<r;l++){const c=n.data[l],u=e[l];Xx(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&_F(c,u)}}finally{Ph(-1),Xx(a)}}(n,e,t))}function XE(n,e,t=ol){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function uF(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=DC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function DC(n,e,t,i,r,s,o,a,l,c){const u=20+i,d=u+r,b=function GJ(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Vn);return t}(u,d),C="function"==typeof c?c():c;return b[1]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1}}function pF(n,e,t,i){const r=SF(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&TF(n).push(i,r.length-1))}function fF(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function dl(n,e,t,i,r,s,o,a){const l=ol(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(EF(n,t,u,i,r),iC(e)&&function WJ(n,e){const t=al(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function $J(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,as(s)?s.setProperty(l,i,r):Zx(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function qE(n,e,t,i){let r=!1;if(TN()){const s=function QJ(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];X3(t,o.selectors,!1)&&(r||(r=[]),mC(ly(t,e),n,o.type),jc(o)?(yF(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,bF(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Bm(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=pC(t.mergedAttrs,d.hostAttrs),vF(n,t,e,c,d),eQ(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const b=d.type.prototype;!a&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function zJ(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,b=null===s||Y3(e)?null:iQ(d,s);o.push(b),a=fF(d,c,a),l=fF(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function ZJ(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Zt(-301,!1);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=pC(t.mergedAttrs,t.attrs),r}function mF(n,e,t,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function qJ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function _F(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function yF(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function eQ(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;jc(e)&&(t[""]=n)}}function bF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function vF(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=Kp(r.type)),o=new oy(s,jc(r),null);n.blueprint[i]=o,t[i]=o,mF(n,e,0,i,Bm(n,t,r.hostVars,Vn),r)}function tQ(n,e,t){const i=ol(e,n),r=uF(t),s=n[10],o=RC(n,My(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=o}function Fu(n,e,t,i,r,s){const o=ol(n,e);!function KE(n,e,t,i,r,s,o){if(null==s)as(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?jn(s):o(s,i||"",r);as(n)?n.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,n.value,t,i,r)}function nQ(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function iQ(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function CF(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function oQ(n,e){const t=al(e,n);if(zx(t)){const i=t[1];80&t[2]?Lm(i,t,i.template,t[8]):t[5]>0&&JE(t)}}function JE(n){for(let i=mE(n);null!==i;i=_E(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Lm(o,s,o.template,s[8])}else s[5]>0&&JE(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=al(t[i],n);zx(r)&&r[5]>0&&JE(r)}}function aQ(n,e){const t=al(e,n),i=t[1];(function lQ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),xy(i,t,t[8])}function RC(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function QE(n){for(;n;){n[2]|=64;const e=vy(n);if(jX(n)&&!e)return n;n=e}return null}function wF(n){!function ZE(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=pE(t),r=i[1];jJ(r,i,r.template,t)}}(n[8])}function tO(n,e,t){Kx(0),e(n,t)}const uQ=(()=>Promise.resolve(null))();function SF(n){return n[7]||(n[7]=[])}function TF(n){return n.cleanup||(n.cleanup=[])}function xF(n,e){const t=n[9],i=t?t.get(km,null):null;i&&i.handleError(e)}function EF(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Id(n,e,t){const i=sC(e,n);!function y3(n,e,t){as(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function kC(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=gm(r,a):2==s&&(i=gm(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const nO=new hn("INJECTOR",-1);class OF{get(e,t=fy){if(t===fy){const i=new Error(`NullInjectorError: No provider for ${zi(e)}!`);throw i.name="NullInjectorError",i}return t}}const iO=new hn("Set Injector scope."),Ey={},pQ={};let rO;function PF(){return void 0===rO&&(rO=new OF),rO}function IF(n,e=null,t=null,i){const r=AF(n,e,t,i);return r._resolveInjectorDefTypes(),r}function AF(n,e=null,t=null,i){return new fQ(n,t,e||PF(),i)}class fQ{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Du(t,a=>this.processProvider(a,e,t)),Du([e],a=>this.processInjectorType(a,[],s)),this.records.set(nO,Um(void 0,this));const o=this.records.get(iO);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:zi(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=fy,i=Yn.Default){this.assertNotDestroyed();const r=e3(this),s=Mh(void 0);try{if(!(i&Yn.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function wQ(n){return"function"==typeof n||"object"==typeof n&&n instanceof hn}(e)&&Ix(e);a=l&&this.injectableDefInScope(l)?Um(sO(e),Ey):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&Yn.Self?PF():this.parent).get(e,t=i&Yn.Optional&&t===fy?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[vC]=o[vC]||[]).unshift(zi(e)),r)throw o;return function Yq(n,e,t,i){const r=n[vC];throw e[ZN]&&r.unshift(e[ZN]),n.message=function Xq(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=zi(e);if(Array.isArray(e))r=e.map(zi).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):zi(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Gq,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[vC]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Mh(s),e3(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(zi(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Zt(205,!1)}processInjectorType(e,t,i){if(!(e=ci(e)))return!1;let r=lN(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=lN(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{Du(r.imports,d=>{this.processInjectorType(d,t,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:b,providers:C}=u[d];Du(C,M=>this.processProvider(M,b,C||yr))}}this.injectorDefTypes.add(o);const l=Kp(o)||(()=>new o);this.records.set(o,Um(l,Ey));const c=r.providers;if(null!=c&&!a){const u=e;Du(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=Hm(e=ci(e))?e:ci(e&&e.provide);const s=function mQ(n,e,t){return RF(n)?Um(void 0,n.useValue):Um(DF(n),Ey)}(e);if(Hm(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Um(void 0,Ey,!0),o.factory=()=>cE(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===Ey&&(t.value=pQ,t.value=t.factory()),"object"==typeof t.value&&t.value&&function CQ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ci(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function sO(n){const e=Ix(n),t=null!==e?e.factory:Kp(n);if(null!==t)return t;if(n instanceof hn)throw new Zt(204,!1);if(n instanceof Function)return function gQ(n){const e=n.length;if(e>0)throw py(e,"?"),new Zt(204,!1);const t=function OX(n){const e=n&&(n[J1]||n[cN]);if(e){const t=function PX(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Zt(204,!1)}function DF(n,e,t){let i;if(Hm(n)){const r=ci(n);return Kp(r)||sO(r)}if(RF(n))i=()=>ci(n.useValue);else if(function yQ(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...cE(n.deps||[]));else if(function _Q(n){return!(!n||!n.useExisting)}(n))i=()=>We(ci(n.useExisting));else{const r=ci(n&&(n.useClass||n.provide));if(!function vQ(n){return!!n.deps}(n))return Kp(r)||sO(r);i=()=>new r(...cE(n.deps))}return i}function Um(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function RF(n){return null!==n&&"object"==typeof n&&zq in n}function Hm(n){return"function"==typeof n}let zo=(()=>{class n{static create(t,i){var r;if(Array.isArray(t))return IF({name:""},i,t,"");{const s=null!==(r=t.name)&&void 0!==r?r:"";return IF({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=fy,n.NULL=new OF,n.\u0275prov=Ct({token:n,providedIn:"any",factory:()=>We(nO)}),n.__NG_ELEMENT_ID__=-1,n})();function IQ(n,e){cC(pE(n)[1],Hs())}function qi(n){let e=function $F(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(jc(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Zt(903,"");r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=lO(n.inputs),o.declaredInputs=lO(n.declaredInputs),o.outputs=lO(n.outputs);const a=r.hostBindings;a&&kQ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&DQ(n,l),c&&RQ(n,c),$l(n.inputs,r.inputs),$l(n.declaredInputs,r.declaredInputs),$l(n.outputs,r.outputs),jc(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===qi&&(t=!1)}}e=Object.getPrototypeOf(e)}!function AQ(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=pC(r.hostAttrs,t=pC(t,r.hostAttrs))}}(i)}function lO(n){return n===_m?{}:n===yr?[]:n}function DQ(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function RQ(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function kQ(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let NC=null;function jm(){if(!NC){const n=hr.Symbol;if(n&&n.iterator)NC=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(NC=i)}}}return NC}function Oy(n){return!!cO(n)&&(Array.isArray(n)||!(n instanceof Map)&&jm()in n)}function cO(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Bu(n,e,t){return n[e]=t}function $o(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function nf(n,e,t,i){const r=$o(n,e,t);return $o(n,e+1,i)||r}function FC(n,e,t,i,r){const s=nf(n,e,t,i);return $o(n,e+2,r)||s}function Ii(n,e,t,i){const r=Tt();return $o(r,Sm(),e)&&(Ui(),Fu(Jr(),r,n,e,t,i)),Ii}function Vm(n,e,t,i){return $o(n,Sm(),t)?e+jn(t)+i:Vn}function te(n,e,t,i,r,s,o,a){const l=Tt(),c=Ui(),u=n+20,d=c.firstCreatePass?function jQ(n,e,t,i,r,s,o,a,l){const c=e.consts,u=Fm(e,n,4,o||null,Oh(c,a));qE(e,t,u,Oh(c,l)),cC(e,u);const d=u.tViews=DC(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];Au(d,!1);const b=l[11].createComment("");SC(c,l,b,d),Vo(b,l),RC(l,l[u]=CF(b,l,b,d)),rC(d)&&YE(c,l,d),null!=o&&XE(l,d,a)}function er(n){return wm(function lq(){return Gn.lFrame.contextLView}(),20+n)}function W(n,e=Yn.Default){const t=Tt();return null===t?We(n,e):VN(Hs(),t,ci(n),e)}function F(n,e,t){const i=Tt();return $o(i,Sm(),e)&&dl(Ui(),Jr(),i,n,e,i[11],t,!1),F}function fO(n,e,t,i,r){const o=r?"class":"style";EF(n,t,e.inputs[o],o,i)}function D(n,e,t,i){const r=Tt(),s=Ui(),o=20+n,a=r[11],l=r[o]=bE(a,e,function yq(){return Gn.lFrame.currentNamespace}()),c=s.firstCreatePass?function cZ(n,e,t,i,r,s,o){const a=e.consts,c=Fm(e,n,2,r,Oh(a,s));return qE(e,t,c,Oh(a,o)),null!==c.attrs&&kC(c,c.attrs,!1),null!==c.mergedAttrs&&kC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,i):s.data[o];Au(c,!0);const u=c.mergedAttrs;null!==u&&hC(a,l,u);const d=c.classes;null!==d&&xE(a,l,d);const b=c.styles;return null!==b&&A3(a,l,b),64!=(64&c.flags)&&SC(s,r,l,c),0===function iq(){return Gn.lFrame.elementDepthCount}()&&Vo(l,r),function rq(){Gn.lFrame.elementDepthCount++}(),rC(c)&&(YE(s,r,c),cF(s,c,r)),null!==i&&XE(r,c),D}function R(){let n=Hs();Wx()?Yx():(n=n.parent,Au(n,!1));const e=n;!function sq(){Gn.lFrame.elementDepthCount--}();const t=Ui();return t.firstCreatePass&&(cC(t,n),Fx(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Sq(n){return 0!=(16&n.flags)}(e)&&fO(t,e,Tt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Tq(n){return 0!=(32&n.flags)}(e)&&fO(t,e,Tt(),e.stylesWithoutHost,!1),R}function ce(n,e,t,i){return D(n,e,t,i),R(),ce}function ft(n,e,t){const i=Tt(),r=Ui(),s=n+20,o=r.firstCreatePass?function uZ(n,e,t,i,r){const s=e.consts,o=Oh(s,i),a=Fm(e,n,8,"ng-container",o);return null!==o&&kC(a,o,!0),qE(e,t,a,Oh(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];Au(o,!0);const a=i[s]=i[11].createComment("");return SC(r,i,a,o),Vo(a,i),rC(o)&&(YE(r,i,o),cF(r,o,i)),null!=t&&XE(i,o),ft}function gt(){let n=Hs();const e=Ui();return Wx()?Yx():(n=n.parent,Au(n,!1)),e.firstCreatePass&&(cC(e,n),Fx(n)&&e.queries.elementEnd(n)),gt}function Gs(n,e,t){return ft(n,e,t),gt(),Gs}function _t(){return Tt()}function LC(n){return!!n&&"function"==typeof n.then}function dB(n){return!!n&&"function"==typeof n.subscribe}const hB=dB;function Ae(n,e,t,i){const r=Tt(),s=Ui(),o=Hs();return function fB(n,e,t,i,r,s,o,a){const l=rC(i),u=n.firstCreatePass&&TF(n),d=e[8],b=SF(e);let C=!0;if(3&i.type||a){const k=ol(i,e),B=a?a(k):k,L=b.length,H=a?Y=>a(Es(Y[i.index])):i.index;if(as(t)){let Y=null;if(!a&&l&&(Y=function dZ(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==Y)(Y.__ngLastListenerFn__||Y).__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,C=!1;else{s=gO(i,e,d,s,!1);const se=t.listen(B,r,s);b.push(s,se),u&&u.push(r,H,L,L+1)}}else s=gO(i,e,d,s,!0),B.addEventListener(r,s,o),b.push(s),u&&u.push(r,H,L,o)}else s=gO(i,e,d,s,!1);const M=i.outputs;let I;if(C&&null!==M&&(I=M[r])){const k=I.length;if(k)for(let B=0;B<k;B+=2){const ue=e[I[B]][I[B+1]].subscribe(s),oe=b.length;b.push(s,ue),u&&u.push(r,i.index,oe,-(oe+1))}}}(s,r,r[11],o,n,e,!!t,i),Ae}function gB(n,e,t,i){try{return!1!==t(i)}catch(r){return xF(n,r),!1}}function gO(n,e,t,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?al(n.index,e):e;0==(32&e[2])&&QE(a);let l=gB(e,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=gB(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ee(n=1){return function pq(n){return(Gn.lFrame.contextLView=function fq(n,e){for(;n>0;)e=e[15],n--;return e}(n,Gn.lFrame.contextLView))[8]}(n)}function hZ(n,e){let t=null;const i=function CJ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?X3(n,s,!0):TJ(i,s))return r}else t=r}return t}function Iy(n){const e=Tt()[16][6];if(!e.projection){const i=e.projection=py(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?hZ(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Ay(n,e=0,t){const i=Tt(),r=Ui(),s=Fm(r,20+n,16,null,t||null);null===s.projection&&(s.projection=e),Yx(),64!=(64&s.flags)&&function MK(n,e,t){I3(e[11],0,e,t,C3(n,t,e),M3(t.parent||e[6],t,e))}(r,i,s)}function Qm(n,e,t){return UC(n,"",e,"",t),Qm}function UC(n,e,t,i,r){const s=Tt(),o=Vm(s,e,t,i);return o!==Vn&&dl(Ui(),Jr(),s,n,o,s[11],r,!1),UC}function TB(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Vc(s):Pd(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];gZ(n[a],e)&&(l=!0,n[a+1]=i?BE(u):NE(u)),a=i?Vc(u):Pd(u)}l&&(n[t+1]=i?NE(s):BE(s))}function gZ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Am(n,e)>=0}const Vs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MB(n){return n.substring(Vs.key,Vs.keyEnd)}function xB(n,e){const t=Vs.textEnd;return t===e?-1:(e=Vs.keyEnd=function bZ(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Vs.key=e,t),Zm(n,e,t))}function Zm(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function hl(n,e,t){return $c(n,e,t,!1),hl}function Et(n,e){return $c(n,e,null,!0),Et}function rf(n){Wc(ll,Uu,n,!0)}function Uu(n,e){for(let t=function _Z(n){return function OB(n){Vs.key=0,Vs.keyEnd=0,Vs.value=0,Vs.valueEnd=0,Vs.textEnd=n.length}(n),xB(n,Zm(n,0,Vs.textEnd))}(e);t>=0;t=xB(e,t))ll(n,MB(e),!0)}function $c(n,e,t,i){const r=Tt(),s=Ui(),o=Od(2);s.firstUpdatePass&&DB(s,n,o,i),e!==Vn&&$o(r,o,e)&&kB(s,s.data[ba()],r,r[11],n,r[o+1]=function PZ(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=zi(ul(n)))),n}(e,t),i,o)}function Wc(n,e,t,i){const r=Ui(),s=Od(2);r.firstUpdatePass&&DB(r,null,s,i);const o=Tt();if(t!==Vn&&$o(o,s,t)){const a=r.data[ba()];if(FB(a,i)&&!AB(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=gm(l,t||"")),fO(r,a,o,t,i)}else!function OZ(n,e,t,i,r,s,o,a){r===Vn&&(r=yr);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const b=l<r.length?r[l+1]:void 0,C=c<s.length?s[c+1]:void 0;let I,M=null;u===d?(l+=2,c+=2,b!==C&&(M=d,I=C)):null===d||null!==u&&u<d?(l+=2,M=u):(c+=2,M=d,I=C),null!==M&&kB(n,e,t,i,M,I,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function EZ(n,e,t){if(null==t||""===t)return yr;const i=[],r=ul(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}function AB(n,e){return e>=n.expandoStartIndex}function DB(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[ba()],o=AB(n,t);FB(s,i)&&null===e&&!o&&(e=!1),e=function SZ(n,e,t,i){const r=function qx(n){const e=Gn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Dy(t=mO(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=mO(r,n,e,t,i),null===s){let l=function TZ(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Pd(i))return n[Vc(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=mO(null,n,e,l[1],i),l=Dy(l,e.attrs,i),function MZ(n,e,t,i){n[Vc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function xZ(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Dy(i,n[s].hostAttrs,t);return Dy(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function pZ(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Vc(o),l=Pd(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Am(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const b=Vc(n[a+1]);n[i+1]=PC(b,a),0!==b&&(n[b+1]=FE(n[b+1],i)),n[a+1]=function OJ(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=PC(a,0),0!==a&&(n[a+1]=FE(n[a+1],i)),a=i;else n[i+1]=PC(l,0),0===a?a=i:n[l+1]=FE(n[l+1],i),l=i;c&&(n[i+1]=NE(n[i+1])),TB(n,u,i,!0),TB(n,u,i,!1),function fZ(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Am(s,e)>=0&&(t[i+1]=BE(t[i+1]))}(e,u,n,i,s),o=PC(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function mO(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=Dy(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Dy(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ll(n,o,!!t||e[++s]))}return void 0===n?null:n}function kB(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];HC(function Z3(n){return 1==(1&n)}(c)?NB(l,e,t,r,Pd(c),o):void 0)||(HC(s)||function Q3(n){return 2==(2&n)}(c)&&(s=NB(l,null,t,r,a,o)),function EK(n,e,t,i,r){const s=as(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:cl.DashCase;if(null==r)s?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=cl.Important),s?n.setStyle(t,i,r,o):t.style.setProperty(i,r,a?"important":"")}}}(i,o,sC(ba(),t),r,s))}function NB(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let b=t[r+1];b===Vn&&(b=d?yr:void 0);let C=d?oE(b,i):u===i?b:void 0;if(c&&!HC(C)&&(C=oE(l,i)),HC(C)&&(a=C,o))return a;const M=n[r+1];r=o?Vc(M):Pd(M)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=oE(l,i))}return a}function HC(n){return void 0!==n}function FB(n,e){return 0!=(n.flags&(e?16:32))}function U(n,e=""){const t=Tt(),i=Ui(),r=n+20,s=i.firstCreatePass?Fm(i,r,1,e,null):i.data[r],o=t[r]=function yE(n,e){return as(n)?n.createText(e):n.createTextNode(e)}(t[11],e);SC(i,t,o,s),Au(s,!1)}function nt(n){return ie("",n,""),nt}function ie(n,e,t){const i=Tt(),r=Vm(i,n,e,t);return r!==Vn&&Id(i,ba(),r),ie}function Xn(n,e,t,i,r){const s=Tt(),o=function zm(n,e,t,i,r,s){const a=nf(n,Ed(),t,r);return Od(2),a?e+jn(t)+i+jn(r)+s:Vn}(s,n,e,t,i,r);return o!==Vn&&Id(s,ba(),o),Xn}function e_(n,e,t,i,r,s,o){const a=Tt(),l=function $m(n,e,t,i,r,s,o,a){const c=FC(n,Ed(),t,r,o);return Od(3),c?e+jn(t)+i+jn(r)+s+jn(o)+a:Vn}(a,n,e,t,i,r,s,o);return l!==Vn&&Id(a,ba(),l),e_}function Ry(n,e,t){Wc(ll,Uu,Vm(Tt(),n,e,t),!0)}const af=void 0;var XZ=["en",[["a","p"],["AM","PM"],af],[["AM","PM"],af,af],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],af,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],af,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",af,"{1} 'at' {0}",af],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function YZ(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let t_={};function Ca(n){const e=function qZ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=eL(e);if(t)return t;const i=e.split("-")[0];if(t=eL(i),t)return t;if("en"===i)return XZ;throw new Error(`Missing locale data for the locale "${n}".`)}function eL(n){return n in t_||(t_[n]=hr.ng&&hr.ng.common&&hr.ng.common.locales&&hr.ng.common.locales[n]),t_[n]}var qt=(()=>((qt=qt||{})[qt.LocaleId=0]="LocaleId",qt[qt.DayPeriodsFormat=1]="DayPeriodsFormat",qt[qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",qt[qt.DaysFormat=3]="DaysFormat",qt[qt.DaysStandalone=4]="DaysStandalone",qt[qt.MonthsFormat=5]="MonthsFormat",qt[qt.MonthsStandalone=6]="MonthsStandalone",qt[qt.Eras=7]="Eras",qt[qt.FirstDayOfWeek=8]="FirstDayOfWeek",qt[qt.WeekendRange=9]="WeekendRange",qt[qt.DateFormat=10]="DateFormat",qt[qt.TimeFormat=11]="TimeFormat",qt[qt.DateTimeFormat=12]="DateTimeFormat",qt[qt.NumberSymbols=13]="NumberSymbols",qt[qt.NumberFormats=14]="NumberFormats",qt[qt.CurrencyCode=15]="CurrencyCode",qt[qt.CurrencySymbol=16]="CurrencySymbol",qt[qt.CurrencyName=17]="CurrencyName",qt[qt.Currencies=18]="Currencies",qt[qt.Directionality=19]="Directionality",qt[qt.PluralCase=20]="PluralCase",qt[qt.ExtraData=21]="ExtraData",qt))();const jC="en-US";let tL=jC;function vO(n,e,t,i,r){if(n=ci(n),Array.isArray(n))for(let s=0;s<n.length;s++)vO(n[s],e,t,i,r);else{const s=Ui(),o=Tt();let a=Hm(n)?n:ci(n.provide),l=DF(n);const c=Hs(),u=1048575&c.providerIndexes,d=c.directiveStart,b=c.providerIndexes>>20;if(Hm(n)||!n.multi){const C=new oy(l,r,W),M=wO(a,e,r?u:u+b,d);-1===M?(mC(ly(c,o),s,a),CO(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(C),o.push(C)):(t[M]=C,o[M]=C)}else{const C=wO(a,e,u+b,d),M=wO(a,e,u,u+b),I=C>=0&&t[C],k=M>=0&&t[M];if(r&&!k||!r&&!I){mC(ly(c,o),s,a);const B=function $ee(n,e,t,i,r){const s=new oy(n,t,W);return s.multi=[],s.index=e,s.componentProviders=0,ML(s,r,i&&!t),s}(r?zee:Vee,t.length,r,i,l);!r&&k&&(t[M].providerFactory=B),CO(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(B),o.push(B)}else CO(s,n,C>-1?C:M,ML(t[r?M:C],l,!r&&i));!r&&i&&k&&t[M].componentProviders++}}}function CO(n,e,t,i){const r=Hm(e),s=function bQ(n){return!!n.useClass}(e);if(r||s){const l=(s?ci(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function ML(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function wO(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Vee(n,e,t,i){return SO(this.multi,[])}function zee(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=cy(t,t[1],this.providerFactory.index,i);s=a.slice(0,o),SO(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],SO(r,s);return s}function SO(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function qn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Gee(n,e,t){const i=Ui();if(i.firstCreatePass){const r=jc(n);vO(t,i.data,i.blueprint,r,!0),vO(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class xL{}class Xee{resolveComponentFactory(e){throw function Yee(n){const e=Error(`No component factory found for ${zi(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let i_=(()=>{class n{}return n.NULL=new Xee,n})();function qee(){return r_(Hs(),Tt())}function r_(n,e){return new ji(ol(n,e))}let ji=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=qee,n})();function Kee(n){return n instanceof ji?n.nativeElement:n}class s_{}let ja=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Qee(){const n=Tt(),t=al(Hs().index,n);return function Jee(n){return n[11]}(Iu(t)?t:n)}(),n})(),Zee=(()=>{class n{}return n.\u0275prov=Ct({token:n,providedIn:"root",factory:()=>null}),n})();class WC{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const YC=new WC("13.4.0"),TO={};function XC(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Es(s)),Hc(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&XC(l[1],l,c,i)}const o=t.type;if(8&o)XC(n,e,t.child,i);else if(32&o){const a=gE(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=P3(e,t);if(Array.isArray(a))i.push(...a);else{const l=vy(e[16]);XC(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class Ly{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return XC(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Hc(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(vE(e,i),yC(t,i))}this._attachedToViewContainer=!1}v3(this._lView[1],this._lView)}onDestroy(e){pF(this._lView[1],this._lView,null,e)}markForCheck(){QE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function eO(n,e,t){const i=e[10];i.begin&&i.begin();try{Lm(n,e,n.template,t)}catch(r){throw xF(e,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Zt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _K(n,e){Cy(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Zt(902,"");this._appRef=e}}class ete extends Ly{constructor(e){super(e),this._view=e}detectChanges(){wF(this._view)}checkNoChanges(){}get context(){return null}}class OL extends i_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xo(e);return new MO(t,this.ngModule)}}function PL(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class MO extends xL{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xJ(n){return n.map(MJ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return PL(this.componentDef.inputs)}get outputs(){return PL(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function nte(n,e){return{get:(t,i,r)=>{const s=n.get(t,TO,r);return s!==TO||i===TO?s:e.get(t,i,r)}}}(e,r.injector):e,o=s.get(s_,vN),a=s.get(Zee,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function hF(n,e,t){if(as(n))return n.selectRootElement(e,t===Lc.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):bE(o.createRenderer(null,this.componentDef),c,function tte(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,b=function zF(n,e){return{components:[],scheduler:n||pJ,clean:uQ,playerHandler:e||null,flags:0}}(),C=DC(0,null,null,1,0,null,null,null,null,null),M=My(null,C,b,d,null,null,o,l,a,s);let I,k;aC(M);try{const B=function GF(n,e,t,i,r,s){const o=t[1];t[20]=n;const l=Fm(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(kC(l,c,!0),null!==n&&(hC(r,n,c),null!==l.classes&&xE(r,n,l.classes),null!==l.styles&&A3(r,n,l.styles)));const u=i.createRenderer(n,e),d=My(t,uF(e),null,e.onPush?64:16,t[20],l,i,u,s||null,null);return o.firstCreatePass&&(mC(ly(l,t),o,e.type),yF(o,l),bF(l,t.length,1)),RC(t,d),t[20]=d}(u,this.componentDef,M,o,l);if(u)if(i)hC(l,u,["ng-version",YC.full]);else{const{attrs:L,classes:H}=function EJ(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Gc(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);L&&hC(l,u,L),H&&H.length>0&&xE(l,u,H.join(" "))}if(k=Vx(C,20),void 0!==t){const L=k.projection=[];for(let H=0;H<this.ngContentSelectors.length;H++){const Y=t[H];L.push(null!=Y?Array.from(Y):null)}}I=function VF(n,e,t,i,r){const s=t[1],o=function XJ(n,e,t){const i=Hs();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),vF(n,i,e,Bm(n,e,1,null),t));const r=cy(e,n,i.directiveStart,i);Vo(r,e);const s=ol(i,e);return s&&Vo(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=Hs();e.contentQueries(1,o,l.directiveStart)}const a=Hs();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ph(a.index),mF(t[1],a,0,a.directiveStart,a.directiveEnd,e),_F(e,o)),o}(B,this.componentDef,M,b,[IQ]),xy(C,M,null)}finally{lC()}return new rte(this.componentType,I,r_(k,M),M,k)}}class rte extends class Wee{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new ete(r),this.componentType=e}get injector(){return new xm(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class o_{}const a_=new Map;class DL extends o_{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new OL(this);const i=Wl(e);this._bootstrapComponents=Nu(i.bootstrap),this._r3Injector=AF(e,t,[{provide:o_,useValue:this},{provide:i_,useValue:this.componentFactoryResolver}],zi(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=zo.THROW_IF_NOT_FOUND,i=Yn.Default){return e===zo||e===o_||e===nO?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xO extends class ote{}{constructor(e){super(),this.moduleType=e,null!==Wl(e)&&function ate(n){const e=new Set;!function t(i){const r=Wl(i,!0),s=r.id;null!==s&&(function IL(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${zi(e)} vs ${zi(e.name)}`)}(s,a_.get(s),i),a_.set(s,i));const o=Nu(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new DL(this.moduleType,e)}}function zn(n,e,t,i){return RL(Tt(),ya(),n,e,t,i)}function wa(n,e,t,i,r){return kL(Tt(),ya(),n,e,t,i,r)}function Uy(n,e,t,i,r,s){return NL(Tt(),ya(),n,e,t,i,r,s)}function EO(n,e,t,i,r,s,o){return function FL(n,e,t,i,r,s,o,a,l){const c=e+t;return function Kl(n,e,t,i,r,s){const o=nf(n,e,t,i);return nf(n,e+2,r,s)||o}(n,c,r,s,o,a)?Bu(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Hy(n,c+4)}(Tt(),ya(),n,e,t,i,r,s,o)}function Hy(n,e){const t=n[e];return t===Vn?void 0:t}function RL(n,e,t,i,r,s){const o=e+t;return $o(n,o,r)?Bu(n,o+1,s?i.call(s,r):i(r)):Hy(n,o+1)}function kL(n,e,t,i,r,s,o){const a=e+t;return nf(n,a,r,s)?Bu(n,a+2,o?i.call(o,r,s):i(r,s)):Hy(n,a+2)}function NL(n,e,t,i,r,s,o,a){const l=e+t;return FC(n,l,r,s,o)?Bu(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Hy(n,l+3)}function G(n,e){const t=Ui();let i;const r=n+20;t.firstCreatePass?(i=function fte(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=Kp(i.type)),o=Mh(W);try{const a=fC(!1),l=s();return fC(a),function GQ(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Tt(),r,l),l}finally{Mh(o)}}function q(n,e,t){const i=n+20,r=Tt(),s=wm(r,i);return jy(r,i)?RL(r,ya(),e,s.transform,t,s):s.transform(t)}function Gt(n,e,t,i){const r=n+20,s=Tt(),o=wm(s,r);return jy(s,r)?kL(s,ya(),e,o.transform,t,i,o):o.transform(t,i)}function jy(n,e){return n[1].data[e].pure}function OO(n){return e=>{setTimeout(n,void 0,e)}}const _n=class _te extends Ze{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,s,o;let a=e,l=t||(()=>null),c=i;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=OO(l),a&&(a=OO(a)),c&&(c=OO(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof g&&e.add(u),u}};function yte(){return this._results[jm()]()}class PO{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=jm(),i=PO.prototype;i[t]||(i[t]=yte)}get changes(){return this._changes||(this._changes=new _n)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=ql(e);(this._changesDetected=!function Rq(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Br=(()=>{class n{}return n.__NG_ELEMENT_ID__=Cte,n})();const bte=Br,vte=class extends bte{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=My(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),xy(t,i,e),new Ly(i)}};function Cte(){return qC(Hs(),Tt())}function qC(n,e){return 4&n.type?new vte(e,n,r_(n,e)):null}let pl=(()=>{class n{}return n.__NG_ELEMENT_ID__=wte,n})();function wte(){return jL(Hs(),Tt())}const Ste=pl,UL=class extends Ste{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return r_(this._hostTNode,this._hostLView)}get injector(){return new xm(this._hostTNode,this._hostLView)}get parentInjector(){const e=gC(this._hostTNode,this._hostLView);if(LN(e)){const t=Mm(e,this._hostLView),i=Tm(e);return new xm(t[1].data[i+8],t)}return new xm(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=HL(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const o=e&&!function hy(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new MO(xo(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const b=(o?c:this.parentInjector).get(o_,null);b&&(s=b)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[1];if(function nq(n){return Hc(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],b=new UL(d,d[6],d[3]);b.detach(b.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function bK(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],XN(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function vK(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(r,i,o,s);const a=SE(s,o),l=i[11],c=wC(l,o[7]);return null!==c&&function mK(n,e,t,i,r,s){i[0]=r,i[6]=e,Cy(n,i,t,1,r,s)}(r,o[6],l,i,c,a),e.attachToViewContainerRef(),XN(IO(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=HL(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=vE(this._lContainer,t);i&&(yC(IO(this._lContainer),t),v3(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=vE(this._lContainer,t);return i&&null!=yC(IO(this._lContainer),t)?new Ly(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function HL(n){return n[8]}function IO(n){return n[8]||(n[8]=[])}function jL(n,e){let t;const i=e[n.index];if(Hc(i))t=i;else{let r;if(8&n.type)r=Es(i);else{const s=e[11];r=s.createComment("");const o=ol(n,e);Qp(s,wC(s,o),r,function TK(n,e){return as(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=CF(i,e,r,n),RC(e,t)}return new UL(t,n,e)}class AO{constructor(e){this.queryList=e,this.matches=null}clone(){return new AO(this.queryList)}setDirty(){this.queryList.setDirty()}}class DO{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new DO(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==WL(e,t).matches&&this.queries[t].setDirty()}}class GL{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class RO{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new RO(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class kO{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new kO(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,xte(t,s)),this.matchTNodeWithReadOption(e,t,_C(t,e,s,!1,!1))}else i===Br?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,_C(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ji||r===pl||r===Br&&4&t.type)this.addMatch(t.index,-2);else{const s=_C(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function xte(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Ote(n,e,t,i){return-1===t?function Ete(n,e){return 11&n.type?r_(n,e):4&n.type?qC(n,e):null}(e,n):-2===t?function Pte(n,e,t){return t===ji?r_(e,n):t===Br?qC(e,n):t===pl?jL(e,n):void 0}(n,e,i):cy(n,n[1],t,e)}function VL(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Ote(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function NO(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=VL(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const b=u[d];b[17]===b[3]&&NO(b[1],b,c,i)}if(null!==u[9]){const d=u[9];for(let b=0;b<d.length;b++){const C=d[b];NO(C[1],C,c,i)}}}}}return i}function Kn(n){const e=Tt(),t=Ui(),i=ON();Kx(i+1);const r=WL(t,i);if(n.dirty&&CN(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?NO(t,e,i,[]):VL(t,e,r,i);n.reset(s,Kee),n.notifyOnChanges()}return!0}return!1}function Lr(n,e,t){const i=Ui();i.firstCreatePass&&($L(i,new GL(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),zL(i,Tt(),e)}function zs(n,e,t,i){const r=Ui();if(r.firstCreatePass){const s=Hs();$L(r,new GL(e,t,i),s.index),function Ate(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}zL(r,Tt(),t)}function Jn(){return function Ite(n,e){return n[19].queries[e].queryList}(Tt(),ON())}function zL(n,e,t){const i=new PO(4==(4&t));pF(n,e,i,i.destroy),null===e[19]&&(e[19]=new DO),e[19].queries.push(new AO(i))}function $L(n,e,t){null===n.queries&&(n.queries=new RO),n.queries.track(new kO(e,t))}function WL(n,e){return n.queries.getByIndex(e)}function Wo(n,e){return qC(n,e)}function QC(...n){}const jO=new hn("Application Initializer");let GO=(()=>{class n{constructor(t){this.appInits=t,this.resolve=QC,this.reject=QC,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(LC(s))t.push(s);else if(hB(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(We(jO,8))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vy=new hn("AppId",{providedIn:"root",factory:function c4(){return`${VO()}${VO()}${VO()}`}});function VO(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const u4=new hn("Platform Initializer"),kh=new hn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xte=new hn("appBootstrapListener"),Nh=new hn("LocaleId",{providedIn:"root",factory:()=>n3(Nh,Yn.Optional|Yn.SkipSelf)||function qte(){return"undefined"!=typeof $localize&&$localize.locale||jC}()}),Zte=(()=>Promise.resolve(0))();function zO(n){"undefined"==typeof Zone?Zte.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ti{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _n(!1),this.onMicrotaskEmpty=new _n(!1),this.onStable=new _n(!1),this.onError=new _n(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function ene(){let n=hr.requestAnimationFrame,e=hr.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function ine(n){const e=()=>{!function nne(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(hr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,WO(n),n.isCheckStableRunning=!0,$O(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),WO(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return d4(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),h4(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return d4(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),h4(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,WO(n),$O(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ti.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ti.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,tne,QC,QC);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const tne={};function $O(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function WO(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function d4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function h4(n){n._nesting--,$O(n)}class rne{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _n,this.onMicrotaskEmpty=new _n,this.onStable=new _n,this.onError=new _n}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let YO=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ti.assertNotInAngularZone(),zO(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zO(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(We(Ti))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),sne=(()=>{class n{constructor(){this._applications=new Map,XO.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return XO.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class one{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let XO=new one,lf=null;const p4=new hn("AllowMultipleToken"),f4=new hn("PlatformOnDestroy");function g4(n,e,t=[]){const i=`Platform: ${e}`,r=new hn(i);return(s=[])=>{let o=qO();if(!o||o.injector.get(p4,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function une(n){if(lf&&!lf.get(p4,!1))throw new Zt(400,"");lf=n;const e=n.get(m4),t=n.get(u4,null);t&&t.forEach(i=>i())}(function hne(n=[],e){return zo.create({name:e,providers:[{provide:iO,useValue:"platform"},{provide:f4,useValue:()=>lf=null},...n]})}(a,i))}return function dne(n){const e=qO();if(!e)throw new Zt(401,"");return e}()}}function qO(){var n;return null!==(n=null==lf?void 0:lf.get(m4))&&void 0!==n?n:null}let m4=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function pne(n,e){let t;return t="noop"===n?new rne:("zone.js"===n?void 0:n)||new Ti({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Ti,useValue:a}];return a.run(()=>{const c=zo.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(km,null);if(!d)throw new Zt(402,"");return a.runOutsideAngular(()=>{const b=a.onError.subscribe({next:C=>{d.handleError(C)}});u.onDestroy(()=>{JO(this._modules,u),b.unsubscribe()})}),function fne(n,e,t){try{const i=t();return LC(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const b=u.injector.get(GO);return b.runInitializers(),b.donePromise.then(()=>(function ZZ(n){rl(n,"Expected localeId to be defined"),"string"==typeof n&&(tL=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Nh,jC)||jC),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,i=[]){const r=_4({},i);return function lne(n,e,t){const i=new xO(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(KO);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Zt(403,"");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Zt(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(f4,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(We(zo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function _4(n,e){return Array.isArray(e)?e.reduce(_4,n):Object.assign(Object.assign({},n),e)}let KO=(()=>{class n{constructor(t,i,r,s){this._zone=t,this._injector=i,this._exceptionHandler=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new he(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new he(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ti.assertNotInAngularZone(),zO(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Ti.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function rr(...n){const e=To(n),t=function bn(n,e){return"number"==typeof On(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?It(i[0]):Ls(t)(Mr(i,e)):vt}(o,a.pipe(Uo()))}bootstrap(t,i){if(!this._initStatus.done)throw new Zt(405,"");let r;r=t instanceof xL?t:this._injector.get(i_).resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function cne(n){return n.isBoundToModule}(r)?void 0:this._injector.get(o_),a=r.create(zo.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(YO,null),u=c&&a.injector.get(sne);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),JO(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Zt(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;JO(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xte,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(We(Ti),We(zo),We(km),We(GO))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let b4=!0,Fn=(()=>{class n{}return n.__NG_ELEMENT_ID__=_ne,n})();function _ne(n){return function yne(n,e,t){if(iC(n)&&!t){const i=al(n.index,e);return new Ly(i,i)}return 47&n.type?new Ly(e[16],e):null}(Hs(),Tt(),16==(16&n))}class T4{constructor(){}supports(e){return Oy(e)}create(e){return new Tne(e)}}const Sne=(n,e)=>e;class Tne{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Sne}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<x4(i,r,s)?t:i,a=x4(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let b=0;b<c;b++){const C=b<s.length?s[b]:s[b]=0,M=C+b;u<=M&&M<c&&(s[b]=C+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Oy(e))throw new Zt(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function HQ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[jm()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new Mne(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new M4),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Mne{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xne{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class M4{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new xne,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function x4(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class E4{constructor(){}supports(e){return e instanceof Map||cO(e)}create(){return new Ene}}class Ene{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||cO(e)))throw new Zt(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new One(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class One{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O4(){return new zy([new T4])}let zy=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||O4()),deps:[[n,new _y,new Jp]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Zt(901,"")}}return n.\u0275prov=Ct({token:n,providedIn:"root",factory:O4}),n})();function P4(){return new c_([new E4])}let c_=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||P4()),deps:[[n,new _y,new Jp]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(i)return i;throw new Zt(901,"")}}return n.\u0275prov=Ct({token:n,providedIn:"root",factory:P4}),n})();const Ane=g4(null,"core",[]);let Dne=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(We(KO))},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})(),tw=null;function uf(){return tw}const Or=new hn("DocumentToken");var Ga=(()=>((Ga=Ga||{})[Ga.Decimal=0]="Decimal",Ga[Ga.Percent=1]="Percent",Ga[Ga.Currency=2]="Currency",Ga[Ga.Scientific=3]="Scientific",Ga))(),bs=(()=>((bs=bs||{})[bs.Format=0]="Format",bs[bs.Standalone=1]="Standalone",bs))(),Mi=(()=>((Mi=Mi||{})[Mi.Narrow=0]="Narrow",Mi[Mi.Abbreviated=1]="Abbreviated",Mi[Mi.Wide=2]="Wide",Mi[Mi.Short=3]="Short",Mi))(),Qr=(()=>((Qr=Qr||{})[Qr.Short=0]="Short",Qr[Qr.Medium=1]="Medium",Qr[Qr.Long=2]="Long",Qr[Qr.Full=3]="Full",Qr))(),wn=(()=>((wn=wn||{})[wn.Decimal=0]="Decimal",wn[wn.Group=1]="Group",wn[wn.List=2]="List",wn[wn.PercentSign=3]="PercentSign",wn[wn.PlusSign=4]="PlusSign",wn[wn.MinusSign=5]="MinusSign",wn[wn.Exponential=6]="Exponential",wn[wn.SuperscriptingExponent=7]="SuperscriptingExponent",wn[wn.PerMille=8]="PerMille",wn[wn.Infinity=9]="Infinity",wn[wn.NaN=10]="NaN",wn[wn.TimeSeparator=11]="TimeSeparator",wn[wn.CurrencyDecimal=12]="CurrencyDecimal",wn[wn.CurrencyGroup=13]="CurrencyGroup",wn))();function nw(n,e){return Ql(Ca(n)[qt.DateFormat],e)}function iw(n,e){return Ql(Ca(n)[qt.TimeFormat],e)}function rw(n,e){return Ql(Ca(n)[qt.DateTimeFormat],e)}function Jl(n,e){const t=Ca(n),i=t[qt.NumberSymbols][e];if(void 0===i){if(e===wn.CurrencyDecimal)return t[qt.NumberSymbols][wn.Decimal];if(e===wn.CurrencyGroup)return t[qt.NumberSymbols][wn.Group]}return i}function R4(n){if(!n[qt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[qt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ql(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function iP(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Jne=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$y={},Qne=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $s=(()=>(($s=$s||{})[$s.Short=0]="Short",$s[$s.ShortGMT=1]="ShortGMT",$s[$s.Long=2]="Long",$s[$s.Extended=3]="Extended",$s))(),Pn=(()=>((Pn=Pn||{})[Pn.FullYear=0]="FullYear",Pn[Pn.Month=1]="Month",Pn[Pn.Date=2]="Date",Pn[Pn.Hours=3]="Hours",Pn[Pn.Minutes=4]="Minutes",Pn[Pn.Seconds=5]="Seconds",Pn[Pn.FractionalSeconds=6]="FractionalSeconds",Pn[Pn.Day=7]="Day",Pn))(),ui=(()=>((ui=ui||{})[ui.DayPeriods=0]="DayPeriods",ui[ui.Days=1]="Days",ui[ui.Months=2]="Months",ui[ui.Eras=3]="Eras",ui))();function Zne(n,e,t,i){let r=function lie(n){if(F4(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return sw(r,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Jne))return function cie(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(i)}const e=new Date(n);if(!F4(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ad(t,e)||e;let a,o=[];for(;e;){if(a=Qne.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=r.getTimezoneOffset();i&&(l=N4(i,l),r=function aie(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function oie(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(N4(e,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const d=function sie(n){if(sP[n])return sP[n];let e;switch(n){case"G":case"GG":case"GGG":e=Pr(ui.Eras,Mi.Abbreviated);break;case"GGGG":e=Pr(ui.Eras,Mi.Wide);break;case"GGGGG":e=Pr(ui.Eras,Mi.Narrow);break;case"y":e=Ps(Pn.FullYear,1,0,!1,!0);break;case"yy":e=Ps(Pn.FullYear,2,0,!0,!0);break;case"yyy":e=Ps(Pn.FullYear,3,0,!1,!0);break;case"yyyy":e=Ps(Pn.FullYear,4,0,!1,!0);break;case"Y":e=cw(1);break;case"YY":e=cw(2,!0);break;case"YYY":e=cw(3);break;case"YYYY":e=cw(4);break;case"M":case"L":e=Ps(Pn.Month,1,1);break;case"MM":case"LL":e=Ps(Pn.Month,2,1);break;case"MMM":e=Pr(ui.Months,Mi.Abbreviated);break;case"MMMM":e=Pr(ui.Months,Mi.Wide);break;case"MMMMM":e=Pr(ui.Months,Mi.Narrow);break;case"LLL":e=Pr(ui.Months,Mi.Abbreviated,bs.Standalone);break;case"LLLL":e=Pr(ui.Months,Mi.Wide,bs.Standalone);break;case"LLLLL":e=Pr(ui.Months,Mi.Narrow,bs.Standalone);break;case"w":e=rP(1);break;case"ww":e=rP(2);break;case"W":e=rP(1,!0);break;case"d":e=Ps(Pn.Date,1);break;case"dd":e=Ps(Pn.Date,2);break;case"c":case"cc":e=Ps(Pn.Day,1);break;case"ccc":e=Pr(ui.Days,Mi.Abbreviated,bs.Standalone);break;case"cccc":e=Pr(ui.Days,Mi.Wide,bs.Standalone);break;case"ccccc":e=Pr(ui.Days,Mi.Narrow,bs.Standalone);break;case"cccccc":e=Pr(ui.Days,Mi.Short,bs.Standalone);break;case"E":case"EE":case"EEE":e=Pr(ui.Days,Mi.Abbreviated);break;case"EEEE":e=Pr(ui.Days,Mi.Wide);break;case"EEEEE":e=Pr(ui.Days,Mi.Narrow);break;case"EEEEEE":e=Pr(ui.Days,Mi.Short);break;case"a":case"aa":case"aaa":e=Pr(ui.DayPeriods,Mi.Abbreviated);break;case"aaaa":e=Pr(ui.DayPeriods,Mi.Wide);break;case"aaaaa":e=Pr(ui.DayPeriods,Mi.Narrow);break;case"b":case"bb":case"bbb":e=Pr(ui.DayPeriods,Mi.Abbreviated,bs.Standalone,!0);break;case"bbbb":e=Pr(ui.DayPeriods,Mi.Wide,bs.Standalone,!0);break;case"bbbbb":e=Pr(ui.DayPeriods,Mi.Narrow,bs.Standalone,!0);break;case"B":case"BB":case"BBB":e=Pr(ui.DayPeriods,Mi.Abbreviated,bs.Format,!0);break;case"BBBB":e=Pr(ui.DayPeriods,Mi.Wide,bs.Format,!0);break;case"BBBBB":e=Pr(ui.DayPeriods,Mi.Narrow,bs.Format,!0);break;case"h":e=Ps(Pn.Hours,1,-12);break;case"hh":e=Ps(Pn.Hours,2,-12);break;case"H":e=Ps(Pn.Hours,1);break;case"HH":e=Ps(Pn.Hours,2);break;case"m":e=Ps(Pn.Minutes,1);break;case"mm":e=Ps(Pn.Minutes,2);break;case"s":e=Ps(Pn.Seconds,1);break;case"ss":e=Ps(Pn.Seconds,2);break;case"S":e=Ps(Pn.FractionalSeconds,1);break;case"SS":e=Ps(Pn.FractionalSeconds,2);break;case"SSS":e=Ps(Pn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=aw($s.Short);break;case"ZZZZZ":e=aw($s.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=aw($s.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=aw($s.Long);break;default:return null}return sP[n]=e,e}(u);c+=d?d(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function sw(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ad(n,e){const t=function Une(n){return Ca(n)[qt.LocaleId]}(n);if($y[t]=$y[t]||{},$y[t][e])return $y[t][e];let i="";switch(e){case"shortDate":i=nw(n,Qr.Short);break;case"mediumDate":i=nw(n,Qr.Medium);break;case"longDate":i=nw(n,Qr.Long);break;case"fullDate":i=nw(n,Qr.Full);break;case"shortTime":i=iw(n,Qr.Short);break;case"mediumTime":i=iw(n,Qr.Medium);break;case"longTime":i=iw(n,Qr.Long);break;case"fullTime":i=iw(n,Qr.Full);break;case"short":const r=Ad(n,"shortTime"),s=Ad(n,"shortDate");i=ow(rw(n,Qr.Short),[r,s]);break;case"medium":const o=Ad(n,"mediumTime"),a=Ad(n,"mediumDate");i=ow(rw(n,Qr.Medium),[o,a]);break;case"long":const l=Ad(n,"longTime"),c=Ad(n,"longDate");i=ow(rw(n,Qr.Long),[l,c]);break;case"full":const u=Ad(n,"fullTime"),d=Ad(n,"fullDate");i=ow(rw(n,Qr.Full),[u,d])}return i&&($y[t][e]=i),i}function ow(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Yc(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function Ps(n,e,t=0,i=!1,r=!1){return function(s,o){let a=function tie(n,e){switch(n){case Pn.FullYear:return e.getFullYear();case Pn.Month:return e.getMonth();case Pn.Date:return e.getDate();case Pn.Hours:return e.getHours();case Pn.Minutes:return e.getMinutes();case Pn.Seconds:return e.getSeconds();case Pn.FractionalSeconds:return e.getMilliseconds();case Pn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Pn.Hours)0===a&&-12===t&&(a=12);else if(n===Pn.FractionalSeconds)return function eie(n,e){return Yc(n,3).substr(0,e)}(a,e);const l=Jl(o,wn.MinusSign);return Yc(a,e,l,i,r)}}function Pr(n,e,t=bs.Format,i=!1){return function(r,s){return function nie(n,e,t,i,r,s){switch(t){case ui.Months:return function Gne(n,e,t){const i=Ca(n),s=Ql([i[qt.MonthsFormat],i[qt.MonthsStandalone]],e);return Ql(s,t)}(e,r,i)[n.getMonth()];case ui.Days:return function jne(n,e,t){const i=Ca(n),s=Ql([i[qt.DaysFormat],i[qt.DaysStandalone]],e);return Ql(s,t)}(e,r,i)[n.getDay()];case ui.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function Wne(n){const e=Ca(n);return R4(e),(e[qt.ExtraData][2]||[]).map(i=>"string"==typeof i?iP(i):[iP(i[0]),iP(i[1])])}(e),u=function Yne(n,e,t){const i=Ca(n);R4(i);const s=Ql([i[qt.ExtraData][0],i[qt.ExtraData][1]],e)||[];return Ql(s,t)||[]}(e,r,i),d=c.findIndex(b=>{if(Array.isArray(b)){const[C,M]=b,I=o>=C.hours&&a>=C.minutes,k=o<M.hours||o===M.hours&&a<M.minutes;if(C.hours<M.hours){if(I&&k)return!0}else if(I||k)return!0}else if(b.hours===o&&b.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function Hne(n,e,t){const i=Ca(n),s=Ql([i[qt.DayPeriodsFormat],i[qt.DayPeriodsStandalone]],e);return Ql(s,t)}(e,r,i)[o<12?0:1];case ui.Eras:return function Vne(n,e){return Ql(Ca(n)[qt.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function aw(n){return function(e,t,i){const r=-1*i,s=Jl(t,wn.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case $s.Short:return(r>=0?"+":"")+Yc(o,2,s)+Yc(Math.abs(r%60),2,s);case $s.ShortGMT:return"GMT"+(r>=0?"+":"")+Yc(o,1,s);case $s.Long:return"GMT"+(r>=0?"+":"")+Yc(o,2,s)+":"+Yc(Math.abs(r%60),2,s);case $s.Extended:return 0===i?"Z":(r>=0?"+":"")+Yc(o,2,s)+":"+Yc(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function k4(n){return sw(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function rP(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=k4(t),o=function rie(n){const e=sw(n,0,1).getDay();return sw(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Yc(r,n,Jl(i,wn.MinusSign))}}function cw(n,e=!1){return function(t,i){return Yc(k4(t).getFullYear(),n,Jl(i,wn.MinusSign),e)}}const sP={};function N4(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function F4(n){return n instanceof Date&&!isNaN(n.valueOf())}const uie=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function dw(n,e,t){return function aP(n,e,t,i,r,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function _ie(n){let i,r,s,o,a,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);o&&(c=function mie(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,d=e.minFrac,b=e.maxFrac;if(s){const L=s.match(uie);if(null===L)throw new Error(`${s} is not a valid digit info`);const H=L[1],Y=L[3],se=L[5];null!=H&&(u=cP(H)),null!=Y&&(d=cP(Y)),null!=se?b=cP(se):null!=Y&&d>b&&(b=d)}!function yie(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(e,r),t);let o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=e+n.integerLen,u=i.reduceRight(function(d,b,C,M){return M[C]=(b+=d)<10?b:b-10,l&&(0===M[C]&&C>=c?M.pop():l=!1),b>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,d,b);let C=c.digits,M=c.integerLen;const I=c.exponent;let k=[];for(l=C.every(L=>!L);M<u;M++)C.unshift(0);for(;M<0;M++)C.unshift(0);M>0?k=C.splice(M,C.length):(k=C,C=[0]);const B=[];for(C.length>=e.lgSize&&B.unshift(C.splice(-e.lgSize,C.length).join(""));C.length>e.gSize;)B.unshift(C.splice(-e.gSize,C.length).join(""));C.length&&B.unshift(C.join("")),a=B.join(Jl(t,i)),k.length&&(a+=Jl(t,r)+k.join("")),I&&(a+=Jl(t,wn.Exponential)+"+"+I)}else a=Jl(t,wn.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function lP(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substr(0,d).replace(/'/g,""),t.negSuf=s.substr(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function nP(n,e){return Ca(n)[qt.NumberFormats][e]}(e,Ga.Decimal),Jl(e,wn.MinusSign)),e,wn.Group,wn.Decimal,t)}function cP(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function H4(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let cs=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Oy(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${zi(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(W(zy),W(c_),W(ji),W(ja))},n.\u0275dir=Ht({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Cie{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let di=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Cie(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),j4(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{j4(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(W(pl),W(Br),W(zy))},n.\u0275dir=Ht({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function j4(n,e){n.context.$implicit=e.item}let At=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new wie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){G4("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){G4("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(W(pl),W(Br))},n.\u0275dir=Ht({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wie{constructor(){this.$implicit=null,this.ngIf=null}}function G4(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${zi(e)}'.`)}const V4="browser";function Yy(n){return n===V4}class pP{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Va=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ht({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Zl=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new pP(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(W(pl),W(Br),W(Va,9))},n.\u0275dir=Ht({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),df=(()=>{class n{constructor(t,i,r){r._addDefault(new pP(t,i))}}return n.\u0275fac=function(t){return new(t||n)(W(pl),W(Br),W(Va,9))},n.\u0275dir=Ht({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Dd=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(W(ji),W(c_),W(ja))},n.\u0275dir=Ht({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Fh=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(W(pl))},n.\u0275dir=Ht({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Eo]}),n})();function Xc(n,e){return new Zt(2100,"")}class Qie{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Zie{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const ere=new Zie,tre=new Qie;let Ki=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(LC(t))return ere;if(dB(t))return tre;throw Xc()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(W(Fn,16))},n.\u0275pipe=ss({name:"async",type:n,pure:!1}),n})();const ore=new hn("DATE_PIPE_DEFAULT_TIMEZONE");let za=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,s){var o;if(null==t||""===t||t!=t)return null;try{return Zne(t,i,s||this.locale,null!==(o=null!=r?r:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw Xc()}}}return n.\u0275fac=function(t){return new(t||n)(W(Nh,16),W(ore,24))},n.\u0275pipe=ss({name:"date",type:n,pure:!0}),n})(),ec=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function fP(n){return!(null==n||""===n||n!=n)}(t))return null;r=r||this._locale;try{return dw(function gP(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(s){throw Xc()}}}return n.\u0275fac=function(t){return new(t||n)(W(Nh,16))},n.\u0275pipe=ss({name:"number",type:n,pure:!0}),n})();let ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})();class J4{}class mP extends class yre extends class Nne{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function kne(n){tw||(tw=n)}(new mP)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bre(){return qy=qy||document.querySelector("base"),qy?qy.getAttribute("href"):null}();return null==t?null:function vre(n){fw=fw||document.createElement("a"),fw.setAttribute("href",n);const e=fw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qy=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return H4(document.cookie,e)}}let fw,qy=null;const Q4=new hn("TRANSITION_ID"),wre=[{provide:jO,useFactory:function Cre(n,e,t){return()=>{t.get(GO).donePromise.then(()=>{const i=uf(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Q4,Or,zo],multi:!0}];class _P{static init(){!function ane(n){XO=n}(new _P)}addToWindow(e){hr.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},hr.getAllAngularTestabilities=()=>e.getAllTestabilities(),hr.getAllAngularRootElements=()=>e.getAllRootElements(),hr.frameworkStabilizers||(hr.frameworkStabilizers=[]),hr.frameworkStabilizers.push(i=>{const r=hr.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?uf().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Sre=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const gw=new hn("EventManagerPlugins");let mw=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(We(gw),We(Ti))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();class Z4{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=uf().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let e5=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),Ky=(()=>{class n extends e5{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(t5),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(t5))}}return n.\u0275fac=function(t){return new(t||n)(We(Or))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();function t5(n){uf().remove(n)}const yP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bP=/%COMP%/g;function _w(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?_w(n,r,t):(r=r.replace(bP,n),t.push(r))}return t}function r5(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let yw=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new vP(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Lc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Pre(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case Lc.ShadowDom:return new Ire(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=_w(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(We(mw),We(Ky),We(Vy))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();class vP{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(yP[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=yP[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=yP[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(cl.DashCase|cl.Important)?e.style.setProperty(t,i,r&cl.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&cl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,r5(i)):this.eventManager.addEventListener(e,t,r5(i))}}class Pre extends vP{constructor(e,t,i,r){super(e),this.component=i;const s=_w(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function xre(n){return"_ngcontent-%COMP%".replace(bP,n)}(r+"-"+i.id),this.hostAttr=function Ere(n){return"_nghost-%COMP%".replace(bP,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Ire extends vP{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=_w(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Are=(()=>{class n extends Z4{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(We(Or))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const o5=["alt","control","meta","shift"],Rre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a5={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kre={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Nre=(()=>{class n extends Z4{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uf().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(o5.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let i="",r=function Fre(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&a5.hasOwnProperty(e)&&(e=a5[e]))}return Rre[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),o5.forEach(s=>{s!=r&&kre[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(We(Or))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const Hre=g4(Ane,"browser",[{provide:kh,useValue:V4},{provide:u4,useValue:function Bre(){mP.makeCurrent(),_P.init()},multi:!0},{provide:Or,useFactory:function Ure(){return function QX(n){jx=n}(document),document},deps:[]}]),jre=[{provide:iO,useValue:"root"},{provide:km,useFactory:function Lre(){return new km},deps:[]},{provide:gw,useClass:Are,multi:!0,deps:[Or,Ti,kh]},{provide:gw,useClass:Nre,multi:!0,deps:[Or]},{provide:yw,useClass:yw,deps:[mw,Ky,Vy]},{provide:s_,useExisting:yw},{provide:e5,useExisting:Ky},{provide:Ky,useClass:Ky,deps:[Or]},{provide:YO,useClass:YO,deps:[Ti]},{provide:mw,useClass:mw,deps:[gw,Ti]},{provide:J4,useClass:Sre,deps:[]}];let l5=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Vy,useValue:t.appId},{provide:Q4,useExisting:Vy},wre]}}}return n.\u0275fac=function(t){return new(t||n)(We(n,12))},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:jre,imports:[ct,Dne]}),n})();"undefined"!=typeof window&&window;let wP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:function(t){let i=null;return i=t?new(t||n):We(d5),i},providedIn:"root"}),n})(),d5=(()=>{class n extends wP{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Er.NONE:return i;case Er.HTML:return Ru(i,"HTML")?ul(i):V3(this._doc,String(i)).toString();case Er.STYLE:return Ru(i,"Style")?ul(i):i;case Er.SCRIPT:if(Ru(i,"Script"))return ul(i);throw new Error("unsafe value used in a script context");case Er.URL:return N3(i),Ru(i,"URL")?ul(i):wy(String(i));case Er.RESOURCE_URL:if(Ru(i,"ResourceURL"))return ul(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function FK(n){return new AK(n)}(t)}bypassSecurityTrustStyle(t){return function BK(n){return new DK(n)}(t)}bypassSecurityTrustScript(t){return function LK(n){return new RK(n)}(t)}bypassSecurityTrustUrl(t){return function UK(n){return new kK(n)}(t)}bypassSecurityTrustResourceUrl(t){return function HK(n){return new NK(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(We(Or))},n.\u0275prov=Ct({token:n,factory:function(t){let i=null;return i=t?new t:function Jre(n){return new d5(n.get(Or))}(We(zo)),i},providedIn:"root"}),n})();function bw(n){return n&&n.Math==Math?n:void 0}const Ji="object"==typeof globalThis&&bw(globalThis)||"object"==typeof window&&bw(window)||"object"==typeof self&&bw(self)||"object"==typeof global&&bw(global)||function(){return this}()||{};function SP(){return Ji}function h5(n,e,t){const i=t||Ji,r=i.__SENTRY__=i.__SENTRY__||{};return r[n]||(r[n]=e())}const vw="production",p5=Object.prototype.toString;function f5(n){switch(p5.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Rd(n,Error)}}function u_(n,e){return p5.call(n)===`[object ${e}]`}function TP(n){return u_(n,"ErrorEvent")}function g5(n){return u_(n,"DOMError")}function fl(n){return u_(n,"String")}function MP(n){return"object"==typeof n&&null!==n&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function xP(n){return null===n||MP(n)||"object"!=typeof n&&"function"!=typeof n}function d_(n){return u_(n,"Object")}function Cw(n){return"undefined"!=typeof Event&&Rd(n,Event)}function ww(n){return Boolean(n&&n.then&&"function"==typeof n.then)}function m5(n){return"number"==typeof n&&n!=n}function Rd(n,e){try{return n instanceof e}catch(t){return!1}}function _5(n){return!("object"!=typeof n||null===n||!n.__isVue&&!n._isVue)}const h_=SP();function p_(n,e={}){if(!n)return"<unknown>";try{let t=n;const i=5,r=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||80;for(;t&&s++<i&&(c=ise(t,u),!("html"===c||s>1&&o+r.length*l+c.length>=d));)r.push(c),o+=c.length,t=t.parentNode;return r.reverse().join(a)}catch(t){return"<unknown>"}}function ise(n,e){const t=n,i=[];let r,s,o,a,l;if(!t||!t.tagName)return"";if(h_.HTMLElement&&t instanceof HTMLElement&&t.dataset&&t.dataset.sentryComponent)return t.dataset.sentryComponent;i.push(t.tagName.toLowerCase());const c=e&&e.length?e.filter(d=>t.getAttribute(d)).map(d=>[d,t.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(t.id&&i.push(`#${t.id}`),r=t.className,r&&fl(r))for(s=r.split(/\s+/),l=0;l<s.length;l++)i.push(`.${s[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=t.getAttribute(o),a&&i.push(`[${o}="${a}"]`);return i.join("")}function y5(n){if(!h_.HTMLElement)return null;let e=n;for(let i=0;i<5;i++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}const f_="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,EP=["debug","info","warn","error","log","assert","trace"],Sw={};function Tw(n){if(!("console"in Ji))return n();const e=Ji.console,t={},i=Object.keys(Sw);i.forEach(r=>{const s=Sw[r];t[r]=e[r],e[r]=s});try{return n()}finally{i.forEach(r=>{e[r]=t[r]})}}const Mt=function ase(){let n=!1;const e={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return EP.forEach(f_?t=>{e[t]=(...i)=>{n&&Tw(()=>{Ji.console[t](`Sentry Logger [${t}]:`,...i)})}}:t=>{e[t]=()=>{}}),e}();function g_(n,e=0){return"string"!=typeof n||0===e||n.length<=e?n:`${n.slice(0,e)}...`}function b5(n,e){if(!Array.isArray(n))return"";const t=[];for(let i=0;i<n.length;i++){const r=n[i];try{_5(r)?t.push("[VueViewModel]"):t.push(String(r))}catch(s){t.push("[value cannot be serialized]")}}return t.join(e)}function Jy(n,e=[],t=!1){return e.some(i=>function lse(n,e,t=!1){return!!fl(n)&&(function ese(n){return u_(n,"RegExp")}(e)?e.test(n):!!fl(e)&&(t?n===e:n.includes(e)))}(n,i,t))}function Oo(n,e,t){if(!(e in n))return;const i=n[e],r=t(i);"function"==typeof r&&v5(r,i),n[e]=r}function hf(n,e,t){try{Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0})}catch(i){f_&&Mt.log(`Failed to add non-enumerable property "${e}" to object`,n)}}function v5(n,e){try{n.prototype=e.prototype=e.prototype||{},hf(n,"__sentry_original__",e)}catch(t){}}function OP(n){return n.__sentry_original__}function C5(n){if(f5(n))return je({message:n.message,name:n.name,stack:n.stack},S5(n));if(Cw(n)){const e=je({type:n.type,target:w5(n.target),currentTarget:w5(n.currentTarget)},S5(n));return"undefined"!=typeof CustomEvent&&Rd(n,CustomEvent)&&(e.detail=n.detail),e}return n}function w5(n){try{return function Zre(n){return"undefined"!=typeof Element&&Rd(n,Element)}(n)?p_(n):Object.prototype.toString.call(n)}catch(e){return"<unknown>"}}function S5(n){if("object"==typeof n&&null!==n){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}return{}}function $a(n){return PP(n,new Map)}function PP(n,e){if(function dse(n){if(!d_(n))return!1;try{const e=Object.getPrototypeOf(n).constructor.name;return!e||"Object"===e}catch(e){return!0}}(n)){const t=e.get(n);if(void 0!==t)return t;const i={};e.set(n,i);for(const r of Object.keys(n))void 0!==n[r]&&(i[r]=PP(n[r],e));return i}if(Array.isArray(n)){const t=e.get(n);if(void 0!==t)return t;const i=[];return e.set(n,i),n.forEach(r=>{i.push(PP(r,e))}),i}return n}function Cs(){const e=Ji.crypto||Ji.msCrypto;let t=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(t=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch(i){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(15&t())>>i/4).toString(16))}function T5(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function Lh(n){const{message:e,event_id:t}=n;if(e)return e;const i=T5(n);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||t||"<unknown>":t||"<unknown>"}function IP(n,e,t){const i=n.exception=n.exception||{},r=i.values=i.values||[],s=r[0]=r[0]||{};s.value||(s.value=e||""),s.type||(s.type=t||"Error")}function Qy(n,e){const t=T5(n);if(!t)return;const r=t.mechanism;if(t.mechanism=je(je(je({},{type:"generic",handled:!0}),r),e),e&&"data"in e){const s=je(je({},r&&r.data),e.data);t.mechanism.data=s}}function M5(n){if(n&&n.__sentry_captured__)return!0;try{hf(n,"__sentry_captured__",!0)}catch(e){}return!1}function x5(n){return Array.isArray(n)?n:[n]}function Zy(){return Date.now()/1e3}const eb=function pse(){const{performance:n}=Ji;if(!n||!n.now)return Zy;const e=Date.now()-n.now(),t=null==n.timeOrigin?e:n.timeOrigin;return()=>(t+n.now())/1e3}();let Mw;const tc=(()=>{const{performance:n}=Ji;if(!n||!n.now)return void(Mw="none");const e=36e5,t=n.now(),i=Date.now(),r=n.timeOrigin?Math.abs(n.timeOrigin+t-i):e,s=r<e,o=n.timing&&n.timing.navigationStart,l="number"==typeof o?Math.abs(o+t-i):e;return s||l<e?r<=l?(Mw="timeOrigin",n.timeOrigin):(Mw="navigationStart",o):(Mw="dateNow",i)})(),yn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var kd,n;function m_(n){return new gl(e=>{e(n)})}function AP(n){return new gl((e,t)=>{t(n)})}(n=kd||(kd={}))[n.PENDING=0]="PENDING",n[n.RESOLVED=1]="RESOLVED",n[n.REJECTED=2]="REJECTED";class gl{constructor(e){gl.prototype.__init.call(this),gl.prototype.__init2.call(this),gl.prototype.__init3.call(this),gl.prototype.__init4.call(this),this._state=kd.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new gl((i,r)=>{this._handlers.push([!1,s=>{if(e)try{i(e(s))}catch(o){r(o)}else i(s)},s=>{if(t)try{i(t(s))}catch(o){r(o)}else r(s)}]),this._executeHandlers()})}catch(e){return this.then(t=>t,e)}finally(e){return new gl((t,i)=>{let r,s;return this.then(o=>{s=!1,r=o,e&&e()},o=>{s=!0,r=o,e&&e()}).then(()=>{s?i(r):t(r)})})}__init(){this._resolve=e=>{this._setResult(kd.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(kd.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===kd.PENDING){if(ww(t))return void t.then(this._resolve,this._reject);this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===kd.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(t=>{t[0]||(this._state===kd.RESOLVED&&t[1](this._value),this._state===kd.REJECTED&&t[2](this._value),t[0]=!0)})}}}function DP(){return h5("globalEventProcessors",()=>[])}function fse(n){DP().push(n)}function xw(n,e,t,i=0){return new gl((r,s)=>{const o=n[i];if(null===e||"function"!=typeof o)r(e);else{const a=o(je({},e),t);yn&&o.id&&null===a&&Mt.log(`Event processor "${o.id}" dropped event`),ww(a)?a.then(l=>xw(n,l,t,i+1).then(r)).then(null,s):xw(n,a,t,i+1).then(r).then(null,s)}})}function O5(n){const e=eb(),t={sid:Cs(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function gse(n){return $a({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(t)};return n&&pf(t,n),t}function pf(n,e={}){if(e.user&&(!n.ipAddress&&e.user.ip_address&&(n.ipAddress=e.user.ip_address),!n.did&&!e.did&&(n.did=e.user.id||e.user.email||e.user.username)),n.timestamp=e.timestamp||eb(),e.abnormal_mechanism&&(n.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(n.ignoreDuration=e.ignoreDuration),e.sid&&(n.sid=32===e.sid.length?e.sid:Cs()),void 0!==e.init&&(n.init=e.init),!n.did&&e.did&&(n.did=`${e.did}`),"number"==typeof e.started&&(n.started=e.started),n.ignoreDuration)n.duration=void 0;else if("number"==typeof e.duration)n.duration=e.duration;else{const t=n.timestamp-n.started;n.duration=t>=0?t:0}e.release&&(n.release=e.release),e.environment&&(n.environment=e.environment),!n.ipAddress&&e.ipAddress&&(n.ipAddress=e.ipAddress),!n.userAgent&&e.userAgent&&(n.userAgent=e.userAgent),"number"==typeof e.errors&&(n.errors=e.errors),e.status&&(n.status=e.status)}function P5(n,e){let t={};e?t={status:e}:"ok"===n.status&&(t={status:"exited"}),pf(n,t)}function Ew(n){return n.transaction}const RP="baggage",I5="sentry-",mse=/^sentry-/;function A5(n){if(n)return function bse(n){if(0!==Object.keys(n).length)return Object.entries(n).reduce((e,[t,i],r)=>{const s=`${encodeURIComponent(t)}=${encodeURIComponent(i)}`,o=0===r?s:`${e},${s}`;return o.length>8192?(f_&&Mt.warn(`Not adding key: ${t} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):o},"")}(Object.entries(n).reduce((t,[i,r])=>(r&&(t[`${I5}${i}`]=r),t),{}))}function D5(n){return n.split(",").map(e=>e.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((e,[t,i])=>(e[t]=i,e),{})}const vse=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Cse(n,e){const t=function R5(n){if(!n)return;const e=n.match(vse);if(!e)return;let t;return"1"===e[3]?t=!0:"0"===e[3]&&(t=!1),{traceId:e[1],parentSampled:t,parentSpanId:e[2]}}(n),i=function yse(n){if(!fl(n)&&!Array.isArray(n))return;let e={};if(Array.isArray(n))e=n.reduce((i,r)=>{const s=D5(r);for(const o of Object.keys(s))i[o]=s[o];return i},{});else{if(!n)return;e=D5(n)}const t=Object.entries(e).reduce((i,[r,s])=>(r.match(mse)&&(i[r.slice(I5.length)]=s),i),{});return Object.keys(t).length>0?t:void 0}(e),{traceId:r,parentSpanId:s,parentSampled:o}=t||{};return t?{traceId:r||Cs(),parentSpanId:s||Cs().substring(16),spanId:Cs().substring(16),sampled:o,dsc:i||{}}:{traceId:r||Cs(),spanId:Cs().substring(16)}}function kP(n=Cs(),e=Cs().substring(16),t){let i="";return void 0!==t&&(i=t?"-1":"-0"),`${n}-${e}${i}`}function NP(n){const{spanId:e,traceId:t}=n.spanContext(),{data:i,op:r,parent_span_id:s,status:o,tags:a,origin:l}=Ws(n);return $a({data:i,op:r,parent_span_id:s,span_id:e,status:o,tags:a,trace_id:t,origin:l})}function Ow(n){const{traceId:e,spanId:t}=n.spanContext();return kP(e,t,FP(n))}function Pw(n){return"number"==typeof n?N5(n):Array.isArray(n)?n[0]+n[1]/1e9:n instanceof Date?N5(n.getTime()):eb()}function N5(n){return n>9999999999?n/1e3:n}function Ws(n){return function Sse(n){return"function"==typeof n.getSpanJSON}(n)?n.getSpanJSON():"function"==typeof n.toJSON?n.toJSON():{}}function FP(n){const{traceFlags:e}=n.spanContext();return Boolean(1&e)}function Iw(n,e,t){const i=e.getOptions(),{publicKey:r}=e.getDsn()||{},{segment:s}=t&&t.getUser()||{},o=$a({environment:i.environment||vw,release:i.release,user_segment:s,public_key:r,trace_id:n});return e.emit&&e.emit("createDsc",o),o}function __(n){const e=Vr();if(!e)return{};const t=Iw(Ws(n).trace_id||"",e,nc()),i=Ew(n);if(!i)return t;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:s,source:o}=i.metadata;null!=s&&(t.sample_rate=`${s}`);const a=Ws(i);return o&&"url"!==o&&(t.transaction=a.description),t.sampled=String(FP(i)),e.emit&&e.emit("createDsc",t),t}function F5(n,e){const{fingerprint:t,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;(function Tse(n,e){const{extra:t,tags:i,user:r,contexts:s,level:o,transactionName:a}=e,l=$a(t);l&&Object.keys(l).length&&(n.extra=je(je({},l),n.extra));const c=$a(i);c&&Object.keys(c).length&&(n.tags=je(je({},c),n.tags));const u=$a(r);u&&Object.keys(u).length&&(n.user=je(je({},u),n.user));const d=$a(s);d&&Object.keys(d).length&&(n.contexts=je(je({},d),n.contexts)),o&&(n.level=o),a&&(n.transaction=a)})(n,e),i&&function Ese(n,e){n.contexts=je({trace:NP(e)},n.contexts);const t=Ew(e);if(t){n.sdkProcessingMetadata=je({dynamicSamplingContext:__(e)},n.sdkProcessingMetadata);const i=Ws(t).description;i&&(n.tags=je({transaction:i},n.tags))}}(n,i),function Ose(n,e){n.fingerprint=n.fingerprint?x5(n.fingerprint):[],e&&(n.fingerprint=n.fingerprint.concat(e)),n.fingerprint&&!n.fingerprint.length&&delete n.fingerprint}(n,t),function Mse(n,e){const t=[...n.breadcrumbs||[],...e];n.breadcrumbs=t.length?t:void 0}(n,r),function xse(n,e){n.sdkProcessingMetadata=je(je({},n.sdkProcessingMetadata),e)}(n,s)}function B5(n,e){const{extra:t,tags:i,user:r,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:b,transactionName:C,span:M}=e;tb(n,"extra",t),tb(n,"tags",i),tb(n,"user",r),tb(n,"contexts",s),tb(n,"sdkProcessingMetadata",a),o&&(n.level=o),C&&(n.transactionName=C),M&&(n.span=M),l.length&&(n.breadcrumbs=[...n.breadcrumbs,...l]),c.length&&(n.fingerprint=[...n.fingerprint,...c]),u.length&&(n.eventProcessors=[...n.eventProcessors,...u]),d.length&&(n.attachments=[...n.attachments,...d]),n.propagationContext=je(je({},n.propagationContext),b)}function tb(n,e,t){if(t&&Object.keys(t).length){n[e]=je({},n[e]);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[e][i]=t[i])}}let Aw;class Nd{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=L5()}static clone(e){return e?e.clone():new Nd}clone(){const e=new Nd;return e._breadcrumbs=[...this._breadcrumbs],e._tags=je({},this._tags),e._extra=je({},this._extra),e._contexts=je({},this._contexts),e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata=je({},this._sdkProcessingMetadata),e._propagationContext=je({},this._propagationContext),e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&pf(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags=je(je({},this._tags),e),this._notifyScopeListeners(),this}setTag(e,t){return this._tags=Nn(je({},this._tags),{[e]:t}),this._notifyScopeListeners(),this}setExtras(e){return this._extra=je(je({},this._extra),e),this._notifyScopeListeners(),this}setExtra(e,t){return this._extra=Nn(je({},this._extra),{[e]:t}),this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Nd){const i=t.getScopeData();this._tags=je(je({},this._tags),i.tags),this._extra=je(je({},this._extra),i.extra),this._contexts=je(je({},this._contexts),i.contexts),i.user&&Object.keys(i.user).length&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint.length&&(this._fingerprint=i.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),i.propagationContext&&(this._propagationContext=i.propagationContext)}else if(d_(t)){const i=e;this._tags=je(je({},this._tags),i.tags),this._extra=je(je({},this._extra),i.extra),this._contexts=je(je({},this._contexts),i.contexts),i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession),i.propagationContext&&(this._propagationContext=i.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=L5(),this}addBreadcrumb(e,t){const i="number"==typeof t?t:100;if(i<=0)return this;const r=je({timestamp:Zy()},e),s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>i?s.slice(-i):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:i,_tags:r,_extra:s,_user:o,_level:a,_fingerprint:l,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:d,_transactionName:b,_span:C}=this;return{breadcrumbs:e,attachments:t,contexts:i,tags:r,extra:s,user:o,level:a,fingerprint:l||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:d,transactionName:b,span:C}}applyToEvent(e,t={},i=[]){return F5(e,this.getScopeData()),xw([...i,...DP(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=je(je({},this._sdkProcessingMetadata),e),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const i=t&&t.event_id?t.event_id:Cs();if(!this._client)return Mt.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,Nn(je({originalException:e,syntheticException:r},t),{event_id:i}),this),i}captureMessage(e,t,i){const r=i&&i.event_id?i.event_id:Cs();if(!this._client)return Mt.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,t,Nn(je({originalException:e,syntheticException:s},i),{event_id:r}),this),r}captureEvent(e,t){const i=t&&t.event_id?t.event_id:Cs();return this._client?(this._client.captureEvent(e,Nn(je({},t),{event_id:i}),this),i):(Mt.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function L5(){return{traceId:Cs(),spanId:Cs().substring(16)}}const BP="7.120.3",LP=parseFloat(BP),Ase=100;class UP{constructor(e,t,i,r=LP){let s,o;this._version=r,t?s=t:(s=new Nd,s.setClient(e)),i?o=i:(o=new Nd,o.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();let i;try{i=e(t)}catch(r){throw this.popScope(),r}return ww(i)?i.then(r=>(this.popScope(),r),r=>{throw this.popScope(),r}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const i=this._lastEventId=t&&t.event_id?t.event_id:Cs(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,Nn(je({originalException:e,syntheticException:r},t),{event_id:i})),i}captureMessage(e,t,i){const r=this._lastEventId=i&&i.event_id?i.event_id:Cs(),s=new Error(e);return this.getScope().captureMessage(e,t,Nn(je({originalException:e,syntheticException:s},i),{event_id:r})),r}captureEvent(e,t){const i=t&&t.event_id?t.event_id:Cs();return e.type||(this._lastEventId=i),this.getScope().captureEvent(e,Nn(je({},t),{event_id:i})),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Ase}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const a=Zy(),l=je({timestamp:a},e),c=s?Tw(()=>s(l,t)):l;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),i.addBreadcrumb(c,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:i}=this.getStackTop();i&&e(t)}run(e){const t=U5(this);try{e(this)}finally{U5(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(i){return yn&&Mt.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const i=this._callExtensionMethod("startTransaction",e,t);return yn&&!i&&(this.getClient()?Mt.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):Mt.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop().scope,i=t.getSession();i&&P5(i),this._sendSessionUpdate(),t.setSession()}startSession(e){const{scope:t,client:i}=this.getStackTop(),{release:r,environment:s=vw}=i&&i.getOptions()||{},{userAgent:o}=Ji.navigator||{},a=O5(je(je({release:r,environment:s,user:t.getUser()},o&&{userAgent:o}),e)),l=t.getSession&&t.getSession();return l&&"ok"===l.status&&pf(l,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),i=e.getSession();i&&t&&t.captureSession&&t.captureSession(i)}_callExtensionMethod(e,...t){const r=ff().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);yn&&Mt.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function ff(){return Ji.__SENTRY__=Ji.__SENTRY__||{extensions:{},hub:void 0},Ji}function U5(n){const e=ff(),t=Dw(e);return HP(e,n),t}function ao(){const n=ff();if(n.__SENTRY__&&n.__SENTRY__.acs){const e=n.__SENTRY__.acs.getCurrentHub();if(e)return e}return function H5(n=ff()){return(!function j5(n){return!!(n&&n.__SENTRY__&&n.__SENTRY__.hub)}(n)||Dw(n).isOlderThan(LP))&&HP(n,new UP),Dw(n)}(n)}function gf(){return ao().getIsolationScope()}function Dw(n){return h5("hub",()=>new UP,n)}function HP(n,e){return!!n&&((n.__SENTRY__=n.__SENTRY__||{}).hub=e,!0)}const V5=/\(error: (.*)\)/,z5=/captureMessage|captureException/;function $5(...n){const e=n.sort((t,i)=>t[0]-i[0]).map(t=>t[1]);return(t,i=0)=>{const r=[],s=t.split("\n");for(let o=i;o<s.length;o++){const a=s[o];if(a.length>1024)continue;const l=V5.test(a)?a.replace(V5,"$1"):a;if(!l.match(/\S*Error: /)){for(const c of e){const u=c(l);if(u){r.push(u);break}}if(r.length>=50)break}}return function kse(n){if(!n.length)return[];const e=Array.from(n);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),z5.test(e[e.length-1].function||"")&&(e.pop(),z5.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,50).map(t=>Nn(je({},t),{filename:t.filename||e[e.length-1].filename,function:t.function||"?"}))}(r)}}function Rse(n){return Array.isArray(n)?$5(...n):n}const jP="<anonymous>";function Fd(n){try{return n&&"function"==typeof n&&n.name||jP}catch(e){return jP}}function Uh(n,e=100,t=1/0){try{return GP("",n,e,t)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function W5(n,e=3,t=102400){const i=Uh(n,e);return function Lse(n){return function Bse(n){return~-encodeURI(n).split(/%..|./).length}(JSON.stringify(n))}(i)>t?W5(n,e-1,t):i}function GP(n,e,t=1/0,i=1/0,r=function Dse(){const n="function"==typeof WeakSet,e=n?new WeakSet:[];return[function t(r){if(n)return!!e.has(r)||(e.add(r),!1);for(let s=0;s<e.length;s++)if(e[s]===r)return!0;return e.push(r),!1},function i(r){if(n)e.delete(r);else for(let s=0;s<e.length;s++)if(e[s]===r){e.splice(s,1);break}}]}()){const[s,o]=r;if(null==e||["number","boolean","string"].includes(typeof e)&&!m5(e))return e;const a=function Nse(n,e){try{if("domain"===n&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===n)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(_5(e))return"[VueViewModel]";if(function tse(n){return d_(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}(e))return"[SyntheticEvent]";if("number"==typeof e&&e!=e)return"[NaN]";if("function"==typeof e)return`[Function: ${Fd(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const t=function Fse(n){const e=Object.getPrototypeOf(n);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(t)?`[HTMLElement: ${t}]`:`[object ${t}]`}catch(t){return`**non-serializable** (${t})`}}(n,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const l="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:t;if(0===l)return a.replace("object ","");if(s(e))return"[Circular ~]";const c=e;if(c&&"function"==typeof c.toJSON)try{return GP("",c.toJSON(),l-1,i,r)}catch(C){}const u=Array.isArray(e)?[]:{};let d=0;const b=C5(e);for(const C in b)if(Object.prototype.hasOwnProperty.call(b,C)){if(d>=i){u[C]="[MaxProperties ~]";break}u[C]=GP(C,b[C],l-1,i,r),d++}return o(e),u}const Y5=new WeakMap;const Xse=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Rw(n,e){return ao().captureException(n,function Wse(n){if(n)return function Yse(n){return n instanceof Nd||"function"==typeof n}(n)||function qse(n){return Object.keys(n).some(e=>Xse.includes(e))}(n)?{captureContext:n}:n}(e))}function X5(n,e){return ao().captureEvent(n,e)}function lo(n,e){ao().addBreadcrumb(n,e)}function Hu(n,e){ao().setTag(n,e)}function q5(...n){const e=ao();if(2===n.length){const[t,i]=n;return e.withScope(t?()=>(e.getStackTop().scope=t,i(t)):i)}return e.withScope(n[0])}function Vr(){return ao().getClient()}function nc(){return ao().getScope()}function J5(n){const e=Vr(),t=gf(),i=nc(),{release:r,environment:s=vw}=e&&e.getOptions()||{},{userAgent:o}=Ji.navigator||{},a=O5(je(je({release:r,environment:s,user:i.getUser()||t.getUser()},o&&{userAgent:o}),n)),l=t.getSession();return l&&"ok"===l.status&&pf(l,{status:"exited"}),Q5(),t.setSession(a),i.setSession(a),a}function Q5(){const n=gf(),e=nc(),t=e.getSession()||n.getSession();t&&P5(t),Z5(),n.setSession(),e.setSession()}function Z5(){const n=gf(),e=nc(),t=Vr(),i=e.getSession()||n.getSession();i&&t&&t.captureSession&&t.captureSession(i)}function e8(n=!1){n?Q5():Z5()}const t8=[];function Zse(n){const e=n.defaultIntegrations||[],t=n.integrations;let i;e.forEach(o=>{o.isDefaultInstance=!0}),i=Array.isArray(t)?[...e,...t]:"function"==typeof t?x5(t(e)):e;const r=function Qse(n){const e={};return n.forEach(t=>{const{name:i}=t,r=e[i];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[i]=t)}),Object.keys(e).map(t=>e[t])}(i),s=function toe(n,e){for(let t=0;t<n.length;t++)if(!0===e(n[t]))return t;return-1}(r,o=>"Debug"===o.name);if(-1!==s){const[o]=r.splice(s,1);r.push(o)}return r}function n8(n,e){for(const t of e)t&&t.afterAllSetup&&t.afterAllSetup(n)}function i8(n,e,t){if(t[e.name])yn&&Mt.log(`Integration skipped because it was already installed: ${e.name}`);else{if(t[e.name]=e,-1===t8.indexOf(e.name)&&(e.setupOnce(fse,ao),t8.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(n),n.on&&"function"==typeof e.preprocessEvent){const i=e.preprocessEvent.bind(e);n.on("preprocessEvent",(r,s)=>i(r,s,n))}if(n.addEventProcessor&&"function"==typeof e.processEvent){const i=e.processEvent.bind(e),r=Object.assign((s,o)=>i(s,o,n),{id:e.name});n.addEventProcessor(r)}yn&&Mt.log(`Integration installed: ${e.name}`)}}function Bd(n,e){return Object.assign(function(...i){return e(...i)},{id:n})}const noe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],ioe=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],r8="InboundFilters",s8=(n={})=>({name:r8,setupOnce(){},processEvent(e,t,i){const r=i.getOptions(),s=function roe(n={},e={}){return{allowUrls:[...n.allowUrls||[],...e.allowUrls||[]],denyUrls:[...n.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...e.ignoreErrors||[],...n.disableErrorDefaults?[]:noe],ignoreTransactions:[...n.ignoreTransactions||[],...e.ignoreTransactions||[],...n.disableTransactionDefaults?[]:ioe],ignoreInternal:void 0===n.ignoreInternal||n.ignoreInternal}}(n,r);return function soe(n,e){return e.ignoreInternal&&function doe(n){try{return"SentryError"===n.exception.values[0].type}catch(e){}return!1}(n)?(yn&&Mt.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Lh(n)}`),!0):function ooe(n,e){return!(n.type||!e||!e.length)&&function uoe(n){const e=[];let t;n.message&&e.push(n.message);try{t=n.exception.values[n.exception.values.length-1]}catch(i){}return t&&t.value&&(e.push(t.value),t.type&&e.push(`${t.type}: ${t.value}`)),yn&&0===e.length&&Mt.error(`Could not extract message for event ${Lh(n)}`),e}(n).some(t=>Jy(t,e))}(n,e.ignoreErrors)?(yn&&Mt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Lh(n)}`),!0):function aoe(n,e){if("transaction"!==n.type||!e||!e.length)return!1;const t=n.transaction;return!!t&&Jy(t,e)}(n,e.ignoreTransactions)?(yn&&Mt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Lh(n)}`),!0):function loe(n,e){if(!e||!e.length)return!1;const t=kw(n);return!!t&&Jy(t,e)}(n,e.denyUrls)?(yn&&Mt.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Lh(n)}.\nUrl: ${kw(n)}`),!0):!function coe(n,e){if(!e||!e.length)return!0;const t=kw(n);return!t||Jy(t,e)}(n,e.allowUrls)&&(yn&&Mt.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Lh(n)}.\nUrl: ${kw(n)}`),!0)}(e,s)?null:e}});function kw(n){try{let e;try{e=n.exception.values[0].stacktrace.frames}catch(t){}return e?function hoe(n=[]){for(let e=n.length-1;e>=0;e--){const t=n[e];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(e):null}catch(e){return yn&&Mt.error(`Cannot extract url for event ${Lh(n)}`),null}}let o8;Bd(r8,s8);const a8="FunctionToString",l8=new WeakMap,c8=()=>({name:a8,setupOnce(){o8=Function.prototype.toString;try{Function.prototype.toString=function(...n){const e=OP(this),t=l8.has(Vr())&&void 0!==e?e:this;return o8.apply(t,n)}}catch(n){}},setup(n){l8.set(n,!0)}});Bd(a8,c8);const moe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function mf(n,e=!1){const{host:t,path:i,pass:r,port:s,projectId:o,protocol:a,publicKey:l}=n;return`${a}://${l}${e&&r?`:${r}`:""}@${t}${s?`:${s}`:""}/${i&&`${i}/`}${o}`}function u8(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function d8(n){const e="string"==typeof n?function yoe(n){const e=moe.exec(n);if(!e)return void Tw(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[t,i,r="",s,o="",a]=e.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return u8({host:s,pass:r,path:l,projectId:c,port:o,protocol:t,publicKey:i})}(n):u8(n);if(e&&function boe(n){if(!f_)return!0;const{port:e,projectId:t,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(Mt.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(t.match(/^\d+$/)?function _oe(n){return"http"===n||"https"===n}(i)?e&&isNaN(parseInt(e,10))&&(Mt.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(Mt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(Mt.error(`Invalid Sentry Dsn: Invalid projectId ${t}`),1)))}(e))return e}function h8(n){return`${n.protocol?`${n.protocol}:`:""}//${n.host}${n.port?`:${n.port}`:""}${n.path?`/${n.path}`:""}/api/`}function Soe(n,e={}){const i="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return("string"==typeof e?e:e.tunnel)||`${function Coe(n){return`${h8(n)}${n.projectId}/envelope/`}(n)}?${function woe(n,e){return function cse(n){return Object.keys(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&")}(je({sentry_key:n.publicKey,sentry_version:"7"},e&&{sentry_client:`${e.name}/${e.version}`}))}(n,i)}`}const Nw=SP();function $P(){if(!("fetch"in Nw))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(n){return!1}}function WP(n){return n&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}const Fw=SP(),y_={},p8={};function _f(n,e){y_[n]=y_[n]||[],y_[n].push(e)}function yf(n,e){p8[n]||(e(),p8[n]=!0)}function qc(n,e){const t=n&&y_[n];if(t)for(const i of t)try{i(e)}catch(r){f_&&Mt.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${Fd(i)}\nError:`,r)}}const nb=Ji;let Bw;function YP(n){const e="history";_f(e,n),yf(e,Eoe)}function Eoe(){if(!function xoe(){const n=Fw.chrome;return!(n&&n.app&&n.app.runtime||!("history"in Fw)||!Fw.history.pushState||!Fw.history.replaceState)}())return;const n=nb.onpopstate;function e(t){return function(...i){const r=i.length>2?i[2]:void 0;if(r){const s=Bw,o=String(r);Bw=o,qc("history",{from:s,to:o})}return t.apply(this,i)}}nb.onpopstate=function(...t){const i=nb.location.href,r=Bw;if(Bw=i,qc("history",{from:r,to:i}),n)try{return n.apply(this,t)}catch(o){}},Oo(nb.history,"pushState",e),Oo(nb.history,"replaceState",e)}function bf(n,e=[]){return[n,e]}function Ooe(n,e){const[t,i]=n;return[t,[...i,e]]}function XP(n,e){const t=n[1];for(const i of t)if(e(i,i[0].type))return!0;return!1}function qP(n,e){return(e||new TextEncoder).encode(n)}function Poe(n,e){const[t,i]=n;let r=JSON.stringify(t);function s(o){"string"==typeof r?r="string"==typeof o?r+o:[qP(r,e),o]:r.push("string"==typeof o?qP(o,e):o)}for(const o of i){const[a,l]=o;if(s(`\n${JSON.stringify(a)}\n`),"string"==typeof l||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch(u){c=JSON.stringify(Uh(l))}s(c)}}return"string"==typeof r?r:function Ioe(n){const e=n.reduce((r,s)=>r+s.length,0),t=new Uint8Array(e);let i=0;for(const r of n)t.set(r,i),i+=r.length;return t}(r)}function Aoe(n,e){const t="string"==typeof n.data?qP(n.data,e):n.data;return[$a({type:"attachment",length:t.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),t]}const Doe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function f8(n){return Doe[n]}function g8(n){if(!n||!n.sdk)return;const{name:e,version:t}=n.sdk;return{name:e,version:t}}class ju extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const m8="Not capturing exception because it's already been captured.";function _8(n){return void 0===n.type}function y8(n){return"transaction"===n.type}function b8(n,e,t=[e],i="npm"){const r=n._metadata||{};r.sdk||(r.sdk={name:`sentry.javascript.${e}`,packages:t.map(s=>({name:`${i}:@sentry/${s}`,version:BP})),version:BP}),n._metadata=r}const ic="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function v8(n,e){const t=JP(n,e),i={type:e&&e.name,value:Qoe(e)};return t.length&&(i.stacktrace={frames:t}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function KP(n,e){return{exception:{values:[v8(n,e)]}}}function JP(n,e){const t=e.stacktrace||e.stack||"",i=function Joe(n){if(n){if("number"==typeof n.framesToPop)return n.framesToPop;if(Koe.test(n.message))return 1}return 0}(e);try{return n(t,i)}catch(r){}return[]}const Koe=/Minified React error #\d+;/i;function Qoe(n){const e=n&&n.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function QP(n,e,t,i,r){let s;if(TP(e)&&e.error)return KP(n,e.error);if(g5(e)||function Qre(n){return u_(n,"DOMException")}(e)){const o=e;if("stack"in e)s=KP(n,e);else{const a=o.name||(g5(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=ZP(n,l,t,i),IP(s,l)}return"code"in o&&(s.tags=Nn(je({},s.tags),{"DOMException.code":`${o.code}`})),s}return f5(e)?KP(n,e):d_(e)||Cw(e)?(s=function qoe(n,e,t,i){const r=Vr(),s=r&&r.getOptions().normalizeDepth,o={exception:{values:[{type:Cw(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:tae(e,{isUnhandledRejection:i})}]},extra:{__serialized__:W5(e,s)}};if(t){const a=JP(n,t);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}(n,e,t,r),Qy(s,{synthetic:!0}),s):(s=ZP(n,e,t,i),IP(s,`${e}`,void 0),Qy(s,{synthetic:!0}),s)}function ZP(n,e,t,i){const r={};if(i&&t){const s=JP(n,t);s.length&&(r.exception={values:[{value:e,stacktrace:{frames:s}}]})}if(MP(e)){const{__sentry_template_string__:s,__sentry_template_values__:o}=e;return r.logentry={message:s,params:o},r}return r.message=e,r}function tae(n,{isUnhandledRejection:e}){const t=function use(n,e=40){const t=Object.keys(C5(n));if(t.sort(),!t.length)return"[object has no keys]";if(t[0].length>=e)return g_(t[0],e);for(let i=t.length;i>0;i--){const r=t.slice(0,i).join(", ");if(!(r.length>e))return i===t.length?r:g_(r,e)}return""}(n),i=e?"promise rejection":"exception";return TP(n)?`Event \`ErrorEvent\` captured as ${i} with message \`${n.message}\``:Cw(n)?`Event \`${function nae(n){try{const e=Object.getPrototypeOf(n);return e?e.constructor.name:void 0}catch(e){}}(n)}\` (type=${n.type}) captured as ${i}`:`Object captured as ${i} with keys: ${t}`}const Gi=Ji;let eI=0;function C8(){return eI>0}function iae(){eI++,setTimeout(()=>{eI--})}function b_(n,e={},t){if("function"!=typeof n)return n;try{const r=n.__sentry_wrapped__;if(r)return"function"==typeof r?r:n;if(OP(n))return n}catch(r){return n}const i=function(){const r=Array.prototype.slice.call(arguments);try{t&&"function"==typeof t&&t.apply(this,arguments);const s=r.map(o=>b_(o,e));return n.apply(this,s)}catch(s){throw iae(),q5(o=>{o.addEventProcessor(a=>(e.mechanism&&(IP(a,void 0,void 0),Qy(a,e.mechanism)),a.extra=Nn(je({},a.extra),{arguments:r}),a)),Rw(s)}),s}};try{for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}catch(r){}v5(i,n),hf(n,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:()=>n.name})}catch(r){}return i}class oae extends class zoe{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=d8(e.dsn):yn&&Mt.warn("No DSN provided, client will not send events."),this._dsn){const t=Soe(this._dsn,e);this._transport=e.transport(Nn(je({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:t}))}}captureException(e,t,i){if(M5(e))return void(yn&&Mt.log(m8));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then(s=>this._captureEvent(s,t,i)).then(s=>{r=s})),r}captureMessage(e,t,i,r){let s=i&&i.event_id;const o=MP(e)?e:String(e),a=xP(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(a.then(l=>this._captureEvent(l,i,r)).then(l=>{s=l})),s}captureEvent(e,t,i){if(t&&t.originalException&&M5(t.originalException))return void(yn&&Mt.log(m8));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,(e.sdkProcessingMetadata||{}).capturedSpanScope||i).then(a=>{r=a})),r}captureSession(e){"string"!=typeof e.release?yn&&Mt.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),pf(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(i=>t.flush(e).then(r=>i&&r))):m_(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return yn&&Mt.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];i8(this,e,this._integrations),t||n8(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let i=function Foe(n,e,t,i){const r=g8(t),s=n.type&&"replay_event"!==n.type?n.type:"event";!function koe(n,e){e&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||e.name,n.sdk.version=n.sdk.version||e.version,n.sdk.integrations=[...n.sdk.integrations||[],...e.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...e.packages||[]])}(n,t&&t.sdk);const o=function Roe(n,e,t,i){const r=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.dynamicSamplingContext;return je(je(je({event_id:n.event_id,sent_at:(new Date).toISOString()},e&&{sdk:e}),!!t&&i&&{dsn:mf(i)}),r&&{trace:$a(je({},r))})}(n,r,i,e);return delete n.sdkProcessingMetadata,bf(o,[[{type:s},n]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of t.attachments||[])i=Ooe(i,Aoe(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(i);r&&r.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){const t=function Noe(n,e,t,i){const r=g8(t);return bf(je(je({sent_at:(new Date).toISOString()},r&&{sdk:r}),!!i&&e&&{dsn:mf(e)}),["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,i){if(this._options.sendClientReports){const r="number"==typeof i?i:1,s=`${e}:${t}`;yn&&Mt.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}captureAggregateMetrics(e){yn&&Mt.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=function Goe(n,e,t,i){const r={sent_at:(new Date).toISOString()};t&&t.sdk&&(r.sdk={name:t.sdk.name,version:t.sdk.version}),i&&e&&(r.dsn=mf(e));const s=function Voe(n){const e=function Boe(n){let e="";for(const t of n){const i=Object.entries(t.tags),r=i.length>0?`|#${i.map(([s,o])=>`${s}:${o}`).join(",")}`:"";e+=`${t.name}@${t.unit}:${t.metric}|${t.metricType}${r}|T${t.timestamp}\n`}return e}(n);return[{type:"statsd",length:e.length},e]}(n);return bf(r,[s])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach(i=>i(...t))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function eoe(n,e){const t={};return e.forEach(i=>{i&&i8(n,i,t)}),t}(this,e),n8(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let i=!1,r=!1;const s=t.exception&&t.exception.values;if(s){r=!0;for(const l of s){const c=l.mechanism;if(c&&!1===c.handled){i=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&i)&&(pf(e,Nn(je({},i&&{status:"crashed"}),{errors:e.errors||Number(r||i)})),this.captureSession(e))}_isClientDoneProcessing(e){return new gl(t=>{let i=0;const s=setInterval(()=>{0==this._numProcessing?(clearInterval(s),t(!0)):(i+=1,e&&i>=e&&(clearInterval(s),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,i,r=gf()){const s=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),function Use(n,e,t,i,r,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=n,l=Nn(je({},e),{event_id:e.event_id||t.event_id||Cs(),timestamp:e.timestamp||Zy()}),c=t.integrations||n.integrations.map(k=>k.name);(function Hse(n,e){const{environment:t,release:i,dist:r,maxValueLength:s=250}=e;"environment"in n||(n.environment="environment"in e?t:vw),void 0===n.release&&void 0!==i&&(n.release=i),void 0===n.dist&&void 0!==r&&(n.dist=r),n.message&&(n.message=g_(n.message,s));const o=n.exception&&n.exception.values&&n.exception.values[0];o&&o.value&&(o.value=g_(o.value,s));const a=n.request;a&&a.url&&(a.url=g_(a.url,s))})(l,n),function Vse(n,e){e.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...e])}(l,c),void 0===e.type&&function jse(n,e){const t=Ji._sentryDebugIds;if(!t)return;let i;const r=Y5.get(e);r?i=r:(i=new Map,Y5.set(e,i));const s=Object.keys(t).reduce((o,a)=>{let l;const c=i.get(a);c?l=c:(l=e(a),i.set(a,l));for(let u=l.length-1;u>=0;u--){const d=l[u];if(d.filename){o[d.filename]=t[a];break}}return o},{});try{n.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch(o){}}(l,n.stackParser);const u=function $se(n,e){if(!e)return n;const t=n?n.clone():new Nd;return t.update(e),t}(i,t.captureContext);t.mechanism&&Qy(l,t.mechanism);const d=r&&r.getEventProcessors?r.getEventProcessors():[],b=function Ise(){return Aw||(Aw=new Nd),Aw}().getScopeData();s&&B5(b,s.getScopeData()),u&&B5(b,u.getScopeData());const C=[...t.attachments||[],...b.attachments];return C.length&&(t.attachments=C),F5(l,b),xw([...d,...DP(),...b.eventProcessors],l,t).then(k=>(k&&function Gse(n){const e={};try{n.exception.values.forEach(i=>{i.stacktrace.frames.forEach(r=>{r.debug_id&&(r.abs_path?e[r.abs_path]=r.debug_id:r.filename&&(e[r.filename]=r.debug_id),delete r.debug_id)})})}catch(i){}if(0===Object.keys(e).length)return;n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];const t=n.debug_meta.images;Object.keys(e).forEach(i=>{t.push({type:"sourcemap",code_file:i,debug_id:e[i]})})}(k),"number"==typeof o&&o>0?function zse(n,e,t){if(!n)return null;const i=je(je(je(je(je({},n),n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(r=>je(je({},r),r.data&&{data:Uh(r.data,e,t)}))}),n.user&&{user:Uh(n.user,e,t)}),n.contexts&&{contexts:Uh(n.contexts,e,t)}),n.extra&&{extra:Uh(n.extra,e,t)});return n.contexts&&n.contexts.trace&&i.contexts&&(i.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(i.contexts.trace.data=Uh(n.contexts.trace.data,e,t))),n.spans&&(i.spans=n.spans.map(r=>{const s=Ws(r).data;return s&&(r.data=Uh(s,e,t)),r})),i}(k,o,a):k))}(s,e,t,i,this,r).then(a=>{if(null===a)return a;const l=je(je({},r.getPropagationContext()),i?i.getPropagationContext():void 0);if((!a.contexts||!a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:b,dsc:C}=l;a.contexts=je({trace:{trace_id:u,span_id:d,parent_span_id:b}},a.contexts);const M=C||Iw(u,this,i);a.sdkProcessingMetadata=je({dynamicSamplingContext:M},a.sdkProcessingMetadata)}return a})}_captureEvent(e,t={},i){return this._processEvent(e,t,i).then(r=>r.event_id,r=>{if(yn){const s=r;"log"===s.logLevel?Mt.log(s.message):Mt.warn(s)}})}_processEvent(e,t,i){const r=this.getOptions(),{sampleRate:s}=r,o=y8(e),a=_8(e),l=e.type||"error",c=`before send for type \`${l}\``;if(a&&"number"==typeof s&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),AP(new ju(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const u="replay_event"===l?"replay":l;return this._prepareEvent(e,t,i,(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(C=>{if(null===C)throw this.recordDroppedEvent("event_processor",u,e),new ju("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return C;const I=function Woe(n,e,t){const{beforeSend:i,beforeSendTransaction:r}=n;if(_8(e)&&i)return i(e,t);if(y8(e)&&r){if(e.spans){const s=e.spans.length;e.sdkProcessingMetadata=Nn(je({},e.sdkProcessingMetadata),{spanCountBeforeProcessing:s})}return r(e,t)}return e}(r,C,t);return function $oe(n,e){const t=`${e} must return \`null\` or a valid event.`;if(ww(n))return n.then(i=>{if(!d_(i)&&null!==i)throw new ju(t);return i},i=>{throw new ju(`${e} rejected with ${i}`)});if(!d_(n)&&null!==n)throw new ju(t);return n}(I,c)}).then(C=>{if(null===C)throw this.recordDroppedEvent("before_send",u,e),o&&this.recordDroppedEvent("before_send","span",1+(e.spans||[]).length),new ju(`${c} returned \`null\`, will not send event.`,"log");const M=i&&i.getSession();if(!o&&M&&this._updateSessionFromEvent(M,C),o){const L=(C.sdkProcessingMetadata&&C.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(C.spans?C.spans.length:0);L>0&&this.recordDroppedEvent("before_send","span",L)}const I=C.transaction_info;if(o&&I&&C.transaction!==e.transaction){const k="custom";C.transaction_info=Nn(je({},I),{source:k})}return this.sendEvent(C,t),C}).then(null,C=>{throw C instanceof ju?C:(this.captureException(C,{data:{__sentry__:!0},originalException:C}),new ju(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${C}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,t=>{yn&&Mt.error("Error while sending event:",t)});yn&&Mt.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{const[i,r]=t.split(":");return{reason:i,category:r,quantity:e[t]}})}}{constructor(e){b8(e,"browser",["browser"],Gi.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&Gi.document&&Gi.document.addEventListener("visibilitychange",()=>{"hidden"===Gi.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return function Zoe(n,e,t,i){const s=QP(n,e,t&&t.syntheticException||void 0,i);return Qy(s),s.level="error",t&&t.event_id&&(s.event_id=t.event_id),m_(s)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",i){return function eae(n,e,t="info",i,r){const o=ZP(n,e,i&&i.syntheticException||void 0,r);return o.level=t,i&&i.event_id&&(o.event_id=i.event_id),m_(o)}(this._options.stackParser,e,t,i,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(ic&&Mt.warn("SDK not enabled, will not capture user feedback."));const t=function rae(n,{metadata:e,tunnel:t,dsn:i}){const r=je(je({event_id:n.event_id,sent_at:(new Date).toISOString()},e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}}),!!t&&!!i&&{dsn:mf(i)}),s=function sae(n){return[{type:"user_report"},n]}(n);return bf(r,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,i){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,i)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(ic&&Mt.log("No outcomes to send"));if(!this._dsn)return void(ic&&Mt.log("No dsn provided, will not send outcomes"));ic&&Mt.log("Sending outcomes:",e);const t=function Xoe(n,e,t){return bf(e?{dsn:e}:{},[[{type:"client_report"},{timestamp:t||Zy(),discarded_events:n}]])}(e,this._options.tunnel&&mf(this._dsn));this._sendEnvelope(t)}}function lae(){"console"in Ji&&EP.forEach(function(n){n in Ji.console&&Oo(Ji.console,n,function(e){return Sw[n]=e,function(...t){qc("console",{args:t,level:n});const r=Sw[n];r&&r.apply(Ji.console,t)}})})}const v_=Ji;let w8,tI,nI;function dae(){if(!v_.document)return;const n=qc.bind(null,"dom"),e=S8(n,!0);v_.document.addEventListener("click",e,!1),v_.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(t=>{const i=v_[t]&&v_[t].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(Oo(i,"addEventListener",function(r){return function(s,o,a){if("click"===s||"keypress"==s)try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=S8(n);u.handler=d,r.call(this,s,d,a)}u.refCount++}catch(l){}return r.call(this,s,o,a)}}),Oo(i,"removeEventListener",function(r){return function(s,o,a){if("click"===s||"keypress"==s)try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(r.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),0===Object.keys(c).length&&delete l.__sentry_instrumentation_handlers__)}catch(l){}return r.call(this,s,o,a)}}))})}function S8(n,e=!1){return t=>{if(!t||t._sentryCaptured)return;const i=function fae(n){try{return n.target}catch(e){return null}}(t);if(function pae(n,e){return!("keypress"!==n||e&&e.tagName&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable))}(t.type,i))return;hf(t,"_sentryCaptured",!0),i&&!i._sentryId&&hf(i,"_sentryId",Cs());const r="keypress"===t.type?"input":t.type;(function hae(n){if(n.type!==tI)return!1;try{if(!n.target||n.target._sentryId!==nI)return!1}catch(e){}return!0})(t)||(n({event:t,name:r,global:e}),tI=t.type,nI=i?i._sentryId:void 0),clearTimeout(w8),w8=v_.setTimeout(()=>{nI=void 0,tI=void 0},1e3)}}const gae=Ji,C_="__sentry_xhr_v3__";function T8(n){_f("xhr",n),yf("xhr",mae)}function mae(){if(!gae.XMLHttpRequest)return;const n=XMLHttpRequest.prototype;Oo(n,"open",function(e){return function(...t){const i=Date.now(),r=fl(t[0])?t[0].toUpperCase():void 0,s=function _ae(n){if(fl(n))return n;try{return n.toString()}catch(e){}}(t[1]);if(!r||!s)return e.apply(this,t);this[C_]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[C_];if(a&&4===this.readyState){try{a.status_code=this.status}catch(c){}qc("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:i,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?Oo(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),Oo(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[C_];return d&&fl(c)&&fl(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),e.apply(this,t)}}),Oo(n,"send",function(e){return function(...t){const i=this[C_];return i?(void 0!==t[0]&&(i.body=t[0]),qc("xhr",{args:[i.method,i.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)):e.apply(this,t)}})}function M8(n){const e="fetch";_f(e,n),yf(e,yae)}function yae(){!function Moe(){if("string"==typeof EdgeRuntime)return!0;if(!$P())return!1;if(WP(Nw.fetch))return!0;let n=!1;const e=Nw.document;if(e&&"function"==typeof e.createElement)try{const t=e.createElement("iframe");t.hidden=!0,e.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(n=WP(t.contentWindow.fetch)),e.head.removeChild(t)}catch(t){f_&&Mt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return n}()||Oo(Ji,"fetch",function(n){return function(...e){const{method:t,url:i}=function bae(n){if(0===n.length)return{method:"GET",url:""};if(2===n.length){const[t,i]=n;return{url:x8(t),method:iI(i,"method")?String(i.method).toUpperCase():"GET"}}const e=n[0];return{url:x8(e),method:iI(e,"method")?String(e.method).toUpperCase():"GET"}}(e),r={args:e,fetchData:{method:t,url:i},startTimestamp:Date.now()};return qc("fetch",je({},r)),n.apply(Ji,e).then(s=>(qc("fetch",Nn(je({},r),{endTimestamp:Date.now(),response:s})),s),s=>{throw qc("fetch",Nn(je({},r),{endTimestamp:Date.now(),error:s})),s})}})}function iI(n,e){return!!n&&"object"==typeof n&&!!n[e]}function x8(n){return"string"==typeof n?n:n?iI(n,"url")?n.url:n.toString?n.toString():"":""}const vae=["fatal","error","warning","log","info","debug"];function E8(n){return"warn"===n?"warning":vae.includes(n)?n:"log"}function vf(n){if(!n)return{};const e=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const t=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:t,hash:i,relative:e[5]+t+i}}const O8="Breadcrumbs",P8=(n={})=>{const e=je({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},n);return{name:O8,setupOnce(){},setup(t){e.console&&function aae(n){const e="console";_f(e,n),yf(e,lae)}(function Sae(n){return function(t){if(Vr()!==n)return;const i={category:"console",data:{arguments:t.args,logger:"console"},level:E8(t.level),message:b5(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;i.message=`Assertion failed: ${b5(t.args.slice(1)," ")||"console.assert"}`,i.data.arguments=t.args.slice(1)}lo(i,{input:t.args,level:t.level})}}(t)),e.dom&&function uae(n){_f("dom",n),yf("dom",dae)}(function wae(n,e){return function(i){if(Vr()!==n)return;let r,s,o="object"==typeof e?e.serializeAttribute:void 0,a="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;a&&a>1024&&(ic&&Mt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=1024),"string"==typeof o&&(o=[o]);try{const c=i.event,u=function Eae(n){return!!n&&!!n.target}(c)?c.target:c;r=p_(u,{keyAttrs:o,maxStringLength:a}),s=y5(u)}catch(c){r="<unknown>"}if(0===r.length)return;const l={category:`ui.${i.name}`,message:r};s&&(l.data={"ui.component_name":s}),lo(l,{event:i.event,name:i.name,global:i.global})}}(t,e.dom)),e.xhr&&T8(function Tae(n){return function(t){if(Vr()!==n)return;const{startTimestamp:i,endTimestamp:r}=t,s=t.xhr[C_];if(!i||!r||!s)return;const{method:o,url:a,status_code:l,body:c}=s;lo({category:"xhr",data:{method:o,url:a,status_code:l},type:"http"},{xhr:t.xhr,input:c,startTimestamp:i,endTimestamp:r})}}(t)),e.fetch&&M8(function Mae(n){return function(t){if(Vr()!==n)return;const{startTimestamp:i,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error)lo({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:i,endTimestamp:r});else{const s=t.response;lo({category:"fetch",data:Nn(je({},t.fetchData),{status_code:s&&s.status}),type:"http"},{input:t.args,response:s,startTimestamp:i,endTimestamp:r})}}}(t)),e.history&&YP(function xae(n){return function(t){if(Vr()!==n)return;let i=t.from,r=t.to;const s=vf(Gi.location.href);let o=i?vf(i):void 0;const a=vf(r);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(r=a.relative),s.protocol===o.protocol&&s.host===o.host&&(i=o.relative),lo({category:"navigation",data:{from:i,to:r}})}}(t)),e.sentry&&t.on&&t.on("beforeSendEvent",function Cae(n){return function(t){Vr()===n&&lo({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Lh(t)},{event:t})}}(t))}}};Bd(O8,P8);const A8=()=>{let n;return{name:"Dedupe",setupOnce(){},processEvent(e){if(e.type)return e;try{if(function Oae(n,e){return!(!e||!function Pae(n,e){const t=n.message,i=e.message;return!(!t&&!i||t&&!i||!t&&i||t!==i||!R8(n,e)||!D8(n,e))}(n,e)&&!function Iae(n,e){const t=k8(e),i=k8(n);return!!(t&&i&&t.type===i.type&&t.value===i.value&&R8(n,e)&&D8(n,e))}(n,e))}(e,n))return ic&&Mt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return n=e}}};function D8(n,e){let t=N8(n),i=N8(e);if(!t&&!i)return!0;if(t&&!i||!t&&i||i.length!==t.length)return!1;for(let r=0;r<i.length;r++){const s=i[r],o=t[r];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function R8(n,e){let t=n.fingerprint,i=e.fingerprint;if(!t&&!i)return!0;if(t&&!i||!t&&i)return!1;try{return t.join("")===i.join("")}catch(r){return!1}}function k8(n){return n.exception&&n.exception.values&&n.exception.values[0]}function N8(n){const e=n.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}Bd("Dedupe",A8);let Uw=null;function F8(n){const e="error";_f(e,n),yf(e,Aae)}function Aae(){Uw=Ji.onerror,Ji.onerror=function(n,e,t,i,r){return qc("error",{column:i,error:r,line:t,msg:n,url:e}),!(!Uw||Uw.__SENTRY_LOADER__)&&Uw.apply(this,arguments)},Ji.onerror.__SENTRY_INSTRUMENTED__=!0}let Hw=null;function B8(n){const e="unhandledrejection";_f(e,n),yf(e,Dae)}function Dae(){Hw=Ji.onunhandledrejection,Ji.onunhandledrejection=function(n){return qc("unhandledrejection",n),!(Hw&&!Hw.__SENTRY_LOADER__)||Hw.apply(this,arguments)},Ji.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const L8="GlobalHandlers",U8=(n={})=>{const e=je({onerror:!0,onunhandledrejection:!0},n);return{name:L8,setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(function Rae(n){F8(e=>{const{stackParser:t,attachStacktrace:i}=G8();if(Vr()!==n||C8())return;const{msg:r,url:s,line:o,column:a,error:l}=e,c=void 0===l&&fl(r)?function Bae(n,e,t,i){let s=TP(n)?n.message:n,o="Error";const a=s.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(o=a[1],s=a[2]),H8({exception:{values:[{type:o,value:s}]}},e,t,i)}(r,s,o,a):H8(QP(t,l||r,void 0,i,!1),s,o,a);c.level="error",X5(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}(t),j8("onerror")),e.onunhandledrejection&&(function kae(n){B8(e=>{const{stackParser:t,attachStacktrace:i}=G8();if(Vr()!==n||C8())return;const r=function Nae(n){if(xP(n))return n;const e=n;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return n}(e),s=xP(r)?function Fae(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}(r):QP(t,r,void 0,i,!0);s.level="error",X5(s,{originalException:r,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(t),j8("onunhandledrejection"))}}};function H8(n,e,t,i){const r=n.exception=n.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(i,10))?void 0:i,u=isNaN(parseInt(t,10))?void 0:t,d=fl(e)&&e.length>0?e:function rse(){try{return h_.document.location.href}catch(n){return""}}();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),n}function j8(n){ic&&Mt.log(`Global Handler attached: ${n}`)}function G8(){const n=Vr();return n&&n.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}Bd(L8,U8);const V8="HttpContext",z8=()=>({name:V8,setupOnce(){},preprocessEvent(n){if(!Gi.navigator&&!Gi.location&&!Gi.document)return;const e=n.request&&n.request.url||Gi.location&&Gi.location.href,{referrer:t}=Gi.document||{},{userAgent:i}=Gi.navigator||{},r=je(je(je({},n.request&&n.request.headers),t&&{Referer:t}),i&&{"User-Agent":i}),s=Nn(je(je({},n.request),e&&{url:e}),{headers:r});n.request=s}});function Lae(n,e,t=250,i,r,s,o){if(!(s.exception&&s.exception.values&&o&&Rd(o.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=function Uae(n,e){return n.map(t=>(t.value&&(t.value=g_(t.value,e)),t))}(rI(n,e,r,o.originalException,i,s.exception.values,a,0),t))}function rI(n,e,t,i,r,s,o,a){if(s.length>=t+1)return s;let l=[...s];if(Rd(i[r],Error)){$8(o,a);const c=n(e,i[r]),u=l.length;W8(c,r,u,a),l=rI(n,e,t,i[r],r,[c,...l],c,u)}return Array.isArray(i.errors)&&i.errors.forEach((c,u)=>{if(Rd(c,Error)){$8(o,a);const d=n(e,c),b=l.length;W8(d,`errors[${u}]`,b,a),l=rI(n,e,t,c,r,[d,...l],d,b)}}),l}function $8(n,e){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism=Nn(je(je({},n.mechanism),"AggregateError"===n.type&&{is_exception_group:!0}),{exception_id:e})}function W8(n,e,t,i){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism=Nn(je({},n.mechanism),{type:"chained",source:e,exception_id:t,parent_id:i})}Bd(V8,z8);const Y8="LinkedErrors",X8=(n={})=>{const e=n.limit||5,t=n.key||"cause";return{name:Y8,setupOnce(){},preprocessEvent(i,r,s){const o=s.getOptions();Lae(v8,o.stackParser,o.maxValueLength,t,e,i,r)}}},Gae=(Bd(Y8,X8),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"]),q8="TryCatch",K8=(n={})=>{const e=je({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},n);return{name:q8,setupOnce(){e.setTimeout&&Oo(Gi,"setTimeout",J8),e.setInterval&&Oo(Gi,"setInterval",J8),e.requestAnimationFrame&&Oo(Gi,"requestAnimationFrame",Vae),e.XMLHttpRequest&&"XMLHttpRequest"in Gi&&Oo(XMLHttpRequest.prototype,"send",zae);const t=e.eventTarget;t&&(Array.isArray(t)?t:Gae).forEach($ae)}}};function J8(n){return function(...e){return e[0]=b_(e[0],{mechanism:{data:{function:Fd(n)},handled:!1,type:"instrument"}}),n.apply(this,e)}}function Vae(n){return function(e){return n.apply(this,[b_(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Fd(n)},handled:!1,type:"instrument"}})])}}function zae(n){return function(...e){const t=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in t&&"function"==typeof t[r]&&Oo(t,r,function(s){const o={mechanism:{data:{function:r,handler:Fd(s)},handled:!1,type:"instrument"}},a=OP(s);return a&&(o.mechanism.data.handler=Fd(a)),b_(s,o)})}),n.apply(this,e)}}function $ae(n){const t=Gi[n]&&Gi[n].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(Oo(t,"addEventListener",function(i){return function(r,s,o){try{"function"==typeof s.handleEvent&&(s.handleEvent=b_(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Fd(s),target:n},handled:!1,type:"instrument"}}))}catch(a){}return i.apply(this,[r,b_(s,{mechanism:{data:{function:"addEventListener",handler:Fd(s),target:n},handled:!1,type:"instrument"}}),o])}}),Oo(t,"removeEventListener",function(i){return function(r,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&i.call(this,r,l,o)}catch(l){}return i.call(this,r,a,o)}}))}function ib(n,e,t,i){const r={filename:n,function:e,in_app:!0};return void 0!==t&&(r.lineno=t),void 0!==i&&(r.colno=i),r}Bd(q8,K8);const Jae=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Qae=/\((\S*)(?::(\d+))(?::(\d+))\)/,Zae=[30,n=>{const e=Jae.exec(n);if(e){if(e[2]&&0===e[2].indexOf("eval")){const s=Qae.exec(e[2]);s&&(e[2]=s[1],e[3]=s[2],e[4]=s[3])}const[i,r]=Q8(e[1]||"?",e[2]);return ib(r,i,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],ele=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tle=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,nle=[50,n=>{const e=ele.exec(n);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=tle.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let i=e[3],r=e[1]||"?";return[r,i]=Q8(r,i),ib(i,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],ile=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,rle=[40,n=>{const e=ile.exec(n);return e?ib(e[2],e[1]||"?",+e[3],e[4]?+e[4]:void 0):void 0}],ale=$5(Zae,nle,rle),Q8=(n,e)=>{const t=-1!==n.indexOf("safari-extension"),i=-1!==n.indexOf("safari-web-extension");return t||i?[-1!==n.indexOf("@")?n.split("@")[0]:"?",t?`safari-extension:${e}`:`safari-web-extension:${e}`]:[n,e]};function Z8(n,e,t=function lle(n){const e=[];function i(o){return e.splice(e.indexOf(o),1)[0]}return{$:e,add:function r(o){if(!function t(){return void 0===n||e.length<n}())return AP(new ju("Not adding Promise because buffer limit was reached."));const a=o();return-1===e.indexOf(a)&&e.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a},drain:function s(o){return new gl((a,l)=>{let c=e.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(d=>{m_(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}}}(n.bufferSize||30)){let i={};function s(o){const a=[];if(XP(o,(d,b)=>{const C=f8(b);if(function hle(n,e,t=Date.now()){return function dle(n,e){return n[e]||n.all||0}(n,e)>t}(i,C)){const M=e6(d,b);n.recordDroppedEvent("ratelimit_backoff",C,M)}else a.push(d)}),0===a.length)return m_();const l=bf(o[0],a),c=d=>{XP(l,(b,C)=>{const M=e6(b,C);n.recordDroppedEvent(d,f8(C),M)})};return t.add(()=>e({body:Poe(l,n.textEncoder)}).then(d=>(void 0!==d.statusCode&&(d.statusCode<200||d.statusCode>=300)&&yn&&Mt.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),i=function ple(n,{statusCode:e,headers:t},i=Date.now()){const r=je({},n),s=t&&t["x-sentry-rate-limits"],o=t&&t["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),b=1e3*(isNaN(d)?60:d);if(c)for(const C of c.split(";"))"metric_bucket"===C?(!u||u.split(";").includes("custom"))&&(r[C]=i+b):r[C]=i+b;else r.all=i+b}else o?r.all=i+function ule(n,e=Date.now()){const t=parseInt(`${n}`,10);if(!isNaN(t))return 1e3*t;const i=Date.parse(`${n}`);return isNaN(i)?6e4:i-e}(o,i):429===e&&(r.all=i+6e4);return r}(i,d),d),d=>{throw c("network_error"),d})).then(d=>d,d=>{if(d instanceof ju)return yn&&Mt.error("Skipped sending event because buffer is full."),c("queue_overflow"),m_();throw d})}return s.__sentry__baseTransport__=!0,{send:s,flush:o=>t.drain(o)}}function e6(n,e){if("event"===e||"transaction"===e)return Array.isArray(n)?n[1]:void 0}let rb;function _le(n,e=function gle(){if(rb)return rb;if(WP(Gi.fetch))return rb=Gi.fetch.bind(Gi);const n=Gi.document;let e=Gi.fetch;if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i.fetch&&(e=i.fetch),n.head.removeChild(t)}catch(t){ic&&Mt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return rb=e.bind(Gi)}()){let t=0,i=0;return Z8(n,function r(s){const o=s.body.length;t+=o,i++;const a=je({body:s.body,method:"POST",referrerPolicy:"origin",headers:n.headers,keepalive:t<=6e4&&i<15},n.fetchOptions);try{return e(n.url,a).then(l=>(t-=o,i--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return function mle(){rb=void 0}(),t-=o,i--,AP(l)}})}function ble(n){return Z8(n,function e(t){return new gl((i,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{4===s.readyState&&i({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",n.url);for(const o in n.headers)Object.prototype.hasOwnProperty.call(n.headers,o)&&s.setRequestHeader(o,n.headers[o]);s.send(t.body)})})}const vle=[s8(),c8(),K8(),P8(),U8(),X8(),A8(),z8()];function t6(n){return[...vle]}function Cle(n={}){void 0===n.defaultIntegrations&&(n.defaultIntegrations=t6()),void 0===n.release&&("string"==typeof __SENTRY_RELEASE__&&(n.release=__SENTRY_RELEASE__),Gi.SENTRY_RELEASE&&Gi.SENTRY_RELEASE.id&&(n.release=Gi.SENTRY_RELEASE.id)),void 0===n.autoSessionTracking&&(n.autoSessionTracking=!0),void 0===n.sendClientReports&&(n.sendClientReports=!0);const e=Nn(je({},n),{stackParser:Rse(n.stackParser||ale),integrations:Zse(n),transport:n.transport||($P()?_le:ble)});(function poe(n,e){!0===e.debug&&(yn?Mt.enable():Tw(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),nc().update(e.initialScope);const i=new n(e);(function foe(n){const t=ao().getStackTop();t.client=n,t.scope.setClient(n)})(i),function goe(n){n.init?n.init():n.setupIntegrations&&n.setupIntegrations()}(i)})(oae,e),n.autoSessionTracking&&function wle(){void 0!==Gi.document?(J5({ignoreDuration:!0}),e8(),YP(({from:n,to:e})=>{void 0!==n&&n!==e&&(J5({ignoreDuration:!0}),e8())})):ic&&Mt.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}const n6=(n={},e=ao())=>{if(!Gi.document)return void(ic&&Mt.error("Global document not defined in showReportDialog call"));const{client:t,scope:i}=e.getStackTop(),r=n.dsn||t&&t.getDsn();if(!r)return void(ic&&Mt.error("DSN not configured for showReportDialog call"));i&&(n.user=je(je({},i.getUser()),n.user)),n.eventId||(n.eventId=e.lastEventId());const s=Gi.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=function Toe(n,e){const t=d8(n);if(!t)return"";const i=`${h8(t)}embed/error-page/`;let r=`dsn=${mf(t)}`;for(const s in e)if("dsn"!==s&&"onClose"!==s)if("user"===s){const o=e.user;if(!o)continue;o.name&&(r+=`&name=${encodeURIComponent(o.name)}`),o.email&&(r+=`&email=${encodeURIComponent(o.email)}`)}else r+=`&${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`;return`${i}?${r}`}(r,n),n.onLoad&&(s.onload=n.onLoad);const{onClose:o}=n;if(o){const l=c=>{if("__sentry_reportdialog_closed__"===c.data)try{o()}finally{Gi.removeEventListener("message",l)}};Gi.addEventListener("message",l)}const a=Gi.document.head||Gi.document.body;a?a.appendChild(s):ic&&Mt.error("Not injecting report dialog. No injection point found in HTML")};const Hh="sentry.source",S_="sentry.sample_rate",jw="sentry.op",T_="sentry.origin";var s6;function sI(n,e){n.setTag("http.status_code",String(e)),n.setData("http.response.status_code",e);const t=function Tle(n){if(n<400&&n>=100)return"ok";if(n>=400&&n<500)switch(n){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(n>=500&&n<600)switch(n){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);"unknown_error"!==t&&n.setStatus(t)}!function(n){n.Ok="ok",n.DeadlineExceeded="deadline_exceeded",n.Unauthenticated="unauthenticated",n.PermissionDenied="permission_denied",n.NotFound="not_found",n.ResourceExhausted="resource_exhausted",n.InvalidArgument="invalid_argument",n.Unimplemented="unimplemented",n.Unavailable="unavailable",n.InternalError="internal_error",n.UnknownError="unknown_error",n.Cancelled="cancelled",n.AlreadyExists="already_exists",n.FailedPrecondition="failed_precondition",n.Aborted="aborted",n.OutOfRange="out_of_range",n.DataLoss="data_loss"}(s6||(s6={}));class o6{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Gw{constructor(e={}){this._traceId=e.traceId||Cs(),this._spanId=e.spanId||Cs().substring(16),this._startTime=e.startTimestamp||eb(),this.tags=e.tags?je({},e.tags):{},this.data=e.data?je({},e.data):{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes(je({[T_]:e.origin||"manual",[jw]:e.op},e.attributes)),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?je({},e.measurements):{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[jw]}set op(e){this.setAttribute(jw,e)}get origin(){return this._attributes[T_]}set origin(e){this.setAttribute(T_,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:i}=this;return{spanId:e,traceId:t,traceFlags:i?1:0}}startChild(e){const t=new Gw(Nn(je({},e),{parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId}));t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const i=Ew(this);if(t.transaction=i,yn&&i){const a=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${Ws(t).description||"< unknown name >"}' (${i.spanContext().spanId}).`;Mt.log(a),this._logMessage=a}return t}setTag(e,t){return this.tags=Nn(je({},this.tags),{[e]:t}),this}setData(e,t){return this.data=Nn(je({},this.data),{[e]:t}),this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach(t=>this.setAttribute(t,e[t]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return sI(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=Ew(this);if(yn&&t&&t.spanContext().spanId!==this._spanId){const i=this._logMessage;i&&Mt.log(i.replace("Starting","Finishing"))}this._endTime=Pw(e)}toTraceparent(){return Ow(this)}toContext(){return $a({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return NP(this)}getSpanJSON(){return $a({data:this._getData(),description:this._name,op:this._attributes[jw],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[T_],_metrics_summary:void 0,profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,i=Object.keys(e).length>0,r=Object.keys(t).length>0;if(i||r)return i&&r?je(je({},e),t):i?e:t}}function M_(n){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=Vr(),t=n||e&&e.getOptions();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function a6(n){if(!M_())return;const e=function zw(n){if(n.startTime){const e=je({},n);return e.startTimestamp=Pw(n.startTime),delete e.startTime,e}return n}(n),t=ao(),i=n.scope?n.scope.getSpan():oI();if(n.onlyIfParent&&!i)return;const o=(n.scope||nc()).clone();return function Vw(n,{parentSpan:e,spanContext:t,forceTransaction:i,scope:r}){if(!M_())return;const s=gf();let o;if(e&&!i)o=e.startChild(t);else if(e){const a=__(e),{traceId:l,spanId:c}=e.spanContext(),u=FP(e);o=n.startTransaction(Nn(je({traceId:l,parentSpanId:c,parentSampled:u},t),{metadata:je({dynamicSamplingContext:a},t.metadata)}))}else{const{traceId:a,dsc:l,parentSpanId:c,sampled:u}=je(je({},s.getPropagationContext()),r.getPropagationContext());o=n.startTransaction(Nn(je({traceId:a,parentSpanId:c,parentSampled:u},t),{metadata:je({dynamicSamplingContext:l},t.metadata)}))}return r.setSpan(o),function Mle(n,e,t){n&&(hf(n,c6,t),hf(n,l6,e))}(o,r,s),o}(t,{parentSpan:i,spanContext:e,forceTransaction:n.forceTransaction,scope:o})}function oI(){return nc().getSpan()}const l6="_sentryScope",c6="_sentryIsolationScope";class u6 extends Gw{constructor(e,t){super(e),this._contexts={},this._hub=t||ao(),this._name=e.name||"",this._metadata=je({},e.metadata),this._trimEnd=e.trimEnd,this.transaction=this;const i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext=je({},i))}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return je(je(je({source:"custom",spanMetadata:{}},this._metadata),this._attributes[Hh]&&{source:this._attributes[Hh]}),this._attributes[S_]&&{sampleRate:this._attributes[S_]})}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(Hh,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new o6(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,i=""){this._measurements[e]={value:t,unit:i}}setMetadata(e){this._metadata=je(je({},this._metadata),e)}end(e){const t=Pw(e),i=this._finishTransaction(t);if(i)return this._hub.captureEvent(i)}toContext(){const e=super.toContext();return $a(Nn(je({},e),{name:this._name,trimEnd:this._trimEnd}))}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return __(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(yn&&Mt.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return yn&&Mt.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const i=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&Ws(u).timestamp):[];if(this._trimEnd&&i.length>0){const u=i.map(d=>Ws(d).timestamp).filter(Boolean);this._endTime=u.reduce((d,b)=>d>b?d:b)}const{scope:r,isolationScope:s}=function xle(n){return{scope:n[l6],isolationScope:n[c6]}}(this),{metadata:o}=this,{source:a}=o,l=je({contexts:Nn(je({},this._contexts),{trace:NP(this)}),spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:je(Nn(je({},o),{capturedSpanScope:r,capturedSpanIsolationScope:s}),$a({dynamicSamplingContext:__(this)})),_metrics_summary:void 0},a&&{transaction_info:{source:a}});return Object.keys(this._measurements).length>0&&(yn&&Mt.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),yn&&Mt.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const $w={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},x_=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Ole extends o6{constructor(e,t,i,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=i}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...i)=>(this._popActivity(e.spanContext().spanId),t.apply(e,i)),void 0===Ws(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class Ple extends u6{constructor(e,t,i=$w.idleTimeout,r=$w.finalTimeout,s=$w.heartbeatInterval,o=!1,a=!1){super(e,t),this._idleHub=t,this._idleTimeout=i,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=x_[4],this._autoFinishAllowed=!a,o&&(yn&&Mt.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=x_[3],this.end())},this._finalTimeout)}end(e){const t=Pw(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){yn&&Mt.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const i of this._beforeFinishCallbacks)i(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(i=>{if(i.spanContext().spanId===this.spanContext().spanId)return!0;Ws(i).timestamp||(i.setStatus("cancelled"),i.end(t),yn&&Mt.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(i,void 0,2)));const{start_timestamp:r,timestamp:s}=Ws(i),o=r&&r<t,l=s&&r&&s-r<(this._finalTimeout+this._idleTimeout)/1e3;if(yn){const c=JSON.stringify(i,void 0,2);o?l||Mt.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):Mt.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return o&&l}),yn&&Mt.log("[Tracing] flushing IdleTransaction")}else yn&&Mt.log("[Tracing] No active IdleTransaction");if(this._onScope){const i=this._idleHub.getScope();i.getTransaction()===this&&i.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){this.spanRecorder||(this.spanRecorder=new Ole(r=>{this._finished||this._pushActivity(r)},r=>{this._finished||this._popActivity(r)},this.spanContext().spanId,e),yn&&Mt.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=x_[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(yn&&Mt.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&(this._finishReason=x_[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),yn&&Mt.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,yn&&Mt.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(yn&&Mt.log(`[Tracing] popActivity ${e}`),delete this.activities[e],yn&&Mt.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=eb();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=x_[5],this.end(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(yn&&Mt.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=x_[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){yn&&Mt.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Cf(n){return(n||ao()).getScope().getTransaction()}let d6=!1;function aI(){const n=Cf();if(n){const e="internal_error";yn&&Mt.log(`[Tracing] Transaction: ${e} -> Global error occured`),n.setStatus(e)}}function h6(n,e,t){if(!M_(e))return n.sampled=!1,n;if(void 0!==n.sampled)return n.setAttribute(S_,Number(n.sampled)),n;let i;return"function"==typeof e.tracesSampler?(i=e.tracesSampler(t),n.setAttribute(S_,Number(i))):void 0!==t.parentSampled?i=t.parentSampled:void 0!==e.tracesSampleRate?(i=e.tracesSampleRate,n.setAttribute(S_,Number(i))):(i=1,n.setAttribute(S_,i)),p6(i)?i?(n.sampled=Math.random()<i,n.sampled?(yn&&Mt.log(`[Tracing] starting ${n.op} transaction - ${Ws(n).description}`),n):(yn&&Mt.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),n)):(yn&&Mt.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),n.sampled=!1,n):(yn&&Mt.warn("[Tracing] Discarding transaction because of invalid sample rate."),n.sampled=!1,n)}function p6(n){return m5(n)||"number"!=typeof n&&"boolean"!=typeof n?(yn&&Mt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`),!1):!(n<0||n>1)||(yn&&Mt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${n}.`),!1)}function Ale(){const e=this.getScope().getSpan();return e?{"sentry-trace":Ow(e)}:{}}function Dle(n,e){const t=this.getClient(),i=t&&t.getOptions()||{},r=i.instrumenter||"sentry",s=n.instrumenter||"sentry";r!==s&&(yn&&Mt.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.\nThe transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),n.sampled=!1);let o=new u6(n,this);return o=h6(o,i,je({name:n.name,parentSampled:n.parentSampled,transactionContext:n,attributes:je(je({},n.data),n.attributes)},e)),o.isRecording()&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),t&&t.emit&&t.emit("startTransaction",o),o}function f6(n,e,t,i,r,s,o,a=!1){const l=n.getClient(),c=l&&l.getOptions()||{};let u=new Ple(e,n,t,i,o,r,a);return u=h6(u,c,je({name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:je(je({},e.data),e.attributes)},s)),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}aI.tag="sentry_tracingErrorCallback";const zr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Qn=Ji,ob=(n,e,t)=>{let i,r;return s=>{e.value>=0&&(s||t)&&(r=e.value-(i||0),(r||void 0===i)&&(i=e.value,e.delta=r,n(e)))}},Ww=()=>Qn.__WEB_VITALS_POLYFILL__?Qn.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const n=Qn.performance.timing,e=Qn.performance.navigation.type,t={entryType:"navigation",startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"};for(const i in n)"navigationStart"!==i&&"toJSON"!==i&&(t[i]=Math.max(n[i]-n.navigationStart,0));return t})()):Qn.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],lI=()=>{const n=Ww();return n&&n.activationStart||0},ab=(n,e)=>{const t=Ww();let i="navigate";return t&&(i=Qn.document&&Qn.document.prerendering||lI()>0?"prerender":t.type.replace(/_/g,"-")),{name:n,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},E_=(n,e,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){const i=new PerformanceObserver(r=>{e(r.getEntries())});return i.observe(Object.assign({type:n,buffered:!0},t||{})),i}}catch(i){}},lb=(n,e)=>{const t=i=>{("pagehide"===i.type||"hidden"===Qn.document.visibilityState)&&(n(i),e&&(removeEventListener("visibilitychange",t,!0),removeEventListener("pagehide",t,!0)))};Qn.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};let Yw=-1;const cI=()=>(Yw<0&&(Qn.document&&Qn.document.visibilityState&&(Yw="hidden"!==Qn.document.visibilityState||Qn.document.prerendering?1/0:0),lb(({timeStamp:n})=>{Yw=n},!0)),{get firstHiddenTime(){return Yw}});let g6=0,uI=1/0,Xw=0;const jle=n=>{n.forEach(e=>{e.interactionId&&(uI=Math.min(uI,e.interactionId),Xw=Math.max(Xw,e.interactionId),g6=Xw?(Xw-uI)/7+1:0)})};let dI;const m6=()=>dI?g6:performance.interactionCount||0,Ld=[],hI={},y6=n=>{const t=hI[n.interactionId];if(t||Ld.length<10||n.duration>Ld[Ld.length-1].latency){if(t)t.entries.push(n),t.latency=Math.max(t.latency,n.duration);else{const i={id:n.interactionId,latency:n.duration,entries:[n]};hI[i.id]=i,Ld.push(i)}Ld.sort((i,r)=>r.latency-i.latency),Ld.splice(10).forEach(i=>{delete hI[i.id]})}},b6={},pI=n=>{!Qn.document||(Qn.document.prerendering?addEventListener("prerenderingchange",()=>pI(n),!0):"complete"!==Qn.document.readyState?addEventListener("load",()=>pI(n),!0):setTimeout(n,0))},cb={},qw={};let v6,C6,w6,S6,T6;function ub(n,e){return M6(n,e),qw[n]||(function rce(n){const e={};"event"===n&&(e.durationThreshold=0),E_(n,t=>{O_(n,{entries:t})},e)}(n),qw[n]=!0),x6(n,e)}function O_(n,e){const t=cb[n];if(t&&t.length)for(const i of t)try{i(e)}catch(r){zr&&Mt.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${Fd(i)}\nError:`,r)}}function Zle(){return((n,e={})=>{const t=ab("CLS",0);let i,r=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];r&&0!==s.length&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,s.push(c)):(r=c.value,s=[c]),r>t.value&&(t.value=r,t.entries=s,i&&i())}})},a=E_("layout-shift",o);if(a){i=ob(n,t,e.reportAllChanges);const l=()=>{o(a.takeRecords()),i(!0)};return lb(l),l}})(n=>{O_("cls",{metric:n}),v6=n},{reportAllChanges:!0})}function ece(){return(n=>{const e=cI(),t=ab("FID");let i;const r=a=>{a.startTime<e.firstHiddenTime&&(t.value=a.processingStart-a.startTime,t.entries.push(a),i(!0))},s=a=>{a.forEach(r)},o=E_("first-input",s);i=ob(n=>{O_("fid",{metric:n}),C6=n},t),o&&lb(()=>{s(o.takeRecords()),o.disconnect()},!0)})()}function tce(){return(n=>{const e=cI(),t=ab("LCP");let i;const r=o=>{const a=o[o.length-1];if(a){const l=Math.max(a.startTime-lI(),0);l<e.firstHiddenTime&&(t.value=l,t.entries=[a],i())}},s=E_("largest-contentful-paint",r);if(s){i=ob(n=>{O_("lcp",{metric:n}),w6=n},t);const o=()=>{b6[t.id]||(r(s.takeRecords()),s.disconnect(),b6[t.id]=!0,i(!0))};return["keydown","click"].forEach(a=>{Qn.document&&addEventListener(a,o,{once:!0,capture:!0})}),lb(o,!0),o}})()}function nce(){return((n,e)=>{e=e||{};const t=ab("TTFB"),i=ob(n=>{O_("ttfb",{metric:n}),S6=n},t,e.reportAllChanges);pI(()=>{const r=Ww();if(r){if(t.value=Math.max(r.responseStart-lI(),0),t.value<0||t.value>performance.now())return;t.entries=[r],i(!0)}})})()}function ice(){return((n,e)=>{e=e||{},"interactionCount"in performance||dI||(dI=E_("event",jle,{type:"event",buffered:!0,durationThreshold:0}));const t=ab("INP");let i;const r=o=>{o.forEach(l=>{l.interactionId&&y6(l),"first-input"===l.entryType&&!Ld.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&y6(l)});const a=(()=>{const n=Math.min(Ld.length-1,Math.floor(m6()/50));return Ld[n]})();a&&a.latency!==t.value&&(t.value=a.latency,t.entries=a.entries,i())},s=E_("event",r,{durationThreshold:e.durationThreshold||40});i=ob(n,t,e.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),lb(()=>{r(s.takeRecords()),t.value<0&&m6()>0&&(t.value=0,t.entries=[]),i(!0)}))})(n=>{O_("inp",{metric:n}),T6=n})}function db(n,e,t,i,r=!1){let s;return M6(n,e),qw[n]||(s=t(),qw[n]=!0),i&&e({metric:i}),x6(n,e,r?s:void 0)}function M6(n,e){cb[n]=cb[n]||[],cb[n].push(e)}function x6(n,e,t){return()=>{t&&t();const i=cb[n];if(!i)return;const r=i.indexOf(e);-1!==r&&i.splice(r,1)}}function oce(n){return[{type:"span"},n]}function fI(n){return"number"==typeof n&&isFinite(n)}function P_(n,i){var r=i,{startTimestamp:e}=r,t=Sx(r,["startTimestamp"]);return e&&n.startTimestamp>e&&(n.startTimestamp=e),n.startChild(je({startTimestamp:e},t))}function Ys(n){return n/1e3}function gI(){return Qn&&Qn.addEventListener&&Qn.performance}let Gu,hb,E6=0,us={};const O6={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Kw(n,e,t,i,r,s){const o=s?e[s]:e[`${t}End`],a=e[`${t}Start`];!a||!o||P_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:r||t,startTimestamp:i+Ys(a),endTimestamp:i+Ys(o)})}function mI(n,e,t,i){const r=e[t];null!=r&&r<2147483647&&(n[i]=r)}const _I=["localhost",/^\/(?!\/)/],yI={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:_I,tracePropagationTargets:_I};function Ace(n){const{traceFetch:e,traceXHR:t,tracePropagationTargets:i,tracingOrigins:r,shouldCreateSpanForRequest:s,enableHTTPTimings:o}=je({traceFetch:yI.traceFetch,traceXHR:yI.traceXHR},n),a="function"==typeof s?s:u=>!0,l=u=>function Nce(n,e){return Jy(n,e||_I)}(u,i||r),c={};e&&M8(u=>{const d=function Ece(n,e,t,i,r="auto.http.browser"){if(!M_()||!n.fetchData)return;const s=e(n.fetchData.url);if(n.endTimestamp&&s){const C=n.fetchData.__span;if(!C)return;const M=i[C];return void(M&&(function Ice(n,e){if(e.response){sI(n,e.response.status);const t=e.response&&e.response.headers&&e.response.headers.get("content-length");if(t){const i=parseInt(t);i>0&&n.setAttribute("http.response_content_length",i)}}else e.error&&n.setStatus("internal_error");n.end()}(M,n),delete i[C]))}const o=nc(),a=Vr(),{method:l,url:c}=n.fetchData,u=function Pce(n){try{return new URL(n).href}catch(e){return}}(c),d=u?vf(u).host:void 0,b=s?a6({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[T_]:r},op:"http.client"}):void 0;if(b&&(n.fetchData.__span=b.spanContext().spanId,i[b.spanContext().spanId]=b),t(n.fetchData.url)&&a){const C=n.args[0];n.args[1]=n.args[1]||{};const M=n.args[1];M.headers=function Oce(n,e,t,i,r){const s=r||t.getSpan(),o=gf(),{traceId:a,spanId:l,sampled:c,dsc:u}=je(je({},o.getPropagationContext()),t.getPropagationContext()),d=s?Ow(s):kP(a,l,c),b=A5(u||(s?__(s):Iw(a,e,t))),C=i.headers||("undefined"!=typeof Request&&Rd(n,Request)?n.headers:void 0);if(C){if("undefined"!=typeof Headers&&Rd(C,Headers)){const M=new Headers(C);return M.append("sentry-trace",d),b&&M.append(RP,b),M}if(Array.isArray(C)){const M=[...C,["sentry-trace",d]];return b&&M.push([RP,b]),M}{const M="baggage"in C?C.baggage:void 0,I=[];return Array.isArray(M)?I.push(...M):M&&I.push(M),b&&I.push(b),Nn(je({},C),{"sentry-trace":d,baggage:I.length>0?I.join(","):void 0})}}return{"sentry-trace":d,baggage:b}}(C,a,o,M,b)}return b}(u,a,l,c);if(d){const b=I6(u.fetchData.url),C=b?vf(b).host:void 0;d.setAttributes({"http.url":b,"server.address":C})}o&&d&&P6(d)}),t&&T8(u=>{const d=function Fce(n,e,t,i){const r=n.xhr,s=r&&r[C_];if(!M_()||!r||r.__sentry_own_request__||!s)return;const o=e(s.url);if(n.endTimestamp&&o){const C=r.__sentry_xhr_span_id__;if(!C)return;const M=i[C];return void(M&&void 0!==s.status_code&&(sI(M,s.status_code),M.end(),delete i[C]))}const a=nc(),l=gf(),c=I6(s.url),u=c?vf(c).host:void 0,d=o?a6({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":u,[T_]:"auto.http.browser"},op:"http.client"}):void 0;d&&(r.__sentry_xhr_span_id__=d.spanContext().spanId,i[r.__sentry_xhr_span_id__]=d);const b=Vr();if(r.setRequestHeader&&t(s.url)&&b){const{traceId:C,spanId:M,sampled:I,dsc:k}=je(je({},l.getPropagationContext()),a.getPropagationContext());!function Bce(n,e,t){try{n.setRequestHeader("sentry-trace",e),t&&n.setRequestHeader(RP,t)}catch(i){}}(r,d?Ow(d):kP(C,M,I),A5(k||(d?__(d):Iw(C,b,a))))}return d}(u,a,l,c);o&&d&&P6(d)})}function P6(n){const{url:e}=Ws(n).data||{};if(!e||"string"!=typeof e)return;const t=ub("resource",({entries:i})=>{i.forEach(r=>{(function Dce(n){return"resource"===n.entryType&&"initiatorType"in n&&"string"==typeof n.nextHopProtocol&&("fetch"===n.initiatorType||"xmlhttprequest"===n.initiatorType)})(r)&&r.name.endsWith(e)&&(function kce(n){const{name:e,version:t}=function Rce(n){let e="unknown",t="unknown",i="";for(const r of n){if("/"===r){[e,t]=n.split("/");break}if(!isNaN(Number(r))){e="h"===i?"http":i,t=n.split(i)[1];break}i+=r}return i===n&&(e=i),{name:e,version:t}}(n.nextHopProtocol),i=[];return i.push(["network.protocol.version",t],["network.protocol.name",e]),tc?[...i,["http.request.redirect_start",Vu(n.redirectStart)],["http.request.fetch_start",Vu(n.fetchStart)],["http.request.domain_lookup_start",Vu(n.domainLookupStart)],["http.request.domain_lookup_end",Vu(n.domainLookupEnd)],["http.request.connect_start",Vu(n.connectStart)],["http.request.secure_connection_start",Vu(n.secureConnectionStart)],["http.request.connection_end",Vu(n.connectEnd)],["http.request.request_start",Vu(n.requestStart)],["http.request.response_start",Vu(n.responseStart)],["http.request.response_end",Vu(n.responseEnd)]]:i}(r).forEach(o=>n.setAttribute(...o)),setTimeout(t))})})}function Vu(n=0){return((tc||performance.timeOrigin)+n)/1e3}function I6(n){try{return new URL(n,Qn.location.origin).href}catch(e){return}}const Uce=je(Nn(je({},$w),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{}}),yI),Hce=(n={})=>{const e=!(!zr||!n.tracePropagationTargets&&!n.tracingOrigins);(function Rle(){const n=ff();!n.__SENTRY__||(n.__SENTRY__.extensions=n.__SENTRY__.extensions||{},n.__SENTRY__.extensions.startTransaction||(n.__SENTRY__.extensions.startTransaction=Dle),n.__SENTRY__.extensions.traceHeaders||(n.__SENTRY__.extensions.traceHeaders=Ale),function Ile(){d6||(d6=!0,F8(aI),B8(aI))}())})(),!n.tracePropagationTargets&&n.tracingOrigins&&(n.tracePropagationTargets=n.tracingOrigins);const t=je(je({},Uce),n),i=function cce(){const n=gI();if(n&&tc){n.mark&&Qn.performance.mark("sentry-tracing-init");const e=function gce(){return function Jle(n){return db("fid",n,ece,C6)}(({metric:n})=>{const e=n.entries[n.entries.length-1];if(!e)return;const t=Ys(tc),i=Ys(e.startTime);zr&&Mt.log("[Measurements] Adding FID"),us.fid={value:n.value,unit:"millisecond"},us["mark.fid"]={value:t+i,unit:"second"}})}(),t=function pce(){return function Xle(n,e=!1){return db("cls",n,Zle,v6,e)}(({metric:n})=>{const e=n.entries[n.entries.length-1];!e||(zr&&Mt.log("[Measurements] Adding CLS"),us.cls={value:n.value,unit:""},hb=e)},!0)}(),i=function fce(){return function qle(n,e=!1){return db("lcp",n,tce,w6,e)}(({metric:n})=>{const e=n.entries[n.entries.length-1];!e||(zr&&Mt.log("[Measurements] Adding LCP"),us.lcp={value:n.value,unit:"millisecond"},Gu=e)},!0)}(),r=function mce(){return function Kle(n){return db("ttfb",n,nce,S6)}(({metric:n})=>{!n.entries[n.entries.length-1]||(zr&&Mt.log("[Measurements] Adding TTFB"),us.ttfb={value:n.value,unit:"millisecond"})})}();return()=>{e(),t(),i(),r()}}return()=>{}}(),r={};t.enableInp&&function hce(n,e){if(gI()&&tc){const i=function _ce(n,e){return function Qle(n){return db("inp",n,ice,T6)}(({metric:t})=>{if(void 0===t.value)return;const i=t.entries.find(H=>H.duration===t.value&&void 0!==O6[H.name]),r=Vr();if(!i||!r)return;const s=O6[i.name],o=r.getOptions(),a=Ys(tc+i.startTime),l=Ys(t.value),c=void 0!==i.interactionId?n[i.interactionId]:void 0;if(void 0===c)return;const{routeName:u,parentContext:d,activeTransaction:b,user:C,replayId:M}=c,I=void 0!==C?C.email||C.id||C.ip_address:void 0,k=void 0!==b?b.getProfileId():void 0,B=new Gw({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${s}`,name:p_(i.target),attributes:je(je(je({release:o.release,environment:o.environment,transaction:u},void 0!==I&&""!==I?{user:I}:{}),void 0!==k?{profile_id:k}:{}),void 0!==M?{replay_id:M}:{}),exclusiveTime:t.value,measurements:{inp:{value:t.value,unit:"millisecond"}}}),L=function xce(n,e,t){if(!M_(e))return!1;let i;return i=void 0!==n&&"function"==typeof e.tracesSampler?e.tracesSampler({transactionContext:n,name:n.name,parentSampled:n.parentSampled,attributes:je(je({},n.data),n.attributes),location:Qn.location}):void 0!==n&&void 0!==n.sampled?n.sampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1,p6(i)?!0===i?t:!1===i?0:i*t:(zr&&Mt.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,o,e);if(L&&Math.random()<L){const H=B?function sce(n,e){const t={sent_at:(new Date).toISOString()};return e&&(t.dsn=mf(e)),bf(t,n.map(oce))}([B],r.getDsn()):void 0,Y=r&&r.getTransport();Y&&H&&Y.send(H).then(null,se=>{zr&&Mt.error("Error while sending interaction:",se)})}})}(n,e);return()=>{i()}}return()=>{}}(r,t.interactionsSampleRate),t.enableLongTask&&function uce(){ub("longtask",({entries:n})=>{for(const e of n){const t=Cf();if(!t)return;const i=Ys(tc+e.startTime),r=Ys(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+r})}})}(),t._experiments.enableInteractions&&function dce(){ub("event",({entries:n})=>{for(const e of n){const t=Cf();if(!t)return;if("click"===e.name){const i=Ys(tc+e.startTime),r=Ys(e.duration),s={description:p_(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+r},o=y5(e.target);o&&(s.attributes={"ui.component_name":o}),t.startChild(s)}}})}();const s={name:void 0,context:void 0};function o(a){const l=ao(),{beforeStartSpan:c,idleTimeout:u,finalTimeout:d,heartbeatInterval:b}=t,C="pageload"===a.op;let M;if(C){const L=C?A6("sentry-trace"):"",H=C?A6("baggage"):void 0,{traceId:Y,dsc:se,parentSpanId:ue,sampled:oe}=Cse(L,H);M=Nn(je({traceId:Y,parentSpanId:ue,parentSampled:oe},a),{metadata:Nn(je({},a.metadata),{dynamicSamplingContext:se}),trimEnd:!0})}else M=je({trimEnd:!0},a);const I=c?c(M):M;I.metadata=I.name!==M.name?Nn(je({},I.metadata),{source:"custom"}):I.metadata,s.name=I.name,s.context=I,!1===I.sampled&&zr&&Mt.log(`[Tracing] Will not send ${I.op} transaction because of beforeNavigate.`),zr&&Mt.log(`[Tracing] Starting ${I.op} transaction on scope`);const{location:k}=Qn,B=f6(l,I,u,d,!0,{location:k},b,C);return C&&Qn.document&&(Qn.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Qn.document.readyState)&&B.sendAutoFinishSignal()}),["interactive","complete"].includes(Qn.document.readyState)&&B.sendAutoFinishSignal()),B.registerBeforeFinishCallback(L=>{i(),function yce(n){const e=gI();if(!e||!Qn.performance.getEntries||!tc)return;zr&&Mt.log("[Tracing] Adding & adjusting spans using Performance API");const t=Ys(tc),i=e.getEntries(),{op:r,start_timestamp:s}=Ws(n);if(i.slice(E6).forEach(o=>{const a=Ys(o.startTime),l=Ys(o.duration);if(!("navigation"===n.op&&s&&t+a<s))switch(o.entryType){case"navigation":!function vce(n,e,t){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{Kw(n,e,i,t)}),Kw(n,e,"secureConnection",t,"TLS/SSL","connectEnd"),Kw(n,e,"fetch",t,"cache","domainLookupStart"),Kw(n,e,"domainLookup",t,"DNS"),function Cce(n,e,t){e.responseEnd&&(P_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:t+Ys(e.requestStart),endTimestamp:t+Ys(e.responseEnd)}),P_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:t+Ys(e.responseStart),endTimestamp:t+Ys(e.responseEnd)}))}(n,e,t)}(n,o,t);break;case"mark":case"paint":case"measure":{!function bce(n,e,t,i,r){const s=r+t;P_(n,{description:e.name,endTimestamp:s+i,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})}(n,o,a,l,t);const c=cI(),u=o.startTime<c.firstHiddenTime;"first-paint"===o.name&&u&&(zr&&Mt.log("[Measurements] Adding FP"),us.fp={value:o.startTime,unit:"millisecond"}),"first-contentful-paint"===o.name&&u&&(zr&&Mt.log("[Measurements] Adding FCP"),us.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":!function wce(n,e,t,i,r,s){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const o=vf(t),a={};mI(a,e,"transferSize","http.response_transfer_size"),mI(a,e,"encodedBodySize","http.response_content_length"),mI(a,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(a["resource.render_blocking_status"]=e.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=t.includes(Qn.location.origin);const l=s+i,c=l+r;P_(n,{description:t.replace(Qn.location.origin,""),endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}(n,o,o.name,a,l,t)}}),E6=Math.max(i.length-1,0),function Sce(n){const e=Qn.navigator;if(!e)return;const t=e.connection;t&&(t.effectiveType&&n.setTag("effectiveConnectionType",t.effectiveType),t.type&&n.setTag("connectionType",t.type),fI(t.rtt)&&(us["connection.rtt"]={value:t.rtt,unit:"millisecond"})),fI(e.deviceMemory)&&n.setTag("deviceMemory",`${e.deviceMemory} GB`),fI(e.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}(n),"pageload"===r){(function Mce(n){const e=Ww();if(!e)return;const{responseStart:t,requestStart:i}=e;i<=t&&(zr&&Mt.log("[Measurements] Adding TTFB Request Time"),n["ttfb.requestTime"]={value:t-i,unit:"millisecond"})})(us),["fcp","fp","lcp"].forEach(a=>{if(!us[a]||!s||t>=s)return;const l=us[a].value,c=t+Ys(l),u=Math.abs(1e3*(c-s));zr&&Mt.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${u-l})`),us[a].value=u});const o=us["mark.fid"];o&&us.fid&&(P_(n,{description:"first input delay",endTimestamp:o.value+Ys(us.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete us["mark.fid"]),"fcp"in us||delete us.cls,Object.keys(us).forEach(a=>{!function ace(n,e,t){const i=Cf();i&&i.setMeasurement(n,e,t)}(a,us[a].value,us[a].unit)}),function Tce(n){Gu&&(zr&&Mt.log("[Measurements] Adding LCP Data"),Gu.element&&n.setTag("lcp.element",p_(Gu.element)),Gu.id&&n.setTag("lcp.id",Gu.id),Gu.url&&n.setTag("lcp.url",Gu.url.trim().slice(0,200)),n.setTag("lcp.size",Gu.size)),hb&&hb.sources&&(zr&&Mt.log("[Measurements] Adding CLS Data"),hb.sources.forEach((e,t)=>n.setTag(`cls.source.${t+1}`,p_(e.node))))}(n)}Gu=void 0,hb=void 0,us={}}(L)}),B}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:b,enableHTTPTimings:C,_experiments:M}=t,I=l&&l.tracePropagationTargets,k=I||t.tracePropagationTargets;zr&&e&&I&&Mt.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let B,L=Qn.location&&Qn.location.href;a.on&&(a.on("startNavigationSpan",H=>{B&&(zr&&Mt.log(`[Tracing] Finishing current transaction with op: ${Ws(B).op}`),B.end()),B=o(je({op:"navigation"},H))}),a.on("startPageLoadSpan",H=>{B&&(zr&&Mt.log(`[Tracing] Finishing current transaction with op: ${Ws(B).op}`),B.end()),B=o(je({op:"pageload"},H))})),t.instrumentPageLoad&&a.emit&&Qn.location&&function jce(n,e){if(!n.emit)return;n.emit("startPageLoadSpan",e);const t=oI();t&&Ws(t)}(a,{name:Qn.location.pathname,startTimestamp:tc?tc/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Hh]:"url"}}),t.instrumentNavigation&&a.emit&&Qn.location&&YP(({to:H,from:Y})=>{void 0===Y&&L&&-1!==L.indexOf(H)?L=void 0:Y!==H&&(L=void 0,function Gce(n,e){if(!n.emit)return;n.emit("startNavigationSpan",e);const t=oI();t&&Ws(t)}(a,{name:Qn.location.pathname,origin:"auto.navigation.browser",attributes:{[Hh]:"url"}}))}),c&&function kle(){Qn.document?Qn.document.addEventListener("visibilitychange",()=>{const n=Cf();if(Qn.document.hidden&&n){const e="cancelled",{op:t,status:i}=Ws(n);zr&&Mt.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t}`),i||n.setStatus(e),n.setTag("visibilitychange","document.hidden"),n.end()}}):zr&&Mt.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),M.enableInteractions&&function Vce(n,e){let t;const i=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:o}=n,a="ui.action.click",l=Cf();if(l&&l.op&&["navigation","pageload"].includes(l.op))return void(zr&&Mt.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`));if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!e.name)return void(zr&&Mt.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`));const{location:c}=Qn,u={name:e.name,op:a,trimEnd:!0,data:{[Hh]:e.context?Wce(e.context):"url"}};t=f6(ao(),u,r,s,!0,{location:c},o)};["click"].forEach(r=>{Qn.document&&addEventListener(r,i,{once:!1,capture:!0})})}(t,s),t.enableInp&&function $ce(n,e){const t=({entries:i})=>{const r=Vr(),s=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,o=void 0!==s?s.getReplayId():void 0,a=Cf(),l=nc(),c=void 0!==l?l.getUser():void 0;i.forEach(u=>{if(function zce(n){return"duration"in n}(u)){const d=u.interactionId;if(void 0===d)return;const b=n[d],C=u.duration,M=u.startTime,I=Object.keys(n),k=I.length>0?I.reduce((B,L)=>n[B].duration<n[L].duration?B:L):void 0;if("first-input"===u.entryType&&I.map(L=>n[L]).some(L=>L.duration===C&&L.startTime===M)||!d)return;if(b)b.duration=Math.max(b.duration,C);else if(I.length<10||void 0===k||C>n[k].duration){const B=e.name,L=e.context;B&&L&&(k&&Object.keys(n).length>=10&&delete n[k],n[d]={routeName:B,duration:C,parentContext:L,user:c,activeTransaction:a,replayId:o,startTime:M})}}})};ub("event",t),ub("first-input",t)}(r,s),Ace({traceFetch:u,traceXHR:d,tracePropagationTargets:k,shouldCreateSpanForRequest:b,enableHTTPTimings:C})},options:t}};function A6(n){const e=function sse(n){return h_.document&&h_.document.querySelector?h_.document.querySelector(n):null}(`meta[name=${n}]`);return e?e.getAttribute("content"):void 0}function Wce(n){return n.attributes&&n.attributes[Hh]||n.data&&n.data[Hh]||n.metadata&&n.metadata.source}function rc(...n){return Mr(n,To(n))}function cn(n,e){return tt((t,i)=>{let r=0;t.subscribe(me(i,s=>n.call(e,s,r++)&&i.next(s)))})}class R6{}class k6{}class Ud{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ud?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ud;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ud?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Xce{encodeKey(e){return N6(e)}encodeValue(e){return N6(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Kce=/%(\d[a-f0-9])/gi,Jce={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function N6(n){return encodeURIComponent(n).replace(Kce,(e,t)=>{var i;return null!==(i=Jce[t])&&void 0!==i?i:e})}function F6(n){return`${n}`}class jh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Xce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qce(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(F6(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(F6(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Qce{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function B6(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function L6(n){return"undefined"!=typeof Blob&&n instanceof Blob}function U6(n){return"undefined"!=typeof FormData&&n instanceof FormData}class pb{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Zce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ud),this.context||(this.context=new Qce),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new jh,this.urlWithParams=t}serializeBody(){return null===this.body?null:B6(this.body)||L6(this.body)||U6(this.body)||function eue(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U6(this.body)?null:L6(this.body)?this.body.type||null:B6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((b,C)=>b.set(C,e.setHeaders[C]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((b,C)=>b.set(C,e.setParams[C]),u)),new pb(i,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Is=(()=>((Is=Is||{})[Is.Sent=0]="Sent",Is[Is.UploadProgress=1]="UploadProgress",Is[Is.ResponseHeader=2]="ResponseHeader",Is[Is.DownloadProgress=3]="DownloadProgress",Is[Is.Response=4]="Response",Is[Is.User=5]="User",Is))();class bI{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ud,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class vI extends bI{constructor(e={}){super(e),this.type=Is.ResponseHeader}clone(e={}){return new vI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Jw extends bI{constructor(e={}){super(e),this.type=Is.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Jw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qw extends bI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function CI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Zw=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof pb)s=t;else{let l,c;l=r.headers instanceof Ud?r.headers:new Ud(r.headers),r.params&&(c=r.params instanceof jh?r.params:new jh({fromObject:r.params})),s=new pb(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=rc(s).pipe(function Yce(n,e){return v(e)?ma(n,e,1):ma(n,1)}(l=>this.handler.handle(l)));if(t instanceof pb||"events"===r.observe)return o;const a=o.pipe(cn(l=>l instanceof Jw));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ke(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ke(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ke(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ke(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new jh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,CI(r,i))}post(t,i,r={}){return this.request("POST",t,CI(r,i))}put(t,i,r={}){return this.request("PUT",t,CI(r,i))}}return n.\u0275fac=function(t){return new(t||n)(We(R6))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();class H6{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const j6=new hn("HTTP_INTERCEPTORS");let tue=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const nue=/^\)\]\}',?\n/;let G6=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new he(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((C,M)=>r.setRequestHeader(C,M.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const C=t.detectContentTypeHeader();null!==C&&r.setRequestHeader("Content-Type",C)}if(t.responseType){const C=t.responseType.toLowerCase();r.responseType="json"!==C?C:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const C=r.statusText||"OK",M=new Ud(r.getAllResponseHeaders()),I=function iue(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new vI({headers:M,status:r.status,statusText:C,url:I}),o},l=()=>{let{headers:C,status:M,statusText:I,url:k}=a(),B=null;204!==M&&(B=void 0===r.response?r.responseText:r.response),0===M&&(M=B?200:0);let L=M>=200&&M<300;if("json"===t.responseType&&"string"==typeof B){const H=B;B=B.replace(nue,"");try{B=""!==B?JSON.parse(B):null}catch(Y){B=H,L&&(L=!1,B={error:Y,text:B})}}L?(i.next(new Jw({body:B,headers:C,status:M,statusText:I,url:k||void 0})),i.complete()):i.error(new Qw({error:B,headers:C,status:M,statusText:I,url:k||void 0}))},c=C=>{const{url:M}=a(),I=new Qw({error:C,status:r.status||0,statusText:r.statusText||"Unknown Error",url:M||void 0});i.error(I)};let u=!1;const d=C=>{u||(i.next(a()),u=!0);let M={type:Is.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(M.total=C.total),"text"===t.responseType&&!!r.responseText&&(M.partialText=r.responseText),i.next(M)},b=C=>{let M={type:Is.UploadProgress,loaded:C.loaded};C.lengthComputable&&(M.total=C.total),i.next(M)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",b)),r.send(s),i.next({type:Is.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",b)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(We(J4))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const wI=new hn("XSRF_COOKIE_NAME"),SI=new hn("XSRF_HEADER_NAME");class V6{}let rue=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=H4(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(We(Or),We(kh),We(wI))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),TI=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(We(V6),We(SI))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),sue=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(j6,[]);this.chain=i.reduceRight((r,s)=>new H6(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(We(k6),We(zo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),oue=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:TI,useClass:tue}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:wI,useValue:t.cookieName}:[],t.headerName?{provide:SI,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[TI,{provide:j6,useExisting:TI,multi:!0},{provide:V6,useClass:rue},{provide:wI,useValue:"XSRF-TOKEN"},{provide:SI,useValue:"X-XSRF-TOKEN"}]}),n})(),aue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[Zw,{provide:R6,useClass:sue},G6,{provide:k6,useExisting:G6}],imports:[[oue.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const lue="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,due="undefined"!=typeof Zone&&!!Zone.current;function z6(n){if(n instanceof Error)return!0;if(null===n||"object"!=typeof n)return!1;const e=n;return fl(e.name)&&fl(e.message)&&(void 0===e.stack||fl(e.stack))}let gue=(()=>{class n{constructor(t){this._registeredAfterSendEventHandler=!1,this._options=Object.assign({logErrors:!0},t)}handleError(t){const i=this._extractError(t)||"Handled unknown error",r=function hue(n){return due?Zone.root.run(n):n()}(()=>Rw(i,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(i),this._options.showDialog){const s=Vr();s&&s.on&&!this._registeredAfterSendEventHandler?(s.on("afterSendEvent",o=>{o.type||n6(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:o.event_id}))}),this._registeredAfterSendEventHandler=!0):(!s||!s.on)&&n6(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:r}))}}_extractError(t){if(this._options.extractor){const i=this._defaultExtractor.bind(this);return this._options.extractor(t,i)}return this._defaultExtractor(t)}_defaultExtractor(t){const i=function pue(n){return n&&n.ngOriginalError?n.ngOriginalError:n}(t);return i instanceof Qw?function fue(n){return z6(n.error)?n.error:n.error instanceof ErrorEvent&&n.error.message?n.error.message:"string"==typeof n.error?`Server returned code ${n.status} with body "${n.error}"`:n.message}(i):"string"==typeof i||z6(i)?i:null}}return n.\u0275fac=function(t){return new(t||n)(We("errorHandlerOptions"))},n.\u0275prov=Ct({factory:function(){return new n(We("errorHandlerOptions"))},token:n,providedIn:"root"}),n})();function mue(n){return new gue(n)}let W6,vue=!1;class xI{}const Hd="*";function EI(n,e){return{type:7,name:n,definitions:e,options:{}}}function I_(n,e=null){return{type:4,styles:e,timings:n}}function Y6(n,e=null){return{type:2,steps:n,options:e}}function Kc(n){return{type:6,styles:n,offset:null}}function Tue(n,e,t){return{type:0,name:n,styles:e,options:t}}function fb(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Mue(n=null){return{type:9,options:n}}function xue(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function X6(n){Promise.resolve(null).then(n)}class gb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){X6(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class q6{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?X6(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Ai=!1;function K6(n){return new Zt(3e3,Ai)}function ode(){return"undefined"!=typeof window&&void 0!==window.document}function PI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gh(n){switch(n.length){case 0:return new gb;case 1:return n[0];default:return new q6(n)}}function J6(n,e,t,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,b=d==l,C=b&&c||{};Object.keys(u).forEach(M=>{let I=M,k=u[M];if("offset"!==M)switch(I=e.normalizePropertyName(I,o),k){case"!":k=r[M];break;case Hd:k=s[M];break;default:k=e.normalizeStyleValue(M,I,k,o)}C[I]=k}),b||a.push(C),c=C,l=d}),o.length)throw function que(n){return new Zt(3502,Ai)}();return a}function II(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&AI(t,"start",n)));break;case"done":n.onDone(()=>i(t&&AI(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&AI(t,"destroy",n)))}}function AI(n,e,t){const i=t.totalTime,s=DI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function DI(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function ml(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Q6(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let RI=(n,e)=>!1,Z6=(n,e,t)=>[],eU=null;function kI(n){const e=n.parentNode||n.host;return e===eU?null:e}(PI()||"undefined"!=typeof Element)&&(ode()?(eU=(()=>document.documentElement)(),RI=(n,e)=>{for(;e;){if(e===n)return!0;e=kI(e)}return!1}):RI=(n,e)=>n.contains(e),Z6=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let wf=null,tU=!1;function nU(n){wf||(wf=function lde(){return"undefined"!=typeof document?document.body:null}()||{},tU=!!wf.style&&"WebkitAppearance"in wf.style);let e=!0;return wf.style&&!function ade(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in wf.style,!e&&tU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in wf.style)),e}const iU=RI,rU=Z6;let sU=(()=>{class n{validateStyleProperty(t){return nU(t)}matchesElement(t,i){return!1}containsElement(t,i){return iU(t,i)}getParentElement(t){return kI(t)}query(t,i,r){return rU(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new gb(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),NI=(()=>{class n{}return n.NOOP=new sU,n})();const FI="ng-enter",tS="ng-leave",nS="ng-trigger",iS=".ng-trigger",aU="ng-animating",BI=".ng-animating";function Sf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:LI(parseFloat(e[1]),e[2])}function LI(n,e){return"s"===e?1e3*n:n}function rS(n,e,t){return n.hasOwnProperty("duration")?n:function dde(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(K6()),{duration:0,delay:0,easing:""};r=LI(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=LI(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function Eue(){return new Zt(3100,Ai)}()),a=!0),s<0&&(e.push(function Oue(){return new Zt(3101,Ai)}()),a=!0),a&&e.splice(l,0,K6())}return{duration:r,delay:s,easing:o}}(n,e,t)}function A_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Vh(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else A_(n,t);return t}function cU(n,e,t){return t?e+":"+t+";":""}function uU(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=cU(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=cU(0,fde(t),n.style[t]));n.setAttribute("style",e)}function zu(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=HI(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),PI()&&uU(n))}function Tf(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=HI(t);n.style[i]=""}),PI()&&uU(n))}function mb(n){return Array.isArray(n)?1==n.length?n[0]:Y6(n):n}const UI=new RegExp("{{\\s*(.+?)\\s*}}","g");function dU(n){let e=[];if("string"==typeof n){let t;for(;t=UI.exec(n);)e.push(t[1]);UI.lastIndex=0}return e}function sS(n,e,t){const i=n.toString(),r=i.replace(UI,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function Iue(n){return new Zt(3003,Ai)}()),a=""),a.toString()});return r==i?n:r}function oS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const pde=/-+([a-z0-9])/g;function HI(n){return n.replace(pde,(...e)=>e[1].toUpperCase())}function fde(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _l(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Aue(n){return new Zt(3004,Ai)}()}}function hU(n,e){return window.getComputedStyle(n)[e]}function vde(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Cde(n,e,t){if(":"==n[0]){const l=function wde(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function $ue(n){return new Zt(3016,Ai)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function zue(n){return new Zt(3015,Ai)}()),e;const r=i[1],s=i[2],o=i[3];e.push(pU(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(pU(o,r))}(i,t,e)):t.push(n),t}const uS=new Set(["true","1"]),dS=new Set(["false","0"]);function pU(n,e){const t=uS.has(n)||dS.has(n),i=uS.has(e)||dS.has(e);return(r,s)=>{let o="*"==n||n==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?uS.has(n):dS.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?uS.has(e):dS.has(e)),o&&a}}const Sde=new RegExp("s*:selfs*,?","g");function jI(n,e,t,i){return new Tde(n).build(e,t,i)}class Tde{constructor(e){this._driver=e}build(e,t,i){const r=new Ede(t);this._resetContextStyleTimingState(r);const s=_l(this,mb(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Rue(){return new Zt(3006,Ai)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function kue(){return new Zt(3007,Ai)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{if(hS(a)){const l=a;Object.keys(l).forEach(c=>{dU(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size&&(oS(s.values()),t.errors.push(function Nue(n,e){return new Zt(3008,Ai)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=_l(this,mb(e.animation),t);return{type:1,matchers:vde(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Mf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>_l(this,i,t)),options:Mf(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=_l(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:Mf(e.options)}}visitAnimate(e,t){const i=function Pde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GI(rS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=GI(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=rS(t,e);return GI(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Kc({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Kc(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Hd?i.push(o):t.errors.push(function Fue(n){return new Zt(3002,Ai)}()):i.push(o)}):i.push(e.styles);let r=!1,s=null;return i.forEach(o=>{if(hS(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(function Bue(n,e,t,i,r){return new Zt(3010,Ai)}()),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),t.options&&function hde(n,e,t){const i=e.params||{},r=dU(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Pue(n){return new Zt(3001,Ai)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Lue(){return new Zt(3011,Ai)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(B=>{const L=this._makeStyleAst(B,t);let H=null!=L.offset?L.offset:function Ode(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(hS(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(hS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(L.styles),Y=0;return null!=H&&(s++,Y=L.offset=H),l=l||Y<0||Y>1,a=a||Y<c,c=Y,o.push(Y),L});l&&t.errors.push(function Uue(){return new Zt(3012,Ai)}()),a&&t.errors.push(function Hue(){return new Zt(3200,Ai)}());const d=e.steps.length;let b=0;s>0&&s<d?t.errors.push(function jue(){return new Zt(3202,Ai)}()):0==s&&(b=1/(d-1));const C=d-1,M=t.currentTime,I=t.currentAnimateTimings,k=I.duration;return u.forEach((B,L)=>{const H=b>0?L==C?1:b*L:o[L],Y=H*k;t.currentTime=M+I.delay+Y,I.duration=Y,this._validateStyleAst(B,t),B.offset=H,i.styles.push(B)}),i}visitReference(e,t){return{type:8,animation:_l(this,mb(e.animation),t),options:Mf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Mf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Mf(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Mde(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Sde,"")),n=n.replace(/@\*/g,iS).replace(/@\w+/g,t=>iS+"-"+t.substr(1)).replace(/:animating/g,BI),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ml(t.collectedStyles,t.currentQuerySelector,{});const a=_l(this,mb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Mf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Gue(){return new Zt(3013,Ai)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:rS(e.timings,t.errors,!0);return{type:12,animation:_l(this,mb(e.animation),t),timings:i,options:null}}}class Ede{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hS(n){return!Array.isArray(n)&&"object"==typeof n}function Mf(n){return n?(n=A_(n)).params&&(n.params=function xde(n){return n?A_(n):null}(n.params)):n={},n}function GI(n,e,t){return{duration:n,delay:e,easing:t}}function VI(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class pS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dde=new RegExp(":enter","g"),kde=new RegExp(":leave","g");function zI(n,e,t,i,r,s={},o={},a,l,c=[]){return(new Nde).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class Nde{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new pS;const d=new $I(e,t,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),_l(this,i,d);const b=d.timelines.filter(C=>C.containsAnimation());if(Object.keys(a).length){let C;for(let M=b.length-1;M>=0;M--){const I=b[M];if(I.element===t){C=I;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,d.errors,l)}return b.length?b.map(C=>C.buildKeyframes()):[VI(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Sf(i.duration):null,a=null!=i.delay?Sf(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),_l(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fS);const o=Sf(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>_l(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Sf(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),_l(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return rS(t.params?sS(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Sf(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fS);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),_l(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;_l(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const fS={};class $I{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new gS(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Sf(i.duration)),null!=i.delay&&(r.delay=Sf(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=sS(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new $I(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=fS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Fde(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Dde,"."+this._enterClassName)).replace(kde,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function Vue(n){return new Zt(3014,Ai)}()),a}}class gS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Hd,this._currentKeyframe[t]=Hd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function Bde(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=Hd})):Vh(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=sS(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Hd),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Vh(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Hd&&t.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=e.size?oS(e.values()):[],o=t.size?oS(t.values()):[];if(i){const a=r[0],l=A_(a);a.offset=0,l.offset=1,r=[a,l]}return VI(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Fde extends gS{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=Vh(e[0],!1);l.offset=0,s.push(l);const c=Vh(e[0],!1);c.offset=mU(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let b=Vh(e[d],!1);b.offset=mU((t+b.offset*i)/o),s.push(b)}i=o,t=0,r="",e=s}return VI(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function mU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class WI{}class Lde extends WI{normalizePropertyName(e,t){return HI(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Ude[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Due(n,e){return new Zt(3005,Ai)}())}return o+s}}const Ude=(()=>function Hde(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _U(n,e,t,i,r,s,o,a,l,c,u,d,b){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:b}}const YI={};class yU{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function jde(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,r,s,o,a,l,c,u){const d=[],b=this.ast.options&&this.ast.options.params||YI,M=this.buildStyles(i,a&&a.params||YI,d),I=l&&l.params||YI,k=this.buildStyles(r,I,d),B=new Set,L=new Map,H=new Map,Y="void"===r,se={params:Object.assign(Object.assign({},b),I)},ue=u?[]:zI(e,t,this.ast.animation,s,o,M,k,se,c,d);let oe=0;if(ue.forEach(ae=>{oe=Math.max(ae.duration+ae.delay,oe)}),d.length)return _U(t,this._triggerName,i,r,Y,M,k,[],[],L,H,oe,d);ue.forEach(ae=>{const fe=ae.element,Re=ml(L,fe,{});ae.preStyleProps.forEach(_e=>Re[_e]=!0);const ve=ml(H,fe,{});ae.postStyleProps.forEach(_e=>ve[_e]=!0),fe!==t&&B.add(fe)});const de=oS(B.values());return _U(t,this._triggerName,i,r,Y,M,k,ue,de,L,H,oe)}}class Gde{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=A_(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=sS(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),i[c]=l})}}),i}}class zde{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new Gde(r.style,r.options&&r.options.params||{},i)}),bU(this.states,"true","1"),bU(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new yU(e,r,this.states))}),this.fallbackTransition=function $de(n,e,t){return new yU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function bU(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Wde=new pS;class Yde{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=jI(this._driver,t,i,[]);if(i.length)throw function Kue(n){return new Zt(3503,Ai)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=J6(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=zI(this._driver,t,s,FI,tS,{},{},i,Wde,r),o.forEach(u=>{const d=ml(a,u.element,{});u.postStyleProps.forEach(b=>d[b]=null)})):(r.push(function Jue(){return new Zt(3300,Ai)}()),o=[]),r.length)throw function Que(n){return new Zt(3504,Ai)}();a.forEach((u,d)=>{Object.keys(u).forEach(b=>{u[b]=this._driver.computeStyle(d,b,Hd)})});const c=Gh(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Zue(n){return new Zt(3301,Ai)}();return t}listen(e,t,i,r){const s=DI(t,"","","");return II(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const vU="ng-animate-queued",XI="ng-animate-disabled",Qde=[],CU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zde={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sc="__ng_removed";class qI{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function ihe(n){return null!=n?n:null}(i?e.value:e),i){const s=A_(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const _b="void",KI=new qI(_b);class ehe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,oc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function ede(n,e){return new Zt(3302,Ai)}();if(null==i||0==i.length)throw function tde(n){return new Zt(3303,Ai)}();if(!function rhe(n){return"start"==n||"done"==n}(i))throw function nde(n,e){return new Zt(3400,Ai)}();const s=ml(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=ml(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(oc(e,nS),oc(e,nS+"-"+t),a[t]=KI),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function ide(n){return new Zt(3401,Ai)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new JI(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(oc(e,nS),oc(e,nS+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new qI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=KI),c.value!==_b&&l.value===c.value){if(!function ahe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const I=[],k=s.matchStyles(l.value,l.params,I),B=s.matchStyles(c.value,c.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{Tf(e,k),zu(e,B)})}return}const b=ml(this._engine.playersByElement,e,[]);b.forEach(I=>{I.namespaceId==this.id&&I.triggerName==t&&I.queued&&I.destroy()});let C=s.matchTransition(l.value,c.value,e,c.params),M=!1;if(!C){if(!r)return;C=s.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:l,toState:c,player:o,isFallbackTransition:M}),M||(oc(e,vU),o.onStart(()=>{D_(e,vU)})),o.onDone(()=>{let I=this.players.indexOf(o);I>=0&&this.players.splice(I,1);const k=this._engine.playersByElement.get(e);if(k){let B=k.indexOf(o);B>=0&&k.splice(B,1)}}),this.players.push(o),b.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,iS,!0);i.forEach(r=>{if(r[sc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(e,l,_b,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Gh(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||KI,u=new qI(_b),d=new JI(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[sc];(!s||s===CU)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){oc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=DI(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,II(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class the{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new ehe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,t)){i.splice(a+1,0,e),o=!0;break}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,i,r){if(mS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!mS(t))return;const s=t[sc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),oc(e,XI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),D_(e,XI))}removeNode(e,t,i,r){if(mS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[sc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return mS(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,iS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,BI,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[sc];if(i&&i.setForRemoval){if(e[sc]=CU,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(XI))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)oc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Gh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function rde(n){return new Zt(3402,Ai)}()}_flushAnimations(e,t){const i=new pS,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Ee=>{u.add(Ee);const ye=this.driver.query(Ee,".ng-animate-queued",!0);for(let we=0;we<ye.length;we++)u.add(ye[we])});const d=this.bodyNode,b=Array.from(this.statesByElement.keys()),C=TU(b,this.collectedEnterElements),M=new Map;let I=0;C.forEach((Ee,ye)=>{const we=FI+I++;M.set(ye,we),Ee.forEach(et=>oc(et,we))});const k=[],B=new Set,L=new Set;for(let Ee=0;Ee<this.collectedLeaveElements.length;Ee++){const ye=this.collectedLeaveElements[Ee],we=ye[sc];we&&we.setForRemoval&&(k.push(ye),B.add(ye),we.hasAnimation?this.driver.query(ye,".ng-star-inserted",!0).forEach(et=>B.add(et)):L.add(ye))}const H=new Map,Y=TU(b,Array.from(B));Y.forEach((Ee,ye)=>{const we=tS+I++;H.set(ye,we),Ee.forEach(et=>oc(et,we))}),e.push(()=>{C.forEach((Ee,ye)=>{const we=M.get(ye);Ee.forEach(et=>D_(et,we))}),Y.forEach((Ee,ye)=>{const we=H.get(ye);Ee.forEach(et=>D_(et,we))}),k.forEach(Ee=>{this.processLeaveNode(Ee)})});const se=[],ue=[];for(let Ee=this._namespaceList.length-1;Ee>=0;Ee--)this._namespaceList[Ee].drainQueuedTransitions(t).forEach(we=>{const et=we.player,Pe=we.element;if(se.push(et),this.collectedEnterElements.length){const dt=Pe[sc];if(dt&&dt.setForMove){if(dt.previousTriggersValues&&dt.previousTriggersValues.has(we.triggerName)){const Kt=dt.previousTriggersValues.get(we.triggerName),Tn=this.statesByElement.get(we.element);Tn&&Tn[we.triggerName]&&(Tn[we.triggerName].value=Kt)}return void et.destroy()}}const Ot=!d||!this.driver.containsElement(d,Pe),gn=H.get(Pe),ei=M.get(Pe),on=this._buildInstruction(we,i,ei,gn,Ot);if(on.errors&&on.errors.length)return void ue.push(on);if(Ot)return et.onStart(()=>Tf(Pe,on.fromStyles)),et.onDestroy(()=>zu(Pe,on.toStyles)),void r.push(et);if(we.isFallbackTransition)return et.onStart(()=>Tf(Pe,on.fromStyles)),et.onDestroy(()=>zu(Pe,on.toStyles)),void r.push(et);const pt=[];on.timelines.forEach(dt=>{dt.stretchStartingKeyframe=!0,this.disabledNodes.has(dt.element)||pt.push(dt)}),on.timelines=pt,i.append(Pe,on.timelines),o.push({instruction:on,player:et,element:Pe}),on.queriedElements.forEach(dt=>ml(a,dt,[]).push(et)),on.preStyleProps.forEach((dt,Kt)=>{const Tn=Object.keys(dt);if(Tn.length){let oi=l.get(Kt);oi||l.set(Kt,oi=new Set),Tn.forEach(ki=>oi.add(ki))}}),on.postStyleProps.forEach((dt,Kt)=>{const Tn=Object.keys(dt);let oi=c.get(Kt);oi||c.set(Kt,oi=new Set),Tn.forEach(ki=>oi.add(ki))})});if(ue.length){const Ee=[];ue.forEach(ye=>{Ee.push(function sde(n,e){return new Zt(3505,Ai)}())}),se.forEach(ye=>ye.destroy()),this.reportError(Ee)}const oe=new Map,de=new Map;o.forEach(Ee=>{const ye=Ee.element;i.has(ye)&&(de.set(ye,ye),this._beforeAnimationBuild(Ee.player.namespaceId,Ee.instruction,oe))}),r.forEach(Ee=>{const ye=Ee.element;this._getPreviousPlayers(ye,!1,Ee.namespaceId,Ee.triggerName,null).forEach(et=>{ml(oe,ye,[]).push(et),et.destroy()})});const ae=k.filter(Ee=>xU(Ee,l,c)),fe=new Map;SU(fe,this.driver,L,c,Hd).forEach(Ee=>{xU(Ee,l,c)&&ae.push(Ee)});const ve=new Map;C.forEach((Ee,ye)=>{SU(ve,this.driver,new Set(Ee),l,"!")}),ae.forEach(Ee=>{const ye=fe.get(Ee),we=ve.get(Ee);fe.set(Ee,Object.assign(Object.assign({},ye),we))});const _e=[],Oe=[],Ge={};o.forEach(Ee=>{const{element:ye,player:we,instruction:et}=Ee;if(i.has(ye)){if(u.has(ye))return we.onDestroy(()=>zu(ye,et.toStyles)),we.disabled=!0,we.overrideTotalTime(et.totalTime),void r.push(we);let Pe=Ge;if(de.size>1){let gn=ye;const ei=[];for(;gn=gn.parentNode;){const on=de.get(gn);if(on){Pe=on;break}ei.push(gn)}ei.forEach(on=>de.set(on,Pe))}const Ot=this._buildAnimation(we.namespaceId,et,oe,s,ve,fe);if(we.setRealPlayer(Ot),Pe===Ge)_e.push(we);else{const gn=this.playersByElement.get(Pe);gn&&gn.length&&(we.parentPlayer=Gh(gn)),r.push(we)}}else Tf(ye,et.fromStyles),we.onDestroy(()=>zu(ye,et.toStyles)),Oe.push(we),u.has(ye)&&r.push(we)}),Oe.forEach(Ee=>{const ye=s.get(Ee.element);if(ye&&ye.length){const we=Gh(ye);Ee.setRealPlayer(we)}}),r.forEach(Ee=>{Ee.parentPlayer?Ee.syncPlayerEvents(Ee.parentPlayer):Ee.destroy()});for(let Ee=0;Ee<k.length;Ee++){const ye=k[Ee],we=ye[sc];if(D_(ye,tS),we&&we.hasAnimation)continue;let et=[];if(a.size){let Ot=a.get(ye);Ot&&Ot.length&&et.push(...Ot);let gn=this.driver.query(ye,BI,!0);for(let ei=0;ei<gn.length;ei++){let on=a.get(gn[ei]);on&&on.length&&et.push(...on)}}const Pe=et.filter(Ot=>!Ot.destroyed);Pe.length?she(this,ye,Pe):this.processLeaveNode(ye)}return k.length=0,_e.forEach(Ee=>{this.players.push(Ee),Ee.onDone(()=>{Ee.destroy();const ye=this.players.indexOf(Ee);this.players.splice(ye,1)}),Ee.play()}),_e}elementContainsData(e,t){let i=!1;const r=t[sc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==_b;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=ml(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(C=>{const M=C.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),C.destroy(),d.push(C)})}Tf(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,b=t.timelines.map(M=>{const I=M.element;u.add(I);const k=I[sc];if(k&&k.removedBeforeQueried)return new gb(M.duration,M.delay);const B=I!==l,L=function ohe(n){const e=[];return MU(n,e),e}((i.get(I)||Qde).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===I),H=s.get(I),Y=o.get(I),se=J6(0,this._normalizer,0,M.keyframes,H,Y),ue=this._buildPlayer(M,se,L);if(M.subTimeline&&r&&d.add(I),B){const oe=new JI(e,a,I);oe.setRealPlayer(ue),c.push(oe)}return ue});c.forEach(M=>{ml(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>function nhe(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,M.element,M))}),u.forEach(M=>oc(M,aU));const C=Gh(b);return C.onDestroy(()=>{u.forEach(M=>D_(M,aU)),zu(l,t.toStyles)}),d.forEach(M=>{ml(r,M,[]).push(C)}),C}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new gb(e.duration,e.delay)}}class JI{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new gb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>II(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ml(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mS(n){return n&&1===n.nodeType}function wU(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function SU(n,e,t,i,r){const s=[];t.forEach(l=>s.push(wU(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const b=u[d]=e.computeStyle(c,d,r);(!b||0==b.length)&&(c[sc]=Zde,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>wU(l,s[a++])),o}function TU(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function oc(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function D_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function she(n,e,t){Gh(t).onDone(()=>n.processLeaveNode(e))}function MU(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof q6?MU(i.players,e):e.push(i)}}function xU(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class _S{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new the(e,t,i),this._timelineEngine=new Yde(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=jI(this._driver,s,l,[]);if(l.length)throw function Xue(n,e){return new Zt(3404,Ai)}();a=function Vde(n,e,t){return new zde(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=Q6(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=Q6(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let che=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&zu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zu(this._element,this._initialStyles),this._endStyles&&(zu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Tf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tf(this._element,this._endStyles),this._endStyles=null),zu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function QI(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];uhe(r)&&(e=e||{},e[r]=n[r])}return e}function uhe(n){return"display"===n||"position"===n}class EU{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:hU(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class dhe{validateStyleProperty(e){return nU(e)}matchesElement(e,t){return!1}containsElement(e,t){return iU(e,t)}getParentElement(e){return kI(e)}query(e,t,i){return rU(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c={},u=o.filter(b=>b instanceof EU);(function gde(n,e){return 0===n||0===e})(i,r)&&u.forEach(b=>{let C=b.currentSnapshot;Object.keys(C).forEach(M=>c[M]=C[M])}),t=function mde(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=hU(n,l)})}}return e}(e,t=t.map(b=>Vh(b,!1)),c);const d=function lhe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=QI(e[0]),e.length>1&&(i=QI(e[e.length-1]))):e&&(t=QI(e)),t||i?new che(n,t,i):null}(e,t);return new EU(e,t,l,d)}}let hhe=(()=>{class n extends xI{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Lc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Y6(t):t;return OU(this._renderer,null,i,"register",[r]),new phe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(We(s_),We(Or))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();class phe extends class Sue{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fhe(this._id,e,t||{},this._renderer)}}class fhe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return OU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function OU(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const PU="@.disabled";let ghe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new IU("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new mhe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(We(s_),We(_S),We(Ti))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();class IU{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==PU?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mhe extends IU{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==PU?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function _he(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function yhe(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let bhe=(()=>{class n extends _S{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(We(Or),We(NI),We(WI))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const AU=new hn("AnimationModuleType"),DU=[{provide:xI,useClass:hhe},{provide:WI,useFactory:function vhe(){return new Lde}},{provide:_S,useClass:bhe},{provide:s_,useFactory:function Che(n,e,t){return new ghe(n,e,t)},deps:[yw,_S,Ti]}],RU=[{provide:NI,useFactory:()=>new dhe},{provide:AU,useValue:"BrowserAnimations"},...DU],whe=[{provide:NI,useClass:sU},{provide:AU,useValue:"NoopAnimations"},...DU];let ZI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?whe:RU}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:RU,imports:[l5]}),n})();const{isArray:She}=Array;function e2(n){return ke(e=>function The(n,e){return She(e)?n(...e):n(e)}(n,e))}const Mhe=["addListener","removeListener"],xhe=["addEventListener","removeEventListener"],Ehe=["on","off"];function Hi(n,e,t,i){if(v(t)&&(i=t,t=void 0),i)return Hi(n,e,t).pipe(e2(i));const[r,s]=function Ihe(n){return v(n.addEventListener)&&v(n.removeEventListener)}(n)?xhe.map(o=>a=>n[o](e,a,t)):function Ohe(n){return v(n.addListener)&&v(n.removeListener)}(n)?Mhe.map(kU(n,e)):function Phe(n){return v(n.on)&&v(n.off)}(n)?Ehe.map(kU(n,e)):[];if(!r&&Ue(n))return ma(o=>Hi(o,e,t))(It(n));if(!r)throw new TypeError("Invalid event target");return new he(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function kU(n,e){return t=>i=>n[t](e,i)}class $n extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}class Ahe extends g{constructor(e,t){super()}schedule(e,t=0){return this}}const bS={setInterval(n,e,...t){const{delegate:i}=bS;return(null==i?void 0:i.setInterval)?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=bS;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class t2 extends Ahe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return bS.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;bS.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const n2={now:()=>(n2.delegate||Date).now(),delegate:void 0};class yb{constructor(e,t=yb.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}yb.now=n2.now;class r2 extends yb{constructor(e,t=yb.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const R_=new r2(t2),Dhe=R_;function NU(n){return n instanceof Date&&!isNaN(n)}function Jc(n=0,e,t=Dhe){let i=-1;return null!=e&&(Ni(e)?t=e:i=e),new he(r=>{let s=NU(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}var bb=A(6461);function zh(n,e=Ce){return n=null!=n?n:Rhe,tt((t,i)=>{let r,s=!0;t.subscribe(me(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function Rhe(n,e){return n===e}var FU,jd,k_=9e15,$h=1e9,s2="0123456789abcdef",vS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",CS="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",o2={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-k_,maxE:k_,crypto:!1},Bn=!0,wS="[DecimalError] ",Wh=wS+"Invalid argument: ",BU=wS+"Precision limit exceeded",LU=wS+"crypto unavailable",UU="[object Decimal]",Yo=Math.floor,Xs=Math.pow,khe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Nhe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Fhe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,HU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qc=1e7,Lhe=vS.length-1,a2=CS.length-1,St={toStringTag:UU};function Po(n){var e,t,i,r=n.length-1,s="",o=n[0];if(r>0){for(s+=o,e=1;e<r;e++)(t=7-(i=n[e]+"").length)&&(s+=Yh(t)),s+=i;(t=7-(i=(o=n[e])+"").length)&&(s+=Yh(t))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function Wa(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Wh+n)}function vb(n,e,t,i){var r,s,o,a;for(s=n[0];s>=10;s/=10)--e;return--e<0?(e+=7,r=0):(r=Math.ceil((e+1)/7),e%=7),s=Xs(10,7-e),a=n[r]%s|0,null==i?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),o=t<4&&99999==a||t>3&&49999==a||5e4==a||0==a):o=(t<4&&a+1==s||t>3&&a+1==s/2)&&(n[r+1]/s/100|0)==Xs(10,e-2)-1||(a==s/2||0==a)&&0==(n[r+1]/s/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),o=(i||t<4)&&9999==a||!i&&t>3&&4999==a):o=((i||t<4)&&a+1==s||!i&&t>3&&a+1==s/2)&&(n[r+1]/s/1e3|0)==Xs(10,e-3)-1,o}function SS(n,e,t){for(var i,s,r=[0],o=0,a=n.length;o<a;){for(s=r.length;s--;)r[s]*=e;for(r[0]+=s2.indexOf(n.charAt(o++)),i=0;i<r.length;i++)r[i]>t-1&&(void 0===r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]/t|0,r[i]%=t)}return r.reverse()}St.absoluteValue=St.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),fn(n)},St.ceil=function(){return fn(new this.constructor(this),this.e+1,2)},St.clampedTo=St.clamp=function(n,e){var i=this,r=i.constructor;if(n=new r(n),e=new r(e),!n.s||!e.s)return new r(NaN);if(n.gt(e))throw Error(Wh+e);return i.cmp(n)<0?n:i.cmp(e)>0?e:new r(i)},St.comparedTo=St.cmp=function(n){var e,t,i,r,s=this,o=s.d,a=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!o||!a)return l&&c?l!==c?l:o===a?0:!o^l<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(e=0,t=(i=o.length)<(r=a.length)?i:r;e<t;++e)if(o[e]!==a[e])return o[e]>a[e]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},St.cosine=St.cos=function(){var n,e,t=this,i=t.constructor;return t.d?t.d[0]?(e=i.rounding,i.precision=(n=i.precision)+Math.max(t.e,t.sd())+7,i.rounding=1,t=function Uhe(n,e){var t,i,r;if(e.isZero())return e;(i=e.d.length)<32?r=(1/ES(4,t=Math.ceil(i/3))).toString():(t=16,r="2.3283064365386962890625e-10"),n.precision+=t,e=N_(n,1,e.times(r),new n(1));for(var s=t;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=t,e}(i,WU(i,t)),i.precision=n,i.rounding=e,fn(2==jd||3==jd?t.neg():t,n,e,!0)):new i(1):new i(NaN)},St.cubeRoot=St.cbrt=function(){var n,e,t,i,r,s,o,a,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(Bn=!1,(s=u.s*Xs(u.s*u,1/3))&&Math.abs(s)!=1/0?i=new d(s.toString()):(t=Po(u.d),(s=((n=u.e)-t.length+1)%3)&&(t+=1==s||-2==s?"0":"00"),s=Xs(t,1/3),n=Yo((n+1)/3)-(n%3==(n<0?-1:2)),(i=new d(t=s==1/0?"5e"+n:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=u.s),o=(n=d.precision)+3;;)if(c=(l=(a=i).times(a).times(a)).plus(u),i=br(c.plus(u).times(a),c.plus(l),o+2,1),Po(a.d).slice(0,o)===(t=Po(i.d)).slice(0,o)){if("9999"!=(t=t.slice(o-3,o+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(fn(i,n+1,1),e=!i.times(i).times(i).eq(u));break}if(!r&&(fn(a,n+1,0),a.times(a).times(a).eq(u))){i=a;break}o+=4,r=1}return Bn=!0,fn(i,n,d.rounding,e)},St.decimalPlaces=St.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=7*((n=e.length-1)-Yo(this.e/7)),n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},St.dividedBy=St.div=function(n){return br(this,new this.constructor(n))},St.dividedToIntegerBy=St.divToInt=function(n){var t=this.constructor;return fn(br(this,new t(n),0,1,1),t.precision,t.rounding)},St.equals=St.eq=function(n){return 0===this.cmp(n)},St.floor=function(){return fn(new this.constructor(this),this.e+1,3)},St.greaterThan=St.gt=function(n){return this.cmp(n)>0},St.greaterThanOrEqualTo=St.gte=function(n){var e=this.cmp(n);return 1==e||0===e},St.hyperbolicCosine=St.cosh=function(){var n,e,t,i,r,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;i=o.rounding,o.precision=(t=o.precision)+Math.max(s.e,s.sd())+4,o.rounding=1,(r=s.d.length)<32?e=(1/ES(4,n=Math.ceil(r/3))).toString():(n=16,e="2.3283064365386962890625e-10"),s=N_(o,1,s.times(e),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=s.times(s),s=a.minus(l.times(u.minus(l.times(u))));return fn(s,o.precision=t,o.rounding=i,!0)},St.hyperbolicSine=St.sinh=function(){var n,e,t,i,r=this,s=r.constructor;if(!r.isFinite()||r.isZero())return new s(r);if(t=s.rounding,s.precision=(e=s.precision)+Math.max(r.e,r.sd())+4,s.rounding=1,(i=r.d.length)<3)r=N_(s,2,r,r,!0);else{n=1.4*Math.sqrt(i),r=N_(s,2,r=r.times(1/ES(5,n=n>16?16:0|n)),r,!0);for(var o,a=new s(5),l=new s(16),c=new s(20);n--;)o=r.times(r),r=r.times(a.plus(o.times(l.times(o).plus(c))))}return s.precision=e,s.rounding=t,fn(r,e,t,!0)},St.hyperbolicTangent=St.tanh=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+7,i.rounding=1,br(t.sinh(),t.cosh(),i.precision=n,i.rounding=e)):new i(t.s)},St.inverseCosine=St.acos=function(){var n=this,e=n.constructor,t=n.abs().cmp(1),i=e.precision,r=e.rounding;return-1!==t?0===t?n.isNeg()?Wu(e,i,r):new e(0):new e(NaN):n.isZero()?Wu(e,i+4,r).times(.5):(e.precision=i+6,e.rounding=1,n=new e(1).minus(n).div(n.plus(1)).sqrt().atan(),e.precision=i,e.rounding=r,n.times(2))},St.inverseHyperbolicCosine=St.acosh=function(){var n,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(e=i.rounding,i.precision=(n=i.precision)+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,Bn=!1,t=t.times(t).minus(1).sqrt().plus(t),Bn=!0,i.precision=n,i.rounding=e,t.ln()):new i(t)},St.inverseHyperbolicSine=St.asinh=function(){var n,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,Bn=!1,t=t.times(t).plus(1).sqrt().plus(t),Bn=!0,i.precision=n,i.rounding=e,t.ln())},St.inverseHyperbolicTangent=St.atanh=function(){var n,e,t,i,r=this,s=r.constructor;return r.isFinite()?r.e>=0?new s(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=s.precision,e=s.rounding,i=r.sd(),Math.max(i,n)<2*-r.e-1?fn(new s(r),n,e,!0):(s.precision=t=i-r.e,r=br(r.plus(1),new s(1).minus(r),t+n,1),s.precision=n+4,s.rounding=1,r=r.ln(),s.precision=n,s.rounding=e,r.times(.5))):new s(NaN)},St.inverseSine=St.asin=function(){var n,e,t,i,r=this,s=r.constructor;return r.isZero()?new s(r):(e=r.abs().cmp(1),t=s.precision,i=s.rounding,-1!==e?0===e?((n=Wu(s,t+4,i).times(.5)).s=r.s,n):new s(NaN):(s.precision=t+6,s.rounding=1,r=r.div(new s(1).minus(r.times(r)).sqrt().plus(1)).atan(),s.precision=t,s.rounding=i,r.times(2)))},St.inverseTangent=St.atan=function(){var n,e,t,i,r,s,o,a,l,c=this,u=c.constructor,d=u.precision,b=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=a2)return(o=Wu(u,d+4,b).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(d+4<=a2)return(o=Wu(u,d+4,b).times(.5)).s=c.s,o}for(u.precision=a=d+10,u.rounding=1,n=t=Math.min(28,a/7+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Bn=!1,e=Math.ceil(a/7),i=1,l=c.times(c),o=new u(c),r=c;-1!==n;)if(r=r.times(l),s=o.minus(r.div(i+=2)),r=r.times(l),void 0!==(o=s.plus(r.div(i+=2))).d[e])for(n=e;o.d[n]===s.d[n]&&n--;);return t&&(o=o.times(2<<t-1)),Bn=!0,fn(o,u.precision=d,u.rounding=b,!0)},St.isFinite=function(){return!!this.d},St.isInteger=St.isInt=function(){return!!this.d&&Yo(this.e/7)>this.d.length-2},St.isNaN=function(){return!this.s},St.isNegative=St.isNeg=function(){return this.s<0},St.isPositive=St.isPos=function(){return this.s>0},St.isZero=function(){return!!this.d&&0===this.d[0]},St.lessThan=St.lt=function(n){return this.cmp(n)<0},St.lessThanOrEqualTo=St.lte=function(n){return this.cmp(n)<1},St.logarithm=St.log=function(n){var e,t,i,r,s,o,a,l,c=this,u=c.constructor,d=u.precision,b=u.rounding;if(null==n)n=new u(10),e=!0;else{if(t=(n=new u(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new u(NaN);e=n.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new u(t&&!t[0]?-1/0:1!=c.s?NaN:t?0:1/0);if(e)if(t.length>1)s=!0;else{for(r=t[0];r%10==0;)r/=10;s=1!==r}if(Bn=!1,o=Xh(c,a=d+5),i=e?MS(u,a+10):Xh(n,a),vb((l=br(o,i,a,1)).d,r=d,b))do{if(o=Xh(c,a+=10),i=e?MS(u,a+10):Xh(n,a),l=br(o,i,a,1),!s){+Po(l.d).slice(r+1,r+15)+1==1e14&&(l=fn(l,d+1,0));break}}while(vb(l.d,r+=10,b));return Bn=!0,fn(l,d,b)},St.minus=St.sub=function(n){var e,t,i,r,s,o,a,l,c,u,d,b,C=this,M=C.constructor;if(n=new M(n),!C.d||!n.d)return C.s&&n.s?C.d?n.s=-n.s:n=new M(n.d||C.s!==n.s?C:NaN):n=new M(NaN),n;if(C.s!=n.s)return n.s=-n.s,C.plus(n);if(b=n.d,a=M.precision,l=M.rounding,!(c=C.d)[0]||!b[0]){if(b[0])n.s=-n.s;else{if(!c[0])return new M(3===l?-0:0);n=new M(C)}return Bn?fn(n,a,l):n}if(t=Yo(n.e/7),u=Yo(C.e/7),c=c.slice(),s=u-t){for((d=s<0)?(e=c,s=-s,o=b.length):(e=b,t=u,o=c.length),s>(i=Math.max(Math.ceil(a/7),o)+2)&&(s=i,e.length=1),e.reverse(),i=s;i--;)e.push(0);e.reverse()}else{for((d=(i=c.length)<(o=b.length))&&(o=i),i=0;i<o;i++)if(c[i]!=b[i]){d=c[i]<b[i];break}s=0}for(d&&(e=c,c=b,b=e,n.s=-n.s),i=b.length-(o=c.length);i>0;--i)c[o++]=0;for(i=b.length;i>s;){if(c[--i]<b[i]){for(r=i;r&&0===c[--r];)c[r]=Qc-1;--c[r],c[i]+=Qc}c[i]-=b[i]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--t;return c[0]?(n.d=c,n.e=TS(c,t),Bn?fn(n,a,l):n):new M(3===l?-0:0)},St.modulo=St.mod=function(n){var e,t=this,i=t.constructor;return n=new i(n),!t.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||t.d&&!t.d[0]?fn(new i(t),i.precision,i.rounding):(Bn=!1,9==i.modulo?(e=br(t,n.abs(),0,3,1)).s*=n.s:e=br(t,n,0,i.modulo,1),e=e.times(n),Bn=!0,t.minus(e))},St.naturalExponential=St.exp=function(){return l2(this)},St.naturalLogarithm=St.ln=function(){return Xh(this)},St.negated=St.neg=function(){var n=new this.constructor(this);return n.s=-n.s,fn(n)},St.plus=St.add=function(n){var e,t,i,r,s,o,a,l,c,u,d=this,b=d.constructor;if(n=new b(n),!d.d||!n.d)return d.s&&n.s?d.d||(n=new b(n.d||d.s===n.s?d:NaN)):n=new b(NaN),n;if(d.s!=n.s)return n.s=-n.s,d.minus(n);if(u=n.d,a=b.precision,l=b.rounding,!(c=d.d)[0]||!u[0])return u[0]||(n=new b(d)),Bn?fn(n,a,l):n;if(s=Yo(d.e/7),i=Yo(n.e/7),c=c.slice(),r=s-i){for(r<0?(t=c,r=-r,o=u.length):(t=u,i=s,o=c.length),r>(o=(s=Math.ceil(a/7))>o?s+1:o+1)&&(r=o,t.length=1),t.reverse();r--;)t.push(0);t.reverse()}for((o=c.length)-(r=u.length)<0&&(r=o,t=u,u=c,c=t),e=0;r;)e=(c[--r]=c[r]+u[r]+e)/Qc|0,c[r]%=Qc;for(e&&(c.unshift(e),++i),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=TS(c,i),Bn?fn(n,a,l):n},St.precision=St.sd=function(n){var e,t=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(Wh+n);return t.d?(e=jU(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},St.round=function(){var n=this,e=n.constructor;return fn(new e(n),n.e+1,e.rounding)},St.sine=St.sin=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+Math.max(t.e,t.sd())+7,i.rounding=1,t=function jhe(n,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:N_(n,2,e,e);t=1.4*Math.sqrt(i),e=N_(n,2,e=e.times(1/ES(5,t=t>16?16:0|t)),e);for(var r,s=new n(5),o=new n(16),a=new n(20);t--;)r=e.times(e),e=e.times(s.plus(r.times(o.times(r).minus(a))));return e}(i,WU(i,t)),i.precision=n,i.rounding=e,fn(jd>2?t.neg():t,n,e,!0)):new i(NaN)},St.squareRoot=St.sqrt=function(){var n,e,t,i,r,s,o=this,a=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(Bn=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=Po(a)).length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=Yo((l+1)/2)-(l<0||l%2),i=new u(e=c==1/0?"5e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):i=new u(c.toString()),t=(l=u.precision)+3;;)if(i=(s=i).plus(br(o,s,t+2,1)).times(.5),Po(s.d).slice(0,t)===(e=Po(i.d)).slice(0,t)){if("9999"!=(e=e.slice(t-3,t+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(fn(i,l+1,1),n=!i.times(i).eq(o));break}if(!r&&(fn(s,l+1,0),s.times(s).eq(o))){i=s;break}t+=4,r=1}return Bn=!0,fn(i,l,u.rounding,n)},St.tangent=St.tan=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+10,i.rounding=1,(t=t.sin()).s=1,t=br(t,new i(1).minus(t.times(t)).sqrt(),n+10,0),i.precision=n,i.rounding=e,fn(2==jd||4==jd?t.neg():t,n,e,!0)):new i(NaN)},St.times=St.mul=function(n){var e,t,i,r,s,o,a,l,c,u=this,d=u.constructor,b=u.d,C=(n=new d(n)).d;if(n.s*=u.s,!(b&&b[0]&&C&&C[0]))return new d(!n.s||b&&!b[0]&&!C||C&&!C[0]&&!b?NaN:b&&C?0*n.s:n.s/0);for(t=Yo(u.e/7)+Yo(n.e/7),(l=b.length)<(c=C.length)&&(s=b,b=C,C=s,o=l,l=c,c=o),s=[],i=o=l+c;i--;)s.push(0);for(i=c;--i>=0;){for(e=0,r=l+i;r>i;)a=s[r]+C[i]*b[r-i-1]+e,s[r--]=a%Qc|0,e=a/Qc|0;s[r]=(s[r]+e)%Qc|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=TS(s,t),Bn?fn(n,d.precision,d.rounding):n},St.toBinary=function(n,e){return c2(this,2,n,e)},St.toDecimalPlaces=St.toDP=function(n,e){var t=this,i=t.constructor;return t=new i(t),void 0===n?t:(Wa(n,0,$h),void 0===e?e=i.rounding:Wa(e,0,8),fn(t,n+t.e+1,e))},St.toExponential=function(n,e){var t,i=this,r=i.constructor;return void 0===n?t=$u(i,!0):(Wa(n,0,$h),void 0===e?e=r.rounding:Wa(e,0,8),t=$u(i=fn(new r(i),n+1,e),!0,n+1)),i.isNeg()&&!i.isZero()?"-"+t:t},St.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return void 0===n?t=$u(r):(Wa(n,0,$h),void 0===e?e=s.rounding:Wa(e,0,8),t=$u(i=fn(new s(r),n+r.e+1,e),!1,n+i.e+1)),r.isNeg()&&!r.isZero()?"-"+t:t},St.toFraction=function(n){var e,t,i,r,s,o,a,l,c,u,d,b,C=this,M=C.d,I=C.constructor;if(!M)return new I(C);if(c=t=new I(1),i=l=new I(0),s=(e=new I(i)).e=jU(M)-C.e-1,e.d[0]=Xs(10,(o=s%7)<0?7+o:o),null==n)n=s>0?e:c;else{if(!(a=new I(n)).isInt()||a.lt(c))throw Error(Wh+a);n=a.gt(e)?s>0?e:c:a}for(Bn=!1,a=new I(Po(M)),u=I.precision,I.precision=s=7*M.length*2;d=br(a,e,0,1,1),1!=(r=t.plus(d.times(i))).cmp(n);)t=i,i=r,c=l.plus(d.times(r=c)),l=r,e=a.minus(d.times(r=e)),a=r;return r=br(n.minus(t),i,0,1,1),l=l.plus(r.times(c)),t=t.plus(r.times(i)),l.s=c.s=C.s,b=br(c,i,s,1).minus(C).abs().cmp(br(l,t,s,1).minus(C).abs())<1?[c,i]:[l,t],I.precision=u,Bn=!0,b},St.toHexadecimal=St.toHex=function(n,e){return c2(this,16,n,e)},St.toNearest=function(n,e){var t=this,i=t.constructor;if(t=new i(t),null==n){if(!t.d)return t;n=new i(1),e=i.rounding}else{if(n=new i(n),void 0===e?e=i.rounding:Wa(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Bn=!1,t=br(t,n,0,e,1).times(n),Bn=!0,fn(t)):(n.s=t.s,t=n),t},St.toNumber=function(){return+this},St.toOctal=function(n,e){return c2(this,8,n,e)},St.toPower=St.pow=function(n){var e,t,i,r,s,o,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l(Xs(+a,c));if((a=new l(a)).eq(1))return a;if(i=l.precision,s=l.rounding,n.eq(1))return fn(a,i,s);if((e=Yo(n.e/7))>=n.d.length-1&&(t=c<0?-c:c)<=9007199254740991)return r=GU(l,a,t,i),n.s<0?new l(1).div(r):fn(r,i,s);if((o=a.s)<0){if(e<n.d.length-1)return new l(NaN);if(0==(1&n.d[e])&&(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(e=0!=(t=Xs(+a,c))&&isFinite(t)?new l(t+"").e:Yo(c*(Math.log("0."+Po(a.d))/Math.LN10+a.e+1)))>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(Bn=!1,l.rounding=a.s=1,t=Math.min(12,(e+"").length),(r=l2(n.times(Xh(a,i+t)),i)).d&&vb((r=fn(r,i+5,1)).d,i,s)&&+Po((r=fn(l2(n.times(Xh(a,(e=i+10)+t)),e),e+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=fn(r,i+1,0)),r.s=o,Bn=!0,l.rounding=s,fn(r,i,s))},St.toPrecision=function(n,e){var t,i=this,r=i.constructor;return void 0===n?t=$u(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(Wa(n,1,$h),void 0===e?e=r.rounding:Wa(e,0,8),t=$u(i=fn(new r(i),n,e),n<=i.e||i.e<=r.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+t:t},St.toSignificantDigits=St.toSD=function(n,e){var i=this.constructor;return void 0===n?(n=i.precision,e=i.rounding):(Wa(n,1,$h),void 0===e?e=i.rounding:Wa(e,0,8)),fn(new i(this),n,e)},St.toString=function(){var n=this,e=n.constructor,t=$u(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},St.truncated=St.trunc=function(){return fn(new this.constructor(this),this.e+1,1)},St.valueOf=St.toJSON=function(){var n=this,e=n.constructor,t=$u(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var br=function(){function n(i,r,s){var o,a=0,l=i.length;for(i=i.slice();l--;)i[l]=(o=i[l]*r+a)%s|0,a=o/s|0;return a&&i.unshift(a),i}function e(i,r,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(i[a]!=r[a]){l=i[a]>r[a]?1:-1;break}return l}function t(i,r,s,o){for(var a=0;s--;)i[s]-=a,i[s]=(a=i[s]<r[s]?1:0)*o+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,o,a,l){var c,u,d,b,C,M,I,k,B,L,H,Y,se,ue,oe,de,ae,fe,Re,ve,_e=i.constructor,Oe=i.s==r.s?1:-1,Ge=i.d,Ee=r.d;if(!(Ge&&Ge[0]&&Ee&&Ee[0]))return new _e(i.s&&r.s&&(Ge?!Ee||Ge[0]!=Ee[0]:Ee)?Ge&&0==Ge[0]||!Ee?0*Oe:Oe/0:NaN);for(l?(C=1,u=i.e-r.e):(l=Qc,u=Yo(i.e/(C=7))-Yo(r.e/C)),Re=Ee.length,ae=Ge.length,L=(B=new _e(Oe)).d=[],d=0;Ee[d]==(Ge[d]||0);d++);if(Ee[d]>(Ge[d]||0)&&u--,null==s?(ue=s=_e.precision,o=_e.rounding):ue=a?s+(i.e-r.e)+1:s,ue<0)L.push(1),M=!0;else{if(ue=ue/C+2|0,d=0,1==Re){for(b=0,Ee=Ee[0],ue++;(d<ae||b)&&ue--;d++)L[d]=(oe=b*l+(Ge[d]||0))/Ee|0,b=oe%Ee|0;M=b||d<ae}else{for((b=l/(Ee[0]+1)|0)>1&&(Ee=n(Ee,b,l),Ge=n(Ge,b,l),Re=Ee.length,ae=Ge.length),de=Re,Y=(H=Ge.slice(0,Re)).length;Y<Re;)H[Y++]=0;(ve=Ee.slice()).unshift(0),fe=Ee[0],Ee[1]>=l/2&&++fe;do{b=0,(c=e(Ee,H,Re,Y))<0?(se=H[0],Re!=Y&&(se=se*l+(H[1]||0)),(b=se/fe|0)>1?(b>=l&&(b=l-1),1==(c=e(I=n(Ee,b,l),H,k=I.length,Y=H.length))&&(b--,t(I,Re<k?ve:Ee,k,l))):(0==b&&(c=b=1),I=Ee.slice()),(k=I.length)<Y&&I.unshift(0),t(H,I,Y,l),-1==c&&(c=e(Ee,H,Re,Y=H.length))<1&&(b++,t(H,Re<Y?ve:Ee,Y,l)),Y=H.length):0===c&&(b++,H=[0]),L[d++]=b,c&&H[0]?H[Y++]=Ge[de]||0:(H=[Ge[de]],Y=1)}while((de++<ae||void 0!==H[0])&&ue--);M=void 0!==H[0]}L[0]||L.shift()}if(1==C)B.e=u,FU=M;else{for(d=1,b=L[0];b>=10;b/=10)d++;B.e=d+u*C-1,fn(B,a?s+B.e+1:s,o,M)}return B}}();function fn(n,e,t,i){var r,s,o,a,l,c,u,d,b,C=n.constructor;e:if(null!=e){if(!(d=n.d))return n;for(r=1,a=d[0];a>=10;a/=10)r++;if((s=e-r)<0)s+=7,l=(u=d[b=0])/Xs(10,r-(o=e)-1)%10|0;else if((b=Math.ceil((s+1)/7))>=(a=d.length)){if(!i)break e;for(;a++<=b;)d.push(0);u=l=0,r=1,o=(s%=7)-7+1}else{for(u=a=d[b],r=1;a>=10;a/=10)r++;l=(o=(s%=7)-7+r)<0?0:u/Xs(10,r-o-1)%10|0}if(i=i||e<0||void 0!==d[b+1]||(o<0?u:u%Xs(10,r-o-1)),c=t<4?(l||i)&&(0==t||t==(n.s<0?3:2)):l>5||5==l&&(4==t||i||6==t&&(s>0?o>0?u/Xs(10,r-o):0:d[b-1])%10&1||t==(n.s<0?8:7)),e<1||!d[0])return d.length=0,c?(d[0]=Xs(10,(7-(e-=n.e+1)%7)%7),n.e=-e||0):d[0]=n.e=0,n;if(0==s?(d.length=b,a=1,b--):(d.length=b+1,a=Xs(10,7-s),d[b]=o>0?(u/Xs(10,r-o)%Xs(10,o)|0)*a:0),c)for(;;){if(0==b){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(n.e++,d[0]==Qc&&(d[0]=1));break}if(d[b]+=a,d[b]!=Qc)break;d[b--]=0,a=1}for(s=d.length;0===d[--s];)d.pop()}return Bn&&(n.e>C.maxE?(n.d=null,n.e=NaN):n.e<C.minE&&(n.e=0,n.d=[0])),n}function $u(n,e,t){if(!n.isFinite())return $U(n);var i,r=n.e,s=Po(n.d),o=s.length;return e?(t&&(i=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+Yh(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):r<0?(s="0."+Yh(-r-1)+s,t&&(i=t-o)>0&&(s+=Yh(i))):r>=o?(s+=Yh(r+1-o),t&&(i=t-r-1)>0&&(s=s+"."+Yh(i))):((i=r+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-o)>0&&(r+1===o&&(s+="."),s+=Yh(i))),s}function TS(n,e){var t=n[0];for(e*=7;t>=10;t/=10)e++;return e}function MS(n,e,t){if(e>Lhe)throw Bn=!0,t&&(n.precision=t),Error(BU);return fn(new n(vS),e,1,!0)}function Wu(n,e,t){if(e>a2)throw Error(BU);return fn(new n(CS),e,t,!0)}function jU(n){var e=n.length-1,t=7*e+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Yh(n){for(var e="";n--;)e+="0";return e}function GU(n,e,t,i){var r,s=new n(1),o=Math.ceil(i/7+4);for(Bn=!1;;){if(t%2&&YU((s=s.times(e)).d,o)&&(r=!0),0===(t=Yo(t/2))){t=s.d.length-1,r&&0===s.d[t]&&++s.d[t];break}YU((e=e.times(e)).d,o)}return Bn=!0,s}function VU(n){return 1&n.d[n.d.length-1]}function zU(n,e,t){for(var i,r,s=new n(e[0]),o=0;++o<e.length;){if(!(r=new n(e[o])).s){s=r;break}((i=s.cmp(r))===t||0===i&&s.s===t)&&(s=r)}return s}function l2(n,e){var t,i,r,s,o,a,l,c=0,u=0,d=0,b=n.constructor,C=b.rounding,M=b.precision;if(!n.d||!n.d[0]||n.e>17)return new b(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==e?(Bn=!1,l=M):l=e,a=new b(.03125);n.e>-2;)n=n.times(a),d+=5;for(l+=i=Math.log(Xs(2,d))/Math.LN10*2+5|0,t=s=o=new b(1),b.precision=l;;){if(s=fn(s.times(n),l,1),t=t.times(++u),Po((a=o.plus(br(s,t,l,1))).d).slice(0,l)===Po(o.d).slice(0,l)){for(r=d;r--;)o=fn(o.times(o),l,1);if(null!=e)return b.precision=M,o;if(!(c<3&&vb(o.d,l-i,C,c)))return fn(o,b.precision=M,C,Bn=!0);b.precision=l+=10,t=s=a=new b(1),u=0,c++}o=a}}function Xh(n,e){var t,i,r,s,o,a,l,c,u,d,b,C=1,I=n,k=I.d,B=I.constructor,L=B.rounding,H=B.precision;if(I.s<0||!k||!k[0]||!I.e&&1==k[0]&&1==k.length)return new B(k&&!k[0]?-1/0:1!=I.s?NaN:k?0:I);if(null==e?(Bn=!1,u=H):u=e,B.precision=u+=10,i=(t=Po(k)).charAt(0),!(Math.abs(s=I.e)<15e14))return c=MS(B,u+2,H).times(s+""),I=Xh(new B(i+"."+t.slice(1)),u-10).plus(c),B.precision=H,null==e?fn(I,H,L,Bn=!0):I;for(;i<7&&1!=i||1==i&&t.charAt(1)>3;)i=(t=Po((I=I.times(n)).d)).charAt(0),C++;for(s=I.e,i>1?(I=new B("0."+t),s++):I=new B(i+"."+t.slice(1)),d=I,l=o=I=br(I.minus(1),I.plus(1),u,1),b=fn(I.times(I),u,1),r=3;;){if(o=fn(o.times(b),u,1),Po((c=l.plus(br(o,new B(r),u,1))).d).slice(0,u)===Po(l.d).slice(0,u)){if(l=l.times(2),0!==s&&(l=l.plus(MS(B,u+2,H).times(s+""))),l=br(l,new B(C),u,1),null!=e)return B.precision=H,l;if(!vb(l.d,u-10,L,a))return fn(l,B.precision=H,L,Bn=!0);B.precision=u+=10,c=o=I=br(d.minus(1),d.plus(1),u,1),b=fn(I.times(I),u,1),r=a=1}l=c,r+=2}}function $U(n){return String(n.s*n.s/0)}function xS(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;48===e.charCodeAt(i);i++);for(r=e.length;48===e.charCodeAt(r-1);--r);if(e=e.slice(i,r)){if(r-=i,n.e=t=t-i-1,n.d=[],i=(t+1)%7,t<0&&(i+=7),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=7;i<r;)n.d.push(+e.slice(i,i+=7));i=7-(e=e.slice(i)).length}else i-=r;for(;i--;)e+="0";n.d.push(+e),Bn&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function N_(n,e,t,i,r){var s,o,a,l,u=n.precision,d=Math.ceil(u/7);for(Bn=!1,l=t.times(t),a=new n(i);;){if(o=br(a.times(l),new n(e++*e++),u,1),a=r?i.plus(o):i.minus(o),i=br(o.times(l),new n(e++*e++),u,1),void 0!==(o=a.plus(i)).d[d]){for(s=d;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=i,i=o,o=s}return Bn=!0,o.d.length=d+1,o}function ES(n,e){for(var t=n;--e;)t*=n;return t}function WU(n,e){var t,i=e.s<0,r=Wu(n,n.precision,1),s=r.times(.5);if((e=e.abs()).lte(s))return jd=i?4:1,e;if((t=e.divToInt(r)).isZero())jd=i?3:2;else{if((e=e.minus(t.times(r))).lte(s))return jd=VU(t)?i?2:3:i?4:1,e;jd=VU(t)?i?1:4:i?3:2}return e.minus(r).abs()}function c2(n,e,t,i){var r,s,o,a,l,c,u,d,b,C=n.constructor,M=void 0!==t;if(M?(Wa(t,1,$h),void 0===i?i=C.rounding:Wa(i,0,8)):(t=C.precision,i=C.rounding),n.isFinite()){for(M?(r=2,16==e?t=4*t-3:8==e&&(t=3*t-2)):r=e,(o=(u=$u(n)).indexOf("."))>=0&&(u=u.replace(".",""),(b=new C(1)).e=u.length-o,b.d=SS($u(b),10,r),b.e=b.d.length),s=l=(d=SS(u,10,r)).length;0==d[--l];)d.pop();if(d[0]){if(o<0?s--:((n=new C(n)).d=d,n.e=s,d=(n=br(n,b,t,i,0,r)).d,s=n.e,c=FU),o=d[t],a=r/2,c=c||void 0!==d[t+1],c=i<4?(void 0!==o||c)&&(0===i||i===(n.s<0?3:2)):o>a||o===a&&(4===i||c||6===i&&1&d[t-1]||i===(n.s<0?8:7)),d.length=t,c)for(;++d[--t]>r-1;)d[t]=0,t||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,u="";o<l;o++)u+=s2.charAt(d[o]);if(M){if(l>1)if(16==e||8==e){for(o=16==e?4:3,--l;l%o;l++)u+="0";for(l=(d=SS(u,r,e)).length;!d[l-1];--l);for(o=1,u="1.";o<l;o++)u+=s2.charAt(d[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=M?"0p+0":"0";u=(16==e?"0x":2==e?"0b":8==e?"0o":"")+u}else u=$U(n);return n.s<0?"-"+u:u}function YU(n,e){if(n.length>e)return n.length=e,!0}function Ghe(n){return new this(n).abs()}function Vhe(n){return new this(n).acos()}function zhe(n){return new this(n).acosh()}function $he(n,e){return new this(n).plus(e)}function Whe(n){return new this(n).asin()}function Yhe(n){return new this(n).asinh()}function Xhe(n){return new this(n).atan()}function qhe(n){return new this(n).atanh()}function Khe(n,e){n=new this(n),e=new this(e);var t,i=this.precision,r=this.rounding,s=i+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?Wu(this,i,r):new this(0)).s=n.s:!n.d||e.isZero()?(t=Wu(this,s,1).times(.5)).s=n.s:e.s<0?(this.precision=s,this.rounding=1,t=this.atan(br(n,e,s,1)),e=Wu(this,s,1),this.precision=i,this.rounding=r,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(br(n,e,s,1)):(t=Wu(this,s,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function Jhe(n){return new this(n).cbrt()}function Qhe(n){return fn(n=new this(n),n.e+1,2)}function Zhe(n,e,t){return new this(n).clamp(e,t)}function epe(n){if(!n||"object"!=typeof n)throw Error(wS+"Object expected");var e,t,i,r=!0===n.defaults,s=["precision",1,$h,"rounding",0,8,"toExpNeg",-k_,0,"toExpPos",0,k_,"maxE",0,k_,"minE",-k_,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(t=s[e],r&&(this[t]=o2[t]),void 0!==(i=n[t])){if(!(Yo(i)===i&&i>=s[e+1]&&i<=s[e+2]))throw Error(Wh+t+": "+i);this[t]=i}if(t="crypto",r&&(this[t]=o2[t]),void 0!==(i=n[t])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(Wh+t+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(LU);this[t]=!0}else this[t]=!1}return this}function tpe(n){return new this(n).cos()}function npe(n){return new this(n).cosh()}function ipe(n,e){return new this(n).div(e)}function rpe(n){return new this(n).exp()}function spe(n){return fn(n=new this(n),n.e+1,3)}function ope(){var n,e,t=new this(0);for(Bn=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Bn=!0,new this(1/0);t=e}return Bn=!0,t.sqrt()}function qU(n){return n instanceof Fi||n&&n.toStringTag===UU||!1}function ape(n){return new this(n).ln()}function lpe(n,e){return new this(n).log(e)}function cpe(n){return new this(n).log(2)}function upe(n){return new this(n).log(10)}function dpe(){return zU(this,arguments,-1)}function hpe(){return zU(this,arguments,1)}function ppe(n,e){return new this(n).mod(e)}function fpe(n,e){return new this(n).mul(e)}function gpe(n,e){return new this(n).pow(e)}function mpe(n){var e,t,i,r,s=0,o=new this(1),a=[];if(void 0===n?n=this.precision:Wa(n,1,$h),i=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));s<i;)(r=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=r%1e7;else{if(!crypto.randomBytes)throw Error(LU);for(e=crypto.randomBytes(i*=4);s<i;)(r=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(r%1e7),s+=4);s=i/4}else for(;s<i;)a[s++]=1e7*Math.random()|0;for(n%=7,(i=a[--s])&&n&&(r=Xs(10,7-n),a[s]=(i/r|0)*r);0===a[s];s--)a.pop();if(s<0)t=0,a=[0];else{for(t=-1;0===a[0];t-=7)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<7&&(t-=7-i)}return o.e=t,o.d=a,o}function _pe(n){return fn(n=new this(n),n.e+1,this.rounding)}function ype(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function bpe(n){return new this(n).sin()}function vpe(n){return new this(n).sinh()}function Cpe(n){return new this(n).sqrt()}function wpe(n,e){return new this(n).sub(e)}function Spe(){var n=0,e=arguments,t=new this(e[n]);for(Bn=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Bn=!0,fn(t,this.precision,this.rounding)}function Tpe(n){return new this(n).tan()}function Mpe(n){return new this(n).tanh()}function xpe(n){return fn(n=new this(n),n.e+1,1)}St[Symbol.for("nodejs.util.inspect.custom")]=St.toString,St[Symbol.toStringTag]="Decimal";var Fi=St.constructor=function XU(n){var e,t,i;function r(s){var o,a,l,c=this;if(!(c instanceof r))return new r(s);if(c.constructor=r,qU(s))return c.s=s.s,void(Bn?!s.d||s.e>r.maxE?(c.e=NaN,c.d=null):s.e<r.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d));if("number"==(l=typeof s)){if(0===s)return c.s=1/s<0?-1:1,c.e=0,void(c.d=[0]);if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;return void(Bn?o>r.maxE?(c.e=NaN,c.d=null):o<r.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[s]):(c.e=o,c.d=[s]))}return 0*s!=0?(s||(c.s=NaN),c.e=NaN,void(c.d=null)):xS(c,s.toString())}if("string"===l)return 45===(a=s.charCodeAt(0))?(s=s.slice(1),c.s=-1):(43===a&&(s=s.slice(1)),c.s=1),HU.test(s)?xS(c,s):function Hhe(n,e){var t,i,r,s,o,a,l,c,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),HU.test(e))return xS(n,e)}else if("Infinity"===e||"NaN"===e)return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(Nhe.test(e))t=16,e=e.toLowerCase();else if(khe.test(e))t=2;else{if(!Fhe.test(e))throw Error(Wh+e);t=8}for((s=e.search(/p/i))>0?(l=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),i=n.constructor,(o=s>=0)&&(s=(a=(e=e.replace(".","")).length)-s,r=GU(i,new i(t),s,2*s)),s=u=(c=SS(e,t,Qc)).length-1;0===c[s];--s)c.pop();return s<0?new i(0*n.s):(n.e=TS(c,u),n.d=c,Bn=!1,o&&(n=br(n,r,4*a)),l&&(n=n.times(Math.abs(l)<54?Xs(2,l):Fi.pow(2,l))),Bn=!0,n)}(c,s);if("bigint"===l)return s<0?(s=-s,c.s=-1):c.s=1,xS(c,s.toString());throw Error(Wh+s)}if(r.prototype=St,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=epe,r.clone=XU,r.isDecimal=qU,r.abs=Ghe,r.acos=Vhe,r.acosh=zhe,r.add=$he,r.asin=Whe,r.asinh=Yhe,r.atan=Xhe,r.atanh=qhe,r.atan2=Khe,r.cbrt=Jhe,r.ceil=Qhe,r.clamp=Zhe,r.cos=tpe,r.cosh=npe,r.div=ipe,r.exp=rpe,r.floor=spe,r.hypot=ope,r.ln=ape,r.log=lpe,r.log10=upe,r.log2=cpe,r.max=dpe,r.min=hpe,r.mod=ppe,r.mul=fpe,r.pow=gpe,r.random=mpe,r.round=_pe,r.sign=ype,r.sin=bpe,r.sinh=vpe,r.sqrt=Cpe,r.sub=wpe,r.sum=Spe,r.tan=Tpe,r.tanh=Mpe,r.trunc=xpe,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}(o2);function $r(n){return tt((e,t)=>{It(n).subscribe(me(t,()=>t.complete(),O)),!t.closed&&e.subscribe(t)})}vS=new Fi(vS),CS=new Fi(CS);const Epe=Z1,Ppe=Symbol("__destroy"),KU=Symbol("__decoratorApplied");function JU(n){return"string"==typeof n?Symbol(`__destroy__${n}`):Ppe}function QU(n,e){n[e]||(n[e]=new Ze)}function ZU(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function eH(n){n instanceof g&&n.unsubscribe()}function tH(n,e){return function(){var t;if(n&&n.call(this),ZU(this,JU()),e.arrayName)return function Ape(n){Array.isArray(n)&&n.forEach(eH)}(this[e.arrayName]);if(e.checkProperties)for(const i in this)(null===(t=e.blackList)||void 0===t?void 0:t.includes(i))||eH(this[i])}}function _i(n={}){return e=>{!function Ope(n){return!!n[Epe]}(e)?function Dpe(n,e){n.prototype.ngOnDestroy=tH(n.prototype.ngOnDestroy,e)}(e,n):function Rpe(n,e){const t=n.\u0275pipe;t.onDestroy=tH(t.onDestroy,e)}(e,n),function Ipe(n){n.prototype[KU]=!0}(e)}}function kt(n,e){return t=>{const i=JU(e);return"string"==typeof e?function kpe(n,e,t){const i=n[e];QU(n,t),n[e]=function(){i.apply(this,arguments),ZU(this,t),n[e]=i}}(n,e,i):QU(n,i),t.pipe($r(n[i]))}}function Npe(n,e){if(1&n&&(ft(0),ce(1,"app-toast-wrapper",2),gt()),2&n){const t=e.$implicit;S(1),F("toast",t)("@toastAnimation",void 0)}}let qh=(()=>{class n{constructor(){this.channels={},this.isHowlerListenersInitialized=!1}init(t){bb.Howler.unload(),this.channels={},Object.entries(t).forEach(([i,r])=>{this.channels[i]={howl:new Howl(r),options:r}}),this.muteAll(!0),this.initializeHowlerListeners()}play(t,i){var r;null===(r=this.getHowl(t))||void 0===r||r.play(i)}pause(t,i){var r;null===(r=this.getHowl(t))||void 0===r||r.pause(i)}stop(t,i){var r;null===(r=this.getHowl(t))||void 0===r||r.stop(i)}mute(t,i){var r;null===(r=this.getHowl(t))||void 0===r||r.mute(i)}stopAll(){Object.keys(this.channels).forEach(t=>this.stop(t))}getHowl(t){return t in this.channels?this.channels[t].howl:void 0}initializeHowlerListeners(){this.isHowlerListenersInitialized||(bb.Howler.ctx.onstatechange=()=>{"running"===bb.Howler.ctx.state&&Object.entries(this.channels).forEach(([t,i])=>{i.options.autoplay||this.stop(t)})},Hi(window,"visibilitychange").subscribe(()=>{document.hidden||this.resumeAudioContext(),bb.Howler.mute(document.hidden)}),this.isHowlerListenersInitialized=!0)}resumeAudioContext(){var t;try{null===(t=bb.Howler.ctx)||void 0===t||t.resume()}catch(i){console.error("Failed to resume audio context",i)}}muteAll(t){Object.keys(this.channels).forEach(i=>this.mute(i,t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Cb=(()=>{return(n=Cb||(Cb={})).SessionStorage="sessionStorage",n.LocalStorage="localStorage",Cb;var n})();class Fpe{constructor(){this.storage=new Map}get length(){return this.storage.size}clear(){this.storage.clear()}key(e){return Array.from(this.storage.keys())[e]||null}removeItem(e){this.storage.delete(e)}getItem(e){return this.storage.get(e)||null}setItem(e,t){this.storage.set(e,""+t)}}let nH=(()=>{class n{constructor(){this._session=this.setStorage(Cb.SessionStorage),this._local=this.setStorage(Cb.LocalStorage)}get session(){return this._session}get local(){return this._local}setStorage(t){try{const i="__storage_test__";return window[t].setItem(i,i),window[t].removeItem(i),window[t]}catch(i){return new Fpe}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bpe=["adjarabet","spribegaming","spribe"];let xf=(()=>{class n{constructor(){this.betPrecision=2,this.multiplierPrecision=2,this.isUseMaskedUsername=!0}setBuildConfig(t){Object.assign(n,t)}setBackendConfig(t){Object.assign(this,t)}}return n.packageVersion="",n.isDomainMirroringEnabled=!1,n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lpe=(()=>{class n{constructor(){const t=location.hostname.split(".");this.secondLevel=t[t.length-2],this.topLevel=t[t.length-1]}mirrorURL(t){const i=new URL(t);return i.hostname=this.mirrorHostname(i.hostname),i.href}mirrorHostname(t){if(!xf.isDomainMirroringEnabled||!this.secondLevel||!this.topLevel||Bpe.includes(this.secondLevel))return t;const i=t.split(".");return t.replace(`.${i[i.length-2]}.${i[i.length-1]}`,`.${this.secondLevel}.${this.topLevel}`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Di=(()=>{return(n=Di||(Di={})).Init="ifc.init",n.Close="ifc.close",n.BackToHome="ifc.back.to.home",n.Sound="ifc.sound",n.Music="ifc.music",n.Animation="ifc.animation",n.WinInfo="ifc.win.info",n.UpdateBalance="ifc.update.balance",n.UpdateStake="ifc.update.stake",n.StartBetTimer="ifc.start.bet.timer",n.StartRound="ifc.start.round",n.EndRound="ifc.end.round",n.MakeBet="ifc.make.bet",n.MakeBetComplete="ifc.make.bet.complete",n.CancelBet="ifc.cancel.bet",n.CancelBetComplete="ifc.cancel.bet.complete",n.Cashout="ifc.cashout",n.CashoutComplete="ifc.cashout.complete",n.Autoplay="ifc.autoplay",n.SwitchGame="ifc.switch.game",n.AccountHistory="ifc.account.history",n.InternalRealityCheck="ifc.internal.reality.check",n.AviaPortWaitingInit="ifc.ap.waiting.init",n.AviaPortUpdateFreeBet="ifc.ap.update.free.bet",n.AviaPortClaimFreeBet="ifc.ap.claim.free.bet",n.AviaPortShowFreeBetModal="ifc.ap.show.free.bet.modal",n.AviaPortChatInit="ifc.ap.chat.init",Di;var n})(),Ir=(()=>{return(n=Ir||(Ir={})).SetBalance="ifc.set.balance",n.UpdateBalance="ifc.update.balance",n.SetSound="ifc.set.sound",n.SetMusic="ifc.set.music",n.SetAnimation="ifc.set.animation",n.StopAutoplay="ifc.stop.autoplay",n.OpenHelp="ifc.open.help",n.LockUI="ifc.lock.UI",n.ContinueInternalRealityCheck="ifc.continue.internal.reality.check",n.StopInternalRealityCheck="ifc.stop.internal.reality.check",n.AviaPortToggleGameMenu="ifc.ap.toggle.game.menu",n.AviaPortToggleChat="ifc.ap.toggle.chat",n.AviaPortInit="ifc.ap.init",n.AviaPortSelectFreeBet="ifc.ap.select.free.bet",Ir;var n})();class iH{static send(e,...t){console.info(`\u{1f53a} ${e}`,...t)}static receive(e,...t){console.info(`\u{1f53d} ${e}`,...t)}static info(e,...t){console.info(`${e}`,...t)}}function OS(){try{return window.self!==window.top}catch(n){return!0}}let Xo=(()=>{class n{constructor(){this.isInited=!1,this.isGameInited=!1,this.isInFrame=OS(),this._receive=new Ze,this._receive$=this._receive.asObservable()}init(){!this.isInFrame||this.isInited||(this.isInited=!0,Hi(window,"message").pipe(cn(t=>Object.values(Ir).includes(t.data.cmd))).subscribe(t=>this.onMessageReceive(t.data)))}onMessageReceive(t){(function Upe(n){lo({type:"ifc",level:"info",category:"ifc.receive",data:{action:n.cmd,data:n.data}})})(t),iH.receive("IFC RECEIVE",t.cmd,t.data),this._receive.next(t)}receive$(t){return this._receive$.pipe(cn(i=>i.cmd===t),ke(i=>i.data))}send(t,i){if(this.isInFrame){iH.send("IFC SEND",t,i);try{parent.postMessage({type:t,data:i},"*")}catch(r){return}}}sendInit(t){const i=Object.assign(Object.assign({},t),{isReInit:this.isGameInited});this.send(Di.Init,i),this.isGameInited=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zn=(()=>{class n{constructor(t){this.configService=t,this.minIntegerDigits=1}transform(t,i){if(!Number.isFinite(t))return"";const r=null!=i?i:this.configService.betPrecision;return dw(new Fi(t).toDecimalPlaces(r,Fi.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(t){return new(t||n)(W(xf,16))},n.\u0275pipe=ss({name:"currencyPrecision",type:n,pure:!0}),n})(),Ar=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})(),rH=(()=>{class n{transform(t,i=", "){return t?t.join(i):""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=ss({name:"join",type:n,pure:!0}),n})(),Hpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[rH]}),n})(),Ya=(()=>{class n{constructor(t){this.configService=t}transform(t){return this.configService.isUseMaskedUsername?t&&"string"==typeof t?`${t.charAt(0)}***${t.charAt(t.length-1)}`.toLowerCase():"*****":t}}return n.\u0275fac=function(t){return new(t||n)(W(xf,16))},n.\u0275pipe=ss({name:"maskedUsername",type:n,pure:!0}),n})(),Gd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})(),qo=(()=>{class n{constructor(t){this.configService=t,this.minIntegerDigits=1}transform(t,i){if(!Number.isFinite(t))return"";const r=null!=i?i:this.configService.multiplierPrecision;return dw(new Fi(t).toDecimalPlaces(r,Fi.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(t){return new(t||n)(W(xf,16))},n.\u0275pipe=ss({name:"multiplierPrecision",type:n,pure:!0}),n})(),Zc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})();function qs(n){const e=xf.packageVersion;return e?`${n}?v=${e}`:n}let Vd=(()=>{class n{transform(t){return qs(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=ss({name:"versionedUrl",type:n,pure:!0}),n})(),zd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[Vd]}),n})();var wb=(()=>{return(n=wb||(wb={})).IrcDuration="irc_duration",n.IrcElapsed="irc_elapsed",n.GameSessionId="gameSessionId",n.SisalToken="sisaltoken",n.LicenseeId="licenseeid",n.IsbgameId="isbgameid",n.IsbskinId="isbskinid",n.Country="country",n.LauncherCode="launchercode",n.Extra="extra",n.Username="username",n.IsoftBetOperator="isoftBetOperator",n.Rci="rci",n.RealityCheckUKLimit="realitycheck_uk_limit",n.RealityCheckUkElapsed="realitycheck_uk_elapsed",n.RealityCheckTimeout="realityCheckTimeout",n.LoggedInTime="loggedInTime",n.ExtraData="extraData",wb;var n})(),yl=(()=>{return(n=yl||(yl={})).User="user",n.Token="token",n.Currency="currency",n.Lang="lang",n.Operator="operator",n.ReturnUrl="return_url",n.AccountHistoryUrl="account_history_url",n.Jurisdiction="jurisdiction",n.Aviaport="aviaport",n.AviaportBaseGameUrl="aviaport_base_game_url",yl;var n})();let ac=(()=>{class n{constructor(){this.searchParams=new URLSearchParams(window.location.search),this.user=this.getRequiredParam(yl.User),this.operator=this.getRequiredParam(yl.Operator),this.currency=this.getRequiredParam(yl.Currency),this.returnUrl=this.getOptionalUrlParam(yl.ReturnUrl),this.accountHistoryUrl=this.getOptionalUrlParam(yl.AccountHistoryUrl),this.jurisdiction=this.getOptionalParam(yl.Jurisdiction),this.aviaport=this.getOptionalParam(yl.Aviaport),this.aviaportBaseGameUrl=this.getOptionalParam(yl.AviaportBaseGameUrl),this.lang=this.getOptionalLangParam(yl.Lang),this.additionalParams=new Map,Object.values(wb).forEach(t=>{const i=this.getOptionalParam(t);i&&this.additionalParams.set(t,i)}),this.token="sisal"===this.operator.toLowerCase()?this.getRequiredParam(wb.SisalToken):this.getRequiredParam(yl.Token),this.setSentryTags()}getRequiredParam(t){const i=this.searchParams.get(t);if(!i)throw new Error(`URL parameters are missing or invalid. Key: ${t} | Value: ${i}`);return i}getOptionalLangParam(t){const i=this.searchParams.get(t);return i?i.toLowerCase():"en"}getOptionalParam(t){return this.searchParams.get(t)||null}getOptionalUrlParam(t){return this.validateHttpUrl(this.getOptionalParam(t))}validateHttpUrl(t){if(!t)return null;try{const i=new URL(t);return"http:"===i.protocol||"https:"===i.protocol?i.toString():null}catch(i){return null}}setSentryTags(){Hu("url.param.user",this.user),Hu("url.param.operator",this.operator),Hu("url.param.currency",this.currency),Hu("url.param.token",this.token),Hu("url.param.lang",this.lang),Hu("url.param.return_url",this.returnUrl),Hu("url.param.account_history_url",this.accountHistoryUrl),Hu("url.param.jurisdiction",this.jurisdiction)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gpe={duration:2e3};let Io=(()=>{class n{constructor(){this.toastIdCounter=1,this.toastsSubject=new $n([]),this.visibleToasts$=this.toastsSubject.asObservable().pipe(ke(t=>t.slice(0,3)),zh(this.areToastEqual))}get toasts(){return this.toastsSubject.getValue()}show(t,i,r){const s={id:this.toastIdCounter++,component:t,props:i,options:Object.assign(Object.assign({},Gpe),r)};return this.toastsSubject.next([...this.toasts,s]),s.id}remove(t){const i=this.toasts.filter(r=>r.id!==t);this.toastsSubject.next(i)}safeRemove(t){if(this.isToastVisible(t))this.remove(t);else{const i=this.toasts.find(r=>r.id===t);if(!i)return;i.options.duration=2e3}}isToastVisible(t){return this.toasts.findIndex(i=>i.id===t)<3}areToastEqual(t,i){return t.length===i.length&&t.every((r,s)=>r.id===i[s].id)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vpe=(()=>{class n{constructor(t){this.viewContainerRef=t}ngOnChanges(){this.loadComponent()}loadComponent(){this.viewContainerRef.clear();const t=this.viewContainerRef.createComponent(this.component);this.inputs&&Object.assign(t.instance,this.inputs)}}return n.\u0275fac=function(t){return new(t||n)(W(pl))},n.\u0275dir=Ht({type:n,selectors:[["","appNgComponentOutlet",""]],inputs:{component:["appNgComponentOutlet","component"],inputs:"inputs"},features:[Eo]}),n})(),zpe=(()=>{let n=class{constructor(t){this.toastService=t}get inputs(){return Object.assign({id:this.toast.id},this.toast.props)}ngOnInit(){this.toast.options.duration!==1/0&&Jc(this.toast.options.duration).pipe(kt(this)).subscribe(()=>{this.toastService.remove(this.toast.id)})}};return n.\u0275fac=function(t){return new(t||n)(W(Io))},n.\u0275cmp=rt({type:n,selectors:[["app-toast-wrapper"]],inputs:{toast:"toast"},decls:2,vars:3,consts:[[3,"appNgComponentOutlet","inputs"]],template:function(t,i){1&t&&(D(0,"div"),Gs(1,0),R()),2&t&&(F("@toastState",void 0),S(1),F("appNgComponentOutlet",i.toast.component)("inputs",i.inputs))},directives:[Vpe],encapsulation:2,data:{animation:[EI("toastState",[Tue("visible",Kc({transform:"translateY(0)",opacity:1})),fb("void => *",[Kc({transform:"translateY(100%)",opacity:0}),I_("300ms ease-out")]),fb("* => void",[I_("250ms ease-in",Kc({height:0,opacity:0,transform:"translateY(-100%)"}))])])]},changeDetection:0}),n=Ve([_i()],n),n})(),$pe=(()=>{class n{constructor(t){this.toastService=t}trackByToastId(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(W(Io))},n.\u0275cmp=rt({type:n,selectors:[["app-toast-container"]],decls:3,vars:4,consts:[[1,"toast-container"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,Npe,2,2,"ng-container",1),G(2,"async"),R()),2&t&&(S(1),F("ngForOf",q(2,2,i.toastService.visibleToasts$))("ngForTrackBy",i.trackByToastId))},directives:[zpe,di],pipes:[Ki],styles:[".toast-container[_ngcontent-%COMP%]{z-index:2000;overflow:hidden;position:fixed;top:10px;left:50%;width:320px;transform:translate(-50%)}"],data:{animation:[EI("toastAnimation",[fb(":enter, :leave",[xue("@*",Mue())])])]},changeDetection:0}),n})(),Wpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),Ype=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Wpe]]}),n})(),Xpe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Ype]]}),n})();const{isArray:qpe}=Array;function oH(n){return 1===n.length&&qpe(n[0])?n[0]:n}function aH(...n){return 1===(n=oH(n)).length?It(n[0]):new he(function Kpe(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(It(n[i]).subscribe(me(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))}const{isArray:Jpe}=Array,{getPrototypeOf:Qpe,prototype:Zpe,keys:efe}=Object;function lH(n){if(1===n.length){const e=n[0];if(Jpe(e))return{args:e,keys:null};if(function tfe(n){return n&&"object"==typeof n&&Qpe(n)===Zpe}(e)){const t=efe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function cH(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function lc(...n){const e=To(n),t=dr(n),{args:i,keys:r}=lH(n);if(0===i.length)return Mr([],e);const s=new he(function nfe(n,e,t=Ce){return i=>{uH(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)uH(e,()=>{const c=Mr(n[l],e);let u=!1;c.subscribe(me(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>cH(r,o):Ce));return t?s.pipe(e2(t)):s}function uH(n,e,t){n?_s(t,n,e):e()}function PS(...n){const e=dr(n),t=oH(n);return t.length?new he(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)It(t[o]).subscribe(me(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(e?e(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):vt}function Sb(...n){return function ife(){return Ls(1)}()(Mr(n,To(n)))}function Ef(...n){const e=To(n);return tt((t,i)=>{(e?Sb(n,t,e):Sb(n,t)).subscribe(i)})}function Kh(n,e){return tt((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(me(i,l=>{null==r||r.unsubscribe();let c=0;const u=s++;It(n(l,u)).subscribe(r=me(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function bl(n,e,t){const i=v(n)||e||t?{next:n,error:e,complete:t}:n;return i?tt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(me(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ce}function d2(...n){const e=dr(n);return tt((t,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)It(n[l]).subscribe(me(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Ce))&&(o=null))},O));t.subscribe(me(i,l=>{if(a){const c=[l,...s];i.next(e?e(...c):c)}}))})}function hH(n,e){return e?t=>Sb(e.pipe(sr(1),function sfe(){return tt((n,e)=>{n.subscribe(me(e,O))})}()),t.pipe(hH(n))):ma((t,i)=>n(t,i).pipe(sr(1),function ofe(n){return ke(()=>n)}(t)))}function pH(n,e=R_){const t=Jc(n,e);return hH(()=>t)}function IS(...n){const e=dr(n),{args:t,keys:i}=lH(n),r=new he(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;It(t[u]).subscribe(me(s,b=>{d||(d=!0,c--),a[u]=b},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?cH(i,a):a),s.complete())}))}});return e?r.pipe(e2(e)):r}new he(O);let fH=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(W(ja),W(ji))},n.\u0275dir=Ht({type:n}),n})(),Of=(()=>{class n extends fH{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Go(n)))(i||n)}}(),n.\u0275dir=Ht({type:n,features:[qi]}),n})();const Ks=new hn("NgValueAccessor"),cfe={provide:Ks,useExisting:Un(()=>Pf),multi:!0},dfe=new hn("CompositionEventMode");let Pf=(()=>{class n extends fH{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ufe(){const n=uf()?uf().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(W(ja),W(ji),W(dfe,8))},n.\u0275dir=Ht({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Ae("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[qn([cfe]),qi]}),n})();function Jh(n){return null==n||0===n.length}function mH(n){return null!=n&&"number"==typeof n.length}const Ko=new hn("NgValidators"),Qh=new hn("NgAsyncValidators"),hfe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class h2{static min(e){return function _H(n){return e=>{if(Jh(e.value)||Jh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function yH(n){return e=>{if(Jh(e.value)||Jh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function bH(n){return Jh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function vH(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function CH(n){return Jh(n.value)||hfe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return wH(e)}static maxLength(e){return SH(e)}static pattern(e){return function TH(n){if(!n)return AS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Jh(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return IH(e)}static composeAsync(e){return AH(e)}}function wH(n){return e=>Jh(e.value)||!mH(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function SH(n){return e=>mH(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function AS(n){return null}function MH(n){return null!=n}function xH(n){const e=LC(n)?Mr(n):n;return hB(e),e}function EH(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function OH(n,e){return e.map(t=>t(n))}function PH(n){return n.map(e=>function pfe(n){return!n.validate}(e)?e:t=>e.validate(t))}function IH(n){if(!n)return null;const e=n.filter(MH);return 0==e.length?null:function(t){return EH(OH(t,e))}}function p2(n){return null!=n?IH(PH(n)):null}function AH(n){if(!n)return null;const e=n.filter(MH);return 0==e.length?null:function(t){return IS(OH(t,e).map(xH)).pipe(ke(EH))}}function f2(n){return null!=n?AH(PH(n)):null}function DH(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RH(n){return n._rawValidators}function kH(n){return n._rawAsyncValidators}function g2(n){return n?Array.isArray(n)?n:[n]:[]}function DS(n,e){return Array.isArray(n)?n.includes(e):n===e}function NH(n,e){const t=g2(e);return g2(n).forEach(r=>{DS(t,r)||t.push(r)}),t}function FH(n,e){return g2(e).filter(t=>!DS(n,t))}class BH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=p2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=f2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zh extends BH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ta extends BH{get formDirective(){return null}get path(){return null}}class LH{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Jo=(()=>{class n extends LH{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(W(Zh,2))},n.\u0275dir=Ht({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Et("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[qi]}),n})(),UH=(()=>{class n extends LH{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(W(Ta,10))},n.\u0275dir=Ht({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Et("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[qi]}),n})();function kS(n,e){return[...e.path,n]}function Tb(n,e){y2(n,e),e.valueAccessor.writeValue(n.value),function Cfe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jH(n,e)})}(n,e),function Sfe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function wfe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jH(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function vfe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function NS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),BS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function FS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function y2(n,e){const t=RH(n);null!==e.validator?n.setValidators(DH(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=kH(n);null!==e.asyncValidator?n.setAsyncValidators(DH(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();FS(e._rawValidators,r),FS(e._rawAsyncValidators,r)}function BS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=RH(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=kH(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return FS(e._rawValidators,i),FS(e._rawAsyncValidators,i),t}function jH(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function b2(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function v2(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Pf?t=s:function xfe(n){return Object.getPrototypeOf(n.constructor)===Of}(s)?i=s:r=s}),r||i||t||null}function C2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Mb="VALID",LS="INVALID",F_="PENDING",xb="DISABLED";function S2(n){return(US(n)?n.validators:n)||null}function $H(n){return Array.isArray(n)?p2(n):n||null}function T2(n,e){return(US(e)?e.asyncValidators:n)||null}function WH(n){return Array.isArray(n)?f2(n):n||null}function US(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const YH=n=>n instanceof Eb,M2=n=>n instanceof HS;function XH(n){return YH(n)?n.value:n.getRawValue()}function qH(n,e){const t=M2(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new Zt(1e3,"");if(!i[e])throw new Zt(1001,"")}function KH(n,e){M2(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new Zt(1002,"")})}class x2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=$H(this._rawValidators),this._composedAsyncValidatorFn=WH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mb}get invalid(){return this.status===LS}get pending(){return this.status==F_}get disabled(){return this.status===xb}get enabled(){return this.status!==xb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=$H(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=WH(e)}addValidators(e){this.setValidators(NH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FH(e,this._rawAsyncValidators))}hasValidator(e){return DS(this._rawValidators,e)}hasAsyncValidator(e){return DS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=F_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xb,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mb,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mb||this.status===F_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xb:Mb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=F_,this._hasOwnPendingAsyncValidator=!0;const t=xH(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Efe(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=M2(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Pfe)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _n,this.statusChanges=new _n}_calculateStatus(){return this._allControlsDisabled()?xb:this.errors?LS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(F_)?F_:this._anyControlsHaveStatus(LS)?LS:Mb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){US(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Eb extends x2{constructor(e=null,t,i){super(S2(t),T2(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),US(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){C2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){C2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class HS extends x2{constructor(e,t,i){super(S2(t),T2(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){KH(this,e),Object.keys(e).forEach(i=>{qH(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=XH(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Pfe extends x2{constructor(e,t,i){super(S2(t),T2(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){KH(this,e),e.forEach((i,r)=>{qH(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>XH(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Dfe={provide:Zh,useExisting:Un(()=>Ma)},ZH=(()=>Promise.resolve(null))();let Ma=(()=>{class n extends Zh{constructor(t,i,r,s,o){super(),this._changeDetectorRef=o,this.control=new Eb,this._registered=!1,this.update=new _n,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=v2(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),b2(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ZH.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;ZH.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?kS(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(W(Ta,9),W(Ko,10),W(Qh,10),W(Ks,10),W(Fn,8))},n.\u0275dir=Ht({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qn([Dfe]),qi,Eo]}),n})(),e7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ht({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),n7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})();const O2=new hn("NgModelWithFormControlWarning"),Bfe={provide:Zh,useExisting:Un(()=>P2)};let P2=(()=>{class n extends Zh{constructor(t,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new _n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=v2(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&NS(i,this,!1),Tb(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}b2(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&NS(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(W(Ko,10),W(Qh,10),W(Ks,10),W(O2,8))},n.\u0275dir=Ht({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[qn([Bfe]),qi,Eo]}),n})();const Lfe={provide:Ta,useExisting:Un(()=>jS)};let jS=(()=>{class n extends Ta{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _n,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(BS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Tb(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){NS(t.control||null,t,!1),C2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function zH(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(NS(i||null,t),YH(r)&&(Tb(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function GH(n,e){y2(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Tfe(n,e){return BS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){y2(this.form,this),this._oldForm&&BS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(W(Ko,10),W(Qh,10))},n.\u0275dir=Ht({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qn([Lfe]),qi,Eo]}),n})();const jfe={provide:Zh,useExisting:Un(()=>D2)};let D2=(()=>{class n extends Zh{constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new _n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=v2(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),b2(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return kS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(W(Ta,13),W(Ko,10),W(Qh,10),W(Ks,10),W(O2,8))},n.\u0275dir=Ht({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[qn([jfe]),qi,Eo]}),n})();function l7(n){return"number"==typeof n?n:parseInt(n,10)}let If=(()=>{class n{constructor(){this._validator=AS}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):AS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ht({type:n,features:[Eo]}),n})();const ege={provide:Ko,useExisting:Un(()=>GS),multi:!0};let GS=(()=>{class n extends If{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>l7(t),this.createValidator=t=>wH(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Go(n)))(i||n)}}(),n.\u0275dir=Ht({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&Ii("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[qn([ege]),qi]}),n})();const tge={provide:Ko,useExisting:Un(()=>VS),multi:!0};let VS=(()=>{class n extends If{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>l7(t),this.createValidator=t=>SH(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Go(n)))(i||n)}}(),n.\u0275dir=Ht({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&Ii("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qn([tge]),qi]}),n})(),g7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[n7]]}),n})(),co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[g7]}),n})(),zS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:O2,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[g7]}),n})();const uge=["*"],Oge=["dialog"];function Af(n){return null!=n}function B_(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const _7={animation:!0,transitionTimerDelayMs:5},Sme=()=>{},{transitionTimerDelayMs:Tme}=_7,Pb=new Map,xa=(n,e,t,i)=>{let r=i.context||{};const s=Pb.get(e);if(s)switch(i.runningTransition){case"continue":return vt;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Pb.delete(e)}const o=t(e,i.animation,r)||Sme;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),rc(void 0).pipe(function Cme(n){return e=>new he(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new Ze,l=new Ze,c=a.pipe(function rfe(...n){return e=>Sb(e,rc(...n))}(!0));Pb.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function wme(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const d=Hi(e,"transitionend").pipe($r(c),cn(({target:C})=>C===e));aH(Jc(u+Tme).pipe($r(c)),d,l).pipe($r(c)).subscribe(()=>{Pb.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let WS=(()=>{class n{constructor(){this.animation=_7.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),T7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),x7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})(),P7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),I7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})();var Js=(()=>{return(n=Js||(Js={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Js;var n})();const XS=(n,e)=>!!e&&e.some(t=>t.contains(n)),A7=(n,e)=>!e||null!=function vme(n,e){return e&&void 0!==n.closest?n.closest(e):null}(n,e),Gme="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const D7=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function R7(n){const e=Array.from(n.querySelectorAll(D7)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const Yme=/\s+/,k7=new class Wme{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))i=e.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const s=this.offsetParent(e);i=this.offset(e,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(e,t=!0){const i=e.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let s={height:i.height||e.offsetHeight,width:i.width||e.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return t&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(e,t,i,r){const[s="top",o="center"]=i.split("-"),a=r?this.offset(e,!1):this.position(e,!1),l=this.getAllStyles(t),c=parseFloat(l.marginTop),u=parseFloat(l.marginBottom),d=parseFloat(l.marginLeft),b=parseFloat(l.marginRight);let C=0,M=0;switch(s){case"top":C=a.top-(t.offsetHeight+c+u);break;case"bottom":C=a.top+a.height;break;case"left":M=a.left-(t.offsetWidth+d+b);break;case"right":M=a.left+a.width}switch(o){case"top":C=a.top;break;case"bottom":C=a.top+a.height-t.offsetHeight;break;case"left":M=a.left;break;case"right":M=a.left+a.width-t.offsetWidth;break;case"center":"top"===s||"bottom"===s?M=a.left+a.width/2-t.offsetWidth/2:C=a.top+a.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(M)}px, ${Math.round(C)}px)`;const I=t.getBoundingClientRect(),k=document.documentElement,B=window.innerHeight||k.clientHeight,L=window.innerWidth||k.clientWidth;return I.left>=0&&I.top>=0&&I.right<=L&&I.bottom<=B}};new Date(1882,10,12),new Date(2174,10,25);let H7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,co]]}),n})(),i_e=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ht({type:n,selectors:[["",8,"navbar"]]}),n})(),z2=(()=>{class n{constructor(t){this.elementRef=t,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}}return n.\u0275fac=function(t){return new(t||n)(W(ji))},n.\u0275dir=Ht({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,i){2&t&&Et("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),QS=(()=>{class n{constructor(t,i){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(W(Un(()=>tp)),W(ji))},n.\u0275dir=Ht({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,i,r){if(1&t&&zs(r,z2,4),2&t){let s;Kn(s=Jn())&&(i.menuItems=s)}},hostVars:5,hostBindings:function(t,i){1&t&&Ae("keydown.ArrowUp",function(s){return i.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return i.dropdown.onKeyDown(s)})("keydown.Home",function(s){return i.dropdown.onKeyDown(s)})("keydown.End",function(s){return i.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return i.dropdown.onKeyDown(s)})("keydown.Space",function(s){return i.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return i.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return i.dropdown.onKeyDown(s)}),2&t&&(Ii("x-placement",i.placement),Et("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),ZS=(()=>{class n{constructor(t,i){this.dropdown=t,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(W(Un(()=>tp)),W(ji))},n.\u0275dir=Ht({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,i){2&t&&Ii("aria-expanded",i.dropdown.isOpen())}}),n})(),$2=(()=>{class n extends ZS{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(W(Un(()=>tp)),W(ji))},n.\u0275dir=Ht({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,i){1&t&&Ae("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(s){return i.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return i.dropdown.onKeyDown(s)})("keydown.Home",function(s){return i.dropdown.onKeyDown(s)})("keydown.End",function(s){return i.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return i.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return i.dropdown.onKeyDown(s)}),2&t&&Ii("aria-expanded",i.dropdown.isOpen())},features:[qn([{provide:ZS,useExisting:Un(()=>n)}]),qi]}),n})(),tp=(()=>{class n{constructor(t,i,r,s,o,a,l){this._changeDetector=t,this._document=r,this._ngZone=s,this._elementRef=o,this._renderer=a,this._closed$=new Ze,this._bodyContainer=null,this._open=!1,this.openChange=new _n,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=s.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(sr(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses(),t.dropdownClass){const{currentValue:i,previousValue:r}=t.dropdownClass;this._applyCustomDropdownClass(i,r)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function zme(n,e,t,i,r,s,o,a){t&&n.runOutsideAngular((n=>Gme?()=>setTimeout(()=>n(),100):n)(()=>{const c=Hi(e,"keydown").pipe($r(r),cn(b=>b.which===Js.Escape),bl(b=>b.preventDefault())),u=Hi(e,"mousedown").pipe(ke(b=>{const C=b.target;return 2!==b.button&&!XS(C,o)&&("inside"===t?XS(C,s)&&A7(C,a):"outside"===t?!XS(C,s):A7(C,a)||!XS(C,s))}),$r(r)),d=Hi(e,"mouseup").pipe(d2(u),cn(([b,C])=>C),pH(0),$r(r));aH([c.pipe(ke(b=>0)),d.pipe(ke(b=>1))]).subscribe(b=>n.run(()=>i(b)))}))}(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(t){const i=t.which,r=this._getMenuElements();let s=-1,o=null;const a=this._isEventFromToggle(t);if(!a&&r.length&&r.forEach((l,c)=>{l.contains(t.target)&&(o=l),l===this._document.activeElement&&(s=c)}),i!==Js.Space&&i!==Js.Enter){if(i!==Js.Tab){if(a||o){if(this.open(),r.length){switch(i){case Js.ArrowDown:s=Math.min(s+1,r.length-1);break;case Js.ArrowUp:if(this._isDropup()&&-1===s){s=r.length-1;break}s=Math.max(s-1,0);break;case Js.Home:s=0;break;case Js.End:s=r.length-1}r[s].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(D7);t.shiftKey&&t.target===l[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Hi(t.target,"focusout").pipe(sr(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else o&&(!0===this.autoClose||"inside"===this.autoClose)&&Hi(o,"click").pipe(sr(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function Xme(n,e,t,i,r){let s=Array.isArray(t)?t:t.split(Yme);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,l=C=>{const[M,I]=C.split("-"),k=[];return r&&(k.push(`${r}-${M}`),I&&k.push(`${r}-${M}-${I}`),k.forEach(B=>{a.add(B)})),k};r&&o.forEach(C=>{a.remove(`${r}-${C}`)});let c=s.findIndex(C=>"auto"===C);c>=0&&o.forEach(function(C){null==s.find(M=>-1!==M.search("^"+C))&&s.splice(c++,1,C)});const u=e.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let d=null,b=!1;for(d of s){let C=l(d);if(k7.positionElements(n,e,d,i)){b=!0;break}r&&C.forEach(M=>{a.remove(M)})}return b||(d=s[0],l(d),k7.positionElements(n,e,d,i)),d}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;if(this._menu){const r=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,r),t.removeStyle(r,"position"),t.removeStyle(r,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const i=this._renderer,r=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(s,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(s,"z-index","1050"),i.appendChild(s,r),i.appendChild(this._document.body,s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),t&&this._renderer.addClass(r,t))}_applyPlacementClasses(t){const i=this._menu;if(i){t||(t=this._getFirstPlacement(this.placement));const r=this._renderer,s=this._elementRef.nativeElement;r.removeClass(s,"dropup"),r.removeClass(s,"dropdown"),i.placement="static"===this.display?null:t;const o=-1!==t.search("^top")?"dropup":"dropdown";r.addClass(s,o);const a=this._bodyContainer;a&&(r.removeClass(a,"dropup"),r.removeClass(a,"dropdown"),r.addClass(a,o))}}}return n.\u0275fac=function(t){return new(t||n)(W(Fn),W(i_e),W(Or),W(Ti),W(ji),W(ja),W(j7,8))},n.\u0275dir=Ht({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,i,r){if(1&t&&(zs(r,QS,5),zs(r,ZS,5)),2&t){let s;Kn(s=Jn())&&(i._menu=s.first),Kn(s=Jn())&&(i._anchor=s.first)}},hostVars:2,hostBindings:function(t,i){2&t&&Et("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Eo]}),n})(),G7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})();class Nf{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let r_e=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(sr(1)).subscribe(()=>{xa(this._zone,this._el.nativeElement,(t,i)=>{i&&B_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return xa(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(W(ji),W(Ti))},n.\u0275cmp=rt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,i){2&t&&(rf("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Et("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class Dr{close(e){}dismiss(e){}}class s_e{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ze,this._dismissed=new Ze,this._hidden=new Ze,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($r(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($r(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function bme(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():rc(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),PS(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Rb=(()=>{return(n=Rb||(Rb={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Rb;var n})();let o_e=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Ze,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new _n,this.shown=new Ze,this.hidden=new Ze}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(sr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=PS(xa(this._zone,t,()=>t.classList.remove("show"),i),xa(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};PS(xa(this._zone,this._elRef.nativeElement,(s,o)=>{o&&B_(s),s.classList.add("show")},t),xa(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Hi(t,"keydown").pipe($r(this._closed$),cn(r=>r.which===Js.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Rb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Hi(this._dialogEl.nativeElement,"mousedown").pipe($r(this._closed$),bl(()=>i=!1),Kh(()=>Hi(t,"mouseup").pipe($r(this._closed$),sr(1))),cn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Hi(t,"click").pipe($r(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Rb.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=R7(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&xa(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(W(Or),W(ji),W(Ti))},n.\u0275cmp=rt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&Lr(Oge,7),2&t){let r;Kn(r=Jn())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(Ii("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),rf("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Et("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:uge,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(Iy(),D(0,"div",0,1)(2,"div",2),Ay(3),R()()),2&t&&rf("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const a_e=()=>{};let l_e=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):a_e}_adjustBody(t){const i=this._document.body,r=i.style.paddingRight,s=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${s+t}px`,()=>i.style["padding-right"]=r}_isPresent(t){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(t);const r=t.getBoundingClientRect().width-t.clientWidth;return i.removeChild(t),r}}return n.\u0275fac=function(t){return new(t||n)(We(Or))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c_e=(()=>{class n{constructor(t,i,r,s,o,a){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new Ze,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new _n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Hi(e,"focusin").pipe($r(t),ke(s=>s.target));Hi(e,"keydown").pipe($r(t),cn(s=>s.which===Js.Tab),d2(r)).subscribe(([s,o])=>{const[a,l]=R7(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Hi(e,"click").pipe($r(t),d2(r),ke(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(t,i,r,s){const o=s.container instanceof HTMLElement?s.container:Af(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new Dr,d=this._getContentRef(t,s.injector||i,r,u,s);let b=!1!==s.backdrop?this._attachBackdrop(t,o):void 0,C=this._attachWindowComponent(t,o,d),M=new s_e(C,d,b,s.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(C),M.result.then(l,l),M.result.then(c,c),u.close=I=>{M.close(I)},u.dismiss=I=>{M.dismiss(I)},this._applyWindowOptions(C.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,s),b.changeDetectorRef.detectChanges()),C.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let s=t.resolveComponentFactory(r_e).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,i,r){let o=t.resolveComponentFactory(o_e).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Af(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Af(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s,o){return r?r instanceof Br?this._createFromTemplateRef(r,s):function m7(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,o):new Nf([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new Nf([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Nf([[i]])}_createFromComponent(t,i,r,s,o){const a=t.resolveComponentFactory(r),l=zo.create({providers:[{provide:Dr,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Nf([[u]],c.hostView,c)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(We(KO),We(zo),We(Or),We(l_e),We(s_),We(Ti))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u_e=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(We(WS))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kb=(()=>{class n{constructor(t,i,r,s){this._moduleCFR=t,this._injector=i,this._modalStack=r,this._config=s}open(t,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(We(i_),We(zo),We(c_e),We(u_e))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[kb]}),n})(),Y7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),tj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),ij=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),rj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),oj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})();new hn("live announcer delay",{providedIn:"root",factory:function T_e(){return 100}});let cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})();const M_e=[S7,T7,x7,P7,I7,H7,G7,V7,Y7,tj,ij,rj,sj,oj,aj,lj,cj];let tu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[M_e,S7,T7,x7,P7,I7,H7,G7,V7,Y7,tj,ij,rj,sj,oj,aj,lj,cj]}),n})();function eT(n,e){const t=v(n)?n:()=>n,i=r=>r.error(t());return new he(e?r=>e.schedule(i,0,r):i)}function Nb(n){return tt((e,t)=>{let s,i=null,r=!1;i=e.subscribe(me(t,void 0,void 0,o=>{s=It(n(o,Nb(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}const E_e=["*"];class tT{}let O_e=(()=>{class n extends tT{constructor(t){super(),this.http=t}getSvg(t){return this.http.get(t,{responseType:"text"})}}return n.\u0275fac=function(t){return new(t||n)(We(Zw))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const uj=new hn("SERVER_URL");let nT=(()=>{class n{constructor(t,i,r,s){this.loader=t,this.platformId=i,this.serverUrl=r,this._document=s,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(t,i){if(!this.iconsByUrl.has(t)){const r=this.document.createElement("DIV");r.innerHTML=i;const s=r.querySelector("svg");this.iconsByUrl.set(t,s)}}loadSvg(t,i=t){if(this.serverUrl&&null===t.match(/^(http(s)?):/)&&(i=t=this.serverUrl+t),this.iconsByUrl.has(i))return rc(this.iconsByUrl.get(i));if(this.iconsLoadingByUrl.has(i))return this.iconsLoadingByUrl.get(i);const r=this.loader.getSvg(t).pipe(ke(s=>{const o=this.document.createElement("DIV");return o.innerHTML=s,o.querySelector("svg")}),bl(s=>this.iconsByUrl.set(i,s)),Nb(s=>(console.error(s),eT(s))),function x_e(n){return tt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this.iconsLoadingByUrl.delete(i)),Uo());return this.iconsLoadingByUrl.set(i,r),r}getSvgByName(t){return this.iconsByUrl.has(t)?rc(this.iconsByUrl.get(t)):this.iconsLoadingByUrl.has(t)?this.iconsLoadingByUrl.get(t):eT(`No svg with name '${t}' has been loaded`)}unloadSvg(t){this.iconsByUrl.has(t)&&this.iconsByUrl.delete(t)}}return n.\u0275fac=function(t){return new(t||n)(We(tT),We(kh),We(uj,8),We(Or,8))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const I_e={provide:nT,deps:[[new Jp,new _y,nT],tT,[kh],[new Jp,uj],[new Jp,Or]],useFactory:function P_e(n,e,t,i,r){return n||new nT(e,t,i,r)}};class dj{constructor(){this.loaded=!1}}let np=(()=>{class n{constructor(t,i,r,s,o){this.element=t,this.differs=i,this.renderer=r,this.iconReg=s,this.cdr=o,this.stretch=!1,this.applyClass=!1,this.applyCss=!1,this.helper=new dj,this._svgStyle=null}set svgStyle(t){this._svgStyle=t,!this.helper.differ&&t&&(this.helper.differ=this.differs.find(t).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(t){const i=this.element.nativeElement.firstChild;(t.src||t.name)&&(this.helper.loaded&&this.destroy(),this.init()),t.stretch&&this.stylize(),t.applyClass&&(this.applyClass?this.setClass(i,null,this.klass):this.setClass(i,this.klass,null)),t.svgClass&&this.setClass(i,t.svgClass.previousValue,t.svgClass.currentValue),t.klass&&(this.setClass(this.element.nativeElement,t.klass.previousValue,t.klass.currentValue),this.setClass(i,t.klass.previousValue,this.applyClass?t.klass.currentValue:null)),t.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),t.applyCss&&(console.warn("applyCss deprecated since 9.1.0, will be removed in 10.0.0"),console.warn("use applyClass instead")),t.svgAriaLabel&&this.doAria(t.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const t=this.helper.differ.diff(this._svgStyle);t&&this.applyChanges(t)}}init(){if(this.name){const t=this.iconReg.getSvgByName(this.name);t&&(this.helper.icnSub=t.subscribe(i=>this.initSvg(i)))}else if(this.src){const t=this.iconReg.loadSvg(this.src);t&&(this.helper.icnSub=t.subscribe(i=>this.initSvg(i)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(t){!this.helper.loaded&&t&&(this.setSvg(t),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new dj}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(t){if(!this.helper.loaded&&t){this.helper.svg=t;const i=t.cloneNode(!0),r=this.element.nativeElement;if(r.innerHTML="",this.renderer.appendChild(r,i),this.helper.loaded=!0,this.copyNgContentAttribute(r,i),this.klass&&this.applyClass&&this.setClass(r.firstChild,null,this.klass),this.svgClass&&this.setClass(r.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const s=i.getAttribute("width"),o=i.getAttribute("height");o&&s&&(this.renderer.setAttribute(i,"viewBox",`0 0 ${s} ${o}`),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(i,"viewBox",this.viewBox),this.renderer.removeAttribute(i,"width"),this.renderer.removeAttribute(i,"height"));this.stylize(),void 0===this.svgAriaLabel&&r.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(t,i){const r=t.attributes,s=r.length;for(let o=0;o<s;o+=1){const a=r.item(o);if(a&&a.name.startsWith("_ngcontent")){this.setNgContentAttribute(i,a.name);break}}}setNgContentAttribute(t,i){this.renderer.setAttribute(t,i,"");const r=t.childNodes.length;for(let s=0;s<r;s+=1){const o=t.childNodes[s];o instanceof Element&&this.setNgContentAttribute(o,i)}}stylize(){if(this.helper.svg){const t=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(t,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(t,"preserveAspectRatio")}}applyChanges(t){t.forEachRemovedItem(i=>this.setStyle(i.key,null)),t.forEachAddedItem(i=>this.setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this.setStyle(i.key,i.currentValue))}setStyle(t,i){const[r,s]=t.split("."),o=this.element.nativeElement.firstChild;null!==(i=null!==i&&s?`${i}${s}`:i)?this.renderer.setStyle(o,r,i):this.renderer.removeStyle(o,r)}setClass(t,i,r){if(t){if(i){const s=(Array.isArray(i)?i:i.split(" ")).filter(o=>o);for(const o of s)this.renderer.removeClass(t,o)}if(r){const s=(Array.isArray(r)?r:r.split(" ")).filter(o=>o);for(const o of s)this.renderer.addClass(t,o)}}}doAria(t){const i=this.element.nativeElement.firstChild;i&&(""===t?(this.renderer.setAttribute(i,"aria-hidden","true"),this.renderer.removeAttribute(i,"aria-label")):(this.renderer.removeAttribute(i,"aria-hidden"),this.renderer.setAttribute(i,"aria-label",t)))}}return n.\u0275fac=function(t){return new(t||n)(W(ji),W(c_),W(ja),W(nT),W(Fn))},n.\u0275cmp=rt({type:n,selectors:[["svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",applyCss:"applyCss",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[Eo],ngContentSelectors:E_e,decls:1,vars:0,template:function(t,i){1&t&&(Iy(),Ay(0))},encapsulation:2}),n})(),Xu=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[I_e,t.loader||{provide:tT,useClass:O_e}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),q2=(()=>{class n{constructor(t){this.zone=t,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(t,i,r,s){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{r(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const o=document.createElement("script");o.innerHTML="",o.src=this.getCaptchaScriptUrl(t,i,s),o.async=!0,o.defer=!0,document.getElementsByTagName("head")[0].appendChild(o)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(t){return t?`&hl=${t}`:""}getCaptchaScriptUrl(t,i,r){return`https://www.${t?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(t){return new(t||n)(We(Ti))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),hj=(()=>{class n{constructor(t,i){this.scriptService=t,this.zone=i}execute(t,i,r,s,o){this.executeAsPromise(t,i,s).then(r).catch(a=>o?o(a):console.error(a))}executeAsPromise(t,i,r){return new Promise((s,o)=>{this.scriptService.registerCaptchaScript(!(!r||!r.useGlobalDomain),t,c=>{this.zone.runOutsideAngular(()=>{try{c.execute(t,{action:i}).then(u=>this.zone.run(()=>s(u)))}catch(u){o(u)}})})})}}return n.\u0275fac=function(t){return new(t||n)(We(q2),We(Ti))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),A_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[q2,hj],imports:[[ct]]}),n})();var pr=(()=>{return(n=pr||(pr={})).None="none",n.GameReady="gameReady",n.Reconnecting="reconnecting",n.Disconnected="disconnected",n.SlowConnection="slowConnection",pr;var n})(),Xa=(()=>{return(n=Xa||(Xa={})).Ban="ban",n.Inactivity="inactivity",n.LoginError="loginError",n.Network="network",n.RealityCheck="realityCheck",n.Kick="kick",n.NotAllowedCurrency="notAllowedCurrency",Xa;var n})();const U_={UKNOWN:"Unknown"},K2={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:U_.UKNOWN},iT={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},H_={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},ip={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:U_.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},pj=[ip.PS4,ip.CHROME_BOOK,ip.MAC,ip.DELL,ip.ASUS,ip.UNKNOWN],fj={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:U_.UKNOWN},D_e={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:U_.UKNOWN.toLowerCase()},gj={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},k_e=Object.assign(Object.assign(Object.assign(Object.assign({},iT),H_),gj),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),J2={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Q2={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},N_e=Object.keys(J2).reduce((n,e)=>(n[e]=J2[e],n),{}),mj=Object.keys(Q2).reduce((n,e)=>(n[K2[e]]=Q2[e],n),{});var qu=Object.freeze({__proto__:null,GENERAL:U_,BROWSERS:K2,MOBILES_RE:iT,TABLETS_RE:H_,DEVICES:ip,DESKTOP_DEVICES:pj,OS:fj,OS_VERSIONS:D_e,OS_RE:gj,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:k_e,OS_VERSIONS_RE_MAP:J2,BROWSER_VERSIONS_RE_MAP:Q2,OS_VERSIONS_RE:N_e,BROWSER_VERSIONS_RE:mj});class F_e{constructor(){}test(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(i=>this.test(e,i)):t&&Array.isArray(t.or)?t.or.some(i=>this.test(e,i)):!(!t||!t.not||this.test(e,t.not))}exec(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((i,r)=>i||this.exec(e,r),null):null}}var Ff=(()=>{return(n=Ff||(Ff={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",Ff;var n})(),Fb=(()=>{return(n=Fb||(Fb={})).Portrait="portrait",n.Landscape="landscape",Fb;var n})();const Z2="iPad";let B_e=(()=>{class n{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new F_e,this.deviceType="",this.orientation="",Yy(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(r=>{this[r.prop]=Object.keys(qu[r.const]).reduce((s,o)=>"device"===qu[r.const][o]&&Yy(this.platformId)&&(this.reTree.test(this.userAgent,H_[Z2])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(s[qu[r.const][o]]=Z2,Object):(s[qu[r.const][o]]=this.reTree.test(t,qu[`${r.const}_RE`][o]),s),{})}),i.forEach(r=>{this[r.prop]=Object.keys(qu[r.const]).map(s=>qu[r.const][s]).reduce((s,o)=>"device"===r.prop&&s===qu[r.const].ANDROID?this[r.prop][o]?o:s:s===qu[r.const].UNKNOWN&&this[r.prop][o]?o:s,qu[r.const].UNKNOWN)}),this.browser_version="0",this.browser!==K2.UNKNOWN){const s=this.reTree.exec(t,mj[this.browser]);s&&(this.browser_version=s[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Fb.Landscape:Fb.Portrait:U_.UKNOWN,this.deviceType=this.isTablet()?Ff.Tablet:this.isMobile(this.userAgent)?Ff.Mobile:this.isDesktop(this.userAgent)?Ff.Desktop:Ff.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(iT).find(r=>this.reTree.test(t,iT[r]))}isTablet(t=this.userAgent){return!(!Yy(this.platformId)||!(this.reTree.test(this.userAgent,H_[Z2])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(H_).find(r=>!!this.reTree.test(t,H_[r]))}isDesktop(t=this.userAgent){return(this.device!==ip.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&pj.indexOf(this.device)>-1}}return n.\u0275fac=function(t){return new(t||n)(We(kh))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U_e=T(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function j_e(n){throw new U_e(n)}const Qs={production:!0,loggerEnabled:!1,domainMirroringEnabled:!0,version:JSON.parse('{"i8":"v4.2.82-hotfix"}').i8,clientConfig:{path:"https://app-config.spribegaming.com/aviator/",ext:".json"},avatarPath:"assets/static/avatars/v2/",brandPath:"assets/static/images/brand/"};var Ri=(()=>{return(n=Ri||(Ri={})).sm="sm",n.md="md",n.lg="lg",Ri;var n})();class Wn{static updateSize(e,t){this._appWidth=e,this._appHeight=t,this.setBreakpoint()}static get appWidth(){return this._appWidth}static get appHeight(){return this._appHeight}static get breakpoint(){return this._breakpoint}static setBreakpoint(){this._breakpoint=this.appWidth>=600&&this.appHeight>=320?Ri.lg:this.appWidth>=476&&this.appHeight>=200?Ri.md:Ri.sm}}var rp=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(rp||{}),rT=(n=>(n[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",n))(rT||{}),sT=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(sT||{}),wt=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(wt||{}),cc=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))(cc||{}),Dt=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(Dt||{}),Bf=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(Bf||{}),pn=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(pn||{}),Jt=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(Jt||{}),uc=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(uc||{}),Ku=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(Ku||{}),nu=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(nu||{}),Ea=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(Ea||{}),iu=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))(iu||{}),oT=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(oT||{}),vl=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(vl||{}),As=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))(As||{}),_j=(n=>(n[n.RED=1]="RED",n[n.GREEN=2]="GREEN",n[n.BLUE=4]="BLUE",n[n.ALPHA=8]="ALPHA",n))(_j||{}),ws=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(ws||{}),ru=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(ru||{});const yj={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var n;return null!=(n=document.baseURI)?n:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>(new DOMParser).parseFromString(n,"text/xml")},zt={ADAPTER:yj,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var eA=/iPhone/i,bj=/iPod/i,vj=/iPad/i,Cj=/\biOS-universal(?:.+)Mac\b/i,tA=/\bAndroid(?:.+)Mobile\b/i,wj=/Android/i,j_=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,aT=/Silk/i,Wd=/Windows Phone/i,Sj=/\bWindows(?:.+)ARM\b/i,Tj=/BlackBerry/i,Mj=/BB10/i,xj=/Opera Mini/i,Ej=/\b(CriOS|Chrome)(?:.+)Mobile/i,Oj=/Mobile(?:.+)Firefox\b/i,Pj=function(n){return void 0!==n&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&"undefined"==typeof MSStream};function Ij(n){var e={userAgent:"",platform:"",maxTouchPoints:0};n||"undefined"==typeof navigator?"string"==typeof n?e.userAgent=n:n&&n.userAgent&&(e={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var t=e.userAgent,i=t.split("[FBAN");void 0!==i[1]&&(t=i[0]),void 0!==(i=t.split("Twitter"))[1]&&(t=i[0]);var r=function z_e(n){return function(e){return e.test(n)}}(t),s={apple:{phone:r(eA)&&!r(Wd),ipod:r(bj),tablet:!r(eA)&&(r(vj)||Pj(e))&&!r(Wd),universal:r(Cj),device:(r(eA)||r(bj)||r(vj)||r(Cj)||Pj(e))&&!r(Wd)},amazon:{phone:r(j_),tablet:!r(j_)&&r(aT),device:r(j_)||r(aT)},android:{phone:!r(Wd)&&r(j_)||!r(Wd)&&r(tA),tablet:!r(Wd)&&!r(j_)&&!r(tA)&&(r(aT)||r(wj)),device:!r(Wd)&&(r(j_)||r(aT)||r(tA)||r(wj))||r(/\bokhttp\b/i)},windows:{phone:r(Wd),tablet:r(Sj),device:r(Wd)||r(Sj)},other:{blackberry:r(Tj),blackberry10:r(Mj),opera:r(xj),firefox:r(Oj),chrome:r(Ej),device:r(Tj)||r(Mj)||r(xj)||r(Oj)||r(Ej)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const su=(null!=(gX=Ij.default)?gX:Ij)(globalThis.navigator);zt.RETINA_PREFIX=/@([0-9\.]+)x/,zt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var G_=A(2005),Aj=A(5469),nA=A(8762);const Dj={};function Mn(n,e,t=3){if(Dj[e])return;let i=(new Error).stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${n}`):(i=i.split("\n").splice(t).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}\nDeprecated since v${n}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${n}`),console.warn(i))),Dj[e]=!0}const W_e={get parse(){return Mn("7.3.0","utils.url.parse is deprecated, use native URL API instead."),nA.Qc},get format(){return Mn("7.3.0","utils.url.format is deprecated, use native URL API instead."),nA.WU},get resolve(){return Mn("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),nA.DB}};function ou(n){if("string"!=typeof n)throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function Bb(n){return n.split("?")[0].split("#")[0]}const Zs={toPosix:n=>function X_e(n,e,t){return n.replace(new RegExp(function Y_e(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"g"),t)}(n,"\\","/"),isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl:n=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n),isBlobUrl:n=>n.startsWith("blob:"),hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){ou(n),n=this.toPosix(n);const e=/^file:\/\/\//.exec(n);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if(ou(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const i=Bb(this.toPosix(null!=e?e:zt.ADAPTER.getBaseUrl())),r=Bb(this.toPosix(null!=t?t:this.rootname(i)));return(n=this.toPosix(n)).startsWith("/")?Zs.join(r,n.slice(1)):this.isAbsolute(n)?n:this.join(i,n)},normalize(n){if(ou(n),0===n.length)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;let e="";const t=(n=this.toPosix(n)).startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const i=n.endsWith("/");return n=function q_e(n,e){let t="",i=0,r=-1,s=0,o=-1;for(let a=0;a<=n.length;++a){if(a<n.length)o=n.charCodeAt(a);else{if(47===o)break;o=47}if(47===o){if(r!==a-1&&1!==s)if(r!==a-1&&2===s){if(t.length<2||2!==i||46!==t.charCodeAt(t.length-1)||46!==t.charCodeAt(t.length-2))if(t.length>2){const l=t.lastIndexOf("/");if(l!==t.length-1){-1===l?(t="",i=0):(t=t.slice(0,l),i=t.length-1-t.lastIndexOf("/")),r=a,s=0;continue}}else if(2===t.length||1===t.length){t="",i=0,r=a,s=0;continue}e&&(t.length>0?t+="/..":t="..",i=2)}else t.length>0?t+=`/${n.slice(r+1,a)}`:t=n.slice(r+1,a),i=a-r-1;r=a,s=0}else 46===o&&-1!==s?++s:s=-1}return t}(n,!1),n.length>0&&i&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return ou(n),n=this.toPosix(n),!!this.hasProtocol(n)||n.startsWith("/")},join(...n){var t;if(0===n.length)return".";let e;for(let i=0;i<n.length;++i){const r=n[i];if(ou(r),r.length>0)if(void 0===e)e=r;else{const s=null!=(t=n[i-1])?t:"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return void 0===e?".":this.normalize(e)},dirname(n){if(ou(n),0===n.length)return".";let e=(n=this.toPosix(n)).charCodeAt(0);const t=47===e;let i=-1,r=!0;const s=this.getProtocol(n),o=n;for(let a=(n=n.slice(s.length)).length-1;a>=1;--a)if(e=n.charCodeAt(a),47===e){if(!r){i=a;break}}else r=!1;return-1===i?t?"/":this.isUrl(o)?s+n:s:t&&1===i?"//":s+n.slice(0,i)},rootname(n){ou(n);let e="";if(e=(n=this.toPosix(n)).startsWith("/")?"/":this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);e=-1!==t?n.slice(0,t):n,e.endsWith("/")||(e+="/")}return e},basename(n,e){ou(n),e&&ou(e),n=Bb(this.toPosix(n));let s,t=0,i=-1,r=!0;if(void 0!==e&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let o=e.length-1,a=-1;for(s=n.length-1;s>=0;--s){const l=n.charCodeAt(s);if(47===l){if(!r){t=s+1;break}}else-1===a&&(r=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?-1==--o&&(i=s):(o=-1,i=a))}return t===i?i=a:-1===i&&(i=n.length),n.slice(t,i)}for(s=n.length-1;s>=0;--s)if(47===n.charCodeAt(s)){if(!r){t=s+1;break}}else-1===i&&(r=!1,i=s+1);return-1===i?"":n.slice(t,i)},extname(n){ou(n);let e=-1,t=0,i=-1,r=!0,s=0;for(let o=(n=Bb(this.toPosix(n))).length-1;o>=0;--o){const a=n.charCodeAt(o);if(47!==a)-1===i&&(r=!1,i=o+1),46===a?-1===e?e=o:1!==s&&(s=1):-1!==e&&(s=-1);else if(!r){t=o+1;break}}return-1===e||-1===i||0===s||1===s&&e===i-1&&e===t+1?"":n.slice(e,i)},parse(n){ou(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(0===n.length)return e;let t=(n=Bb(this.toPosix(n))).charCodeAt(0);const i=this.isAbsolute(n);let r;e.root=this.rootname(n),r=i||this.hasProtocol(n)?1:0;let o=-1,a=0,l=-1,c=!0,u=n.length-1,d=0;for(;u>=r;--u)if(t=n.charCodeAt(u),47!==t)-1===l&&(c=!1,l=u+1),46===t?-1===o?o=u:1!==d&&(d=1):-1!==o&&(d=-1);else if(!c){a=u+1;break}return-1===o||-1===l||0===d||1===d&&o===l-1&&o===a+1?-1!==l&&(e.base=e.name=n.slice(0===a&&i?1:a,l)):(0===a&&i?(e.name=n.slice(1,o),e.base=n.slice(1,l)):(e.name=n.slice(a,o),e.base=n.slice(a,l)),e.ext=n.slice(o,l)),e.dir=this.dirname(n),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function Rj(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function en(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){Rj(s,i,r,o,a,"next",l)}function a(l){Rj(s,i,r,o,a,"throw",l)}o(void 0)})}}let Lb,rA;function kj(){return iA.apply(this,arguments)}function iA(){return(iA=en(function*(){return null!=Lb||(Lb=en(function*(){var s;const n=document.createElement("canvas").getContext("webgl");if(!n)return Ea.UNPACK;const e=yield new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Ea.UNPACK;const t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t);const i=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,i),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e);const r=new Uint8Array(4);return n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,r),n.deleteFramebuffer(i),n.deleteTexture(t),null==(s=n.getExtension("WEBGL_lose_context"))||s.loseContext(),r[0]<=r[3]?Ea.PMA:Ea.UNPACK})()),Lb})).apply(this,arguments)}function K_e(){Mn("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function J_e(){Mn("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}function Nj(){return typeof rA>"u"&&(rA=function(){var e;const n={stencil:!0,failIfMajorPerformanceCaveat:zt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!zt.ADAPTER.getWebGLRenderingContext())return!1;const t=zt.ADAPTER.createCanvas();let i=t.getContext("webgl",n)||t.getContext("experimental-webgl",n);const r=!!(null==(e=null==i?void 0:i.getContextAttributes())?void 0:e.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,r}catch(t){return!1}}()),rA}var Q_e={grad:.9,turn:360,rad:360/(2*Math.PI)},Yd=function(n){return"string"==typeof n?n.length>0:"number"==typeof n},uo=function(n,e,t){return void 0===e&&(e=0),void 0===t&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},dc=function(n,e,t){return void 0===e&&(e=0),void 0===t&&(t=1),n>t?t:n>e?n:e},Fj=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Bj=function(n){return{r:dc(n.r,0,255),g:dc(n.g,0,255),b:dc(n.b,0,255),a:dc(n.a)}},sA=function(n){return{r:uo(n.r),g:uo(n.g),b:uo(n.b),a:uo(n.a,3)}},Z_e=/^#([0-9a-f]{3,8})$/i,lT=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},Lj=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),o=s-Math.min(e,t,i),a=o?s===e?(t-i)/o:s===t?2+(i-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:r}},Uj=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),o=i*(1-t),a=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),c=s%6;return{r:255*[i,a,o,o,l,i][c],g:255*[l,i,i,a,o,o][c],b:255*[o,o,l,i,i,a][c],a:r}},Hj=function(n){return{h:Fj(n.h),s:dc(n.s,0,100),l:dc(n.l,0,100),a:dc(n.a)}},jj=function(n){return{h:uo(n.h),s:uo(n.s),l:uo(n.l),a:uo(n.a,3)}},Gj=function(n){return Uj((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},Ub=function(n){return{h:(e=Lj(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},e0e=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t0e=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,n0e=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,i0e=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oA={string:[[function(n){var e=Z_e.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:4===n.length?uo(parseInt(n[3]+n[3],16)/255,2):1}:6===n.length||8===n.length?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:8===n.length?uo(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=n0e.exec(n)||i0e.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:Bj({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=e0e.exec(n)||t0e.exec(n);if(!e)return null;var t,i,r=Hj({h:(t=e[1],i=e[2],void 0===i&&(i="deg"),Number(t)*(Q_e[i]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)});return Gj(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=void 0===r?1:r;return Yd(e)&&Yd(t)&&Yd(i)?Bj({r:Number(e),g:Number(t),b:Number(i),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,s=void 0===r?1:r;if(!Yd(e)||!Yd(t)||!Yd(i))return null;var o=Hj({h:Number(e),s:Number(t),l:Number(i),a:Number(s)});return Gj(o)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,s=void 0===r?1:r;if(!Yd(e)||!Yd(t)||!Yd(i))return null;var a,o=(a={h:Number(e),s:Number(t),v:Number(i),a:Number(s)},{h:Fj(a.h),s:dc(a.s,0,100),v:dc(a.v,0,100),a:dc(a.a)});return Uj(o)},"hsv"]]},Vj=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},aA=function(n,e){var t=Ub(n);return{h:t.h,s:dc(t.s+100*e,0,100),l:t.l,a:t.a}},lA=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},$j=function(n,e){var t=Ub(n);return{h:t.h,s:t.s,l:dc(t.l+100*e,0,100),a:t.a}},cT=function(){function n(e){this.parsed=function(n){return"string"==typeof n?Vj(n.trim(),oA.string):"object"==typeof n&&null!==n?Vj(n,oA.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return null!==this.parsed},n.prototype.brightness=function(){return uo(lA(this.rgba),2)},n.prototype.isDark=function(){return lA(this.rgba)<.5},n.prototype.isLight=function(){return lA(this.rgba)>=.5},n.prototype.toHex=function(){return t=(e=sA(this.rgba)).r,i=e.g,r=e.b,o=(s=e.a)<1?lT(uo(255*s)):"","#"+lT(t)+lT(i)+lT(r)+o;var e,t,i,r,s,o},n.prototype.toRgb=function(){return sA(this.rgba)},n.prototype.toRgbString=function(){return t=(e=sA(this.rgba)).r,i=e.g,r=e.b,(s=e.a)<1?"rgba("+t+", "+i+", "+r+", "+s+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,s},n.prototype.toHsl=function(){return jj(Ub(this.rgba))},n.prototype.toHslString=function(){return t=(e=jj(Ub(this.rgba))).h,i=e.s,r=e.l,(s=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+s+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,s},n.prototype.toHsv=function(){return e=Lj(this.rgba),{h:uo(e.h),s:uo(e.s),v:uo(e.v),a:uo(e.a,3)};var e},n.prototype.invert=function(){return Ju({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return void 0===e&&(e=.1),Ju(aA(this.rgba,e))},n.prototype.desaturate=function(e){return void 0===e&&(e=.1),Ju(aA(this.rgba,-e))},n.prototype.grayscale=function(){return Ju(aA(this.rgba,-1))},n.prototype.lighten=function(e){return void 0===e&&(e=.1),Ju($j(this.rgba,e))},n.prototype.darken=function(e){return void 0===e&&(e=.1),Ju($j(this.rgba,-e))},n.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return"number"==typeof e?Ju({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):uo(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Ub(this.rgba);return"number"==typeof e?Ju({h:e,s:t.s,l:t.l,a:t.a}):uo(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Ju(e).toHex()},n}(),Ju=function(n){return n instanceof cT?n:new cT(n)},Wj=[];[function s0e(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in t)i[t[r]]=r;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=i[this.toHex()];if(c)return c;if(null==o?void 0:o.closest){var u=this.toRgb(),d=1/0,b="black";if(!s.length)for(var C in t)s[C]=new n(t[C]).toRgb();for(var M in t){var I=(a=u,l=s[M],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));I<d&&(d=I,b=M)}return b}},e.string.push([function(o){var a=o.toLowerCase(),l="transparent"===a?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}].forEach(function(e){Wj.indexOf(e)<0&&(e(cT,oA),Wj.push(e))});const V_=class Tx{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Tx)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(null===e)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?je({},e):e}isSourceEqual(e,t){const i=typeof e;if(i!==typeof t)return!1;if("number"===i||"string"===i||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((r,s)=>r===t[s]);if(null!==e&&null!==t){const r=Object.keys(e),s=Object.keys(t);return r.length===s.length&&r.every(o=>e[o]===t[o])}return e===t}toRgba(){const[e,t,i,r]=this._components;return{r:e,g:t,b:i,a:r}}toRgb(){const[e,t,i]=this._components;return{r:e,g:t,b:i}}toRgbaString(){const[e,t,i]=this.toUint8RgbArray();return`rgba(${e},${t},${i},${this.alpha})`}toUint8RgbArray(e){const[t,i,r]=this._components;return(e=null!=e?e:[])[0]=Math.round(255*t),e[1]=Math.round(255*i),e[2]=Math.round(255*r),e}toRgbArray(e){e=null!=e?e:[];const[t,i,r]=this._components;return e[0]=t,e[1]=i,e[2]=r,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(e){const[t,i,r,s]=Tx.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=i,this._components[2]*=r,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let i=this._int>>16&255,r=this._int>>8&255,s=255&this._int;return t&&(i=i*e+.5|0,r=r*e+.5|0,s=s*e+.5|0),(255*e<<24)+(i<<16)+(r<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,i,r]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(i*e)/e,this._components[2]=Math.round(r*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=null!=e?e:[];const[t,i,r,s]=this._components;return e[0]=t,e[1]=i,e[2]=r,e[3]=s,e}normalize(e){let t,i,r,s;if(("number"==typeof e||e instanceof Number)&&e>=0&&e<=16777215)t=(e>>16&255)/255,i=(e>>8&255)/255,r=(255&e)/255,s=1;else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,i,r,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,i,r,s=255]=e,t/=255,i/=255,r/=255,s/=255;else if("string"==typeof e||"object"==typeof e){if("string"==typeof e){const a=Tx.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Ju(e);o.isValid()&&(({r:t,g:i,b:r,a:s}=o.rgba),t/=255,i/=255,r/=255)}if(void 0===t)throw new Error(`Unable to convert color ${e}`);this._components[0]=t,this._components[1]=i,this._components[2]=r,this._components[3]=s,this.refreshInt()}refreshInt(){this._clamp(this._components);const[e,t,i]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*i|0)}_clamp(e,t=0,i=1){return"number"==typeof e?Math.min(Math.max(e,t),i):(e.forEach((r,s)=>{e[s]=Math.min(Math.max(r,t),i)}),e)}};V_.shared=new V_,V_.temp=new V_,V_.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let si=V_;function o0e(n,e=[]){return Mn("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),si.shared.setValue(n).toRgbArray(e)}function Yj(n){return Mn("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),si.shared.setValue(n).toHex()}function a0e(n){return Mn("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),si.shared.setValue(n).toNumber()}function Xj(n){return Mn("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),si.shared.setValue(n).toNumber()}const cA=function l0e(){const n=[],e=[];for(let i=0;i<32;i++)n[i]=i,e[i]=i;n[wt.NORMAL_NPM]=wt.NORMAL,n[wt.ADD_NPM]=wt.ADD,n[wt.SCREEN_NPM]=wt.SCREEN,e[wt.NORMAL]=wt.NORMAL_NPM,e[wt.ADD]=wt.ADD_NPM,e[wt.SCREEN]=wt.SCREEN_NPM;const t=[];return t.push(e),t.push(n),t}();function uA(n,e){return cA[e?1:0][n]}function c0e(n,e,t,i=!0){return Mn("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),si.shared.setValue(n).premultiply(e,i).toArray(null!=t?t:new Float32Array(4))}function u0e(n,e){return Mn("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),si.shared.setValue(n).toPremultiplied(e)}function d0e(n,e,t,i=!0){return Mn("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),si.shared.setValue(n).premultiply(e,i).toArray(null!=t?t:new Float32Array(4))}const qj=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Kj(n,e=null){const t=6*n;if((e=e||new Uint16Array(t)).length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let i=0,r=0;i<t;i+=6,r+=4)e[i+0]=r+0,e[i+1]=r+1,e[i+2]=r+2,e[i+3]=r+0,e[i+4]=r+2,e[i+5]=r+3;return e}function uT(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}const h0e={Float32Array,Uint32Array,Int32Array,Uint8Array};function p0e(n,e){let t=0,i=0;const r={};for(let l=0;l<n.length;l++)i+=e[l],t+=n[l].length;const s=new ArrayBuffer(4*t);let o=null,a=0;for(let l=0;l<n.length;l++){const c=e[l],u=n[l],d=uT(u);r[d]||(r[d]=new h0e[d](s)),o=r[d];for(let b=0;b<u.length;b++)o[(b/c|0)*i+a+b%c]=u[b];a+=c}return new Float32Array(s)}function Hb(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function dA(n){return!(n&n-1||!n)}function hA(n){let e=(n>65535?1:0)<<4,t=((n>>>=e)>255?1:0)<<3;return e|=t,t=((n>>>=t)>15?1:0)<<2,e|=t,t=((n>>>=t)>3?1:0)<<1,e|=t,e|(n>>>=t)>>1}function Lf(n,e,t){const i=n.length;let r;if(e>=i||0===t)return;const s=i-(t=e+t>i?i-e:t);for(r=e;r<s;++r)n[r]=n[r+t];n.length=s}function Xd(n){return 0===n?0:n<0?-1:1}let f0e=0;function sp(){return++f0e}const pA=class{constructor(n,e,t,i){this.left=n,this.top=e,this.right=t,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};pA.EMPTY=new pA(0,0,0,0);let fA=pA;const gA={},Oa=Object.create(null),Cl=Object.create(null);function g0e(){let n;for(n in Oa)Oa[n].destroy();for(n in Cl)Cl[n].destroy()}function m0e(){let n;for(n in Oa)delete Oa[n];for(n in Cl)delete Cl[n]}class jb{constructor(e,t,i){this._canvas=zt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||zt.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Jj(n,e,t){for(let i=0,r=4*t*e;i<e;++i,r+=4)if(0!==n[r+3])return!1;return!0}function Qj(n,e,t,i,r){const s=4*e;for(let o=i,a=i*s+4*t;o<=r;++o,a+=s)if(0!==n[a+3])return!1;return!0}function Zj(n){const{width:e,height:t}=n,i=n.getContext("2d",{willReadFrequently:!0});if(null===i)throw new TypeError("Failed to get canvas 2D context");const r=i.getImageData(0,0,e,t).data;let s=0,o=0,a=e-1,l=t-1;for(;o<t&&Jj(r,e,o);)++o;if(o===t)return fA.EMPTY;for(;Jj(r,e,l);)--l;for(;Qj(r,e,s,o,l);)++s;for(;Qj(r,e,a,o,l);)--a;return++a,++l,new fA(s,o,a,l)}function eG(n){const e=Zj(n),{width:t,height:i}=e;let r=null;if(!e.isEmpty()){const s=n.getContext("2d");if(null===s)throw new TypeError("Failed to get canvas 2D context");r=s.getImageData(e.left,e.top,t,i)}return{width:t,height:i,data:r}}function _0e(n){const e=qj.exec(n);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function tG(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function Qu(n,e=1){var i;const t=null==(i=zt.RETINA_PREFIX)?void 0:i.exec(n);return t?parseFloat(t[1]):e}var Bt=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(Bt||{});const mA=n=>{if("function"==typeof n||"object"==typeof n&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n=Nn(je({},"object"!=typeof n.extension?{type:n.extension}:n.extension),{ref:n})}if("object"!=typeof n)throw new Error("Invalid extension type");return"string"==typeof(n=je({},n)).type&&(n.type=[n.type]),n},nG=(n,e)=>{var t;return null!=(t=mA(n).priority)?t:e},Wt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(mA).forEach(e=>{e.type.forEach(t=>{var i,r;return null==(r=(i=this._removeHandlers)[t])?void 0:r.call(i,e)})}),this},add(...n){return n.map(mA).forEach(e=>{e.type.forEach(t=>{var s,o;const i=this._addHandlers,r=this._queue;i[t]?null==(s=i[t])||s.call(i,e):(r[t]=r[t]||[],null==(o=r[t])||o.push(e))})}),this},handle(n,e,t){var o;const i=this._addHandlers,r=this._removeHandlers;if(i[n]||r[n])throw new Error(`Extension type ${n} already has a handler`);i[n]=e,r[n]=t;const s=this._queue;return s[n]&&(null==(o=s[n])||o.forEach(a=>e(a)),delete s[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(n,e,t=-1){return this.handle(n,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((r,s)=>nG(s,t)-nG(r,t)))},i=>{const r=e.indexOf(i.ref);-1!==r&&e.splice(r,1)})}};class dT{constructor(e){this.rawBinaryData="number"==typeof e?new ArrayBuffer(e):e instanceof Uint8Array?e.buffer:e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const y0e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function b0e(n){let e="";for(let t=0;t<n;++t)t>0&&(e+="\nelse "),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function iG(n,e){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=y0e.replace(/%forloop%/gi,b0e(n));if(e.shaderSource(t,i),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS))break;n=n/2|0}return n}class au{constructor(){this.data=0,this.blendMode=wt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==wt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new au;return e.depthTest=!1,e.blend=!0,e}}au.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const hT=[];function SA(n,e){if(!n)return null;let t="";if("string"==typeof n){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(t=i[1].toLowerCase())}for(let i=hT.length-1;i>=0;--i){const r=hT[i];if(r.test&&r.test(n,t))return new r(n,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class wl{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,i,r,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:u}=this;this._aliasCount++;for(let d=0,b=u.length;d<b;d++)u[d][c](e,t,i,r,s,o,a,l);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(wl.prototype,{dispatch:{value:wl.prototype.emit},run:{value:wl.prototype.emit}});class z_{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new wl("setRealSize"),this.onUpdate=new wl("update"),this.onError=new wl("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class Gb extends z_{constructor(e,t){var s;const{width:i,height:r}=t||{};if(!i||!r)throw new Error("BufferResource width or height invalid");super(i,r),this.data=e,this.unpackAlignment=null!=(s=t.unpackAlignment)?s:4}upload(e,t,i){const r=e.gl;r.pixelStorei(r.UNPACK_ALIGNMENT,this.unpackAlignment),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ea.UNPACK);const s=t.realWidth,o=t.realHeight;return i.width===s&&i.height===o?r.texSubImage2D(t.target,0,0,0,s,o,t.format,i.type,this.data):(i.width=s,i.height=o,r.texImage2D(t.target,0,i.internalFormat,s,o,0,t.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const v0e={scaleMode:uc.NEAREST,alphaMode:Ea.NPM},TA=class J0 extends G_{constructor(e=null,t=null){super(),t=Object.assign({},J0.defaultOptions,t);const{alphaMode:i,mipmap:r,anisotropicLevel:s,scaleMode:o,width:a,height:l,wrapMode:c,format:u,type:d,target:b,resolution:C,resourceOptions:M}=t;e&&!(e instanceof z_)&&((e=SA(e,M)).internal=!0),this.resolution=C||zt.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=o,this.format=u,this.type=d,this.target=b,this.alphaMode=i,this.uid=sp(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let i;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,i=!0),i&&this.dirtyStyleId++,this}setSize(e,t,i){return this.setRealSize(e*(i=i||this.resolution),t*i,i)}setRealSize(e,t,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=dA(this.realWidth)&&dA(this.realHeight)}setResolution(e){const t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Cl[this.cacheId],delete Oa[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),J0.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,i=zt.STRICT_TEXTURE_CACHE){const r="string"==typeof e;let s=null;r?s=e:(e._pixiId||(e._pixiId=`${(null==t?void 0:t.pixiIdPrefix)||"pixiid"}_${sp()}`),s=e._pixiId);let o=Cl[s];if(r&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new J0(e,t),o.cacheId=s,J0.addToCache(o,s)),o}static fromBuffer(e,t,i,r){e=e||new Float32Array(t*i*4);const s=new Gb(e,je({width:t,height:i},null==r?void 0:r.resourceOptions));let o,a;return e instanceof Float32Array?(o=Dt.RGBA,a=pn.FLOAT):e instanceof Int32Array?(o=Dt.RGBA_INTEGER,a=pn.INT):e instanceof Uint32Array?(o=Dt.RGBA_INTEGER,a=pn.UNSIGNED_INT):e instanceof Int16Array?(o=Dt.RGBA_INTEGER,a=pn.SHORT):e instanceof Uint16Array?(o=Dt.RGBA_INTEGER,a=pn.UNSIGNED_SHORT):e instanceof Int8Array?(o=Dt.RGBA,a=pn.BYTE):(o=Dt.RGBA,a=pn.UNSIGNED_BYTE),s.internal=!0,new J0(s,Object.assign({},v0e,{type:a,format:o},r))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Cl[t]&&Cl[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),Cl[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=Cl[e];if(t){const i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete Cl[e],t}}else if(null==e?void 0:e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete Cl[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};TA.defaultOptions={mipmap:nu.POW2,anisotropicLevel:0,scaleMode:uc.LINEAR,wrapMode:Ku.CLAMP,alphaMode:Ea.UNPACK,target:Bf.TEXTURE_2D,format:Dt.RGBA,type:pn.UNSIGNED_BYTE},TA._globalBatch=0;let kn=TA;class pT{constructor(){this.texArray=null,this.blend=0,this.type=cc.TRIANGLES,this.start=0,this.size=0,this.data=null}}let C0e=0;class ds{constructor(e,t=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=t,this.id=C0e++,this.disposeRunner=new wl("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ru.ELEMENT_ARRAY_BUFFER:ru.ARRAY_BUFFER}get index(){return this.type===ru.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new ds(e)}}class Vb{constructor(e,t=0,i=!1,r=pn.FLOAT,s,o,a,l=1){this.buffer=e,this.size=t,this.normalized=i,this.type=r,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,t,i,r,s){return new Vb(e,t,i,r,s)}}const w0e={Float32Array,Uint32Array,Int32Array,Uint8Array},rG={5126:4,5123:2,5121:1};let T0e=0;const M0e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class qd{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=T0e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new wl("disposeGeometry"),this.refCount=0}addAttribute(e,t,i=0,r=!1,s,o,a,l=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof ds||(t instanceof Array&&(t=new Float32Array(t)),t=new ds(t));const c=e.split("|");if(c.length>1){for(let d=0;d<c.length;d++)this.addAttribute(c[d],t,i,r,s);return this}let u=this.buffers.indexOf(t);return-1===u&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new Vb(u,i,r,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ds||(e instanceof Array&&(e=new Uint16Array(e)),e=new ds(e)),e.type=ru.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const e=[],t=[],i=new ds;let r;for(r in this.attributes){const s=this.attributes[r];e.push(this.buffers[s.buffer].data),t.push(s.size*rG[s.type]/4),s.buffer=0}for(i.data=function S0e(n,e){let t=0,i=0;const r={};for(let l=0;l<n.length;l++)i+=e[l],t+=n[l].length;const s=new ArrayBuffer(4*t);let o=null,a=0;for(let l=0;l<n.length;l++){const c=e[l],u=n[l],d=uT(u);r[d]||(r[d]=new w0e[d](s)),o=r[d];for(let b=0;b<u.length;b++)o[(b/c|0)*i+a+b%c]=u[b];a+=c}return new Float32Array(s)}(e,t),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new qd;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new ds(this.buffers[t].data.slice(0));for(const t in this.attributes){const i=this.attributes[t];e.attributes[t]=new Vb(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ru.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new qd,i=[],r=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)r[l]=r[l]||0,r[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)i[a]=new(M0e[uT(o.buffers[a].data)])(r[a]),t.buffers[a]=new ds(i[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(t.attributes=o.attributes,o.indexBuffer){t.indexBuffer=t.buffers[o.buffers.indexOf(o.indexBuffer)],t.indexBuffer.type=ru.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,u=0;for(let d=0;d<o.buffers.length;d++)if(o.buffers[d]!==o.indexBuffer){u=d;break}for(const d in o.attributes){const b=o.attributes[d];(0|b.buffer)===u&&(l+=b.size*rG[b.type]/4)}for(let d=0;d<e.length;d++){const b=e[d].indexBuffer.data;for(let C=0;C<b.length;C++)t.indexBuffer.data[C+c]+=a;a+=e[d].buffers[u].data.length/l,c+=b.length}}return t}}class MA extends qd{constructor(e=!1){super(),this._buffer=new ds(null,e,!1),this._indexBuffer=new ds(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,pn.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,pn.FLOAT).addAttribute("aColor",this._buffer,4,!0,pn.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,pn.FLOAT).addIndex(this._indexBuffer)}}const zb=2*Math.PI,sG=180/Math.PI,oG=Math.PI/180;var fr=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))(fr||{});class fi{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new fi(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}fi.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const fT=[new fi,new fi,new fi,new fi];class Ln{constructor(e=0,t=0,i=0,r=0){this.x=Number(e),this.y=Number(t),this.width=Number(i),this.height=Number(r),this.type=fr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ln(0,0,0,0)}clone(){return new Ln(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t)return!((this.right>e.right?e.right:this.right)<=(this.x<e.x?e.x:this.x))&&(this.bottom>e.bottom?e.bottom:this.bottom)>(this.y<e.y?e.y:this.y);const i=this.left,r=this.right,s=this.top,o=this.bottom;if(r<=i||o<=s)return!1;const a=fT[0].set(e.left,e.top),l=fT[1].set(e.left,e.bottom),c=fT[2].set(e.right,e.top),u=fT[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const d=Math.sign(t.a*t.d-t.b*t.c);if(0===d||(t.apply(a,a),t.apply(l,l),t.apply(c,c),t.apply(u,u),Math.max(a.x,l.x,c.x,u.x)<=i||Math.min(a.x,l.x,c.x,u.x)>=r||Math.max(a.y,l.y,c.y,u.y)<=s||Math.min(a.y,l.y,c.y,u.y)>=o))return!1;const b=d*(l.y-a.y),C=d*(a.x-l.x),M=b*i+C*s,I=b*r+C*s,k=b*i+C*o,B=b*r+C*o;if(Math.max(M,I,k,B)<=b*a.x+C*a.y||Math.min(M,I,k,B)>=b*u.x+C*u.y)return!1;const L=d*(a.y-c.y),H=d*(c.x-a.x),Y=L*i+H*s,se=L*r+H*s,ue=L*i+H*o,oe=L*r+H*o;return!(Math.max(Y,se,ue,oe)<=L*a.x+H*a.y||Math.min(Y,se,ue,oe)>=L*u.x+H*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(i-t,0),this.y=r,this.height=Math.max(s-r,0),this}ceil(e=1,t=.001){const i=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=i-this.x,this.height=r-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=i-t,this.y=r,this.height=s-r,this}}Ln.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class $b{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.radius=i,this.type=fr.CIRC}clone(){return new $b(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;let r=this.x-e,s=this.y-t;return r*=r,s*=s,r+s<=this.radius*this.radius}getBounds(){return new Ln(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}$b.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Wb{constructor(e=0,t=0,i=0,r=0){this.x=e,this.y=t,this.width=i,this.height=r,this.type=fr.ELIP}clone(){return new Wb(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,r=(t-this.y)/this.height;return i*=i,r*=r,i+r<=1}getBounds(){return new Ln(this.x-this.width,this.y-this.height,this.width,this.height)}}Wb.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class op{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if("number"!=typeof t[0]){const i=[];for(let r=0,s=t.length;r<s;r++)i.push(t[r].x,t[r].y);t=i}this.points=t,this.type=fr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new op(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let i=!1;const r=this.points.length/2;for(let s=0,o=r-1;s<r;o=s++){const a=this.points[2*s],l=this.points[2*s+1],c=this.points[2*o],u=this.points[2*o+1];l>t!=u>t&&e<(t-l)/(u-l)*(c-a)+a&&(i=!i)}return i}}op.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((n,e)=>`${n}, ${e}`,"")}]`};class Yb{constructor(e=0,t=0,i=0,r=0,s=20){this.x=e,this.y=t,this.width=i,this.height=r,this.radius=s,this.type=fr.RREC}clone(){return new Yb(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+i&&t<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let r=e-(this.x+i),s=t-(this.y+i);const o=i*i;if(r*r+s*s<=o||(r=e-(this.x+this.width-i),r*r+s*s<=o)||(s=t-(this.y+this.height-i),r*r+s*s<=o)||(r=e-(this.x+i),r*r+s*s<=o))return!0}return!1}}Yb.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Vi{constructor(e=1,t=0,i=0,r=1,s=0,o=0){this.array=null,this.a=e,this.b=t,this.c=i,this.d=r,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,i,r,s,o){return this.a=e,this.b=t,this.c=i,this.d=r,this.tx=s,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const i=t||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,t){t=t||new fi;const i=e.x,r=e.y;return t.x=this.a*i+this.c*r+this.tx,t.y=this.b*i+this.d*r+this.ty,t}applyInverse(e,t){t=t||new fi;const i=1/(this.a*this.d+this.c*-this.b),r=e.x,s=e.y;return t.x=this.d*i*r+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*s+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.a,s=this.c,o=this.tx;return this.a=r*t-this.b*i,this.b=r*i+this.b*t,this.c=s*t-this.d*i,this.d=s*i+this.d*t,this.tx=o*t-this.ty*i,this.ty=o*i+this.ty*t,this}append(e){const t=this.a,i=this.b,r=this.c,s=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*i+e.b*s,this.c=e.c*t+e.d*r,this.d=e.c*i+e.d*s,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*i+e.ty*s+this.ty,this}setTransform(e,t,i,r,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(i*this.a+r*this.c),this.ty=t-(i*this.b+r*this.d),this}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const i=this.a,r=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,i=this.b,r=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-r,s),l=Math.atan2(i,t),c=Math.abs(a+l);return c<1e-5||Math.abs(zb-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(t*t+i*i),e.scale.y=Math.sqrt(r*r+s*s),e.position.x=this.tx+(o.x*t+o.y*r),e.position.y=this.ty+(o.x*i+o.y*s),e}invert(){const e=this.a,t=this.b,i=this.c,r=this.d,s=this.tx,o=e*r-t*i;return this.a=r/o,this.b=-t/o,this.c=-i/o,this.d=e/o,this.tx=(i*this.ty-r*s)/o,this.ty=-(e*this.ty-t*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Vi;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Vi}static get TEMP_MATRIX(){return new Vi}}Vi.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Uf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Hf=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],jf=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gf=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],xA=[],aG=[],gT=Math.sign;!function x0e(){for(let n=0;n<16;n++){const e=[];xA.push(e);for(let t=0;t<16;t++){const i=gT(Uf[n]*Uf[t]+jf[n]*Hf[t]),r=gT(Hf[n]*Uf[t]+Gf[n]*Hf[t]),s=gT(Uf[n]*jf[t]+jf[n]*Gf[t]),o=gT(Hf[n]*jf[t]+Gf[n]*Gf[t]);for(let a=0;a<16;a++)if(Uf[a]===i&&Hf[a]===r&&jf[a]===s&&Gf[a]===o){e.push(a);break}}}for(let n=0;n<16;n++){const e=new Vi;e.set(Uf[n],Hf[n],jf[n],Gf[n],0,0),aG.push(e)}}();const Rr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Uf[n],uY:n=>Hf[n],vX:n=>jf[n],vY:n=>Gf[n],inv:n=>8&n?15&n:7&-n,add:(n,e)=>xA[n][e],sub:(n,e)=>xA[n][Rr.inv(e)],rotate180:n=>4^n,isVertical:n=>2==(3&n),byDirection:(n,e)=>2*Math.abs(n)<=Math.abs(e)?e>=0?Rr.S:Rr.N:2*Math.abs(e)<=Math.abs(n)?n>0?Rr.E:Rr.W:e>0?n>0?Rr.SE:Rr.SW:n>0?Rr.NE:Rr.NW,matrixAppendRotationInv:(n,e,t=0,i=0)=>{const r=aG[Rr.inv(e)];r.tx=t,r.ty=i,n.append(r)}};class Zu{constructor(e,t,i=0,r=0){this._x=i,this._y=r,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Zu(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Zu.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const EA=class{constructor(){this.worldTransform=new Vi,this.localTransform=new Vi,this.position=new Zu(this.onChange,this,0,0),this.scale=new Zu(this.onChange,this,1,1),this.pivot=new Zu(this.onChange,this,0,0),this.skew=new Zu(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){const t=n.worldTransform,i=this.worldTransform;i.a=e.a*t.a+e.b*t.c,i.b=e.a*t.b+e.b*t.d,i.c=e.c*t.a+e.d*t.c,i.d=e.c*t.b+e.d*t.d,i.tx=e.tx*t.a+e.ty*t.c+t.tx,i.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};EA.IDENTITY=new EA;let Xb=EA;Xb.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};const Vf=[{test:n=>"float"===n.type&&1===n.size&&!n.isArray,code:n=>`\n            if(uv["${n}"] !== ud["${n}"].value)\n            {\n                ud["${n}"].value = uv["${n}"]\n                gl.uniform1f(ud["${n}"].location, uv["${n}"])\n            }\n            `},{test:(n,e)=>!("sampler2D"!==n.type&&"samplerCube"!==n.type&&"sampler2DArray"!==n.type||1!==n.size||n.isArray||null!=e&&void 0===e.castToBaseTexture),code:n=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${n}"], t);\n\n            if(ud["${n}"].value !== t)\n            {\n                ud["${n}"].value = t;\n                gl.uniform1i(ud["${n}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(n,e)=>"mat3"===n.type&&1===n.size&&!n.isArray&&void 0!==e.a,code:n=>`\n            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));\n            `,codeUbo:n=>`\n                var ${n}_matrix = uv.${n}.toArray(true);\n\n                data[offset] = ${n}_matrix[0];\n                data[offset+1] = ${n}_matrix[1];\n                data[offset+2] = ${n}_matrix[2];\n        \n                data[offset + 4] = ${n}_matrix[3];\n                data[offset + 5] = ${n}_matrix[4];\n                data[offset + 6] = ${n}_matrix[5];\n        \n                data[offset + 8] = ${n}_matrix[6];\n                data[offset + 9] = ${n}_matrix[7];\n                data[offset + 10] = ${n}_matrix[8];\n            `},{test:(n,e)=>"vec2"===n.type&&1===n.size&&!n.isArray&&void 0!==e.x,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${n}"].location, v.x, v.y);\n                }`,codeUbo:n=>`\n                v = uv.${n};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:n=>"vec2"===n.type&&1===n.size&&!n.isArray,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);\n                }\n            `},{test:(n,e)=>"vec4"===n.type&&1===n.size&&!n.isArray&&void 0!==e.width,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:n=>`\n                    v = uv.${n};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(n,e)=>"vec4"===n.type&&1===n.size&&!n.isArray&&void 0!==e.red,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${n}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:n=>`\n                    v = uv.${n};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(n,e)=>"vec3"===n.type&&1===n.size&&!n.isArray&&void 0!==e.red,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${n}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:n=>`\n                    v = uv.${n};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:n=>"vec4"===n.type&&1===n.size&&!n.isArray,code:n=>`\n                cv = ud["${n}"].value;\n                v = uv["${n}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])\n                }`}],P0e={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},I0e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},lG={};let mT,$_=lG;function cG(){if($_===lG||(null==$_?void 0:$_.isContextLost())){const n=zt.ADAPTER.createCanvas();let e;zt.PREFER_ENV>=rp.WEBGL2&&(e=n.getContext("webgl2",{})),e||(e=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),$_=e}return $_}const R0e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function uG(n){return R0e[n]}let _T=null;const dG={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function hG(n,e){if(!_T){const t=Object.keys(dG);_T={};for(let i=0;i<t.length;++i){const r=t[i];_T[n[r]]=dG[r]}}return _T[e]}function pG(n,e,t){if("precision"!==n.substring(0,9)){let i=e;return e===vl.HIGH&&t!==vl.HIGH&&(i=vl.MEDIUM),`precision ${i} float;\n${n}`}return t!==vl.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}let k0e=0;const yT={},OA=class Q0{constructor(e,t,i="pixi-shader",r={}){this.extra={},this.id=k0e++,this.vertexSrc=e||Q0.defaultVertexSrc,this.fragmentSrc=t||Q0.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),yT[i]?(yT[i]++,i+=`-${yT[i]}`):yT[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}\n${this.fragmentSrc}`,this.vertexSrc=pG(this.vertexSrc,Q0.defaultVertexPrecision,vl.HIGH),this.fragmentSrc=pG(this.fragmentSrc,Q0.defaultFragmentPrecision,function D0e(){if(!mT){mT=vl.MEDIUM;const n=cG();if(n&&n.getShaderPrecisionFormat){const e=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);e&&(mT=e.precision?vl.HIGH:vl.MEDIUM)}}return mT}())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}static from(e,t,i){const r=e+t;let s=gA[r];return s||(gA[r]=s=new Q0(e,t,i)),s}};OA.defaultVertexPrecision=vl.HIGH,OA.defaultFragmentPrecision=su.apple.device?vl.HIGH:vl.MEDIUM;let ed=OA,N0e=0;class hc{constructor(e,t,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=N0e++,this.static=!!t,this.ubo=!!i,e instanceof ds?(this.buffer=e,this.buffer.type=ru.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ds(new Float32Array(1)),this.buffer.type=ru.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new hc(t,i)}static from(e,t,i){return new hc(e,t,i)}static uboFrom(e,t){return new hc(e,null==t||t,!0)}}class lu{constructor(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof hc?t:new hc(t):new hc({}),this.disposeRunner=new wl("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const i in t.uniforms){const r=t.uniforms[i];if(!0===r.group&&this.checkUniformExists(e,r))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,i){const r=ed.from(e,t);return new lu(r,i)}}class fG{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=s;this.defaultGroupCache[e]=hc.from({uSamplers:i},!0);let r=this.fragTemplate;r=r.replace(/%count%/gi,`${e}`),r=r.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new ed(this.vertexSrc,r)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Vi,default:this.defaultGroupCache[e]};return new lu(this.programCache[e],t)}generateSampleSrc(e){let t="";t+="\n",t+="\n";for(let i=0;i<e;i++)i>0&&(t+="\nelse "),i<e-1&&(t+=`if(vTextureId < ${i}.5)`),t+="\n{",t+=`\n\tcolor = texture2D(uSamplers[${i}], vTextureCoord);`,t+="\n}";return t+="\n",t+="\n",t}}class bT{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class qb{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}const Kb=class Ou extends qb{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=MA,this.vertexSize=6,this.state=au.for2d(),this.size=4*Ou.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=null!=(e=this._defaultMaxTextures)?e:function B0e(n){let e=!0;const t=zt.ADAPTER.getNavigator();if(su.tablet||su.phone){if(su.apple.device){const i=t.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(su.android.device){const i=t.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?n:4}(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=null!=(e=this._canUploadSameBuffer)?e:function F0e(){return!su.apple.device}(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Mn("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}static get defaultFragmentTemplate(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}setShaderGenerator({vertex:e=Ou.defaultVertexSrc,fragment:t=Ou.defaultFragmentTemplate}={}){this.shaderGenerator=new fG(e,t)}contextChange(){const e=this.renderer.gl;zt.PREFER_ENV===rp.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ou.defaultMaxTextures),this.maxTextures=iG(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Ou,i=this.size/4,r=Math.floor(i/this.maxTextures)+1;for(;e.length<i;)e.push(new pT);for(;t.length<r;)t.push(new bT);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,i=Ou._textureArrayPool,r=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++kn._globalBatch,l=0,c=i[0],u=0;r.copyBoundTextures(s,t);for(let d=0;d<this._bufferSize;++d){const b=e[d];e[d]=null,b._batchEnabled!==a&&(c.count>=t&&(r.boundArray(c,s,a,t),this.buildDrawCalls(c,u,d),u=d,c=i[++l],++a),b._batchEnabled=a,b.touched=o,c.elements[c.count++]=b)}c.count>0&&(r.boundArray(c,s,a,t),this.buildDrawCalls(c,u,this._bufferSize),++l,++a);for(let d=0;d<s.length;d++)s[d]=null;kn._globalBatch=a}buildDrawCalls(e,t,i){const{_bufferedElements:r,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,l=Ou._drawCallPool;let c=this._dcIndex,u=this._aIndex,d=this._iIndex,b=l[c];b.start=this._iIndex,b.texArray=e;for(let C=t;C<i;++C){const M=r[C],k=cA[M._texture.baseTexture.alphaMode?1:0][M.blendMode];r[C]=null,t<C&&b.blend!==k&&(b.size=d-b.start,t=C,b=l[++c],b.texArray=e,b.start=d),this.packInterleavedGeometry(M,s,o,u,d),u+=M.vertexData.length/2*a,d+=M.indices.length,b.blend=k}t<i&&(b.size=d-b.start,++c),this._dcIndex=c,this._aIndex=u,this._iIndex=d}bindAndClearTexArray(e){const t=this.renderer.texture;for(let i=0;i<e.count;i++)t.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:i}=this;Ou.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:i}=this.renderer,r=Ou._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:l,size:c,start:u,blend:d}=r[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=d,i.set(this.state),t.drawElements(l,c,t.UNSIGNED_SHORT,2*u)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ou.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=Hb(Math.ceil(e/8)),i=hA(t),r=8*t;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._aBuffers[r];return s||(this._aBuffers[r]=s=new dT(r*this.vertexSize*4)),s}getIndexBuffer(e){const t=Hb(Math.ceil(e/12)),i=hA(t),r=12*t;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(r)),s}packInterleavedGeometry(e,t,i,r,s){const{uint32View:o,float32View:a}=t,l=r/this.vertexSize,c=e.uvs,u=e.indices,d=e.vertexData,b=e._texture.baseTexture._batchLocation,C=Math.min(e.worldAlpha,1),M=si.shared.setValue(e._tintRGB).toPremultiplied(C,e._texture.baseTexture.alphaMode>0);for(let I=0;I<d.length;I+=2)a[r++]=d[I],a[r++]=d[I+1],a[r++]=c[I],a[r++]=c[I+1],o[r++]=M,a[r++]=b;for(let I=0;I<u.length;I++)i[s++]=l+u[I]}};Kb.defaultBatchSize=4096,Kb.extension={name:"batch",type:Bt.RendererPlugin},Kb._drawCallPool=[],Kb._textureArrayPool=[];let ap=Kb;Wt.add(ap);const PA=class $1 extends lu{constructor(e,t,i){super(ed.from(e||$1.defaultVertexSrc,t||$1.defaultFragmentSrc),i),this.padding=0,this.resolution=$1.defaultResolution,this.multisample=$1.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new au}apply(e,t,i,r,s){e.applyFilter(this,t,i,r)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}};PA.defaultResolution=1,PA.defaultMultisample=ws.NONE;let Qo=PA;class Jb{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new si(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:i,backgroundAlpha:r}=e,s=null!=i?i:t;void 0!==s&&(this.color=s),this.alpha=r}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Jb.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Jb.extension={type:[Bt.RendererSystem,Bt.CanvasRendererSystem],name:"background"},Wt.add(Jb);class IA{constructor(e){this.renderer=e,this.emptyRenderer=new qb(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:i}=this.renderer.texture;for(let r=t-1;r>=0;--r)e[r]=i[r]||null,e[r]&&(e[r]._batchLocation=r)}boundArray(e,t,i,r){const{elements:s,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const u=s[c],d=u._batchLocation;if(d>=0&&d<r&&t[d]===u)o[c]=d;else for(;l<r;){const b=t[l];if(!b||b._batchEnabled!==i||b._batchLocation!==l){o[c]=l,u._batchLocation=l,t[l]=u;break}l++}}}destroy(){this.renderer=null}}IA.extension={type:Bt.RendererSystem,name:"batch"},Wt.add(IA);let gG=0;class Qb{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=gG++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=gG++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let i;if(zt.PREFER_ENV>=rp.WEBGL2&&(i=e.getContext("webgl2",t)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const r=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Qb.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Qb.extension={type:Bt.RendererSystem,name:"context"},Wt.add(Qb);class vT{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new wl("disposeFramebuffer"),this.multisample=ws.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new kn(null,{scaleMode:uc.NEAREST,resolution:1,mipmap:nu.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new kn(null,{scaleMode:uc.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:nu.OFF,format:Dt.DEPTH_COMPONENT,type:pn.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const r=this.colorTextures[i],s=r.resolution;r.setSize(e/s,t/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,t/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class CT extends kn{constructor(e={}){var t,i;"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),e.width=null!=(t=e.width)?t:100,e.height=null!=(i=e.height)?i:100,null!=e.multisample||(e.multisample=ws.NONE),super(null,e),this.mipmap=nu.OFF,this.valid=!0,this._clear=new si([0,0,0,0]),this.framebuffer=new vT(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class td extends z_{constructor(e){super(e.naturalWidth||e.videoWidth||e.displayWidth||e.width,e.naturalHeight||e.videoHeight||e.displayHeight||e.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,i){void 0!==i||t.startsWith("data:")?!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous"):e.crossOrigin=tG(t)}upload(e,t,i,r){const s=e.gl,o=t.realWidth,a=t.realHeight;if(r=r||this.source,typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Ea.UNPACK),this.noSubImage||t.target!==s.TEXTURE_2D||i.width!==o||i.height!==a?(i.width=o,i.height=a,s.texImage2D(t.target,0,i.internalFormat,t.format,i.type,r)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,t.format,i.type,r),!0}update(){if(this.destroyed)return;const e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),super.update()}dispose(){this.source=null}}class AA extends td{constructor(e,t){var i;if(t=t||{},"string"==typeof e){const r=new Image;td.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(null!=(i=t.createBitmap)?i:zt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((t,i)=>{const r=this.source;this.url=r.src;const s=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.update(),this._load=null,t(this.createBitmap?this.process():this))};r.complete&&r.src?s():(r.onload=s,r.onerror=o=>{i(o),this.onError.emit(o)})})),this._load}process(){const e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap;return this._process=fetch(e.src,{mode:e.crossOrigin&&"anonymous"!==e.crossOrigin?"no-cors":"cors"}).then(r=>r.blob()).then(r=>t(r,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===Ea.UNPACK?"premultiply":"none"})).then(r=>this.destroyed?Promise.reject():(this.bitmap=r,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,i){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,i,this.bitmap),!this.preserveBitmap){let r=!0;const s=t._glTextures;for(const o in s){const a=s[o];if(a!==i&&a.dirtyId!==t.dirtyId){r=!1;break}}r&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&("string"==typeof e||e instanceof HTMLImageElement)}}class wT{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,i){const r=t.width,s=t.height;if(i){const o=e.width/2/r,a=e.height/2/s,l=e.x/r+o,c=e.y/s+a;i=Rr.add(i,Rr.NW),this.x0=l+o*Rr.uX(i),this.y0=c+a*Rr.uY(i),i=Rr.add(i,2),this.x1=l+o*Rr.uX(i),this.y1=c+a*Rr.uY(i),i=Rr.add(i,2),this.x2=l+o*Rr.uX(i),this.y2=c+a*Rr.uY(i),i=Rr.add(i,2),this.x3=l+o*Rr.uX(i),this.y3=c+a*Rr.uY(i)}else this.x0=e.x/r,this.y0=e.y/s,this.x1=(e.x+e.width)/r,this.y1=e.y/s,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/s,this.x3=e.x/r,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}wT.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const mG=new wT;function ST(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}class Lt extends G_{constructor(e,t,i,r,s,o,a){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new Ln(0,0,1,1)),e instanceof Lt&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=r,this.valid=!1,this.destroyed=!1,this._uvs=mG,this.uvMatrix=null,this.orig=i||t,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new fi(o.x,o.y):new fi(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;(null==t?void 0:t.url)&&Oa[t.url]&&Lt.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Lt.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var r;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),i=new Lt(this.baseTexture,!this.noFrame&&e,t,null==(r=this.trim)?void 0:r.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===mG&&(this._uvs=new wT),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},i=zt.STRICT_TEXTURE_CACHE){const r="string"==typeof e;let s=null;r?s=e:e instanceof kn?(e.cacheId||(e.cacheId=`${(null==t?void 0:t.pixiIdPrefix)||"pixiid"}-${sp()}`,kn.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=`${(null==t?void 0:t.pixiIdPrefix)||"pixiid"}_${sp()}`),s=e._pixiId);let o=Oa[s];if(r&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return o||e instanceof kn?!o&&e instanceof kn&&(o=new Lt(e),Lt.addToCache(o,s)):(t.resolution||(t.resolution=Qu(e)),o=new Lt(new kn(e,t)),o.baseTexture.cacheId=s,kn.addToCache(o.baseTexture,s),Lt.addToCache(o,s)),o}static fromURL(e,t){const i=Object.assign({autoLoad:!1},null==t?void 0:t.resourceOptions),r=Lt.from(e,Object.assign({resourceOptions:i},t),!1),s=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):s.load().then(()=>Promise.resolve(r))}static fromBuffer(e,t,i,r){return new Lt(kn.fromBuffer(e,t,i,r))}static fromLoader(e,t,i,r){const s=new kn(e,Object.assign({scaleMode:kn.defaultOptions.scaleMode,resolution:Qu(t)},r)),{resource:o}=s;o instanceof AA&&(o.url=t);const a=new Lt(s);return i||(i=t),kn.addToCache(a.baseTexture,i),Lt.addToCache(a,i),i!==t&&(kn.addToCache(a.baseTexture,t),Lt.addToCache(a,t)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Oa[t]&&Oa[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),Oa[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=Oa[e];if(t){const i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete Oa[e],t}}else if(null==e?void 0:e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)Oa[e.textureCacheIds[t]]===e&&delete Oa[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:i,width:r,height:s}=e,o=t+r>this.baseTexture.width,a=i+s>this.baseTexture.height;if(o||a)throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: X: ${t} + ${r} = ${t+r} > ${this.baseTexture.width} ${o&&a?"and":"or"} Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`);this.valid=r&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Lt._EMPTY||(Lt._EMPTY=new Lt(new kn),ST(Lt._EMPTY),ST(Lt._EMPTY.baseTexture)),Lt._EMPTY}static get WHITE(){if(!Lt._WHITE){const e=zt.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),Lt._WHITE=new Lt(kn.from(e)),ST(Lt._WHITE),ST(Lt._WHITE.baseTexture)}return Lt._WHITE}}class cu extends Lt{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,i=!0){const r=this.baseTexture.resolution,s=Math.round(e*r)/r,o=Math.round(t*r)/r;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new cu(new CT(e))}}let _G=(()=>{class n{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,i,r=ws.NONE){const s=new CT(Object.assign({width:t,height:i,resolution:1,multisample:r},this.textureOptions));return new cu(s)}getOptimalTexture(t,i,r=1,s=ws.NONE){let o;t=Math.max(Math.ceil(t*r-1e-6),1),i=Math.max(Math.ceil(i*r-1e-6),1),this.enableFullScreen&&t===this._pixelsWidth&&i===this._pixelsHeight?o=s>1?-s:-1:(o=((65535&(t=Hb(t)))<<16|65535&(i=Hb(i)))>>>0,s>1&&(o+=4294967296*s)),this.texturePool[o]||(this.texturePool[o]=[]);let a=this.texturePool[o].pop();return a||(a=this.createTexture(t,i,s)),a.filterPoolKey=o,a.setResolution(r),a}getFilterTexture(t,i,r){const s=this.getOptimalTexture(t.width,t.height,i||t.resolution,r||ws.NONE);return s.filterFrame=t.filterFrame,s}returnTexture(t){const i=t.filterPoolKey;t.filterFrame=null,this.texturePool[i].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=!1!==t)for(const i in this.texturePool){const r=this.texturePool[i];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0)}this.texturePool={}}setScreenSize(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){this.enableFullScreen=t.width>0&&t.height>0;for(const i in this.texturePool){if(!(Number(i)<0))continue;const r=this.texturePool[i];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0);this.texturePool[i]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}return n.SCREEN_KEY=-1,n})();class yG extends qd{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class DA extends qd{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ds(this.vertices),this.uvBuffer=new ds(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+t.width/e.width,this.uvs[3]=r,this.uvs[4]=i+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=i,this.uvs[7]=r+t.height/e.height,i=t.x,r=t.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+t.width,this.vertices[3]=r,this.vertices[4]=i+t.width,this.vertices[5]=r+t.height,this.vertices[6]=i,this.vertices[7]=r+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class bG{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=ws.NONE,this.sourceFrame=new Ln,this.destinationFrame=new Ln,this.bindingSourceFrame=new Ln,this.bindingDestinationFrame=new Ln,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const TT=[new fi,new fi,new fi,new fi],RA=new Vi;class kA{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new _G,this.statePool=[],this.quad=new yG,this.quadUv=new DA,this.tempRect=new Ln,this.activeState={},this.globalUniforms=new hc({outputFrame:new Ln,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){var k,B,L,H;const i=this.renderer,r=this.defaultFilterStack,s=this.statePool.pop()||new bG,o=i.renderTexture;let a,l;if(o.current){const Y=o.current;a=Y.resolution,l=Y.multisample}else a=i.resolution,l=i.multisample;let c=t[0].resolution||a,u=null!=(k=t[0].multisample)?k:l,d=t[0].padding,b=t[0].autoFit,C=null==(B=t[0].legacy)||B;for(let Y=1;Y<t.length;Y++){const se=t[Y];c=Math.min(c,se.resolution||a),u=Math.min(u,null!=(L=se.multisample)?L:l),d=this.useMaxPadding?Math.max(d,se.padding):d+se.padding,b=b&&se.autoFit,C=C||null==(H=se.legacy)||H}1===r.length&&(this.defaultFilterStack[0].renderTexture=o.current),r.push(s),s.resolution=c,s.multisample=u,s.legacy=C,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);const M=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB(RA.copyFrom(i.projection.transform).invert(),M),b?(s.sourceFrame.fit(M),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(M)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,u),s.filters=t,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const I=this.tempRect;I.x=0,I.y=0,I.width=s.sourceFrame.width,I.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,I),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),i=t.filters;this.activeState=t;const r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;const s=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*t.resolution),o[1]=Math.round(s[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*s[2]-.5*o[2],a[3]=t.sourceFrame.height*s[3]-.5*o[3],t.legacy){const c=r.filterArea;c[0]=t.destinationFrame.width,c[1]=t.destinationFrame.height,c[2]=t.sourceFrame.x,c[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,t.renderTexture,l.renderTexture,iu.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let c=t.renderTexture,u=this.getOptimalFilterTexture(c.width,c.height,t.resolution);u.filterFrame=c.filterFrame;let d=0;for(d=0;d<i.length-1;++d){1===d&&t.multisample>1&&(u=this.getOptimalFilterTexture(c.width,c.height,t.resolution),u.filterFrame=c.filterFrame),i[d].apply(this,c,u,iu.CLEAR,t);const b=c;c=u,u=b}i[d].apply(this,c,l.renderTexture,iu.BLEND,t),d>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=iu.CLEAR){const{renderTexture:i,state:r}=this.renderer;if(this.renderer.projection.transform=e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,null==e?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(t===iu.CLEAR||t===iu.BLIT&&(1&r.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,i,r){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(cc.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(cc.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:i,destinationFrame:r}=this.activeState,{orig:s}=t._texture,o=e.set(r.width,0,0,r.height,i.x,i.y),a=t.worldTransform.copyTo(Vi.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(t.anchor.x,t.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,i=1,r=ws.NONE){return this.texturePool.getOptimalTexture(e,t,i,r)}getFilterTexture(e,t,i){if("number"==typeof e){const s=e;e=t,t=s}const r=this.texturePool.getOptimalTexture((e=e||this.activeState.renderTexture).width,e.height,t||e.resolution,i||ws.NONE);return r.filterFrame=e.filterFrame,r}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const i=TT[0],r=TT[1],s=TT[2],o=TT[3];i.set(t.left,t.top),r.set(t.left,t.bottom),s.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(i,i),e.apply(r,r),e.apply(s,s),e.apply(o,o);const a=Math.min(i.x,r.x,s.x,o.x),l=Math.min(i.y,r.y,s.y,o.y),c=Math.max(i.x,r.x,s.x,o.x),u=Math.max(i.y,r.y,s.y,o.y);t.x=a,t.y=l,t.width=c-a,t.height=u-l}roundFrame(e,t,i,r,s){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(s){const{a:o,b:a,c:l,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}(s=s?RA.copyFrom(s):RA.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(s,e),e.ceil(t),this.transformAABB(s.invert(),e)}}}kA.extension={type:Bt.RendererSystem,name:"filter"},Wt.add(kA);class vG{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=ws.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const G0e=new Ln;class NA{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new vT(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ln,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;zt.PREFER_ENV===rp.WEBGL_LEGACY&&(t=null,i=null),t?e.drawBuffers=r=>t.drawBuffersWEBGL(r):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,i=0){const{gl:r}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=i),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const o=t.width>>i,l=o/t.width;this.setViewport(t.x*l,t.y*l,o,t.height>>i)}else this.setViewport(0,0,e.width>>i,e.height>>i)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,i,r){const s=this.viewport;e=Math.round(e),t=Math.round(t),i=Math.round(i),r=Math.round(r),(s.width!==i||s.height!==r||s.x!==e||s.y!==t)&&(s.x=e,s.y=t,s.width=i,s.height=r,this.gl.viewport(e,t,i,r))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,i,r,s=sT.COLOR|sT.DEPTH){const{gl:o}=this;o.clearColor(e,t,i,r),o.clear(s)}initFramebuffer(e){const{gl:t}=this,i=new vG(t.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:t}=this,i=e.glFramebuffers[this.CONTEXT_UID];if(i.stencil){let o;t.bindRenderbuffer(t.RENDERBUFFER,i.stencil),o=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,i.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,i.multisample,o,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,o,e.width,e.height)}const r=e.colorTextures;let s=r.length;t.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=r[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),0===o&&i.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,i.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:i}=this,r=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;i.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer():r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=s[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),0===l&&r.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,t),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,t)}if(!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture)r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null);else{let l,c;r.stencil=r.stencil||i.createRenderbuffer(),1===this.renderer.context.webGLVersion?(l=i.DEPTH_STENCIL_ATTACHMENT,c=i.DEPTH_STENCIL):e.depth&&e.stencil?(l=i.DEPTH_STENCIL_ATTACHMENT,c=i.DEPTH24_STENCIL8):e.depth?(l=i.DEPTH_ATTACHMENT,c=i.DEPTH_COMPONENT24):(l=i.STENCIL_ATTACHMENT,c=i.STENCIL_INDEX8),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,c,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,c,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,l,i.RENDERBUFFER,r.stencil)}}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let i=ws.NONE;if(e<=1||null===t)return i;for(let r=0;r<t.length;r++)if(t[r]<=e){i=t[r];break}return 1===i&&(i=ws.NONE),i}blit(e,t,i){const{current:r,renderer:s,gl:o,CONTEXT_UID:a}=this;if(2!==s.context.webGLVersion||!r)return;const l=r.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const u=r.colorTextures[0];if(!u)return;l.blitFramebuffer||(l.blitFramebuffer=new vT(r.width,r.height),l.blitFramebuffer.addColorTexture(0,u)),(e=l.blitFramebuffer).colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==r.width||e.height!==r.height)&&(e.width=r.width,e.height=r.height,e.dirtyId++,e.dirtySize++)}t||((t=G0e).width=r.width,t.height=r.height),i||(i=t);const c=t.width===i.width&&t.height===i.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const i=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<t.length;i++)this.disposeFramebuffer(t[i],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const i=e.width,r=e.height,s=this.gl,o=t.stencil=s.createRenderbuffer();let a,l;s.bindRenderbuffer(s.RENDERBUFFER,o),1===this.renderer.context.webGLVersion?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,l=s.STENCIL_INDEX8),t.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,t.multisample,l,i,r):s.renderbufferStorage(s.RENDERBUFFER,l,i,r),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ln}destroy(){this.renderer=null}}NA.extension={type:Bt.RendererSystem,name:"framebuffer"},Wt.add(NA);const FA={5126:4,5123:2,5121:1};class BA{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let i=this.renderer.context.extensions.vertexArrayObject;zt.PREFER_ENV===rp.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=r=>i.bindVertexArrayOES(r),e.deleteVertexArray=r=>i.deleteVertexArrayOES(r)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(r,s)=>i.vertexAttribDivisorANGLE(r,s),e.drawElementsInstanced=(r,s,o,a,l)=>i.drawElementsInstancedANGLE(r,s,o,a,l),e.drawArraysInstanced=(r,s,o,a)=>i.drawArraysInstancedANGLE(r,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:i}=this;let r=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},s=!0);const o=r[t.program.id]||this.initGeometryVao(e,t,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++)t.update(e.buffers[i])}checkCompatibility(e,t){const i=e.attributes,r=t.attributeData;for(const s in r)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,t){const i=e.attributes,r=t.attributeData,s=["g",e.id];for(const o in i)r[o]&&s.push(o,r[o].location);return s.join("-")}initGeometryVao(e,t,i=!0){const r=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=t.program;a.glPrograms[s]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let u=c[l];if(u)return c[a.id]=u,u;const d=e.buffers,b=e.attributes,C={},M={};for(const I in d)C[I]=0,M[I]=0;for(const I in b)!b[I].size&&a.attributeData[I]?b[I].size=a.attributeData[I].size:b[I].size||console.warn(`PIXI Geometry attribute '${I}' size cannot be determined (likely the bound shader does not have the attribute)`),C[b[I].buffer]+=b[I].size*FA[b[I].type];for(const I in b){const k=b[I],B=k.size;void 0===k.stride&&(k.stride=C[k.buffer]===B*FA[k.type]?0:C[k.buffer]),void 0===k.start&&(k.start=M[k.buffer],M[k.buffer]+=B*FA[k.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(let I=0;I<d.length;I++){const k=d[I];o.bind(k),i&&k._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=u,c[l]=u,r.bindVertexArray(null),o.unbind(ru.ARRAY_BUFFER),u}disposeGeometry(e,t){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,s=e.buffers,o=null==(a=this.renderer)?void 0:a.buffer;if(e.disposeRunner.remove(this),i){if(o)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!t&&o.dispose(s[l],t))}if(!t)for(const l in i)if("g"===l[0]){const c=i[l];this._activeVao===c&&this.unbind(),r.deleteVertexArray(c)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let i=0;i<t.length;i++)this.disposeGeometry(this.managedGeometries[t[i]],e)}activateVao(e,t){const i=this.gl,r=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in a){const u=a[c],d=o[u.buffer],b=d._glBuffers[r];if(t.attributeData[c]){l!==b&&(s.bind(d),l=b);const C=t.attributeData[c].location;if(i.enableVertexAttribArray(C),i.vertexAttribPointer(C,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(C,u.divisor)}}}}draw(e,t,i,r){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?s.UNSIGNED_SHORT:s.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,t||o.indexBuffer.data.length,l,(i||0)*a,r||1):s.drawElements(e,t||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,i,t||o.getSize(),r||1):s.drawArrays(e,i,t||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}BA.extension={type:Bt.RendererSystem,name:"geometry"},Wt.add(BA);const CG=new Vi;class MT{constructor(e,t){this._texture=e,this.mapCoord=new Vi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);const i=this.mapCoord;for(let r=0;r<e.length;r+=2){const s=e[r],o=e[r+1];t[r]=s*i.a+o*i.c+i.tx,t[r+1]=s*i.b+o*i.d+i.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const i=t._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const r=t.orig,s=t.trim;s&&(CG.set(r.width/s.width,0,0,r.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(CG));const o=t.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(t._frame.x+l+c)/o.width,a[1]=(t._frame.y+l+c)/o.height,a[2]=(t._frame.x+t._frame.width-l+c)/o.width,a[3]=(t._frame.y+t._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0}}class wG extends Qo{constructor(e,t,i){let r=null;"string"!=typeof e&&void 0===t&&void 0===i&&(r=e,e=void 0,t=void 0,i=void 0),super(e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",t||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i),this.maskSprite=r,this.maskMatrix=new Vi}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,i,r){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new MT(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,i,r))}}class SG{constructor(e=null){this.type=As.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Qo.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=As.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class LA{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let i=t;if(!i.isMaskData){const s=this.maskDataPool.pop()||new SG;s.pooled=!0,s.maskObject=t,i=s}const r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(r),i._colorMask=r?r._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==As.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case As.SCISSOR:this.renderer.scissor.push(i);break;case As.STENCIL:this.renderer.stencil.push(i);break;case As.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case As.COLOR:this.pushColorMask(i)}i.type===As.SPRITE&&this.maskStack.push(i)}pop(e){const t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case As.SCISSOR:this.renderer.scissor.pop(t);break;case As.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case As.SPRITE:this.popSpriteMask(t);break;case As.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){const i=this.maskStack[this.maskStack.length-1];i.type===As.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const t=e.maskObject;e.type=t?t.isSprite?As.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?As.SCISSOR:As.STENCIL:As.COLOR}pushSpriteMask(e){const{maskObject:t}=e,i=e._target;let r=e._filters;r||(r=this.alphaMaskPool[this.alphaMaskIndex],r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new wG])),r[0].resolution=e.resolution,r[0].multisample=e.multisample,r[0].maskSprite=t;const s=i.filterArea;i.filterArea=t.getBounds(!0),this.renderer.filter.push(i,r),i.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,i=e._colorMask=t&e.colorMask;i!==t&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))}popColorMask(e){const i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==e._colorMask&&this.renderer.gl.colorMask(0!=(1&i),0!=(2&i),0!=(4&i),0!=(8&i))}destroy(){this.renderer=null}}LA.extension={type:Bt.RendererSystem,name:"mask"},Wt.add(LA);class TG{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,i=this.getStackLength();this.maskStack=e;const r=this.getStackLength();r!==i&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const MG=new Vi,xG=[],EG=class Mx extends TG{constructor(e){super(e),this.glConst=zt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var a;if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:i}=e,{renderer:r}=this,s=r.renderTexture,o=i.getBounds(!0,null!=(a=xG.pop())?a:new Ln);this.roundFrameToPixels(o,s.current?s.current.resolution:r.resolution,s.sourceFrame,s.destinationFrame,r.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:i,c:r,d:s}=e;return(Math.abs(i)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Mx.isMatrixRotated(t.worldTransform)||Mx.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const i=e._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(e,t,i,r,s){Mx.isMatrixRotated(s)||((s=s?MG.copyFrom(s):MG.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.renderer.filter.transformAABB(s,e),e.fit(r),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&xG.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};EG.extension={type:Bt.RendererSystem,name:"scissor"};let OG=EG;Wt.add(OG);class UA extends TG{constructor(e){super(e),this.glConst=zt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:i}=this.renderer,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;0!==s&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,r,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==s&&(e._colorMask=s,i.colorMask(0!=(1&s),0!=(2&s),0!=(4&s),0!=(8&s))),this._useCurrent()}pop(e){const t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{const i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,r=i?i._colorMask:15;0!==r&&(i._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==r&&(i._colorMask=r,t.colorMask(0!=(1&r),0!=(2&r),0!=(4&r),0!=(8&r))),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}UA.extension={type:Bt.RendererSystem,name:"stencil"},Wt.add(UA);class HA{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(Mn("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>(Mn("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>(Mn("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}HA.extension={type:[Bt.RendererSystem,Bt.CanvasRendererSystem],name:"_plugin"},Wt.add(HA);class jA{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Vi,this.transform=null}update(e,t,i,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,t,i,r){const s=this.projectionMatrix,o=r?-1:1;s.identity(),s.a=1/t.width*2,s.d=o*(1/t.height*2),s.tx=-1-t.x*s.a,s.ty=-o-t.y*s.d}setTransform(e){}destroy(){this.renderer=null}}jA.extension={type:Bt.RendererSystem,name:"projection"},Wt.add(jA);const $0e=new Xb,PG=new Ln;class GA{constructor(e){this.renderer=e,this._tempMatrix=new Vi}generateTexture(e,t){const c=t||{},{region:i}=c,r=Sx(c,["region"]),s=(null==i?void 0:i.copyTo(PG))||e.getLocalBounds(PG,!0),o=r.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),r.width=s.width,r.height=s.height,r.resolution=o,null!=r.multisample||(r.multisample=this.renderer.multisample);const a=cu.create(r);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=$0e,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}}GA.extension={type:[Bt.RendererSystem,Bt.CanvasRendererSystem],name:"textureGenerator"},Wt.add(GA);const zf=new Ln,Zb=new Ln;class VA{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ln,this.destinationFrame=new Ln,this.viewportFrame=new Ln}contextChange(){var t;const e=null==(t=this.renderer)?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,i){const r=this.renderer;let s,o,a;this.current=e,e?(s=e.baseTexture,a=s.resolution,t||(zf.width=e.frame.width,zf.height=e.frame.height,t=zf),i||(Zb.x=e.frame.x,Zb.y=e.frame.y,Zb.width=t.width,Zb.height=t.height,i=Zb),o=s.framebuffer):(a=r.resolution,t||(zf.width=r._view.screen.width,zf.height=r._view.screen.height,t=zf),i||((i=zf).width=t.width,i.height=t.height));const l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,e||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,t,a,!o),this.renderer.mask.setMaskStack(e?s.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(i)}clear(e,t){const r=si.shared.setValue(e||(this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor));(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&r.premultiply(r.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:c,width:u,height:d}=this.viewportFrame;l=Math.round(l),c=Math.round(c),u=Math.round(u),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,c,u,d)}this.renderer.framebuffer.clear(r.red,r.green,r.blue,r.alpha,t),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}VA.extension={type:Bt.RendererSystem,name:"renderTexture"},Wt.add(VA);class W0e{}class IG{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function AG(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}function zA(n){const e=new Array(n);for(let t=0;t<e.length;t++)e[t]=!1;return e}function DG(n,e){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return zA(2*e);case"bvec3":return zA(3*e);case"bvec4":return zA(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function RG(n,e){const t=n.getShaderSource(e).split("\n").map((c,u)=>`${u}: ${c}`),i=n.getShaderInfoLog(e),r=i.split("\n"),s={},o=r.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>!(!c||s[c]||(s[c]=!0,0))),a=[""];o.forEach(c=>{t[c-1]=`%c${t[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=t.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function kG(n,e){var a;const t=AG(n,n.VERTEX_SHADER,e.vertexSrc),i=AG(n,n.FRAGMENT_SHADER,e.fragmentSrc),r=n.createProgram();n.attachShader(r,t),n.attachShader(r,i);const s=null==(a=e.extra)?void 0:a.transformFeedbackVaryings;if(s&&("function"!=typeof n.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(r,s.names,"separate"===s.bufferMode?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function q0e(n,e,t,i){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(t,n.COMPILE_STATUS)||RG(n,t),n.getShaderParameter(i,n.COMPILE_STATUS)||RG(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}(n,r,t,i),e.attributeData=function Y0e(n,e){const t={},i=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=e.getActiveAttrib(n,r);if(s.name.startsWith("gl_"))continue;const o=hG(e,s.type),a={type:o,name:s.name,size:uG(o),location:e.getAttribLocation(n,s.name)};t[s.name]=a}return t}(r,n),e.uniformData=function X0e(n,e){const t={},i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;r++){const s=e.getActiveUniform(n,r),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=hG(e,s.type);t[o]={name:o,index:r,type:l,size:s.size,isArray:a,value:DG(l,s.size)}}return t}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((c,u)=>c>u?1:-1);for(let c=0;c<l.length;c++)e.attributeData[l[c]].location=c,n.bindAttribLocation(r,c,l[c]);n.linkProgram(r)}n.deleteShader(t),n.deleteShader(i);const o={};for(const l in e.uniformData){const c=e.uniformData[l];o[l]={location:n.getUniformLocation(r,l),value:DG(c.type,c.size)}}return new IG(r,o)}function K0e(n,e,t,i,r){t.buffer.update(r)}const J0e={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},NG={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function FG(n){const e=n.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let t=0,i=0,r=0;for(let s=0;s<e.length;s++){const o=e[s];if(t=NG[o.data.type],o.data.size>1&&(t=Math.max(t,16)*o.data.size),o.dataLen=t,i%t!=0&&i<16){const a=i%t%16;i+=a,r+=a}i+t>16?(r=16*Math.ceil(r/16),o.offset=r,r+=t,i=t):(o.offset=r,i+=t,r+=t)}return r=16*Math.ceil(r/16),{uboElements:e,size:r}}function BG(n,e){const t=[];for(const i in n)e[i]&&t.push(e[i]);return t.sort((i,r)=>i.index-r.index),t}function LG(n,e){if(!n.autoManage)return{size:0,syncFunc:K0e};const t=BG(n.uniforms,e),{uboElements:i,size:r}=FG(t),s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let o=0;o<i.length;o++){const a=i[o],l=n.uniforms[a.data.name],c=a.data.name;let u=!1;for(let d=0;d<Vf.length;d++){const b=Vf[d];if(b.codeUbo&&b.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Vf[d].codeUbo(a.data.name,l)),u=!0;break}}if(!u)if(a.data.size>1){const d=uG(a.data.type),b=Math.max(NG[a.data.type]/16,1),C=d/b;s.push(`\n                cv = ud.${c}.value;\n                v = uv.${c};\n                offset = ${a.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${a.data.size*b}; i++)\n                {\n                    for(var j = 0; j < ${C}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${(4-C%4)%4};\n                }\n\n                `)}else s.push(`\n                cv = ud.${c}.value;\n                v = uv.${c};\n                offset = ${a.offset/4};\n                ${J0e[a.data.type]};\n                `)}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:r,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}let ev;function UG(){if("boolean"==typeof ev)return ev;try{ev=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch(n){ev=!1}return ev}let Q0e=0;const xT={textureCount:0,uboCount:0};class $A{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Q0e++}systemCheck(){if(!UG())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),t||(xT.textureCount=0,xT.uboCount=0,this.syncUniformGroup(e.uniformGroup,xT)),r}setUniforms(e){const t=this.shader.program;t.syncUniforms(t.glPrograms[this.renderer.CONTEXT_UID].uniformData,e,this.renderer)}syncUniformGroup(e,t){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,t))}syncUniforms(e,t,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function A0e(n,e){var i;const t=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const r in n.uniforms){const s=e[r];if(!s){!0===(null==(i=n.uniforms[r])?void 0:i.group)&&t.push(n.uniforms[r].ubo?`\n                        renderer.shader.syncUniformBufferGroup(uv.${r}, '${r}');\n                    `:`\n                        renderer.shader.syncUniformGroup(uv.${r}, syncData);\n                    `);continue}const o=n.uniforms[r];let a=!1;for(let l=0;l<Vf.length;l++)if(Vf[l].test(s,o)){t.push(Vf[l].code(r,o)),a=!0;break}if(!a){const l=(1!==s.size||s.isArray?I0e:P0e)[s.type].replace("location",`ud["${r}"].location`);t.push(`\n            cu = ud["${r}"];\n            cv = cu.value;\n            v = uv["${r}"];\n            ${l};`)}}return new Function("ud","uv","renderer","syncData",t.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const i=this.getGlProgram();if(!e.static||0!==e.dirtyId||!i.uniformGroups[e.id]){e.dirtyId=0;const r=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,t);e.buffer.update(),r(i.uniformData,e.uniforms,this.renderer,xT,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[t])}createSyncBufferGroup(e,t,i){const{gl:r}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(t.program,i);t.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=LG(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,i){const r=e.uniforms,s=[`${i}-`];for(const o in r)s.push(o),t[o]&&s.push(t[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const i=e.program,r=kG(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}$A.extension={type:Bt.RendererSystem,name:"shader"},Wt.add($A);class tv{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.3 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}tv.defaultOptions={hello:!1},tv.extension={type:[Bt.RendererSystem,Bt.CanvasRendererSystem],name:"startup"},Wt.add(tv);const HG=class Qk{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=wt.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new au,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=function Z0e(n,e=[]){return e[wt.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.ADD]=[n.ONE,n.ONE],e[wt.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.NONE]=[0,0],e[wt.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e[wt.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[wt.SRC_IN]=[n.DST_ALPHA,n.ZERO],e[wt.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],e[wt.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[wt.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],e[wt.DST_IN]=[n.ZERO,n.SRC_ALPHA],e[wt.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],e[wt.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],e[wt.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[wt.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],e}(e),this.set(this.defaultState),this.reset()}set(e){if(this.stateId!==(e=e||this.defaultState).data){let t=this.stateId^e.data,i=0;for(;t;)1&t&&this.map[i].call(this,!!(e.data&1<<i)),t>>=1,i++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(Qk.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(Qk.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],i=this.gl;2===t.length?i.blendFunc(t[0],t[1]):i.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,i.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const i=this.checks.indexOf(e);t&&-1===i?this.checks.push(e):!t&&-1!==i&&this.checks.splice(i,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};HG.extension={type:Bt.RendererSystem,name:"state"};let jG=HG;Wt.add(jG);class WA extends G_{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var r;this.addRunners(...e.runners);const t=(null!=(r=e.priority)?r:[]).filter(s=>e.systems[s]),i=[...t,...Object.keys(e.systems).filter(s=>!t.includes(s))];for(const s of i)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(t=>{this.runners[t]=new wl(t)})}addSystem(e,t){const i=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=i,this._systemsHash[t]=i;for(const r in this.runners)this.runners[r].add(i);return this}emitWithCustomOptions(e,t){const i=Object.keys(this._systemsHash);e.items.forEach(r=>{const s=i.find(o=>this._systemsHash[o]===r);r[e.name](t[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const nv=class xx{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=xx.defaultMaxIdle,this.checkCountMax=xx.defaultCheckCountMax,this.mode=xx.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==oT.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let i=!1;for(let r=0;r<t.length;r++){const s=t[r];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),t[r]=null,i=!0)}if(i){let r=0;for(let s=0;s<t.length;s++)null!==t[s]&&(t[r++]=t[s]);t.length=r}}unload(e){const i=e._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(let r=e.children.length-1;r>=0;r--)this.unload(e.children[r])}destroy(){this.renderer=null}};nv.defaultMode=oT.AUTO,nv.defaultMaxIdle=3600,nv.defaultCheckCountMax=600,nv.extension={type:Bt.RendererSystem,name:"textureGC"};let lp=nv;Wt.add(lp);class ET{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=pn.UNSIGNED_BYTE,this.internalFormat=Dt.RGBA,this.samplerType=0}}class YA{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new kn,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function aye(n){let e;return e="WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?{[pn.UNSIGNED_BYTE]:{[Dt.RGBA]:n.RGBA8,[Dt.RGB]:n.RGB8,[Dt.RG]:n.RG8,[Dt.RED]:n.R8,[Dt.RGBA_INTEGER]:n.RGBA8UI,[Dt.RGB_INTEGER]:n.RGB8UI,[Dt.RG_INTEGER]:n.RG8UI,[Dt.RED_INTEGER]:n.R8UI,[Dt.ALPHA]:n.ALPHA,[Dt.LUMINANCE]:n.LUMINANCE,[Dt.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[pn.BYTE]:{[Dt.RGBA]:n.RGBA8_SNORM,[Dt.RGB]:n.RGB8_SNORM,[Dt.RG]:n.RG8_SNORM,[Dt.RED]:n.R8_SNORM,[Dt.RGBA_INTEGER]:n.RGBA8I,[Dt.RGB_INTEGER]:n.RGB8I,[Dt.RG_INTEGER]:n.RG8I,[Dt.RED_INTEGER]:n.R8I},[pn.UNSIGNED_SHORT]:{[Dt.RGBA_INTEGER]:n.RGBA16UI,[Dt.RGB_INTEGER]:n.RGB16UI,[Dt.RG_INTEGER]:n.RG16UI,[Dt.RED_INTEGER]:n.R16UI,[Dt.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[pn.SHORT]:{[Dt.RGBA_INTEGER]:n.RGBA16I,[Dt.RGB_INTEGER]:n.RGB16I,[Dt.RG_INTEGER]:n.RG16I,[Dt.RED_INTEGER]:n.R16I},[pn.UNSIGNED_INT]:{[Dt.RGBA_INTEGER]:n.RGBA32UI,[Dt.RGB_INTEGER]:n.RGB32UI,[Dt.RG_INTEGER]:n.RG32UI,[Dt.RED_INTEGER]:n.R32UI,[Dt.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[pn.INT]:{[Dt.RGBA_INTEGER]:n.RGBA32I,[Dt.RGB_INTEGER]:n.RGB32I,[Dt.RG_INTEGER]:n.RG32I,[Dt.RED_INTEGER]:n.R32I},[pn.FLOAT]:{[Dt.RGBA]:n.RGBA32F,[Dt.RGB]:n.RGB32F,[Dt.RG]:n.RG32F,[Dt.RED]:n.R32F,[Dt.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[pn.HALF_FLOAT]:{[Dt.RGBA]:n.RGBA16F,[Dt.RGB]:n.RGB16F,[Dt.RG]:n.RG16F,[Dt.RED]:n.R16F},[pn.UNSIGNED_SHORT_5_6_5]:{[Dt.RGB]:n.RGB565},[pn.UNSIGNED_SHORT_4_4_4_4]:{[Dt.RGBA]:n.RGBA4},[pn.UNSIGNED_SHORT_5_5_5_1]:{[Dt.RGBA]:n.RGB5_A1},[pn.UNSIGNED_INT_2_10_10_10_REV]:{[Dt.RGBA]:n.RGB10_A2,[Dt.RGBA_INTEGER]:n.RGB10_A2UI},[pn.UNSIGNED_INT_10F_11F_11F_REV]:{[Dt.RGB]:n.R11F_G11F_B10F},[pn.UNSIGNED_INT_5_9_9_9_REV]:{[Dt.RGB]:n.RGB9_E5},[pn.UNSIGNED_INT_24_8]:{[Dt.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[pn.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Dt.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:{[pn.UNSIGNED_BYTE]:{[Dt.RGBA]:n.RGBA,[Dt.RGB]:n.RGB,[Dt.ALPHA]:n.ALPHA,[Dt.LUMINANCE]:n.LUMINANCE,[Dt.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[pn.UNSIGNED_SHORT_5_6_5]:{[Dt.RGB]:n.RGB},[pn.UNSIGNED_SHORT_4_4_4_4]:{[Dt.RGBA]:n.RGBA},[pn.UNSIGNED_SHORT_5_5_5_1]:{[Dt.RGBA]:n.RGBA}},e}(e),this.samplerTypes=function oye(n){let e;return e="WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?{[n.RGB]:Jt.FLOAT,[n.RGBA]:Jt.FLOAT,[n.ALPHA]:Jt.FLOAT,[n.LUMINANCE]:Jt.FLOAT,[n.LUMINANCE_ALPHA]:Jt.FLOAT,[n.R8]:Jt.FLOAT,[n.R8_SNORM]:Jt.FLOAT,[n.RG8]:Jt.FLOAT,[n.RG8_SNORM]:Jt.FLOAT,[n.RGB8]:Jt.FLOAT,[n.RGB8_SNORM]:Jt.FLOAT,[n.RGB565]:Jt.FLOAT,[n.RGBA4]:Jt.FLOAT,[n.RGB5_A1]:Jt.FLOAT,[n.RGBA8]:Jt.FLOAT,[n.RGBA8_SNORM]:Jt.FLOAT,[n.RGB10_A2]:Jt.FLOAT,[n.RGB10_A2UI]:Jt.FLOAT,[n.SRGB8]:Jt.FLOAT,[n.SRGB8_ALPHA8]:Jt.FLOAT,[n.R16F]:Jt.FLOAT,[n.RG16F]:Jt.FLOAT,[n.RGB16F]:Jt.FLOAT,[n.RGBA16F]:Jt.FLOAT,[n.R32F]:Jt.FLOAT,[n.RG32F]:Jt.FLOAT,[n.RGB32F]:Jt.FLOAT,[n.RGBA32F]:Jt.FLOAT,[n.R11F_G11F_B10F]:Jt.FLOAT,[n.RGB9_E5]:Jt.FLOAT,[n.R8I]:Jt.INT,[n.R8UI]:Jt.UINT,[n.R16I]:Jt.INT,[n.R16UI]:Jt.UINT,[n.R32I]:Jt.INT,[n.R32UI]:Jt.UINT,[n.RG8I]:Jt.INT,[n.RG8UI]:Jt.UINT,[n.RG16I]:Jt.INT,[n.RG16UI]:Jt.UINT,[n.RG32I]:Jt.INT,[n.RG32UI]:Jt.UINT,[n.RGB8I]:Jt.INT,[n.RGB8UI]:Jt.UINT,[n.RGB16I]:Jt.INT,[n.RGB16UI]:Jt.UINT,[n.RGB32I]:Jt.INT,[n.RGB32UI]:Jt.UINT,[n.RGBA8I]:Jt.INT,[n.RGBA8UI]:Jt.UINT,[n.RGBA16I]:Jt.INT,[n.RGBA16UI]:Jt.UINT,[n.RGBA32I]:Jt.INT,[n.RGBA32UI]:Jt.UINT,[n.DEPTH_COMPONENT16]:Jt.FLOAT,[n.DEPTH_COMPONENT24]:Jt.FLOAT,[n.DEPTH_COMPONENT32F]:Jt.FLOAT,[n.DEPTH_STENCIL]:Jt.FLOAT,[n.DEPTH24_STENCIL8]:Jt.FLOAT,[n.DEPTH32F_STENCIL8]:Jt.FLOAT}:{[n.RGB]:Jt.FLOAT,[n.RGBA]:Jt.FLOAT,[n.ALPHA]:Jt.FLOAT,[n.LUMINANCE]:Jt.FLOAT,[n.LUMINANCE_ALPHA]:Jt.FLOAT,[n.DEPTH_STENCIL]:Jt.FLOAT},e}(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};const i=new ET(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ET(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let r=0;r<this.boundTextures.length;r++)this.bind(null,r)}bind(e,t=0){const{gl:i}=this;if((null==(e=null==e?void 0:e.castToBaseTexture())?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),i.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),this.updateTexture(e)):r.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(let r=0;r<i.length;r++)i[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),i[r]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:i,CONTEXT_UID:r}=this;if(i)for(let s=e-1;s>=0;--s){const o=t[s];o&&o._glTextures[r].samplerType!==Jt.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const t=new ET(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var i,r,s;t.internalFormat=null!=(r=null==(i=this.internalFormats[e.type])?void 0:i[e.format])?r:e.format,t.samplerType=null!=(s=this.samplerTypes[t.internalFormat])?s:Jt.FLOAT,t.type=2===this.webGLVersion&&e.type===pn.HALF_FLOAT?this.gl.HALF_FLOAT:e.type}updateTexture(e){var r;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const i=this.renderer;if(this.initTextureType(e,t),null==(r=e.resource)?void 0:r.upload(i,e,t))t.samplerType!==Jt.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=i.gl;(t.width!==s||t.height!==o||t.dirtyId<0)&&(t.width=s,t.height=o,a.texImage2D(e.target,0,t.internalFormat,s,o,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:i}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const r=this.managedTextures.indexOf(e);-1!==r&&Lf(this.managedTextures,r,1)}}updateTextureStyle(e){var i;const t=e._glTextures[this.CONTEXT_UID];t&&(t.mipmap=!!(e.mipmap!==nu.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&e.mipmap>=1,t.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:Ku.CLAMP,(null==(i=e.resource)?void 0:i.style(this.renderer,e,t))||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const i=this.gl;if(t.mipmap&&e.mipmap!==nu.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===uc.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===uc.LINEAR){const s=Math.min(e.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===uc.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===uc.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}YA.extension={type:Bt.RendererSystem,name:"texture"},Wt.add(YA);class XA{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:i}=this,r=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,r)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:i,renderer:r}=this;t&&r.shader.bind(t),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:i,CONTEXT_UID:r}=this,s=t.createTransformFeedback();e._glTransformFeedbacks[r]=s,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(i.buffer.update(a),a._glBuffers[r].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[r].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,t){const i=e._glTransformFeedbacks[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0===l.refCount&&!t&&s.dispose(a,t))}i&&(t||r.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}XA.extension={type:Bt.RendererSystem,name:"transformFeedback"},Wt.add(XA);class iv{constructor(e){this.renderer=e}init(e){this.screen=new Ln(0,0,e.width,e.height),this.element=e.view||zt.ADAPTER.createCanvas(),this.resolution=e.resolution||zt.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const i=this.element.width/this.resolution,r=this.element.height/this.resolution;this.screen.width=i,this.screen.height=r,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${r}px`),this.renderer.emit("resize",i,r),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&(null==(t=this.element.parentNode)||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}iv.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},iv.extension={type:[Bt.RendererSystem,Bt.CanvasRendererSystem],name:"_view"},Wt.add(iv),zt.PREFER_ENV=rp.WEBGL2,zt.STRICT_TEXTURE_CACHE=!1,zt.RENDER_OPTIONS=je(je(je(je({},Qb.defaultOptions),Jb.defaultOptions),iv.defaultOptions),tv.defaultOptions),Object.defineProperties(zt,{WRAP_MODE:{get:()=>kn.defaultOptions.wrapMode,set(n){Mn("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),kn.defaultOptions.wrapMode=n}},SCALE_MODE:{get:()=>kn.defaultOptions.scaleMode,set(n){Mn("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),kn.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get:()=>kn.defaultOptions.mipmap,set(n){Mn("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),kn.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get:()=>kn.defaultOptions.anisotropicLevel,set(n){Mn("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),kn.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get:()=>(Mn("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Qo.defaultResolution),set(n){Qo.defaultResolution=n}},FILTER_MULTISAMPLE:{get:()=>(Mn("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Qo.defaultMultisample),set(n){Qo.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get:()=>ap.defaultMaxTextures,set(n){Mn("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),ap.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get:()=>ap.defaultBatchSize,set(n){Mn("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),ap.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get:()=>ap.canUploadSameBuffer,set(n){Mn("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),ap.canUploadSameBuffer=n}},GC_MODE:{get:()=>lp.defaultMode,set(n){Mn("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),lp.defaultMode=n}},GC_MAX_IDLE:{get:()=>lp.defaultMaxIdle,set(n){Mn("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),lp.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get:()=>lp.defaultCheckCountMax,set(n){Mn("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),lp.defaultCheckCountMax=n}},PRECISION_VERTEX:{get:()=>ed.defaultVertexPrecision,set(n){Mn("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ed.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get:()=>ed.defaultFragmentPrecision,set(n){Mn("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ed.defaultFragmentPrecision=n}}});var Kd=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(Kd||{});class qA{constructor(e,t=null,i=0,r=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=i,this.once=r}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const GG=class zl{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new qA(null,null,1/0),this.deltaMS=1/zl.targetFPMS,this.elapsedMS=1/zl.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,i=Kd.NORMAL){return this._addListener(new qA(e,t,i))}addOnce(e,t,i=Kd.NORMAL){return this._addListener(new qA(e,t,i,!0))}_addListener(e){let t=this._head.next,i=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(i);break}i=t,t=t.next}e.previous||e.connect(i)}else e.connect(i);return this._startIfPossible(),this}remove(e,t){let i=this._head.next;for(;i;)i=i.match(e,t)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*zl.targetFPMS;const i=this._head;let r=i.next;for(;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,t)/1e3,zl.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!zl._shared){const e=zl._shared=new zl;e.autoStart=!0,e._protected=!0}return zl._shared}static get system(){if(!zl._system){const e=zl._system=new zl;e.autoStart=!0,e._protected=!0}return zl._system}};GG.targetFPMS=.06;let ho=GG;Object.defineProperties(zt,{TARGET_FPMS:{get:()=>ho.targetFPMS,set(n){Mn("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ho.targetFPMS=n}}});class KA{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Kd.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?ho.shared:new ho,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}KA.extension=Bt.Application,Wt.add(KA);const VG=[];function zG(n){for(const e of VG)if(e.test(n))return new e(n);throw new Error("Unable to auto-detect a suitable renderer.")}Wt.handleByList(Bt.Renderer,VG);const $G="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",JA="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";class QA{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}this.multisample=t>=ws.HIGH?ws.HIGH:t>=ws.MEDIUM?ws.MEDIUM:t>=ws.LOW?ws.LOW:ws.NONE}destroy(){}}QA.extension={type:Bt.RendererSystem,name:"_multisample"},Wt.add(QA);class uye{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ZA{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:i}=this,r=e._glBuffers[i]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:i,CONTEXT_UID:r}=this;if(this.boundBufferBases[t]!==e){const s=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,i.bindBufferBase(i.UNIFORM_BUFFER,t,s.buffer)}}bindBufferRange(e,t,i){const{gl:r,CONTEXT_UID:s}=this;i=i||0;const o=e._glBuffers[s]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,o.buffer,256*i,256)}update(e){const{gl:t,CONTEXT_UID:i}=this,r=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const s=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,s)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),i&&(t||r.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let i=0;i<t.length;i++)this.dispose(this.managedBuffers[t[i]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:i}=this;return e._glBuffers[t]=new uye(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}ZA.extension={type:Bt.RendererSystem,name:"buffer"},Wt.add(ZA);class eD{constructor(e){this.renderer=e}render(e,t){const i=this.renderer;let r,s,o,a;if(t&&(r=t.renderTexture,s=t.clear,o=t.transform,a=t.skipUpdateTransform),this.renderingToScreen=!r,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(r||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}i.renderTexture.bind(r),i.batch.currentRenderer.start(),(null!=s?s:i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),r&&(t.blit&&i.framebuffer.blit(),r.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}eD.extension={type:Bt.RendererSystem,name:"objectRenderer"},Wt.add(eD);const OT=class Zk extends WA{constructor(e){super(),this.type=rT.WEBGL,e=Object.assign({},zt.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new hc({projectionMatrix:new Vi},!0),this.setup({runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Zk.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]}),"useContextAlpha"in e&&(Mn("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),this._plugin.rendererPlugins=Zk.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return!(null==e?void 0:e.forceCanvas)&&Nj()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Mn("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Mn("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Mn("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Mn("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Mn("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Mn("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Mn("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Mn("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};OT.extension={type:Bt.Renderer,priority:1},OT.__plugins={},OT.__systems={};let PT=OT;Wt.handleByMap(Bt.RendererPlugin,PT.__plugins),Wt.handleByMap(Bt.RendererSystem,PT.__systems),Wt.add(PT);class tD extends z_{constructor(e,t){const{width:i,height:r}=t||{};super(i,r),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new kn;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):this.addResourceAt(e[i]instanceof z_?e[i]:SA(e[i],t),i))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:i}=this.items[0];return this.resize(t,i),this.update(),Promise.resolve(this)}),this._load}}class WG extends tD{constructor(e,t){const{width:i,height:r}=t||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:i,height:r}),s&&this.initFromArray(s,t)}addBaseTextureAt(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}bind(e){super.bind(e),e.target=Bf.TEXTURE_2D_ARRAY}upload(e,t,i){const{length:r,itemDirtyIds:s,items:o}=this,{gl:a}=e;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,r,0,t.format,i.type,null);for(let l=0;l<r;l++){const c=o[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,t.format,i.type,c.resource.source))}return!0}}class nD extends td{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const YG=class W1 extends tD{constructor(e,t){const{width:i,height:r,autoLoad:s,linkBaseTexture:o}=t||{};if(e&&e.length!==W1.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:i,height:r});for(let a=0;a<W1.SIDES;a++)this.items[a].target=Bf.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=!1!==o,e&&this.initFromArray(e,t),!1!==s&&this.load()}bind(e){super.bind(e),e.target=Bf.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=Bf.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,i){const r=this.itemDirtyIds;for(let s=0;s<W1.SIDES;s++){const o=this.items[s];(r[s]<o.dirtyId||i.dirtyId<t.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,i),r[s]=o.dirtyId):r[s]<-1&&(e.gl.texImage2D(o.target,0,i.internalFormat,t.realWidth,t.realHeight,0,t.format,i.type,null),r[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===W1.SIDES}};YG.SIDES=6;let XG=YG;class $f extends td{constructor(e,t){var o,a;let i,r,s;t=t||{},"string"==typeof e?(i=$f.EMPTY,r=e,s=!0):(i=e,r=null,s=!1),super(i),this.url=r,this.crossOrigin=null==(o=t.crossOrigin)||o,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=null!=(a=t.ownsImageBitmap)?a:s,this._load=null,!1!==t.autoLoad&&this.load()}load(){var e=this;return this._load||(this._load=new Promise(function(){var t=en(function*(i,r){if(null!==e.url)try{const s=yield zt.ADAPTER.fetch(e.url,{mode:e.crossOrigin?"cors":"no-cors"});if(e.destroyed)return;const o=yield s.blob();if(e.destroyed)return;const a=yield createImageBitmap(o,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===Ea.UNPACK?"premultiply":"none"});if(e.destroyed)return void a.close();e.source=a,e.update(),i(e)}catch(s){if(e.destroyed)return;r(s),e.onError.emit(s)}else i(e)});return function(i,r){return t.apply(this,arguments)}}())),this._load}upload(e,t,i){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,i)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){var e;return $f._EMPTY=null!=(e=$f._EMPTY)?e:zt.ADAPTER.createCanvas(0,0),$f._EMPTY}}const iD=class Ex extends td{constructor(e,t){t=t||{},super(zt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Ex.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()})),this._load}_loadSvg(){const e=new Image;td.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,i=e.height;if(!t||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=t*this.scale,s=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/i*t,s=this._overrideHeight||this._overrideWidth/t*i),r=Math.round(r),s=Math.round(s);const o=this.source;o.width=r,o.height=s,o._pixiId=`canvas_${sp()}`,o.getContext("2d").drawImage(e,0,0,t,i,0,0,r,s),this._resolve(),this._resolve=null}}static getSize(e){const t=Ex.SVG_SIZE.exec(e),i={};return t&&(i[t[1]]=Math.round(parseFloat(t[3])),i[t[5]]=Math.round(parseFloat(t[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return"svg"===t||"string"==typeof e&&e.startsWith("data:image/svg+xml")||"string"==typeof e&&Ex.SVG_XML.test(e)}};iD.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,iD.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let IT=iD;const rD=class eN extends td{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const i=document.createElement("video");!1!==t.autoLoad&&i.setAttribute("preload","auto"),!1!==t.playsinline&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),!0===t.muted&&(i.setAttribute("muted",""),i.muted=!0),!0===t.loop&&i.setAttribute("loop",""),!1!==t.autoPlay&&i.setAttribute("autoplay",""),"string"==typeof e&&(e=[e]),td.crossOrigin(i,e[0].src||e[0],t.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:l}=e[s];if(a=a||e[s],a.startsWith("data:"))l=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const c=a.split("?").shift().toLowerCase(),u=c.slice(c.lastIndexOf(".")+1);l=l||eN.MIME_TYPES[u]||`video/${u}`}o.src=a,l&&(o.type=l),i.appendChild(o)}e=i}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==t.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==t.autoLoad&&this.load()}update(e=0){this.destroyed||(this._updateFPS&&(this._msToNextUpdate=Math.floor(this._msToNextUpdate-ho.shared.elapsedMS*this.source.playbackRate)),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))}_videoFrameRequestCallback(){this.update(),this._videoFrameRequestCallbackHandle=this.destroyed?null:this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,i)=>{this.valid?t(this):(this._resolve=t,this._reject=i,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(ho.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ho.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ho.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||eN.TYPES.includes(t)}};rD.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],rD.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let sD=rD;hT.push($f,AA,nD,sD,class dye extends td{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}},IT,Gb,XG,WG);class hye{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new wl("disposeTransformFeedback")}bindBuffer(e,t){this.buffers[e]=t}destroy(){this.disposeRunner.emit(this,!1)}}const pye="7.4.3";let rv;function qG(n){const e=zt.ADAPTER.createCanvas(6,1),t=e.getContext("2d");return t.fillStyle=n,t.fillRect(0,0,6,1),e}function oD(){if(typeof document>"u")return!1;if(void 0!==rv)return rv;const n=qG("#ff00ff"),e=qG("#ffff00"),t=zt.ADAPTER.createCanvas(6,1).getContext("2d");t.globalCompositeOperation="multiply",t.drawImage(n,0,0),t.drawImage(e,2,0);const i=t.getImageData(2,0,1,1);if(i){const r=i.data;rv=255===r[0]&&0===r[1]&&0===r[2]}else rv=!1;return rv}kn.prototype.getDrawableSource=function(){const n=this.resource;return n?n.bitmap||n.source:null},CT.prototype._canvasRenderTarget=null,Lt.prototype.patternCache=null,Lt.prototype.tintCache=null;const gye=new Vi;class aD{constructor(e){this.activeResolution=1,this.smoothProperty="imageSmoothingEnabled",this.blendModes=function fye(n=[]){return oD()?(n[wt.NORMAL]="source-over",n[wt.ADD]="lighter",n[wt.MULTIPLY]="multiply",n[wt.SCREEN]="screen",n[wt.OVERLAY]="overlay",n[wt.DARKEN]="darken",n[wt.LIGHTEN]="lighten",n[wt.COLOR_DODGE]="color-dodge",n[wt.COLOR_BURN]="color-burn",n[wt.HARD_LIGHT]="hard-light",n[wt.SOFT_LIGHT]="soft-light",n[wt.DIFFERENCE]="difference",n[wt.EXCLUSION]="exclusion",n[wt.HUE]="hue",n[wt.SATURATION]="saturation",n[wt.COLOR]="color",n[wt.LUMINOSITY]="luminosity"):(n[wt.NORMAL]="source-over",n[wt.ADD]="lighter",n[wt.MULTIPLY]="source-over",n[wt.SCREEN]="source-over",n[wt.OVERLAY]="source-over",n[wt.DARKEN]="source-over",n[wt.LIGHTEN]="source-over",n[wt.COLOR_DODGE]="source-over",n[wt.COLOR_BURN]="source-over",n[wt.HARD_LIGHT]="source-over",n[wt.SOFT_LIGHT]="source-over",n[wt.DIFFERENCE]="source-over",n[wt.EXCLUSION]="source-over",n[wt.HUE]="source-over",n[wt.SATURATION]="source-over",n[wt.COLOR]="source-over",n[wt.LUMINOSITY]="source-over"),n[wt.NORMAL_NPM]=n[wt.NORMAL],n[wt.ADD_NPM]=n[wt.ADD],n[wt.SCREEN_NPM]=n[wt.SCREEN],n[wt.SRC_IN]="source-in",n[wt.SRC_OUT]="source-out",n[wt.SRC_ATOP]="source-atop",n[wt.DST_OVER]="destination-over",n[wt.DST_IN]="destination-in",n[wt.DST_OUT]="destination-out",n[wt.DST_ATOP]="destination-atop",n[wt.XOR]="xor",n[wt.SUBTRACT]="source-over",n}(),this._activeBlendMode=null,this._projTransform=null,this._outerBlend=!1,this.renderer=e}init(){if(this.rootContext=this.renderer.view.getContext("2d",{alpha:this.renderer.background.alpha<1}),this.activeContext=this.rootContext,!this.rootContext.imageSmoothingEnabled){const t=this.rootContext;t.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":t.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":t.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":t.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")}}setContextTransform(e,t,i){let r=e;const s=this._projTransform,o=this.activeResolution;i=i||o,s&&(r=gye,r.copyFrom(e),r.prepend(s)),t?this.activeContext.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*o|0,r.ty*o|0):this.activeContext.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*o,r.ty*o)}clear(e,t){const{activeContext:i,renderer:r}=this,s=e?si.shared.setValue(e):this.renderer.background.backgroundColor;i.clearRect(0,0,r.width,r.height),e&&(i.globalAlpha=null!=t?t:this.renderer.background.alpha,i.fillStyle=s.toHex(),i.fillRect(0,0,r.width,r.height),i.globalAlpha=1)}setBlendMode(e,t){const i=e===wt.SRC_IN||e===wt.SRC_OUT||e===wt.DST_IN||e===wt.DST_ATOP;!t&&i&&(e=wt.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=i,this.activeContext.globalCompositeOperation=this.blendModes[e])}resize(){this.smoothProperty&&(this.rootContext[this.smoothProperty]=kn.defaultOptions.scaleMode===uc.LINEAR)}invalidateBlendMode(){this._activeBlendMode=this.blendModes.indexOf(this.activeContext.globalCompositeOperation)}destroy(){this.renderer=null,this.rootContext=null,this.activeContext=null,this.smoothProperty=null}}aD.extension={type:Bt.CanvasRendererSystem,name:"canvasContext"},Wt.add(aD);class lD{constructor(e){this._foundShapes=[],this.renderer=e}pushMask(e){const t=this.renderer,i=e.maskObject||e;t.canvasContext.activeContext.save();const r=this._foundShapes;if(this.recursiveFindShapes(i,r),r.length>0){const s=t.canvasContext.activeContext;s.beginPath();for(let o=0;o<r.length;o++){const a=r[o];this.renderer.canvasContext.setContextTransform(a.transform.worldTransform),this.renderGraphicsShape(a)}r.length=0,s.clip()}}recursiveFindShapes(e,t){e.geometry&&e.geometry.graphicsData&&t.push(e);const{children:i}=e;if(i)for(let r=0;r<i.length;r++)this.recursiveFindShapes(i[r],t)}renderGraphicsShape(e){e.finishPoly();const t=this.renderer.canvasContext.activeContext,i=e.geometry.graphicsData,r=i.length;if(0!==r)for(let s=0;s<r;s++){const o=i[s],a=o.shape;if(a.type===fr.POLY){let l=a.points;const c=o.holes;let u,d,b,C;t.moveTo(l[0],l[1]);for(let M=1;M<l.length/2;M++)t.lineTo(l[2*M],l[2*M+1]);if(c.length>0){u=0,b=l[0],C=l[1];for(let M=2;M+2<l.length;M+=2)u+=(l[M]-b)*(l[M+3]-C)-(l[M+2]-b)*(l[M+1]-C);for(let M=0;M<c.length;M++)if(l=c[M].shape.points,l){d=0,b=l[0],C=l[1];for(let I=2;I+2<l.length;I+=2)d+=(l[I]-b)*(l[I+3]-C)-(l[I+2]-b)*(l[I+1]-C);if(d*u<0){t.moveTo(l[0],l[1]);for(let I=2;I<l.length;I+=2)t.lineTo(l[I],l[I+1])}else{t.moveTo(l[l.length-2],l[l.length-1]);for(let I=l.length-4;I>=0;I-=2)t.lineTo(l[I],l[I+1])}c[M].shape.closeStroke&&t.closePath()}}l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&t.closePath()}else if(a.type===fr.RECT)t.rect(a.x,a.y,a.width,a.height),t.closePath();else if(a.type===fr.CIRC)t.arc(a.x,a.y,a.radius,0,2*Math.PI),t.closePath();else if(a.type===fr.ELIP){const l=2*a.width,c=2*a.height,u=a.x-l/2,d=a.y-c/2,b=.5522848,C=l/2*b,M=c/2*b,I=u+l,k=d+c,B=u+l/2,L=d+c/2;t.moveTo(u,L),t.bezierCurveTo(u,L-M,B-C,d,B,d),t.bezierCurveTo(B+C,d,I,L-M,I,L),t.bezierCurveTo(I,L+M,B+C,k,B,k),t.bezierCurveTo(B-C,k,u,L+M,u,L),t.closePath()}else if(a.type===fr.RREC){const l=a.x,c=a.y,u=a.width,d=a.height;let b=a.radius;const C=Math.min(u,d)/2;b=b>C?C:b,t.moveTo(l,c+b),t.lineTo(l,c+d-b),t.quadraticCurveTo(l,c+d,l+b,c+d),t.lineTo(l+u-b,c+d),t.quadraticCurveTo(l+u,c+d,l+u,c+d-b),t.lineTo(l+u,c+b),t.quadraticCurveTo(l+u,c,l+u-b,c),t.lineTo(l+b,c),t.quadraticCurveTo(l,c,l,c+b),t.closePath()}}}popMask(e){e.canvasContext.activeContext.restore(),e.canvasContext.invalidateBlendMode()}destroy(){}}lD.extension={type:Bt.CanvasRendererSystem,name:"mask"},Wt.add(lD);class cD{constructor(e){this.renderer=e}render(e,t){const i=this.renderer;if(!i.view)return;const r=i.canvasContext;let s,o,a,l;t&&(s=t.renderTexture,o=t.clear,a=t.transform,l=t.skipUpdateTransform),this.renderingToScreen=!s,i.emit("prerender");const c=i.resolution;s?(s=s.castToBaseTexture(),s._canvasRenderTarget||(s._canvasRenderTarget=new jb(s.width,s.height,s.resolution),s.resource=new nD(s._canvasRenderTarget.canvas),s.valid=!0),r.activeContext=s._canvasRenderTarget.context,i.canvasContext.activeResolution=s._canvasRenderTarget.resolution):(r.activeContext=r.rootContext,r.activeResolution=c);const u=r.activeContext;if(r._projTransform=a||null,s||(this.lastObjectRendered=e),!l){const b=e.enableTempParent();e.updateTransform(),e.disableTempParent(b)}if(u.save(),u.setTransform(1,0,0,1,0,0),u.globalAlpha=1,r._activeBlendMode=wt.NORMAL,r._outerBlend=!1,u.globalCompositeOperation=r.blendModes[wt.NORMAL],null!=o?o:i.background.clearBeforeRender)if(this.renderingToScreen){u.clearRect(0,0,i.width,i.height);const b=i.background;b.alpha>0&&(u.globalAlpha=b.backgroundColor.alpha,u.fillStyle=b.backgroundColor.toHex(),u.fillRect(0,0,i.width,i.height),u.globalAlpha=1)}else s._canvasRenderTarget.clear(),s.clear.alpha>0&&(u.globalAlpha=s.clear.alpha,u.fillStyle=s.clear.toHex(),u.fillRect(0,0,s.realWidth,s.realHeight),u.globalAlpha=1);const d=r.activeContext;r.activeContext=u,e.renderCanvas(i),r.activeContext=d,u.restore(),r.activeResolution=c,r._projTransform=null,i.emit("postrender")}destroy(){this.lastObjectRendered=null,this.render=null}}cD.extension={type:Bt.CanvasRendererSystem,name:"objectRenderer"},Wt.add(cD);const{deprecation:Zo}=h,AT=class tN extends WA{constructor(e){super(),this.type=rT.CANVAS,this.rendererLogId="Canvas",e=Object.assign({},zt.RENDER_OPTIONS,e),this.setup({runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:tN.__systems,priority:["textureGenerator","background","_view","_plugin","startup","mask","canvasContext","objectRenderer"]}),"useContextAlpha"in e&&(Zo("7.0.0","options.useContextAlpha is deprecated, use options.backgroundAlpha instead"),e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),this._plugin.rendererPlugins=tN.__plugins,this.options=e,this.startup.run(this.options)}static test(){return!0}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}reset(){}render(e,t){this.objectRenderer.render(e,t)}clear(){this.canvasContext.clear()}destroy(e){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}resize(e,t){this._view.resizeView(e,t)}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get clearBeforeRender(){return this.background.clearBeforeRender}get blendModes(){return Zo("7.0.0","renderer.blendModes has been deprecated, please use renderer.canvasContext.blendModes instead"),this.canvasContext.blendModes}get maskManager(){return Zo("7.0.0","renderer.maskManager has been deprecated, please use renderer.mask instead"),this.mask}get refresh(){return Zo("7.0.0","renderer.refresh has been deprecated"),!0}get rootContext(){return Zo("7.0.0","renderer.rootContext has been deprecated, please use renderer.canvasContext.rootContext instead"),this.canvasContext.rootContext}get context(){return Zo("7.0.0","renderer.context has been deprecated, please use renderer.canvasContext.activeContext instead"),this.canvasContext.activeContext}get smoothProperty(){return Zo("7.0.0","renderer.smoothProperty has been deprecated, please use renderer.canvasContext.smoothProperty instead"),this.canvasContext.smoothProperty}setBlendMode(e,t){Zo("7.0.0","renderer.setBlendMode has been deprecated, use renderer.canvasContext.setBlendMode instead"),this.canvasContext.setBlendMode(e,t)}invalidateBlendMode(){Zo("7.0.0","renderer.invalidateBlendMode has been deprecated, use renderer.canvasContext.invalidateBlendMode instead"),this.canvasContext.invalidateBlendMode()}setContextTransform(e,t,i){Zo("7.0.0","renderer.setContextTransform has been deprecated, use renderer.canvasContext.setContextTransform instead"),this.canvasContext.setContextTransform(e,t,i)}get backgroundColor(){return Zo("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Zo("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Zo("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Zo("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get preserveDrawingBuffer(){return Zo("7.0.0","renderer.preserveDrawingBuffer has been deprecated"),!1}get useContextAlpha(){return Zo("7.0.0","renderer.useContextAlpha has been deprecated"),!1}};AT.extension={type:Bt.Renderer,priority:0},AT.__plugins={},AT.__systems={};let sv=AT;Wt.handleByMap(Bt.CanvasRendererPlugin,sv.__plugins),Wt.handleByMap(Bt.CanvasRendererSystem,sv.__systems),Wt.add(sv);const eo={canvas:null,getTintedCanvas:(n,e)=>{const t=n.texture,i=si.shared.setValue(e).toHex();t.tintCache=t.tintCache||{};const r=t.tintCache[i];let s;if(r){if(r.tintId===t._updateID)return t.tintCache[i];s=t.tintCache[i]}else s=zt.ADAPTER.createCanvas();if(eo.tintMethod(t,e,s),s.tintId=t._updateID,eo.convertTintToImage&&void 0!==s.toDataURL){const o=new Image;o.src=s.toDataURL(),t.tintCache[i]=o}else t.tintCache[i]=s;return s},getTintedPattern:(n,e)=>{const t=si.shared.setValue(e).toHex();n.patternCache=n.patternCache||{};let i=n.patternCache[t];return(null==i?void 0:i.tintId)===n._updateID||(eo.canvas||(eo.canvas=zt.ADAPTER.createCanvas()),eo.tintMethod(n,e,eo.canvas),i=eo.canvas.getContext("2d").createPattern(eo.canvas,"repeat"),i.tintId=n._updateID,n.patternCache[t]=i),i},tintWithMultiply:(n,e,t)=>{const i=t.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,t.width=Math.ceil(r.width),t.height=Math.ceil(r.height),i.save(),i.fillStyle=si.shared.setValue(e).toHex(),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply";const o=n.baseTexture.getDrawableSource();i.drawImage(o,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(o,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:(n,e,t)=>{const i=t.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,t.width=Math.ceil(r.width),t.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle=`#${`00000${(0|e).toString(16)}`.slice(-6)}`,i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:(n,e,t)=>{const i=t.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,t.width=Math.ceil(r.width),t.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore();const[o,a,l]=si.shared.setValue(e).toArray(),c=i.getImageData(0,0,r.width,r.height),u=c.data;for(let d=0;d<u.length;d+=4)u[d+0]*=o,u[d+1]*=a,u[d+2]*=l;i.putImageData(c,0,0)},roundColor:n=>(Mn("7.3.0","PIXI.canvasUtils.roundColor is deprecated"),si.shared.setValue(n).round(eo.cacheStepsPerColorChannel).toNumber()),cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:oD(),tintMethod:null};eo.tintMethod=eo.canUseMultiply?eo.tintWithMultiply:eo.tintWithPerPixel;class ov{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ln.EMPTY:((e=e||new Ln(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:i,b:r,c:s,d:o,tx:a,ty:l}=e,c=i*t.x+s*t.y+a,u=r*t.x+o*t.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,i=this.minY,r=this.maxX,s=this.maxY,o=e[0],a=e[1];t=o<t?o:t,i=a<i?a:i,r=o>r?o:r,s=a>s?a:s,o=e[2],a=e[3],t=o<t?o:t,i=a<i?a:i,r=o>r?o:r,s=a>s?a:s,o=e[4],a=e[5],t=o<t?o:t,i=a<i?a:i,r=o>r?o:r,s=a>s?a:s,o=e[6],a=e[7],t=o<t?o:t,i=a<i?a:i,r=o>r?o:r,s=a>s?a:s,this.minX=t,this.minY=i,this.maxX=r,this.maxY=s}addFrame(e,t,i,r,s){this.addFrameMatrix(e.worldTransform,t,i,r,s)}addFrameMatrix(e,t,i,r,s){const o=e.a,a=e.b,l=e.c,c=e.d,u=e.tx,d=e.ty;let b=this.minX,C=this.minY,M=this.maxX,I=this.maxY,k=o*t+l*i+u,B=a*t+c*i+d;b=k<b?k:b,C=B<C?B:C,M=k>M?k:M,I=B>I?B:I,k=o*r+l*i+u,B=a*r+c*i+d,b=k<b?k:b,C=B<C?B:C,M=k>M?k:M,I=B>I?B:I,k=o*t+l*s+u,B=a*t+c*s+d,b=k<b?k:b,C=B<C?B:C,M=k>M?k:M,I=B>I?B:I,k=o*r+l*s+u,B=a*r+c*s+d,b=k<b?k:b,C=B<C?B:C,M=k>M?k:M,I=B>I?B:I,this.minX=b,this.minY=C,this.maxX=M,this.maxY=I}addVertexData(e,t,i){let r=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=t;l<i;l+=2){const c=e[l],u=e[l+1];r=c<r?c:r,s=u<s?u:s,o=c>o?c:o,a=u>a?u:a}this.minX=r,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,t,i,r){this.addVerticesMatrix(e.worldTransform,t,i,r)}addVerticesMatrix(e,t,i,r,s=0,o=s){const a=e.a,l=e.b,c=e.c,u=e.d,d=e.tx,b=e.ty;let C=this.minX,M=this.minY,I=this.maxX,k=this.maxY;for(let B=i;B<r;B+=2){const L=t[B],H=t[B+1],Y=a*L+c*H+d,se=u*H+l*L+b;C=Math.min(C,Y-s),I=Math.max(I,Y+s),M=Math.min(M,se-o),k=Math.max(k,se+o)}this.minX=C,this.minY=M,this.maxX=I,this.maxY=k}addBounds(e){const t=this.minX,i=this.minY,r=this.maxX,s=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,t){const i=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,s=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(i<=s&&r<=o){const a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=s>c?s:c,this.maxY=o>u?o:u}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const i=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(i<=s&&r<=o){const a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=s>c?s:c,this.maxY=o>u?o:u}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,i,r,s,o){t-=o,i+=s,r+=o,this.minX=this.minX<(e-=s)?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r}}class Ur extends G_{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Xb,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ov,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let i=0;i<t.length;++i){const r=t[i];Object.defineProperty(Ur.prototype,r,Object.getOwnPropertyDescriptor(e,r))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Ln),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){var a;e||(this._localBoundsRect||(this._localBoundsRect=new Ln),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ov);const t=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=null!=(a=null==i?void 0:i.worldAlpha)?a:1,this.transform=this._tempDisplayObjectParent.transform;const r=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=i,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,t,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,i,r){return t&&(e=t.toGlobal(e,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;null==(e=this.parent)||e.removeChild(this)}setTransform(e=0,t=0,i=1,r=1,s=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=t,this.scale.x=i||1,this.scale.y=r||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new KG),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*sG}set angle(e){this.transform.rotation=e*oG}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(0===t._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class KG extends Ur{constructor(){super(...arguments),this.sortDirty=null}}Ur.prototype.displayObjectUpdateTransform=Ur.prototype.updateTransform;const mye=new Vi;function _ye(n,e){return n.zIndex===e.zIndex?n._lastSortedIndex-e._lastSortedIndex:n.zIndex-e.zIndex}const JG=class nN extends Ur{constructor(){super(),this.children=[],this.sortableChildren=nN.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const i=this.getChildIndex(e),r=this.getChildIndex(t);this.children[i]=t,this.children[r]=e,this.onChildrenChange(i<r?i:r)}getChildIndex(e){const t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(e);Lf(this.children,i,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],i=this.children.indexOf(t);if(-1===i)return null;t.parent=null,t.transform._parentID=-1,Lf(this.children,i,1),this._boundsID++,this.onChildrenChange(i),t.emit("removed",this),this.emit("childRemoved",t,this,i)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Lf(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const s=t-e;let o;if(s>0&&s<=t){o=this.children.splice(e,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,i=this.children.length;t<i;++t){const r=this.children[t];r._lastSortedIndex=t,!e&&0!==r.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(_ye),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const i=this.children[e];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){const i=t._mask.isMaskData?t._mask.maskObject:t._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(t._bounds,i._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const i=super.getLocalBounds(e);if(!t)for(let r=0,s=this.children.length;r<s;++r){const o=this.children[r];o.visible&&o.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let i,r;this.cullArea?(i=this.cullArea,r=this.worldTransform):this._render!==nN.prototype._render&&(i=this.getBounds(!0));const s=e.projection.transform;if(s&&(r?(r=mye.copyFrom(r),r.prepend(s)):r=s),i&&t.intersects(i,r))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const l=this.children[o],c=l.cullable;l.cullable=c||!this.cullArea,l.render(e),l.cullable=c}}render(e){var t;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||(null==(t=this.filters)?void 0:t.length))this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let i=0,r=this.children.length;i<r;++i)this.children[i].render(e)}}renderAdvanced(e){var s,o,a;const t=this.filters,i=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<t.length;l++)t[l].enabled&&this._enabledFilters.push(t[l])}const r=t&&(null==(s=this._enabledFilters)?void 0:s.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==As.NONE));if(r&&e.batch.flush(),t&&(null==(o=this._enabledFilters)?void 0:o.length)&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,c=this.children.length;l<c;++l)this.children[l].render(e)}r&&e.batch.flush(),i&&e.mask.pop(this),t&&(null==(a=this._enabledFilters)?void 0:a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t="boolean"==typeof e?e:null==e?void 0:e.children,i=this.removeChildren(0,this.children.length);if(t)for(let r=0;r<i.length;++r)i[r].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}};JG.defaultSortableChildren=!1;let vr=JG;vr.prototype.containerUpdateTransform=vr.prototype.updateTransform,Object.defineProperties(zt,{SORTABLE_CHILDREN:{get:()=>vr.defaultSortableChildren,set(n){Mn("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),vr.defaultSortableChildren=n}}});const av=new fi,yye=new Uint16Array([0,1,2,0,2,3]);class Ds extends vr{constructor(e){super(),this._anchor=new Zu(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new si(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=wt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Lt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=yye,this.pluginName="batch",this.isSprite=!0,this._roundPixels=zt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Xd(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Xd(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,i=t.a,r=t.b,s=t.c,o=t.d,a=t.tx,l=t.ty,c=this.vertexData,u=e.trim,d=e.orig,b=this._anchor;let C=0,M=0,I=0,k=0;if(u?(M=u.x-b._x*d.width,C=M+u.width,k=u.y-b._y*d.height,I=k+u.height):(M=-b._x*d.width,C=M+d.width,k=-b._y*d.height,I=k+d.height),c[0]=i*M+s*k+a,c[1]=o*k+r*M+l,c[2]=i*C+s*k+a,c[3]=o*k+r*C+l,c[4]=i*C+s*I+a,c[5]=o*I+r*C+l,c[6]=i*M+s*I+a,c[7]=o*I+r*M+l,this._roundPixels){const B=zt.RESOLUTION;for(let L=0;L<c.length;++L)c[L]=Math.round(c[L]*B)/B}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this.vertexTrimmedData,i=this._texture.orig,r=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,u=s.tx,d=s.ty,b=-r._x*i.width,C=b+i.width,M=-r._y*i.height,I=M+i.height;if(t[0]=o*b+l*M+u,t[1]=c*M+a*b+d,t[2]=o*C+l*M+u,t[3]=c*M+a*C+d,t[4]=o*C+l*I+u,t[5]=c*I+a*C+d,t[6]=o*b+l*I+u,t[7]=c*I+a*b+d,this._roundPixels){const k=zt.RESOLUTION;for(let B=0;B<t.length;++B)t[B]=Math.round(t[B]*k)/k}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new ov),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ln),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,av);const t=this._texture.orig.width,i=this._texture.orig.height,r=-t*this.anchor.x;let s=0;return av.x>=r&&av.x<r+t&&(s=-i*this.anchor.y,av.y>=s&&av.y<s+i)}destroy(e){super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:null==e?void 0:e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:null==e?void 0:e.baseTexture)),this._texture=null}static from(e,t){const i=e instanceof Lt?e:Lt.from(e,t);return new Ds(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=Xd(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=Xd(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Lt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const lv=new fi;class DT extends Ds{constructor(e,t=100,i=100){super(e),this.tileTransform=new Xb,this._width=t,this._height=i,this.uvMatrix=this.texture.uvMatrix||new MT(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))}getLocalBounds(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ln),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,lv);const t=this._width,i=this._height,r=-t*this.anchor._x;if(lv.x>=r&&lv.x<r+t){const s=-i*this.anchor._y;if(lv.y>=s&&lv.y<s+i)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const i=e instanceof Lt?e:Lt.from(e,t);return new DT(i,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var QG="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";const RT=new Vi;class uD extends qb{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new DA,this.state=au.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=lu.from(QG,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?lu.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):lu.from(QG,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}render(e){const t=this.renderer,i=this.quad;let r=i.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;r=i.uvs,r[0]=r[6]=-s,r[1]=r[3]=-o,r[2]=r[4]=1-s,r[5]=r[7]=1-o,i.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,u=e.tileTransform.localTransform,d=e.uvMatrix;let b=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;b&&(l._glTextures[t.CONTEXT_UID]?b=l.wrapMode!==Ku.CLAMP:l.wrapMode===Ku.CLAMP&&(l.wrapMode=Ku.REPEAT));const C=b?this.simpleShader:this.shader,M=a.width,I=a.height,k=e._width,B=e._height;RT.set(u.a*M/k,u.b*M/B,u.c*I/k,u.d*I/B,u.tx/k,u.ty/B),RT.invert(),b?RT.prepend(d.mapCoord):(C.uniforms.uMapCoord=d.mapCoord.toArray(!0),C.uniforms.uClampFrame=d.uClampFrame,C.uniforms.uClampOffset=d.uClampOffset),C.uniforms.uTransform=RT.toArray(!0),C.uniforms.uColor=si.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(C.uniforms.uColor),C.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),C.uniforms.uSampler=a,t.shader.bind(C),t.geometry.bind(i),this.state.blendMode=uA(e.blendMode,c),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}uD.extension={name:"tilingSprite",type:Bt.RendererPlugin},Wt.add(uD);const kT=new Vi,cv=new Vi,nd=[new fi,new fi,new fi,new fi];DT.prototype._renderCanvas=function(n){const e=this._texture;if(!e.baseTexture.valid)return;const t=n.canvasContext.activeContext,i=this.worldTransform,r=e.baseTexture,s=r.getDrawableSource(),o=r.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tintValue){this._textureID=this._texture._updateID;const b=new jb(e._frame.width,e._frame.height,o);16777215!==this.tintValue?(this._tintedCanvas=eo.getTintedCanvas(this,this.tintValue),b.context.drawImage(this._tintedCanvas,0,0)):b.context.drawImage(s,-e._frame.x*o,-e._frame.y*o),this._cachedTint=this.tintValue,this._canvasPattern=b.context.createPattern(b.canvas,"repeat")}t.globalAlpha=this.worldAlpha,n.canvasContext.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();const a=this.tileTransform.localTransform,l=this._width,c=this._height;kT.identity(),cv.copyFrom(a),this.uvRespectAnchor||cv.translate(-this.anchor.x*l,-this.anchor.y*c),cv.scale(1/o,1/o),kT.prepend(cv),kT.prepend(i),n.canvasContext.setContextTransform(kT),t.fillStyle=this._canvasPattern;const u=this.anchor.x*-l,d=this.anchor.y*-c;nd[0].set(u,d),nd[1].set(u+l,d),nd[2].set(u+l,d+c),nd[3].set(u,d+c);for(let b=0;b<4;b++)cv.applyInverse(nd[b],nd[b]);t.beginPath(),t.moveTo(nd[0].x,nd[0].y);for(let b=1;b<4;b++)t.lineTo(nd[b].x,nd[b].y);t.closePath(),t.fill()};class ZG extends vr{constructor(e=1500,t,i=16384,r=!1){super(),i>16384&&(i=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=wt.NORMAL,this.autoResize=r,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new si(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class eV{constructor(e,t,i){this.geometry=new qd,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let r=0;r<e.length;++r){let s=e[r];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||pn.FLOAT,offset:s.offset},t[r]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new ds(Kj(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=t,t+=a.size,this.dynamicStride+=a.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new ds(this.dynamicData,!1,!1);let r=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=r,r+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ds(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===pn.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===pn.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}}uploadDynamic(e,t,i){for(let r=0;r<this.dynamicProperties.length;r++){const s=this.dynamicProperties[r];s.uploadFunction(e,t,i,s.type===pn.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,i){for(let r=0;r<this.staticProperties.length;r++){const s=this.staticProperties[r];s.uploadFunction(e,t,i,s.type===pn.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}class dD extends qb{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Vi,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:pn.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=lu.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=au.for2d()}render(e){const t=e.children,i=e._maxSize,r=e._batchSize,s=this.renderer;let o=t.length;if(0===o)return;o>i&&!e.autoResize&&(o=i);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=t[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=uA(e.blendMode,c),s.state.set(this.state);const u=s.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=si.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let b=!1;for(let C=0,M=0;C<o;C+=r,M+=1){let I=o-C;I>r&&(I=r),M>=a.length&&a.push(this._generateOneMoreBuffer(e));const k=a[M];k.uploadDynamic(t,C,I);const B=e._bufferUpdateIDs[M]||0;b=b||k._updateID<B,b&&(k._updateID=e._updateID,k.uploadStatic(t,C,I)),s.geometry.bind(k.geometry),u.drawElements(u.TRIANGLES,6*I,u.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],i=e._maxSize,r=e._batchSize,s=e._properties;for(let o=0;o<i;o+=r)t.push(new eV(this.properties,s,r));return t}_generateOneMoreBuffer(e){return new eV(this.properties,e._properties,e._batchSize)}uploadVertices(e,t,i,r,s,o){let a=0,l=0,c=0,u=0;for(let d=0;d<i;++d){const b=e[t+d],C=b._texture,M=b.scale.x,I=b.scale.y,k=C.trim,B=C.orig;k?(l=k.x-b.anchor.x*B.width,a=l+k.width,u=k.y-b.anchor.y*B.height,c=u+k.height):(a=B.width*(1-b.anchor.x),l=B.width*-b.anchor.x,c=B.height*(1-b.anchor.y),u=B.height*-b.anchor.y),r[o]=l*M,r[o+1]=u*I,r[o+s]=a*M,r[o+s+1]=u*I,r[o+2*s]=a*M,r[o+2*s+1]=c*I,r[o+3*s]=l*M,r[o+3*s+1]=c*I,o+=4*s}}uploadPosition(e,t,i,r,s,o){for(let a=0;a<i;a++){const l=e[t+a].position;r[o]=l.x,r[o+1]=l.y,r[o+s]=l.x,r[o+s+1]=l.y,r[o+2*s]=l.x,r[o+2*s+1]=l.y,r[o+3*s]=l.x,r[o+3*s+1]=l.y,o+=4*s}}uploadRotation(e,t,i,r,s,o){for(let a=0;a<i;a++){const l=e[t+a].rotation;r[o]=l,r[o+s]=l,r[o+2*s]=l,r[o+3*s]=l,o+=4*s}}uploadUvs(e,t,i,r,s,o){for(let a=0;a<i;++a){const l=e[t+a]._texture._uvs;l?(r[o]=l.x0,r[o+1]=l.y0,r[o+s]=l.x1,r[o+s+1]=l.y1,r[o+2*s]=l.x2,r[o+2*s+1]=l.y2,r[o+3*s]=l.x3,r[o+3*s+1]=l.y3,o+=4*s):(r[o]=0,r[o+1]=0,r[o+s]=0,r[o+s+1]=0,r[o+2*s]=0,r[o+2*s+1]=0,r[o+3*s]=0,r[o+3*s+1]=0,o+=4*s)}}uploadTint(e,t,i,r,s,o){for(let a=0;a<i;++a){const l=e[t+a],c=si.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);r[o]=c,r[o+s]=c,r[o+2*s]=c,r[o+3*s]=c,o+=4*s}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}dD.extension={name:"particle",type:Bt.RendererPlugin},Wt.add(dD),ZG.prototype.renderCanvas=function(n){if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)return;const e=n.canvasContext.activeContext,t=this.worldTransform;let i=!0,r=0,s=0,o=0,a=0;n.canvasContext.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(let l=0;l<this.children.length;++l){const c=this.children[l];if(!c.visible||!c._texture.valid)continue;const u=c._texture.frame;e.globalAlpha=this.worldAlpha*c.alpha,c.rotation%(2*Math.PI)==0?(i&&(n.canvasContext.setContextTransform(t,!1,1),i=!1),r=c.anchor.x*(-u.width*c.scale.x)+c.position.x+.5,s=c.anchor.y*(-u.height*c.scale.y)+c.position.y+.5,o=u.width*c.scale.x,a=u.height*c.scale.y):(i||(i=!0),c.displayObjectUpdateTransform(),n.canvasContext.setContextTransform(c.worldTransform,this.roundPixels,1),r=c.anchor.x*-u.width+.5,s=c.anchor.y*-u.height+.5,o=u.width,a=u.height);const d=c._texture.baseTexture.resolution,b=n.canvasContext.activeResolution;e.drawImage(c._texture.baseTexture.getDrawableSource(),u.x*d,u.y*d,u.width*d,u.height*d,r*b,s*b,o*b,a*b)}},vr.prototype._renderCanvas=function(n){},vr.prototype.renderCanvas=function(n){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&n.mask.pushMask(this._mask),this._renderCanvas(n);for(let e=0,t=this.children.length;e<t;++e)this.children[e].renderCanvas(n);this._mask&&n.mask.popMask(n)}},Ur.prototype.renderCanvas=function(n){};var uv=(n=>(n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",n))(uv||{});const NT={willReadFrequently:!0},id=class dn{static get experimentalLetterSpacingSupported(){let e=dn._experimentalLetterSpacingSupported;if(void 0!==e){const t=zt.ADAPTER.getCanvasRenderingContext2D().prototype;e=dn._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,i,r,s,o,a,l,c){this.text=e,this.style=t,this.width=i,this.height=r,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}static measureText(e,t,i,r=dn._canvas){i=null!=i?i:t.wordWrap;const s=t.toFontString(),o=dn.measureFont(s);0===o.fontSize&&(o.fontSize=t.fontSize,o.ascent=t.fontSize);const a=r.getContext("2d",NT);a.font=s;const l=(i?dn.wordWrap(e,t,r):e).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let u=0;for(let M=0;M<l.length;M++){const I=dn._measureText(l[M],t.letterSpacing,a);c[M]=I,u=Math.max(u,I)}let d=u+t.strokeThickness;t.dropShadow&&(d+=t.dropShadowDistance);const b=t.lineHeight||o.fontSize+t.strokeThickness;let C=Math.max(b,o.fontSize+2*t.strokeThickness)+t.leading+(l.length-1)*(b+t.leading);return t.dropShadow&&(C+=t.dropShadowDistance),new dn(e,t,d,C,l,c,b+t.leading,u,o)}static _measureText(e,t,i){let r=!1;dn.experimentalLetterSpacingSupported&&(dn.experimentalLetterSpacing?(i.letterSpacing=`${t}px`,i.textLetterSpacing=`${t}px`,r=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let s=i.measureText(e).width;return s>0&&(r?s-=t:s+=(dn.graphemeSegmenter(e).length-1)*t),s}static wordWrap(e,t,i=dn._canvas){const r=i.getContext("2d",NT);let s=0,o="",a="";const l=Object.create(null),{letterSpacing:c,whiteSpace:u}=t,d=dn.collapseSpaces(u),b=dn.collapseNewlines(u);let C=!d;const M=t.wordWrapWidth+c,I=dn.tokenize(e);for(let k=0;k<I.length;k++){let B=I[k];if(dn.isNewline(B)){if(!b){a+=dn.addLine(o),C=!d,o="",s=0;continue}B=" "}if(d){const H=dn.isBreakingSpace(B),Y=dn.isBreakingSpace(o[o.length-1]);if(H&&Y)continue}const L=dn.getFromCache(B,c,l,r);if(L>M)if(""!==o&&(a+=dn.addLine(o),o="",s=0),dn.canBreakWords(B,t.breakWords)){const H=dn.wordWrapSplit(B);for(let Y=0;Y<H.length;Y++){let se=H[Y],ue=se,oe=1;for(;H[Y+oe];){const ae=H[Y+oe];if(dn.canBreakChars(ue,ae,B,Y,t.breakWords))break;se+=ae,ue=ae,oe++}Y+=oe-1;const de=dn.getFromCache(se,c,l,r);de+s>M&&(a+=dn.addLine(o),C=!1,o="",s=0),o+=se,s+=de}}else o.length>0&&(a+=dn.addLine(o),o="",s=0),a+=dn.addLine(B,!(k===I.length-1)),C=!1,o="",s=0;else L+s>M&&(C=!1,a+=dn.addLine(o),o="",s=0),(o.length>0||!dn.isBreakingSpace(B)||C)&&(o+=B,s+=L)}return a+=dn.addLine(o,!1),a}static addLine(e,t=!0){return e=dn.trimRight(e),t?`${e}\n`:e}static getFromCache(e,t,i,r){let s=i[e];return"number"!=typeof s&&(s=dn._measureText(e,t,r)+t,i[e]=s),s}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(e){if("string"!=typeof e)return"";for(let t=e.length-1;t>=0&&dn.isBreakingSpace(e[t]);t--)e=e.slice(0,-1);return e}static isNewline(e){return"string"==typeof e&&dn._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return"string"==typeof e&&dn._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let i="";if("string"!=typeof e)return t;for(let r=0;r<e.length;r++){const s=e[r];dn.isBreakingSpace(s,e[r+1])||dn.isNewline(s)?(""!==i&&(t.push(i),i=""),t.push(s)):i+=s}return""!==i&&t.push(i),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,i,r,s){return!0}static wordWrapSplit(e){return dn.graphemeSegmenter(e)}static measureFont(e){if(dn._fonts[e])return dn._fonts[e];const t={ascent:0,descent:0,fontSize:0},i=dn._canvas,r=dn._context;r.font=e;const s=dn.METRICS_STRING+dn.BASELINE_SYMBOL,o=Math.ceil(r.measureText(s).width);let a=Math.ceil(r.measureText(dn.BASELINE_SYMBOL).width);const l=Math.ceil(dn.HEIGHT_MULTIPLIER*a);if(a=a*dn.BASELINE_MULTIPLIER|0,0===o||0===l)return dn._fonts[e]=t,t;i.width=o,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,o,l),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(s,0,a);const c=r.getImageData(0,0,o,l).data,u=c.length,d=4*o;let b=0,C=0,M=!1;for(b=0;b<a;++b){for(let I=0;I<d;I+=4)if(255!==c[C+I]){M=!0;break}if(M)break;C+=d}for(t.ascent=a-b,C=u-d,M=!1,b=l;b>a;--b){for(let I=0;I<d;I+=4)if(255!==c[C+I]){M=!0;break}if(M)break;C-=d}return t.descent=b-a,t.fontSize=t.ascent+t.descent,dn._fonts[e]=t,t}static clearMetrics(e=""){e?delete dn._fonts[e]:dn._fonts={}}static get _canvas(){var e;if(!dn.__canvas){let t;try{const i=new OffscreenCanvas(0,0);if(null==(e=i.getContext("2d",NT))?void 0:e.measureText)return dn.__canvas=i,i;t=zt.ADAPTER.createCanvas()}catch(i){t=zt.ADAPTER.createCanvas()}t.width=t.height=10,dn.__canvas=t}return dn.__canvas}static get _context(){return dn.__context||(dn.__context=dn._canvas.getContext("2d",NT)),dn.__context}};id.METRICS_STRING="|\xc9q\xc5",id.BASELINE_SYMBOL="M",id.BASELINE_MULTIPLIER=1.4,id.HEIGHT_MULTIPLIER=2,id.graphemeSegmenter=(()=>{if("function"==typeof(null==Intl?void 0:Intl.Segmenter)){const n=new Intl.Segmenter;return e=>[...n.segment(e)].map(t=>t.segment)}return n=>[...n]})(),id.experimentalLetterSpacing=!1,id._fonts={},id._newlines=[10,13],id._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Jd=id;const Mye=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],tV=class Y1{constructor(e){this.styleID=0,this.reset(),pD(this,e,e)}clone(){const e={};return pD(e,this,Y1.defaultStyle),new Y1(e)}reset(){pD(this,Y1.defaultStyle,Y1.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=hD(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=hD(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function xye(n,e){if(!Array.isArray(n)||!Array.isArray(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=hD(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let i=t.length-1;i>=0;i--){let r=t[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!Mye.includes(r)&&(r=`"${r}"`),t[i]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};tV.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:uv.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Qd=tV;function hD(n){const e=si.shared,t=i=>{const r=e.setValue(i);return 1===r.alpha?r.toHex():r.toRgbaString()};return Array.isArray(n)?n.map(t):t(n)}function pD(n,e,t){for(const i in t)n[i]=Array.isArray(e[i])?e[i].slice():e[i]}const Eye={texture:!0,children:!1,baseTexture:!0},nV=class iN extends Ds{constructor(e,t,i){var o;let r=!1;i||(i=zt.ADAPTER.createCanvas(),r=!0),i.width=3,i.height=3;const s=Lt.from(i);s.orig=new Ln,s.trim=new Ln,super(s),this._ownCanvas=r,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=null!=(o=iN.defaultResolution)?o:zt.RESOLUTION,this._autoResolution=iN.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return Jd.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Mn("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Jd.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const i=this.context,r=Jd.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=r.height,a=r.lines,l=r.lineHeight,c=r.lineWidths,u=r.maxLineWidth,d=r.fontProperties;let b,C;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,r.width)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;const M=t.dropShadow?2:1;for(let I=0;I<M;++I){const k=t.dropShadow&&0===I,B=k?Math.ceil(Math.max(1,o)+2*t.padding):0,L=B*this._resolution;if(k){i.fillStyle="black",i.strokeStyle="black";const se=t.dropShadowBlur*this._resolution,ue=t.dropShadowDistance*this._resolution;i.shadowColor=si.shared.setValue(t.dropShadowColor).setAlpha(t.dropShadowAlpha).toRgbaString(),i.shadowBlur=se,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*ue,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*ue+L}else i.fillStyle=this._generateFillStyle(t,a,r),i.strokeStyle=t.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let H=(l-d.fontSize)/2;l-d.fontSize<0&&(H=0);for(let Y=0;Y<a.length;Y++)b=t.strokeThickness/2,C=t.strokeThickness/2+Y*l+d.ascent+H,"right"===t.align?b+=u-c[Y]:"center"===t.align&&(b+=(u-c[Y])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(a[Y],b+t.padding,C+t.padding-B,!0),t.fill&&this.drawLetterSpacing(a[Y],b+t.padding,C+t.padding-B)}this.updateTexture()}drawLetterSpacing(e,t,i,r=!1){const s=this._style.letterSpacing;let o=!1;if(Jd.experimentalLetterSpacingSupported&&(Jd.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===s||o)return void(r?this.context.strokeText(e,t,i):this.context.fillText(e,t,i));let a=t;const l=Jd.graphemeSegmenter(e);let c=this.context.measureText(e).width,u=0;for(let d=0;d<l.length;++d){const b=l[d];r?this.context.strokeText(b,a,i):this.context.fillText(b,a,i);let C="";for(let M=d+1;M<l.length;++M)C+=l[M];u=this.context.measureText(C).width,a+=c-u+s,c=u}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=eG(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const t=this._texture,i=this._style,r=i.trim?0:i.padding,s=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-r,t.trim.y=-r,t.orig.width=t._frame.width-2*r,t.orig.height=t._frame.height-2*r,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,i){const r=e.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,l=this.canvas.width/this._resolution-o-2*a,c=this.canvas.height/this._resolution-o-2*a,u=r.slice(),d=e.fillGradientStops.slice();if(!d.length){const b=u.length+1;for(let C=1;C<b;++C)d.push(C/b)}if(u.unshift(r[0]),d.unshift(0),u.push(r[r.length-1]),d.push(1),e.fillGradientType===uv.LINEAR_VERTICAL){s=this.context.createLinearGradient(l/2,a,l/2,c+a);const b=i.fontProperties.fontSize+e.strokeThickness;for(let C=0;C<t.length;C++){const M=i.lineHeight*(C-1)+b,I=i.lineHeight*C;let k=I;C>0&&M>I&&(k=(I+M)/2);const B=I+b,L=i.lineHeight*(C+1);let H=B;C+1<t.length&&L<B&&(H=(B+L)/2);const Y=(H-k)/c;for(let se=0;se<u.length;se++){let ue=0;ue="number"==typeof d[se]?d[se]:se/u.length;let oe=Math.min(1,Math.max(0,k/c+ue*Y));oe=Number(oe.toFixed(5)),s.addColorStop(oe,u[se])}}}else{s=this.context.createLinearGradient(a,c/2,l+a,c/2);const b=u.length+1;let C=1;for(let M=0;M<u.length;M++){let I;I="number"==typeof d[M]?d[M]:C/b,s.addColorStop(I,u[M]),C++}}return s}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Eye,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=Xd(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=Xd(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){this._style=(e=e||{})instanceof Qd?e:new Qd(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(null!=e?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};nV.defaultAutoResolution=!0;let dv=nV;dv.prototype._renderCanvas=function(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0),this.updateText(!0),Ds.prototype._renderCanvas.call(this,n)};const iV=new Vi;Ur.prototype._cacheAsBitmap=!1,Ur.prototype._cacheData=null,Ur.prototype._cacheAsBitmapResolution=null,Ur.prototype._cacheAsBitmapMultisample=null;class Oye{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ur.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(n){if(this._cacheAsBitmap===n)return;let e;this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new Oye),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),Ur.prototype._renderCached=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(n),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(n))},Ur.prototype._initCachedDisplayObject=function(n){var b,C,M;if(null==(b=this._cacheData)?void 0:b.sprite)return;const e=this.alpha;this.alpha=1,n.batch.flush();const t=this.getLocalBounds(new Ln,!0);(null==(C=this.filters)?void 0:C.length)&&t.pad(this.filters[0].padding);const i=this.cacheAsBitmapResolution||n.resolution;t.ceil(i),t.width=Math.max(t.width,1/i),t.height=Math.max(t.height,1/i);const r=n.renderTexture.current,s=n.renderTexture.sourceFrame.clone(),o=n.renderTexture.destinationFrame.clone(),a=n.projection.transform,l=cu.create({width:t.width,height:t.height,resolution:i,multisample:null!=(M=this.cacheAsBitmapMultisample)?M:n.multisample}),c=`cacheAsBitmap_${sp()}`;this._cacheData.textureCacheId=c,kn.addToCache(l.baseTexture,c),Lt.addToCache(l,c);const u=this.transform.localTransform.copyTo(iV).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,n.render(this,{renderTexture:l,clear:!0,transform:u,skipUpdateTransform:!1}),n.framebuffer.blit(),n.projection.transform=a,n.renderTexture.bind(r,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const d=new Ds(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-t.x/t.width,d.anchor.y=-t.y/t.height,d.alpha=e,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)},Ur.prototype._renderCachedCanvas=function(n){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(n),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(n))},Ur.prototype._initCachedDisplayObjectCanvas=function(n){var u;if(null==(u=this._cacheData)?void 0:u.sprite)return;const e=this.getLocalBounds(new Ln,!0),t=this.alpha;this.alpha=1;const i=n.canvasContext.activeContext,r=n._projTransform,s=this.cacheAsBitmapResolution||n.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=cu.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${sp()}`;this._cacheData.textureCacheId=a,kn.addToCache(o.baseTexture,a),Lt.addToCache(o,a);const l=iV;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,n.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),n.canvasContext.activeContext=i,n._projTransform=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const c=new Ds(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-e.x/e.width,c.anchor.y=-e.y/e.height,c.alpha=t,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=n._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)},Ur.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Ur.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Ur.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,kn.removeFromCache(this._cacheData.textureCacheId),Lt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Ur.prototype._cacheAsBitmapDestroy=function(n){this.cacheAsBitmap=!1,this.destroy(n)},Ur.prototype.name=null,vr.prototype.getChildByName=function(n,e){for(let t=0,i=this.children.length;t<i;t++)if(this.children[t].name===n)return this.children[t];if(e)for(let t=0,i=this.children.length;t<i;t++){const r=this.children[t];if(!r.getChildByName)continue;const s=r.getChildByName(n,!0);if(s)return s}return null},Ur.prototype.getGlobalPosition=function(n=new fi,e=!1){return this.parent?this.parent.toGlobal(this.position,n,e):(n.x=this.position.x,n.y=this.position.y),n};class rV extends Qo{constructor(e=1){super($G,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const Iye={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Aye=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");class FT extends Qo{constructor(e,t=8,i=4,r=Qo.defaultResolution,s=5){const o=function kye(n,e){const t=Math.ceil(n/2);let s,i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";s=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<n;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",o-(t-1)+".0"),r+=a,r+="\n"}return i=i.replace("%blur%",r),i=i.replace("%size%",n.toString()),i}(s,e),a=function Dye(n){const e=Iye[n],t=e.length;let o,i=Aye,r="";for(let a=0;a<n;a++){let l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());o=a,a>=t&&(o=n-a-1),l=l.replace("%value%",e[o].toString()),r+=l,r+="\n"}return i=i.replace("%blur%",r),i=i.replace("%size%",n.toString()),i}(s);super(o,a),this.horizontal=e,this.resolution=r,this._quality=0,this.quality=i,this.blur=t}apply(e,t,i,r){if(this.uniforms.strength=i?this.horizontal?1/i.width*(i.width/t.width):1/i.height*(i.height/t.height):this.horizontal?1/e.renderer.width*(e.renderer.width/t.width):1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,i,r);else{const s=e.getFilterTexture(),o=e.renderer;let a=t,l=s;this.state.blend=!1,e.applyFilter(this,a,l,iu.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,iu.BLIT),this.uniforms.uSampler=l;const u=l;l=a,a=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,i,r),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class sV extends Qo{constructor(e=8,t=4,i=Qo.defaultResolution,r=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new FT(!0,e,t,i,r),this.blurYFilter=new FT(!1,e,t,i,r),this.resolution=i,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,i,r){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,iu.CLEAR),this.blurYFilter.apply(e,a,i,r),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,i,r):this.blurXFilter.apply(e,t,i,r)}updatePadding(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}class BT extends Qo{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(JA,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e),this.alpha=1}_loadMatrix(e,t=!1){let i=e;t&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,t,i){return e[0]=t[0]*i[0]+t[1]*i[5]+t[2]*i[10]+t[3]*i[15],e[1]=t[0]*i[1]+t[1]*i[6]+t[2]*i[11]+t[3]*i[16],e[2]=t[0]*i[2]+t[1]*i[7]+t[2]*i[12]+t[3]*i[17],e[3]=t[0]*i[3]+t[1]*i[8]+t[2]*i[13]+t[3]*i[18],e[4]=t[0]*i[4]+t[1]*i[9]+t[2]*i[14]+t[3]*i[19]+t[4],e[5]=t[5]*i[0]+t[6]*i[5]+t[7]*i[10]+t[8]*i[15],e[6]=t[5]*i[1]+t[6]*i[6]+t[7]*i[11]+t[8]*i[16],e[7]=t[5]*i[2]+t[6]*i[7]+t[7]*i[12]+t[8]*i[17],e[8]=t[5]*i[3]+t[6]*i[8]+t[7]*i[13]+t[8]*i[18],e[9]=t[5]*i[4]+t[6]*i[9]+t[7]*i[14]+t[8]*i[19]+t[9],e[10]=t[10]*i[0]+t[11]*i[5]+t[12]*i[10]+t[13]*i[15],e[11]=t[10]*i[1]+t[11]*i[6]+t[12]*i[11]+t[13]*i[16],e[12]=t[10]*i[2]+t[11]*i[7]+t[12]*i[12]+t[13]*i[17],e[13]=t[10]*i[3]+t[11]*i[8]+t[12]*i[13]+t[13]*i[18],e[14]=t[10]*i[4]+t[11]*i[9]+t[12]*i[14]+t[13]*i[19]+t[14],e[15]=t[15]*i[0]+t[16]*i[5]+t[17]*i[10]+t[18]*i[15],e[16]=t[15]*i[1]+t[16]*i[6]+t[17]*i[11]+t[18]*i[16],e[17]=t[15]*i[2]+t[16]*i[7]+t[17]*i[12]+t[18]*i[17],e[18]=t[15]*i[3]+t[16]*i[8]+t[17]*i[13]+t[18]*i[18],e[19]=t[15]*i[4]+t[16]*i[9]+t[17]*i[14]+t[18]*i[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)}tint(e,t){const[i,r,s]=si.shared.setValue(e).toArray();this._loadMatrix([i,0,0,0,0,0,r,0,0,0,0,0,s,0,0,0,0,0,1,0],t)}greyscale(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){e=(e||0)/180*Math.PI;const i=Math.cos(e),r=Math.sin(e),o=1/3,a=(0,Math.sqrt)(o);this._loadMatrix([i+(1-i)*o,o*(1-i)-a*r,o*(1-i)+a*r,0,0,o*(1-i)+a*r,i+o*(1-i),o*(1-i)-a*r,0,0,o*(1-i)-a*r,o*(1-i)+a*r,i+o*(1-i),0,0,0,0,0,1,0],t)}contrast(e,t){const i=(e||0)+1,r=-.5*(i-1);this._loadMatrix([i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0],t)}saturate(e=0,t){const i=2*e/3+1,r=-.5*(i-1);this._loadMatrix([i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0],t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,i,r,s){e=e||.2,t=t||.15,i=i||16770432,r=r||3375104;const o=si.shared,[a,l,c]=o.setValue(i).toArray(),[u,d,b]=o.setValue(r).toArray();this._loadMatrix([.3,.59,.11,0,0,a,l,c,e,0,u,d,b,t,0,a-u,l-d,c-b,0,0],s)}night(e,t){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)}predator(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}BT.prototype.grayscale=BT.prototype.greyscale;class oV extends Qo{constructor(e,t){const i=new Vi;e.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,null==t&&(t=20),this.scale=new fi(t,t)}apply(e,t,i,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,t,i,r)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}class aV extends Qo{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}}class lV extends Qo{constructor(e=.5,t=Math.random()){super(JA,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const fD={AlphaFilter:rV,BlurFilter:sV,BlurFilterPass:FT,ColorMatrixFilter:BT,DisplacementFilter:oV,FXAAFilter:aV,NoiseFilter:lV};Object.entries(fD).forEach(([n,e])=>{Object.defineProperty(fD,n,{get:()=>(Mn("7.1.0",`filters.${n} has moved to ${n}`),e)})});const cp=new class jye{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(ho.system.add(this.tickerUpdate,this,Kd.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(ho.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}};class W_{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=W_.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new fi,this.page=new fi,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,i,r,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class hv extends W_{constructor(){super(...arguments),this.client=new fi,this.movement=new fi,this.offset=new fi,this.global=new fi,this.screen=new fi}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,i){return e.worldTransform.applyInverse(i||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,i,r,s,o,a,l,c,u,d,b,C,M,I){throw new Error("Method not implemented.")}}class pc extends hv{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Wf extends hv{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Wf.DOM_DELTA_PIXEL=0,Wf.DOM_DELTA_LINE=1,Wf.DOM_DELTA_PAGE=2;const Vye=new fi,gD=new fi;class cV{constructor(e){this.dispatch=new G_,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((i,r)=>i.priority-r.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let i=0,r=t.length;i<r;i++)t[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){cp.pauseUpdate=!0;const r=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,Vye.set(e,t),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,t){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let r=0,s=i.length-1;r<s;r++)if(e.currentTarget=i[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let r=i.length-2;r>=0;r--)if(e.currentTarget=i[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,i=this._allInteractiveElements){if(0===i.length)return;e.eventPhase=e.BUBBLING_PHASE;const r=Array.isArray(t)?t:[t];for(let s=i.length-1;s>=0;s--)r.forEach(o=>{e.currentTarget=i[s],this.notifyTarget(e,o)})}propagationPath(e){const t=[e];for(let i=0;i<2048&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,i,r,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(cp.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let d=u.length-1;d>=0;d--){const b=u[d],C=this.hitTestMoveRecursive(b,this._isInteractive(t)?t:b.eventMode,i,r,s,o||s(e,i));if(C){if(C.length>0&&!C[C.length-1].parent)continue;const M=e.isInteractive();(C.length>0||M)&&(M&&this._allInteractiveElements.push(e),C.push(e)),0===this._hitElements.length&&(this._hitElements=C),a=!0}}}const l=this._isInteractive(t),c=e.isInteractive();return l&&c&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,i)&&r(e,i)?c?[e]:[]:null}hitTestRecursive(e,t,i,r,s){if(this._interactivePrune(e)||s(e,i))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(cp.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let c=l.length-1;c>=0;c--){const u=l[c],d=this.hitTestRecursive(u,this._isInteractive(t)?t:u.eventMode,i,r,s);if(d){if(d.length>0&&!d[d.length-1].parent)continue;const b=e.isInteractive();return(d.length>0||b)&&d.push(e),d}}}const o=this._isInteractive(t),a=e.isInteractive();return o&&r(e,i)?a?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&!e.isMask&&e.visible&&e.renderable&&"none"!==e.eventMode&&("passive"!==e.eventMode||e.interactiveChildren)&&!e.isMask)}hitPruneFn(e,t){var i;if(e.hitArea&&(e.worldTransform.applyInverse(t,gD),!e.hitArea.contains(gD.x,gD.y)))return!0;if(e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&!(null==(i=r.containsPoint)?void 0:i.call(r,t)))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){var s,o;null==(o=(s=e.currentTarget)[`on${t=null!=t?t:e.type}`])||o.call(s,e),this.notifyListeners(e,e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof pc))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.createPointerEvent(e);this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType?this.dispatchEvent(t,"touchstart"):"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.dispatchEvent(t,2===t.button?"rightdown":"mousedown"),this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var l,c,u;if(!(e instanceof pc))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const i="mouse"===t.pointerType||"pen"===t.pointerType,r=this.trackingData(e.pointerId),s=this.findMountedTarget(r.overTargets);if((null==(l=r.overTargets)?void 0:l.length)>0&&s!==t.target){const b=this.createPointerEvent(e,"mousemove"===e.type?"mouseout":"pointerout",s);if(this.dispatchEvent(b,"pointerout"),i&&this.dispatchEvent(b,"mouseout"),!t.composedPath().includes(s)){const C=this.createPointerEvent(e,"pointerleave",s);for(C.eventPhase=C.AT_TARGET;C.target&&!t.composedPath().includes(C.target);)C.currentTarget=C.target,this.notifyTarget(C),i&&this.notifyTarget(C,"mouseleave"),C.target=C.target.parent;this.freeEvent(C)}this.freeEvent(b)}if(s!==t.target){const b=this.clonePointerEvent(t,"mousemove"===e.type?"mouseover":"pointerover");this.dispatchEvent(b,"pointerover"),i&&this.dispatchEvent(b,"mouseover");let C=null==s?void 0:s.parent;for(;C&&C!==this.rootTarget.parent&&C!==t.target;)C=C.parent;if(!C||C===this.rootTarget.parent){const M=this.clonePointerEvent(t,"pointerenter");for(M.eventPhase=M.AT_TARGET;M.target&&M.target!==s&&M.target!==this.rootTarget.parent;)M.currentTarget=M.target,this.notifyTarget(M),i&&this.notifyTarget(M,"mouseenter"),M.target=M.target.parent;this.freeEvent(M)}this.freeEvent(b)}const o=[],a=null==(c=this.enableGlobalMoveEvents)||c;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(t,"pointermove"),a&&o.push("globalpointermove"),"touch"===t.pointerType&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),a&&o.push("globaltouchmove")),i&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),a&&o.push("globalmousemove"),this.cursor=null==(u=t.target)?void 0:u.cursor),o.length>0&&this.all(t,o),this._allInteractiveElements.length=0,this._hitElements.length=0,r.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var o;if(!(e instanceof pc))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),i=this.createPointerEvent(e),r="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),r&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=null==(o=i.target)?void 0:o.cursor);const s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;t.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof pc))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId);if(t.overTargets){const i="mouse"===e.pointerType||"pen"===e.pointerType,r=this.findMountedTarget(t.overTargets),s=this.createPointerEvent(e,"pointerout",r);this.dispatchEvent(s),i&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",r);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;t.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof pc))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=performance.now(),i=this.createPointerEvent(e);this.dispatchEvent(i,"pointerup"),"touch"===i.pointerType?this.dispatchEvent(i,"touchend"):"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.dispatchEvent(i,2===i.button?"rightup":"mouseup");const r=this.trackingData(e.pointerId),s=this.findMountedTarget(r.pressTargetsByButton[e.button]);let o=s;if(s&&!i.composedPath().includes(s)){let a=s;for(;a&&!i.composedPath().includes(a);)i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType?this.notifyTarget(i,"touchendoutside"):"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),a=a.parent;delete r.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(i,"click");a.target=o,a.path=null,r.clicksByButton[e.button]||(r.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:t});const l=r.clicksByButton[e.button];l.target===a.target&&t-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=t,a.detail=l.clickCount,"mouse"===a.pointerType?this.dispatchEvent(a,2===a.button?"rightclick":"click"):"touch"===a.pointerType&&this.dispatchEvent(a,"tap"),this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof pc))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),i=this.findMountedTarget(t.pressTargetsByButton[e.button]),r=this.createPointerEvent(e);if(i){let s=i;for(;s;)r.currentTarget=s,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):("mouse"===r.pointerType||"pen"===r.pointerType)&&this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),s=s.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(r)}mapWheel(e){if(!(e instanceof Wf))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let i=1;i<e.length&&e[i].parent===t;i++)t=e[i];return t}createPointerEvent(e,t,i){var s;const r=this.allocateEvent(pc);return this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=null!=(s=null!=i?i:this.hitTest(r.global.x,r.global.y))?s:this._hitElements[0],"string"==typeof t&&(r.type=t),r}createWheelEvent(e){const t=this.allocateEvent(Wf);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const i=this.allocateEvent(pc);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=null!=t?t:i.type,i}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof pc&&t instanceof pc&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof hv&&t instanceof hv&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const i=e.currentTarget._events[t];if(i&&e.currentTarget.isInteractive())if("fn"in i)i.once&&e.currentTarget.removeListener(t,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let r=0,s=i.length;r<s&&!e.propagationImmediatelyStopped;r++)i[r].once&&e.currentTarget.removeListener(t,i[r].fn,void 0,!0),i[r].fn.call(i[r].context,e)}}const $ye={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},mD=class rN{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new cV(null),cp.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new pc(null),this.rootWheelEvent=new Wf(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy(je({},rN.defaultEventFeatures),{set:(t,i,r)=>("globalMove"===i&&(this.rootBoundary.enableGlobalMoveEvents=r),t[i]=r,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var r,s;const{view:t,resolution:i}=this.renderer;this.setTargetElement(t),this.resolution=i,rN._defaultEventMode=null!=(r=e.eventMode)?r:"auto",Object.assign(this.features,null!=(s=e.eventFeatures)?s:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":t&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":t&&Object.assign(this.domElement.style,i)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,r=t.length;i<r;i++){const o=this.bootstrapEvent(this.rootPointerEvent,t[i]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,cp.pointerMoved();const t=this.normalizeToPointerData(e);for(let i=0,r=t.length;i<r;i++){const s=this.bootstrapEvent(this.rootPointerEvent,t[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const i=t!==this.domElement?"outside":"",r=this.normalizeToPointerData(e);for(let s=0,o=r.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,r[s]);a.type+=i,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let i=0,r=t.length;i<r;i++){const s=this.bootstrapEvent(this.rootPointerEvent,t[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,cp.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;cp.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;cp.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,i){const r=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=this.domElement.width/r.width*(t-r.left)*s,e.y=this.domElement.height/r.height*(i-r.top)*s}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,r=e.changedTouches.length;i<r;i++){const s=e.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,t.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=1),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,t.push(i)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=$ye[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};mD.extension={name:"events",type:[Bt.RendererSystem,Bt.CanvasRendererSystem]},mD.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let LT=mD;function uV(n){return"dynamic"===n||"static"===n}Wt.add(LT);const dV={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var n;return null!=(n=this._internalInteractive)?n:uV(LT.defaultEventMode)},set interactive(n){Mn("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=n,this.eventMode=n?"static":"auto"},_internalEventMode:void 0,get eventMode(){var n;return null!=(n=this._internalEventMode)?n:LT.defaultEventMode},set eventMode(n){this._internalInteractive=uV(n),this._internalEventMode=n},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(n,e,t){const r="object"==typeof t?t.signal:void 0,s="object"==typeof t&&!0===t.once,o="function"==typeof e?void 0:e;n="boolean"==typeof t&&t||"object"==typeof t&&t.capture?`${n}capture`:n;const a="function"==typeof e?e:e.handleEvent,l=this;r&&r.addEventListener("abort",()=>{l.off(n,a,o)}),s?l.once(n,a,o):l.on(n,a,o)},removeEventListener(n,e,t){const r="function"==typeof e?void 0:e;this.off(n="boolean"==typeof t&&t||"object"==typeof t&&t.capture?`${n}capture`:n,e="function"==typeof e?e:e.handleEvent,r)},dispatchEvent(n){if(!(n instanceof W_))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return n.defaultPrevented=!1,n.path=null,n.target=this,n.manager.dispatchEvent(n),!n.defaultPrevented}};Ur.mixin(dV);const hV={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ur.mixin(hV);class _D{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(su.tablet||su.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null==(e=this.renderer.view.parentNode)||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null==(e=this.div.parentNode)||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let i=0;i<t.length;i++)this.updateAccessibleObjects(t[i])}update(){const e=performance.now();if(su.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:i,width:r,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=r/o*l,u=s/a*l;let d=this.div;d.style.left=`${t}px`,d.style.top=`${i}px`,d.style.width=`${o}px`,d.style.height=`${a}px`;for(let b=0;b<this.children.length;b++){const C=this.children[b];if(C.renderId!==this.renderId)C._accessibleActive=!1,Lf(this.children,b,1),this.div.removeChild(C._accessibleDiv),this.pool.push(C._accessibleDiv),C._accessibleDiv=null,b--;else{d=C._accessibleDiv;let M=C.hitArea;const I=C.worldTransform;C.hitArea?(d.style.left=(I.tx+M.x*I.a)*c+"px",d.style.top=(I.ty+M.y*I.d)*u+"px",d.style.width=M.width*I.a*c+"px",d.style.height=M.height*I.d*u+"px"):(M=C.getBounds(),this.capHitArea(M),d.style.left=M.x*c+"px",d.style.top=M.y*u+"px",d.style.width=M.width*c+"px",d.style.height=M.height*u+"px",d.title!==C.accessibleTitle&&null!==C.accessibleTitle&&(d.title=C.accessibleTitle),d.getAttribute("aria-label")!==C.accessibleHint&&null!==C.accessibleHint&&d.setAttribute("aria-label",C.accessibleHint)),(C.accessibleTitle!==d.title||C.tabIndex!==d.tabIndex)&&(d.title=C.accessibleTitle,d.tabIndex=C.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:i}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:i}=e.target,r=this.renderer.events.rootBoundary,s=Object.assign(new W_(r),{target:i});r.rootTarget=this.renderer.lastObjectRendered,t.forEach(o=>r.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}_D.extension={name:"accessibility",type:[Bt.RendererPlugin,Bt.CanvasRendererPlugin]},Wt.add(_D);const gV=class sN{constructor(e){this.stage=new vr,e=Object.assign({forceCanvas:!1},e),this.renderer=zG(e),sN._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return null==(e=this.renderer)?void 0:e.view}get screen(){var e;return null==(e=this.renderer)?void 0:e.screen}destroy(e,t){const i=sN._plugins.slice(0);i.reverse(),i.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};gV._plugins=[];let yD=gV;Wt.handleByList(Bt.Application,yD._plugins);class bD{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let t,i;if(this.cancelResize(),this._resizeTo===globalThis.window)t=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:s}=this._resizeTo;t=r,i=s}this.renderer.resize(t,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}bD.extension=Bt.Application,Wt.add(bD);const mV={loader:Bt.LoadParser,resolver:Bt.ResolveParser,cache:Bt.CacheParser,detection:Bt.DetectionParser};Wt.handle(Bt.Asset,n=>{const e=n.ref;Object.entries(mV).filter(([t])=>!!e[t]).forEach(([t,i])=>{var r;return Wt.add(Object.assign(e[t],{extension:null!=(r=e[t].extension)?r:i}))})},n=>{const e=n.ref;Object.keys(mV).filter(t=>!!e[t]).forEach(t=>Wt.remove(e[t]))});class Qye{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}_next(){var e=this;return en(function*(){if(e._assetList.length&&e._isActive){e._isLoading=!0;const t=[],i=Math.min(e._assetList.length,e._maxConcurrent);for(let r=0;r<i;r++)t.push(e._assetList.pop());yield e._loader.load(t),e._isLoading=!1,e._next()}})()}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Zd(n,e){const t=n.split("?")[0],i=Zs.extname(t).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const fc=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(i=>"string"==typeof i||t?e(i):i):n),up=new class Zye{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const i=fc(e);let r;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(t)){r=l.getCacheableAssets(i,t);break}}r||(r={},i.forEach(a=>{r[a]=t}));const s=Object.keys(r),o={cacheKeys:s,keys:i};if(i.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{const l=r?r[a]:t;this._cache.has(a)&&this._cache.get(a)!==l&&console.warn("[Cache] already has key:",a),this._cache.set(a,r[a])}),t instanceof Lt){const a=t;i.forEach(l=>{a.baseTexture!==Lt.EMPTY.baseTexture&&kn.addToCache(a.baseTexture,l),Lt.addToCache(a,l)})}}remove(e){if(!this._cacheMap.has(e))return void console.warn(`[Assets] Asset id ${e} was not found in the Cache`);const t=this._cacheMap.get(e);t.cacheKeys.forEach(i=>{this._cache.delete(i)}),t.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}},pv=n=>!Array.isArray(n);class ebe{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,i)=>(this._parsersValidated=!1,e[t]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){var i=this;const r={promise:null,parser:null};return r.promise=en(function*(){var a,l;let s=null,o=null;if(t.loadParser&&(o=i._parserHash[t.loadParser],o||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!o){for(let c=0;c<i.parsers.length;c++){const u=i.parsers[c];if(u.load&&(null==(a=u.test)?void 0:a.call(u,e,t,i))){o=u;break}}if(!o)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=yield o.load(e,t,i),r.parser=o;for(let c=0;c<i.parsers.length;c++){const u=i.parsers[c];u.parse&&u.parse&&(yield null==(l=u.testParse)?void 0:l.call(u,s,t,i))&&(s=(yield u.parse(s,t,i))||s,r.parser=u)}return s})(),r}load(e,t){var i=this;return en(function*(){i._parsersValidated||i._validateParsers();let r=0;const s={},o=pv(e),a=fc(e,u=>({alias:[u],src:u})),l=a.length,c=a.map(function(){var u=en(function*(d){const b=Zs.toAbsolute(d.src);if(!s[d.src])try{i.promiseCache[b]||(i.promiseCache[b]=i._getLoadPromiseAndParser(b,d)),s[d.src]=yield i.promiseCache[b].promise,t&&t(++r/l)}catch(C){throw delete i.promiseCache[b],delete s[d.src],new Error(`[Loader.load] Failed to load ${b}.\n${C}`)}});return function(d){return u.apply(this,arguments)}}());return yield Promise.all(c),o?s[a[0].src]:s})()}unload(e){var t=this;return en(function*(){const i=fc(e,r=>({alias:[r],src:r})).map(function(){var r=en(function*(s){var l,c;const o=Zs.toAbsolute(s.src),a=t.promiseCache[o];if(a){const u=yield a.promise;delete t.promiseCache[o],null==(c=null==(l=a.parser)?void 0:l.unload)||c.call(l,u,s,t)}});return function(s){return r.apply(this,arguments)}}());yield Promise.all(i)})()}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),Nn(je({},e),{[t.name]:t})),{})}}var gc=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(gc||{});function Yf(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}const _V={extension:{type:Bt.LoadParser,priority:gc.Low},name:"loadJson",test:n=>Yf(n,"application/json")||Zd(n,".json"),load:n=>en(function*(){return yield(yield zt.ADAPTER.fetch(n)).json()})()};Wt.add(_V);const yV={name:"loadTxt",extension:{type:Bt.LoadParser,priority:gc.Low},test:n=>Yf(n,"text/plain")||Zd(n,".txt"),load:n=>en(function*(){return yield(yield zt.ADAPTER.fetch(n)).text()})()};Wt.add(yV);const sbe=["normal","bold","100","200","300","400","500","600","700","800","900"],obe=[".ttf",".otf",".woff",".woff2"],abe=["font/ttf","font/otf","font/woff","font/woff2"],lbe=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function bV(n){const e=Zs.extname(n),t=Zs.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let i=t.length>0;for(const s of t)if(!s.match(lbe)){i=!1;break}let r=t.join(" ");return i||(r=`"${r.replace(/[\\"]/g,"\\$&")}"`),r}const cbe=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function ube(n){return cbe.test(n)?n:encodeURI(n)}const vV={extension:{type:Bt.LoadParser,priority:gc.Low},name:"loadWebFont",test:n=>Yf(n,abe)||Zd(n,obe),load:(n,e)=>en(function*(){var i,r,s,o,a,l;const t=zt.ADAPTER.getFontFaceSet();if(t){const c=[],u=null!=(r=null==(i=e.data)?void 0:i.family)?r:bV(n),d=null!=(a=null==(o=null==(s=e.data)?void 0:s.weights)?void 0:o.filter(C=>sbe.includes(C)))?a:["normal"],b=null!=(l=e.data)?l:{};for(let C=0;C<d.length;C++){const M=d[C],I=new FontFace(u,`url(${ube(n)})`,Nn(je({},b),{weight:M}));yield I.load(),t.add(I),c.push(I)}return 1===c.length?c[0]:c}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null})(),unload(n){(Array.isArray(n)?n:[n]).forEach(e=>zt.ADAPTER.getFontFaceSet().delete(e))}};Wt.add(vV);let vD,Y_=null,CV=(()=>{class n{constructor(){Y_||(Y_=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n  async function checkImageBitmap() {\n    try {\n      if (typeof createImageBitmap != "function")\n        return !1;\n      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);\n      return imageBitmap.width === 1 && imageBitmap.height === 1;\n    } catch {\n      return !1;\n    }\n  }\n  checkImageBitmap().then((result) => {\n    self.postMessage(result);\n  });\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(Y_)}}return n.revokeObjectURL=function(){Y_&&(URL.revokeObjectURL(Y_),Y_=null)},n})(),X_=null,pbe=(()=>{class n{constructor(){X_||(X_=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  async function loadImageBitmap(url) {\n    const response = await fetch(url);\n    if (!response.ok)\n      throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n    const imageBlob = await response.blob();\n    return await createImageBitmap(imageBlob);\n  }\n  self.onmessage = async (event) => {\n    try {\n      const imageBitmap = await loadImageBitmap(event.data.data[0]);\n      self.postMessage({\n        data: imageBitmap,\n        uuid: event.data.uuid,\n        id: event.data.id\n      }, [imageBitmap]);\n    } catch (e) {\n      self.postMessage({\n        error: e,\n        uuid: event.data.uuid,\n        id: event.data.id\n      });\n    }\n  };\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(X_)}}return n.revokeObjectURL=function(){X_&&(URL.revokeObjectURL(X_),X_=null)},n})(),wV=0;const SV=new class fbe{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new CV;t.addEventListener("message",i=>{t.terminate(),CV.revokeObjectURL(),e(i.data)})})),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}_initWorkers(){var e=this;return en(function*(){e._initialized||(e._initialized=!0)})()}getWorker(){void 0===vD&&(vD=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<vD&&(this._createdWorkers++,e=(new pbe).worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}_run(e,t){var i=this;return en(function*(){yield i._initWorkers();const r=new Promise((s,o)=>{i.queue.push({id:e,arguments:t,resolve:s,reject:o})});return i.next(),r})()}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),i=t.id;this.resolveHash[wV]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:wV++,id:i})}};function q_(n,e,t){n.resource.internal=!0;const i=new Lt(n),r=()=>{delete e.promiseCache[t],up.has(t)&&up.remove(t)};return i.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),r())}),i.once("destroyed",()=>{n.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),r())}),i}const gbe=[".jpeg",".jpg",".png",".webp",".avif"],mbe=["image/jpeg","image/png","image/webp","image/avif"];function TV(n){return CD.apply(this,arguments)}function CD(){return CD=en(function*(n){const e=yield zt.ADAPTER.fetch(n);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${e.status} ${e.statusText}`);const t=yield e.blob();return yield createImageBitmap(t)}),CD.apply(this,arguments)}const fv={name:"loadTextures",extension:{type:Bt.LoadParser,priority:gc.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:n=>Yf(n,mbe)||Zd(n,gbe),load(n,e,t){var i=this;return en(function*(){var c;const r=globalThis.createImageBitmap&&i.config.preferCreateImageBitmap;let s;s=r?i.config.preferWorkers&&(yield SV.isImageBitmapSupported())?yield SV.loadImageBitmap(n):yield TV(n):yield new Promise((u,d)=>{const b=new Image;b.crossOrigin=i.config.crossOrigin,b.src=n,b.complete?u(b):(b.onload=()=>u(b),b.onerror=C=>d(C))});const o=je({},e.data);null!=o.resolution||(o.resolution=Qu(n)),r&&void 0===(null==(c=o.resourceOptions)?void 0:c.ownsImageBitmap)&&(o.resourceOptions=je({},o.resourceOptions),o.resourceOptions.ownsImageBitmap=!0);const a=new kn(s,o);return a.resource.src=n,q_(a,t,n)})()},unload(n){n.destroy(!0)}};Wt.add(fv);const MV={extension:{type:Bt.LoadParser,priority:gc.High},name:"loadSVG",test:n=>Yf(n,"image/svg+xml")||Zd(n,".svg"),testParse:n=>en(function*(){return IT.test(n)})(),parse:(n,e,t)=>en(function*(){var s;const i=new IT(n,null==(s=null==e?void 0:e.data)?void 0:s.resourceOptions);yield i.load();const r=new kn(i,je({resolution:Qu(n)},null==e?void 0:e.data));return r.resource.src=e.src,q_(r,t,e.src)})(),load:(n,e)=>en(function*(){return(yield zt.ADAPTER.fetch(n)).text()})(),unload:fv.unload};Wt.add(MV);const bbe=[".mp4",".m4v",".webm",".ogv"],vbe=["video/mp4","video/webm","video/ogg"],xV={name:"loadVideo",extension:{type:Bt.LoadParser,priority:gc.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test:n=>Yf(n,vbe)||Zd(n,bbe),load(n,e,t){var i=this;return en(function*(){var a;let r;const s=yield(yield zt.ADAPTER.fetch(n)).blob(),o=URL.createObjectURL(s);try{const l=Nn(je({autoPlay:i.config.defaultAutoPlay,updateFPS:i.config.defaultUpdateFPS,loop:i.config.defaultLoop,muted:i.config.defaultMuted,playsinline:i.config.defaultPlaysinline},null==(a=null==e?void 0:e.data)?void 0:a.resourceOptions),{autoLoad:!0}),c=new sD(o,l);yield c.load();const u=new kn(c,je({alphaMode:yield kj(),resolution:Qu(n)},null==e?void 0:e.data));u.resource.src=n,r=q_(u,t,n),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(l){throw URL.revokeObjectURL(o),l}return r})()},unload(n){n.destroy(!0)}};function EV(n,e,t,i,r){const s=e[t];for(let o=0;o<s.length;o++){const a=s[o];t<e.length-1?EV(n.replace(i[t],a),e,t+1,i,r):r.push(n.replace(i[t],a))}}function OV(n){const t=n.match(/\{(.*?)\}/g),i=[];if(t){const r=[];t.forEach(s=>{const o=s.substring(1,s.length-1).split(",");r.push(o)}),EV(n,r,0,t,i)}else i.push(n);return i}Wt.add(xV);class Cbe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var t,i,r;if(this._bundleIdConnector=null!=(t=e.connector)?t:this._bundleIdConnector,this._createBundleAssetId=null!=(i=e.createBundleAssetId)?i:this._createBundleAssetId,this._extractAssetIdFromBundle=null!=(r=e.extractAssetIdFromBundle)?r:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if("string"==typeof e)this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`).join("&")}}getAlias(e){const{alias:t,name:i,src:r,srcs:s}=e;return fc(t||i||r||s,o=>{var a;return"string"==typeof o?o:Array.isArray(o)?o.map(l=>{var c,u;return null!=(u=null!=(c=null==l?void 0:l.src)?c:null==l?void 0:l.srcs)?u:l}):(null==o?void 0:o.src)||(null==o?void 0:o.srcs)?null!=(a=o.src)?a:o.srcs:o},!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const i=[];Array.isArray(t)?t.forEach(r=>{var l,c;const s=null!=(l=r.src)?l:r.srcs,o=null!=(c=r.alias)?c:r.name;let a;if("string"==typeof o){const u=this._createBundleAssetId(e,o);i.push(u),a=[o,u]}else{const u=o.map(d=>this._createBundleAssetId(e,d));i.push(...u),a=[...o,...u]}this.add(Nn(je({},r),{alias:a,src:s}))}):Object.keys(t).forEach(r=>{var o;const s=[r,this._createBundleAssetId(e,r)];if("string"==typeof t[r])this.add({alias:s,src:t[r]});else if(Array.isArray(t[r]))this.add({alias:s,src:t[r]});else{const a=t[r],l=null!=(o=a.src)?o:a.srcs;this.add(Nn(je({},a),{alias:s,src:Array.isArray(l)?l:[l]}))}i.push(...s)}),this._bundles[e]=i}add(e,t,i,r,s){const o=[];let a;"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?(Mn("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),o.push({alias:e,src:t,data:i,format:r,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e),a=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},fc(o).forEach(l=>{const{src:c,srcs:u}=l;let{data:d,format:b,loadParser:C}=l;const M=fc(c||u).map(B=>"string"==typeof B?OV(B):Array.isArray(B)?B:[B]),I=this.getAlias(l);Array.isArray(I)?I.forEach(a):a(I);const k=[];M.forEach(B=>{B.forEach(L=>{var Y,se,ue;let H={};if("object"!=typeof L){H.src=L;for(let oe=0;oe<this._parsers.length;oe++){const de=this._parsers[oe];if(de.test(L)){H=de.parse(L);break}}}else d=null!=(Y=L.data)?Y:d,b=null!=(se=L.format)?se:b,C=null!=(ue=L.loadParser)?ue:C,H=je(je({},H),L);if(!I)throw new Error(`[Resolver] alias is undefined for this asset: ${H.src}`);H=this.buildResolvedAsset(H,{aliases:I,data:d,format:b,loadParser:C}),k.push(H)})}),I.forEach(B=>{this._assetMap[B]=k})})}resolveBundle(e){const t=pv(e);e=fc(e);const i={};return e.forEach(r=>{const s=this._bundles[r];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(r,l)]=c}i[r]=a}}),t?i[e[0]]:i}resolveUrl(e){const t=this.resolve(e);if("string"!=typeof e){const i={};for(const r in t)i[r]=t[r].src;return i}return t.src}resolve(e){const t=pv(e);e=fc(e);const i={};return e.forEach(r=>{var s;if(!this._resolverHash[r])if(this._assetMap[r]){let o=this._assetMap[r];const a=o[0],l=this._getPreferredOrder(o);null==l||l.priority.forEach(c=>{l.params[c].forEach(u=>{const d=o.filter(b=>!!b[c]&&b[c]===u);d.length&&(o=d)})}),this._resolverHash[r]=null!=(s=o[0])?s:a}else this._resolverHash[r]=this.buildResolvedAsset({alias:[r],src:r},{});i[r]=this._resolverHash[r]}),t?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const i=e[0],r=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(e){return this._defaultSearchParams?`${e}${/\?/.test(e)?"&":"?"}${this._defaultSearchParams}`:e}buildResolvedAsset(e,t){var a,l;const{aliases:i,data:r,loadParser:s,format:o}=t;return(this._basePath||this._rootPath)&&(e.src=Zs.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=null!=(a=null!=i?i:e.alias)?a:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data=je(je({},r||{}),e.data),e.loadParser=null!=s?s:e.loadParser,e.format=null!=(l=null!=o?o:e.format)?l:Zs.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class PV{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Cbe,this.loader=new ebe,this.cache=up,this._backgroundLoader=new Qye(this.loader),this._backgroundLoader.active=!0,this.reset()}init(e={}){var t=this;return en(function*(){var o,a,l;if(t._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");if(t._initialized=!0,e.defaultSearchParams&&t.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(t.resolver.basePath=e.basePath),e.bundleIdentifier&&t.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;"string"==typeof c&&(c=yield t.load(c)),t.resolver.addManifest(c)}const i=null!=(a=null==(o=e.texturePreference)?void 0:o.resolution)?a:1,r="number"==typeof i?[i]:i,s=yield t._detectFormats({preferredFormats:null==(l=e.texturePreference)?void 0:l.format,skipDetections:e.skipDetections,detections:t._detections});t.resolver.prefer({params:{format:s,resolution:r}}),e.preferences&&t.setPreferences(e.preferences)})()}add(e,t,i,r,s){this.resolver.add(e,t,i,r,s)}load(e,t){var i=this;return en(function*(){i._initialized||(yield i.init());const r=pv(e),s=fc(e).map(l=>{if("string"!=typeof l){const c=i.resolver.getAlias(l);return c.some(u=>!i.resolver.hasKey(u))&&i.add(l),Array.isArray(c)?c[0]:c}return i.resolver.hasKey(l)||i.add({alias:l,src:l}),l}),o=i.resolver.resolve(s),a=yield i._mapLoadToResolve(o,t);return r?a[s[0]]:a})()}addBundle(e,t){this.resolver.addBundle(e,t)}loadBundle(e,t){var i=this;return en(function*(){i._initialized||(yield i.init());let r=!1;"string"==typeof e&&(r=!0,e=[e]);const s=i.resolver.resolveBundle(e),o={},a=Object.keys(s);let l=0,c=0;const u=()=>{null==t||t(++l/c)},d=a.map(b=>{const C=s[b];return c+=Object.keys(C).length,i._mapLoadToResolve(C,u).then(M=>{o[b]=M})});return yield Promise.all(d),r?o[e[0]]:o})()}backgroundLoad(e){var t=this;return en(function*(){t._initialized||(yield t.init()),"string"==typeof e&&(e=[e]);const i=t.resolver.resolve(e);t._backgroundLoader.add(Object.values(i))})()}backgroundLoadBundle(e){var t=this;return en(function*(){t._initialized||(yield t.init()),"string"==typeof e&&(e=[e]);const i=t.resolver.resolveBundle(e);Object.values(i).forEach(r=>{t._backgroundLoader.add(Object.values(r))})})()}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return up.get(e);const t={};for(let i=0;i<e.length;i++)t[i]=up.get(e[i]);return t}_mapLoadToResolve(e,t){var i=this;return en(function*(){const r=Object.values(e),s=Object.keys(e);i._backgroundLoader.active=!1;const o=yield i.loader.load(r,t);i._backgroundLoader.active=!0;const a={};return r.forEach((l,c)=>{const u=o[l.src],d=[l.src];l.alias&&d.push(...l.alias),a[s[c]]=u,up.set(d,u)}),a})()}unload(e){var t=this;return en(function*(){t._initialized||(yield t.init());const i=fc(e).map(s=>"string"!=typeof s?s.src:s),r=t.resolver.resolve(i);yield t._unloadFromResolved(r)})()}unloadBundle(e){var t=this;return en(function*(){t._initialized||(yield t.init()),e=fc(e);const i=t.resolver.resolveBundle(e),r=Object.keys(i).map(s=>t._unloadFromResolved(i[s]));yield Promise.all(r)})()}_unloadFromResolved(e){var t=this;return en(function*(){const i=Object.values(e);i.forEach(r=>{up.remove(r.src)}),yield t.loader.unload(i)})()}_detectFormats(e){return en(function*(){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const i of e.detections)e.skipDetections||(yield i.test())?t=yield i.add(t):e.skipDetections||(t=yield i.remove(t));return t=t.filter((i,r)=>t.indexOf(i)===r),t})()}get detections(){return this._detections}get preferWorkers(){return fv.config.preferWorkers}set preferWorkers(e){Mn("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(i=>i in e).forEach(i=>{t.config[i]=e[i]})})}}const K_=new PV;Wt.handleByList(Bt.LoadParser,K_.loader.parsers).handleByList(Bt.ResolveParser,K_.resolver.parsers).handleByList(Bt.CacheParser,K_.cache.parsers).handleByList(Bt.DetectionParser,K_.detections);const IV={extension:Bt.CacheParser,test:n=>Array.isArray(n)&&n.every(e=>e instanceof Lt),getCacheableAssets:(n,e)=>{const t={};return n.forEach(i=>{e.forEach((r,s)=>{t[i+(0===s?"":s+1)]=r})}),t}};function AV(n){return wD.apply(this,arguments)}function wD(){return wD=en(function*(n){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=yield(yield fetch(n)).blob();yield createImageBitmap(e)}catch(e){return!1}return!0}return!1}),wD.apply(this,arguments)}Wt.add(IV);const DV={extension:{type:Bt.DetectionParser,priority:1},test:function(){var n=en(function*(){return AV("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=")});return function(){return n.apply(this,arguments)}}(),add:function(){var n=en(function*(e){return[...e,"avif"]});return function(t){return n.apply(this,arguments)}}(),remove:function(){var n=en(function*(e){return e.filter(t=>"avif"!==t)});return function(t){return n.apply(this,arguments)}}()};Wt.add(DV);const RV={extension:{type:Bt.DetectionParser,priority:0},test:function(){var n=en(function*(){return AV("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")});return function(){return n.apply(this,arguments)}}(),add:function(){var n=en(function*(e){return[...e,"webp"]});return function(t){return n.apply(this,arguments)}}(),remove:function(){var n=en(function*(e){return e.filter(t=>"webp"!==t)});return function(t){return n.apply(this,arguments)}}()};Wt.add(RV);const kV=["png","jpg","jpeg"],NV={extension:{type:Bt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:function(){var n=en(function*(e){return[...e,...kV]});return function(t){return n.apply(this,arguments)}}(),remove:function(){var n=en(function*(e){return e.filter(t=>!kV.includes(t))});return function(t){return n.apply(this,arguments)}}()};Wt.add(NV);const wbe="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function SD(n){return!wbe&&""!==document.createElement("video").canPlayType(n)}const FV={extension:{type:Bt.DetectionParser,priority:0},test:function(){var n=en(function*(){return SD("video/webm")});return function(){return n.apply(this,arguments)}}(),add:function(){var n=en(function*(e){return[...e,"webm"]});return function(t){return n.apply(this,arguments)}}(),remove:function(){var n=en(function*(e){return e.filter(t=>"webm"!==t)});return function(t){return n.apply(this,arguments)}}()};Wt.add(FV);const BV={extension:{type:Bt.DetectionParser,priority:0},test:function(){var n=en(function*(){return SD("video/mp4")});return function(){return n.apply(this,arguments)}}(),add:function(){var n=en(function*(e){return[...e,"mp4","m4v"]});return function(t){return n.apply(this,arguments)}}(),remove:function(){var n=en(function*(e){return e.filter(t=>"mp4"!==t&&"m4v"!==t)});return function(t){return n.apply(this,arguments)}}()};Wt.add(BV);const LV={extension:{type:Bt.DetectionParser,priority:0},test:function(){var n=en(function*(){return SD("video/ogg")});return function(){return n.apply(this,arguments)}}(),add:function(){var n=en(function*(e){return[...e,"ogv"]});return function(t){return n.apply(this,arguments)}}(),remove:function(){var n=en(function*(e){return e.filter(t=>"ogv"!==t)});return function(t){return n.apply(this,arguments)}}()};Wt.add(LV);const UV={extension:Bt.ResolveParser,test:fv.test,parse:n=>{var e,t;return{resolution:parseFloat(null!=(t=null==(e=zt.RETINA_PREFIX.exec(n))?void 0:e[1])?t:"1"),format:Zs.extname(n).slice(1),src:n}}};Wt.add(UV);const HT=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n};var po=(n=>(n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",n[n.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",n[n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",n[n.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",n[n.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",n))(po||{});const gv={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let rd,J_;function HV(){J_={bptc:rd.getExtension("EXT_texture_compression_bptc"),astc:rd.getExtension("WEBGL_compressed_texture_astc"),etc:rd.getExtension("WEBGL_compressed_texture_etc"),s3tc:rd.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:rd.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:rd.getExtension("WEBGL_compressed_texture_pvrtc")||rd.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:rd.getExtension("WEBGL_compressed_texture_etc1"),atc:rd.getExtension("WEBGL_compressed_texture_atc")}}const jV={extension:{type:Bt.DetectionParser,priority:2},test:function(){var n=en(function*(){const e=zt.ADAPTER.createCanvas().getContext("webgl");return e?(rd=e,!0):(console.warn("WebGL not available for compressed textures."),!1)});return function(){return n.apply(this,arguments)}}(),add:function(){var n=en(function*(e){J_||HV();const t=[];for(const i in J_)J_[i]&&t.push(i);return[...t,...e]});return function(t){return n.apply(this,arguments)}}(),remove:function(){var n=en(function*(e){return J_||HV(),e.filter(t=>!(t in J_))});return function(t){return n.apply(this,arguments)}}()};Wt.add(jV);class GV extends Gb{constructor(e,t={width:1,height:1,autoLoad:!0}){let i,r;"string"==typeof e?(i=e,r=new Uint8Array):(i=null,r=e),super(r,t),this.origin=i,this.buffer=r?new dT(r):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new dT(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this))),this._load}}class dp extends GV{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=dp._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||dp._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,i){const r=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;r.pixelStorei(r.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:l,levelHeight:c,levelBuffer:u}=this._levelBuffers[s];r.compressedTexImage2D(r.TEXTURE_2D,a,this.format,l,c,0,u)}return!0}onBlobLoaded(){this._levelBuffers=dp._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(36196===e)return"etc1";if(35986===e||35987===e||34798===e)return"atc";if(e>=36492&&e<=36495)return"bptc";if(37808===e)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,i,r,s,o,a){const l=new Array(i);let c=e.byteOffset,u=o,d=a,b=u+r-1&~(r-1),C=d+s-1&~(s-1),M=b*C*gv[t];for(let I=0;I<i;I++)l[I]={levelID:I,levelWidth:i>1?u:b,levelHeight:i>1?d:C,levelBuffer:new Uint8Array(e.buffer,c,M)},c+=M,u=u>>1||1,d=d>>1||1,b=u+r-1&~(r-1),C=d+s-1&~(s-1),M=b*C*gv[t];return l}}const Bbe={827611204:po.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:po.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:po.COMPRESSED_RGBA_S3TC_DXT5_EXT},Lbe={70:po.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:po.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:po.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:po.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:po.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:po.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:po.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:po.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:po.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:po.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:po.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:po.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:po.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function zV(n){const e=new Uint32Array(n);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");const t=new Uint32Array(n,0,124/Uint32Array.BYTES_PER_ELEMENT),i=t[3],r=t[4],s=t[7],o=new Uint32Array(n,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=o[1];if(4&a){const l=o[2];if(808540228!==l){const L=Bbe[l],Y=new Uint8Array(n,128);return[new dp(Y,{format:L,width:r,height:i,levels:s})]}const u=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),d=u[0],b=u[1],C=u[2],M=u[3],I=Lbe[d];if(void 0===I)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(4===C)throw new Error("DDSParser does not support cubemap textures");if(6===b)throw new Error("DDSParser does not supported 3D texture data");const k=new Array,B=148;if(1===M)k.push(new Uint8Array(n,B));else{const L=gv[I];let H=0,Y=r,se=i;for(let oe=0;oe<s;oe++)H+=Math.max(1,Y+3&-4)*Math.max(1,se+3&-4)*L,Y>>>=1,se>>>=1;let ue=B;for(let oe=0;oe<M;oe++)k.push(new Uint8Array(n,ue,H)),ue+=H}return k.map(L=>new dp(L,{format:I,width:r,height:i,levels:s}))}throw 64&a?new Error("DDSParser does not support uncompressed texture data."):512&a?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&a?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&a?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const $V=[171,75,84,88,32,49,49,187,13,10,26,10],xD={[pn.UNSIGNED_BYTE]:1,[pn.UNSIGNED_SHORT]:2,[pn.INT]:4,[pn.UNSIGNED_INT]:4,[pn.FLOAT]:4,[pn.HALF_FLOAT]:8},WV={[Dt.RGBA]:4,[Dt.RGB]:3,[Dt.RG]:2,[Dt.RED]:1,[Dt.LUMINANCE]:1,[Dt.LUMINANCE_ALPHA]:2,[Dt.ALPHA]:1},YV={[pn.UNSIGNED_SHORT_4_4_4_4]:2,[pn.UNSIGNED_SHORT_5_5_5_1]:2,[pn.UNSIGNED_SHORT_5_6_5]:2};function XV(n,e,t=!1){const i=new DataView(e);if(!function Hbe(n,e){for(let t=0;t<$V.length;t++)if(e.getUint8(t)!==$V[t])return console.error(`${n} is not a valid *.ktx file!`),!1;return!0}(n,i))return null;const r=67305985===i.getUint32(12,!0),s=i.getUint32(16,r),o=i.getUint32(24,r),a=i.getUint32(28,r),l=i.getUint32(36,r),c=i.getUint32(40,r)||1,u=i.getUint32(44,r)||1,d=i.getUint32(48,r)||1,b=i.getUint32(52,r),C=i.getUint32(56,r),M=i.getUint32(60,r);if(0===c||1!==u)throw new Error("Only 2D textures are supported");if(1!==b)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==d)throw new Error("WebGL does not support array textures");const B=l+3&-4,L=c+3&-4,H=new Array(d);let se,Y=l*c;if(0===s&&(Y=B*L),se=0!==s?xD[s]?xD[s]*WV[o]:YV[s]:gv[a],void 0===se)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const ue=t?function Gbe(n,e,t){const i=new Map;let r=0;for(;r<e;){const s=n.getUint32(64+r,t),o=64+r+4,a=3-(s+3)%4;if(0===s||s>e-r){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&0!==n.getUint8(o+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=(new TextDecoder).decode(new Uint8Array(n.buffer,o,l)),u=new DataView(n.buffer,o+l+1,s-l-1);i.set(c,u),r+=4+s+a}return i}(i,M,r):null;let oe=Y*se,de=l,ae=c,fe=B,Re=L,ve=64+M;for(let _e=0;_e<C;_e++){const Oe=i.getUint32(ve,r);let Ge=ve+4;for(let Ee=0;Ee<d;Ee++){let ye=H[Ee];ye||(ye=H[Ee]=new Array(C)),ye[_e]={levelID:_e,levelWidth:C>1||0!==s?de:fe,levelHeight:C>1||0!==s?ae:Re,levelBuffer:new Uint8Array(e,Ge,oe)},Ge+=oe}ve+=Oe+4,ve=ve%4!=0?ve+4-ve%4:ve,de=de>>1||1,ae=ae>>1||1,fe=de+4-1&-4,Re=ae+4-1&-4,oe=fe*Re*se}return 0!==s?{uncompressed:H.map(_e=>{let Oe=_e[0].levelBuffer,Ge=!1;return s===pn.FLOAT?Oe=new Float32Array(_e[0].levelBuffer.buffer,_e[0].levelBuffer.byteOffset,_e[0].levelBuffer.byteLength/4):s===pn.UNSIGNED_INT?(Ge=!0,Oe=new Uint32Array(_e[0].levelBuffer.buffer,_e[0].levelBuffer.byteOffset,_e[0].levelBuffer.byteLength/4)):s===pn.INT&&(Ge=!0,Oe=new Int32Array(_e[0].levelBuffer.buffer,_e[0].levelBuffer.byteOffset,_e[0].levelBuffer.byteLength/4)),{resource:new Gb(Oe,{width:_e[0].levelWidth,height:_e[0].levelHeight}),type:s,format:Ge?jbe(o):o}}),kvData:ue}:{compressed:H.map(_e=>new dp(null,{format:a,width:l,height:c,levels:C,levelBuffers:_e})),kvData:ue}}function jbe(n){switch(n){case Dt.RGBA:return Dt.RGBA_INTEGER;case Dt.RGB:return Dt.RGB_INTEGER;case Dt.RG:return Dt.RG_INTEGER;case Dt.RED:return Dt.RED_INTEGER;default:return n}}const qV={extension:{type:Bt.LoadParser,priority:gc.High},name:"loadDDS",test:n=>Zd(n,".dds"),load:(n,e,t)=>en(function*(){const r=zV(yield(yield zt.ADAPTER.fetch(n)).arrayBuffer()).map(s=>q_(new kn(s,je({mipmap:nu.OFF,alphaMode:Ea.NO_PREMULTIPLIED_ALPHA,resolution:Qu(n)},e.data)),t,n));return 1===r.length?r[0]:r})(),unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};Wt.add(qV);const KV={extension:{type:Bt.LoadParser,priority:gc.High},name:"loadKTX",test:n=>Zd(n,".ktx"),load:(n,e,t)=>en(function*(){const i=yield(yield zt.ADAPTER.fetch(n)).arrayBuffer(),{compressed:r,uncompressed:s,kvData:o}=XV(n,i),a=null!=r?r:s,l=je({mipmap:nu.OFF,alphaMode:Ea.NO_PREMULTIPLIED_ALPHA,resolution:Qu(n)},e.data),c=a.map(u=>{var C;a===s&&Object.assign(l,{type:u.type,format:u.format});const d=null!=(C=u.resource)?C:u,b=new kn(d,l);return b.ktxKeyValueData=o,q_(b,t,n)});return 1===c.length?c[0]:c})(),unload(n){Array.isArray(n)?n.forEach(e=>e.destroy(!0)):n.destroy(!0)}};Wt.add(KV);const Vbe=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],JV={extension:Bt.ResolveParser,test:n=>{const e=Zs.extname(n).slice(1);return["basis","ktx","dds"].includes(e)},parse:n=>{var i,r,s,o;const e=n.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const a=e.pop();if(Vbe.includes(a))return{resolution:parseFloat(null!=(r=null==(i=zt.RETINA_PREFIX.exec(n))?void 0:i[1])?r:"1"),format:a,src:n}}return{resolution:parseFloat(null!=(o=null==(s=zt.RETINA_PREFIX.exec(n))?void 0:s[1])?o:"1"),format:t,src:n}}};Wt.add(JV);const zT=new Ln,QV=class X1{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=null==(t=this.renderer)?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}image(e,t,i,r){var s=this;return en(function*(){const o=new Image;return o.src=yield s.base64(e,t,i,r),o})()}base64(e,t,i,r){var s=this;return en(function*(){const o=s.canvas(e,r);if(void 0!==o.toBlob)return new Promise((a,l)=>{o.toBlob(c=>{if(!c)return void l(new Error("ICanvas.toBlob failed!"));const u=new FileReader;u.onload=()=>a(u.result),u.onerror=l,u.readAsDataURL(c)},t,i)});if(void 0!==o.toDataURL)return o.toDataURL(t,i);if(void 0!==o.convertToBlob){const a=yield o.convertToBlob({type:t,quality:i});return new Promise((l,c)=>{const u=new FileReader;u.onload=()=>l(u.result),u.onerror=c,u.readAsDataURL(a)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")})()}canvas(e,t){const{pixels:i,width:r,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,t);o&&X1._flipY(i,r,s),a&&X1._unpremultiplyAlpha(i);const l=new jb(r,s,1),c=new ImageData(new Uint8ClampedArray(i.buffer),r,s);return l.context.putImageData(c,0,0),l.canvas}pixels(e,t){const{pixels:i,width:r,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,t);return o&&X1._flipY(i,r,s),a&&X1._unpremultiplyAlpha(i),i}_rawPixels(e,t){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let r,a,s=!1,o=!1,l=!1;e&&(e instanceof cu?a=e:(a=i.generateTexture(e,{region:t,resolution:i.resolution,multisample:i.multisample}),l=!0,t&&(zT.width=t.width,zT.height=t.height,t=zT)));const c=i.gl;if(a){if(r=a.baseTexture.resolution,t=null!=t?t:a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===Dt.RGBA,!l){i.renderTexture.bind(a);const C=a.framebuffer.glFramebuffers[i.CONTEXT_UID];C.blitFramebuffer&&i.framebuffer.bind(C.blitFramebuffer)}}else r=i.resolution,t||((t=zT).width=i.width/r,t.height=i.height/r),s=!0,o=this._rendererPremultipliedAlpha,i.renderTexture.bind();const u=Math.max(Math.round(t.width*r),1),d=Math.max(Math.round(t.height*r),1),b=new Uint8Array(4*u*d);return c.readPixels(Math.round(t.x*r),Math.round(t.y*r),u,d,c.RGBA,c.UNSIGNED_BYTE,b),l&&(null==a||a.destroy(!0)),{pixels:b,width:u,height:d,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,t,i){const r=t<<2,s=i>>1,o=new Uint8Array(r);for(let a=0;a<s;a++){const l=a*r,c=(i-a-1)*r;o.set(e.subarray(l,l+r)),e.copyWithin(l,c,c+r),e.set(o,c)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let i=0;i<t;i+=4){const r=e[i+3];if(0!==r){const s=255.001/r;e[i]=e[i]*s+.5,e[i+1]=e[i+1]*s+.5,e[i+2]=e[i+2]*s+.5}}}};QV.extension={name:"extract",type:Bt.RendererSystem};let ZV=QV;Wt.add(ZV);const mv={build(n){const e=n.points;let t,i,r,s,o,a;if(n.type===fr.CIRC){const M=n.shape;t=M.x,i=M.y,o=a=M.radius,r=s=0}else if(n.type===fr.ELIP){const M=n.shape;t=M.x,i=M.y,o=M.width,a=M.height,r=s=0}else{const M=n.shape,I=M.width/2,k=M.height/2;t=M.x+I,i=M.y+k,o=a=Math.max(0,Math.min(M.radius,Math.min(I,k))),r=I-o,s=k-a}if(!(o>=0&&a>=0&&r>=0&&s>=0))return void(e.length=0);const l=Math.ceil(2.3*Math.sqrt(o+a)),c=8*l+(r?4:0)+(s?4:0);if(e.length=c,0===c)return;if(0===l)return e.length=8,e[0]=e[6]=t+r,e[1]=e[3]=i+s,e[2]=e[4]=t-r,void(e[5]=e[7]=i-s);let u=0,d=4*l+(r?2:0)+2,b=d,C=c;{const M=r+o,I=s,k=t+M,B=t-M,L=i+I;if(e[u++]=k,e[u++]=L,e[--d]=L,e[--d]=B,s){const H=i-I;e[b++]=B,e[b++]=H,e[--C]=H,e[--C]=k}}for(let M=1;M<l;M++){const I=Math.PI/2*(M/l),k=r+Math.cos(I)*o,B=s+Math.sin(I)*a,L=t+k,H=t-k,Y=i+B,se=i-B;e[u++]=L,e[u++]=Y,e[--d]=Y,e[--d]=H,e[b++]=H,e[b++]=se,e[--C]=se,e[--C]=L}{const I=s+a,k=t+r,B=t-r,L=i+I,H=i-I;e[u++]=k,e[u++]=L,e[--C]=H,e[--C]=k,r&&(e[u++]=B,e[u++]=L,e[--C]=H,e[--C]=B)}},triangulate(n,e){const t=n.points,i=e.points,r=e.indices;if(0===t.length)return;let s=i.length/2;const o=s;let a,l;if(n.type!==fr.RREC){const u=n.shape;a=u.x,l=u.y}else{const u=n.shape;a=u.x+u.width/2,l=u.y+u.height/2}const c=n.matrix;i.push(n.matrix?c.a*a+c.c*l+c.tx:a,n.matrix?c.b*a+c.d*l+c.ty:l),s++,i.push(t[0],t[1]);for(let u=2;u<t.length;u+=2)i.push(t[u],t[u+1]),r.push(s++,o,s);r.push(o+1,o,s)}};function e9(n,e=!1){const t=n.length;if(t<6)return;let i=0;for(let r=0,s=n[t-2],o=n[t-1];r<t;r+=2){const a=n[r],l=n[r+1];i+=(a-s)*(l+o),s=a,o=l}if(!e&&i>0||e&&i<=0){const r=t/2;for(let s=r+r%2;s<t;s+=2){const o=t-s-2,a=t-s-1,l=s,c=s+1;[n[o],n[l]]=[n[l],n[o]],[n[a],n[c]]=[n[c],n[a]]}}}const ED={build(n){n.points=n.shape.points.slice()},triangulate(n,e){let t=n.points;const i=n.holes,r=e.points,s=e.indices;if(t.length>=6){e9(t,!1);const o=[];for(let c=0;c<i.length;c++){const u=i[c];e9(u.points,!0),o.push(t.length/2),t=t.concat(u.points)}const a=Aj(t,o,2);if(!a)return;const l=r.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+l),s.push(a[c+1]+l),s.push(a[c+2]+l);for(let c=0;c<t.length;c++)r.push(t[c])}}},t9={build(n){const e=n.shape,t=e.x,i=e.y,r=e.width,s=e.height,o=n.points;o.length=0,r>=0&&s>=0&&o.push(t,i,t+r,i,t+r,i+s,t,i+s)},triangulate(n,e){const t=n.points,i=e.points;if(0===t.length)return;const r=i.length/2;i.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(r,r+1,r+2,r+1,r+2,r+3)}},n9={build(n){mv.build(n)},triangulate(n,e){mv.triangulate(n,e)}};var Sl=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(Sl||{}),eh=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(eh||{});const hp={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,e=20){if(!this.adaptive||!n||isNaN(n))return e;let t=Math.ceil(n/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},$be=hp;class OD{static curveTo(e,t,i,r,s,o){const l=o[o.length-1]-t,c=o[o.length-2]-e,u=r-t,d=i-e,b=Math.abs(l*d-c*u);if(b<1e-8||0===s)return(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t),null;const C=l*l+c*c,M=u*u+d*d,I=l*u+c*d,k=s*Math.sqrt(C)/b,B=s*Math.sqrt(M)/b,L=k*I/C,H=B*I/M,Y=k*d+B*c,se=k*u+B*l,de=d*(k+H),ae=u*(k+H);return{cx:Y+e,cy:se+t,radius:s,startAngle:Math.atan2(l*(B+L)-se,c*(B+L)-Y),endAngle:Math.atan2(ae-se,de-Y),anticlockwise:c*u>d*l}}static arc(e,t,i,r,s,o,a,l,c){const u=a-o,d=hp._segmentsCount(Math.abs(u)*s,40*Math.ceil(Math.abs(u)/zb)),b=u/(2*d),C=2*b,M=Math.cos(b),I=Math.sin(b),k=d-1,B=k%1/k;for(let L=0;L<=k;++L){const Y=b+o+C*(L+B*L),se=Math.cos(Y),ue=-Math.sin(Y);c.push((M*se+I*ue)*s+i,(M*-ue+I*se)*s+r)}}}class $T{static curveLength(e,t,i,r,s,o,a,l){let c=0,u=0,d=0,b=0,C=0,M=0,I=0,k=0,B=0,L=0,H=0,Y=e,se=t;for(let ue=1;ue<=10;++ue)u=ue/10,d=u*u,b=d*u,C=1-u,M=C*C,I=M*C,k=I*e+3*M*u*i+3*C*d*s+b*a,B=I*t+3*M*u*r+3*C*d*o+b*l,L=Y-k,H=se-B,Y=k,se=B,c+=Math.sqrt(L*L+H*H);return c}static curveTo(e,t,i,r,s,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const u=hp._segmentsCount($T.curveLength(l,c,e,t,i,r,s,o));let d=0,b=0,C=0,M=0,I=0;a.push(l,c);for(let k=1,B=0;k<=u;++k)B=k/u,d=1-B,b=d*d,C=b*d,M=B*B,I=M*B,a.push(C*l+3*b*B*e+3*d*M*i+I*s,C*c+3*b*B*t+3*d*M*r+I*o)}}function i9(n,e,t,i,r,s,o,a){let b,C;return o?(b=i,C=-t):(b=-i,C=t),a.push(n-t*r+b,e-i*r+C,n+t*s+b,e+i*s+C),2}function Xf(n,e,t,i,r,s,o,a){const l=t-n,c=i-e;let u=Math.atan2(l,c),d=Math.atan2(r-n,s-e);a&&u<d?u+=2*Math.PI:!a&&u>d&&(d+=2*Math.PI);let b=u;const C=d-u,M=Math.abs(C),I=Math.sqrt(l*l+c*c),k=1+(15*M*Math.sqrt(I)/Math.PI>>0),B=C/k;if(b+=B,a){o.push(n,e,t,i);for(let L=1,H=b;L<k;L++,H+=B)o.push(n,e,n+Math.sin(H)*I,e+Math.cos(H)*I);o.push(n,e,r,s)}else{o.push(t,i,n,e);for(let L=1,H=b;L<k;L++,H+=B)o.push(n+Math.sin(H)*I,e+Math.cos(H)*I,n,e);o.push(r,s,n,e)}return 2*k}function PD(n,e){n.lineStyle.native?function Ybe(n,e){let t=0;const i=n.shape,r=n.points||i.points,s=i.type!==fr.POLY||i.closeStroke;if(0===r.length)return;const o=e.points,a=e.indices,l=r.length/2,c=o.length/2;let u=c;for(o.push(r[0],r[1]),t=1;t<l;t++)o.push(r[2*t],r[2*t+1]),a.push(u,u+1),u++;s&&a.push(u,c)}(n,e):function Wbe(n,e){const t=n.shape;let i=n.points||t.points.slice();const r=e.closePointEps;if(0===i.length)return;const s=n.lineStyle,o=new fi(i[0],i[1]),a=new fi(i[i.length-2],i[i.length-1]),l=t.type!==fr.POLY||t.closeStroke,c=Math.abs(o.x-a.x)<r&&Math.abs(o.y-a.y)<r;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));const ye=.5*(o.x+a.x),we=.5*(a.y+o.y);i.unshift(ye,we),i.push(ye,we)}const u=e.points,d=i.length/2;let b=i.length;const C=u.length/2,M=s.width/2,I=M*M,k=s.miterLimit*s.miterLimit;let B=i[0],L=i[1],H=i[2],Y=i[3],se=0,ue=0,oe=-(L-Y),de=B-H,ae=0,fe=0,Re=Math.sqrt(oe*oe+de*de);oe/=Re,de/=Re,oe*=M,de*=M;const ve=s.alignment,_e=2*(1-ve),Oe=2*ve;l||(s.cap===eh.ROUND?b+=Xf(B-oe*(_e-Oe)*.5,L-de*(_e-Oe)*.5,B-oe*_e,L-de*_e,B+oe*Oe,L+de*Oe,u,!0)+2:s.cap===eh.SQUARE&&(b+=i9(B,L,oe,de,_e,Oe,!0,u))),u.push(B-oe*_e,L-de*_e,B+oe*Oe,L+de*Oe);for(let ye=1;ye<d-1;++ye){B=i[2*(ye-1)],L=i[2*(ye-1)+1],H=i[2*ye],Y=i[2*ye+1],se=i[2*(ye+1)],ue=i[2*(ye+1)+1],oe=-(L-Y),de=B-H,Re=Math.sqrt(oe*oe+de*de),oe/=Re,de/=Re,oe*=M,de*=M,ae=-(Y-ue),fe=H-se,Re=Math.sqrt(ae*ae+fe*fe),ae/=Re,fe/=Re,ae*=M,fe*=M;const we=H-B,et=L-Y,Pe=H-se,Ot=ue-Y,gn=we*Pe+et*Ot,ei=et*Pe-Ot*we,on=ei<0;if(Math.abs(ei)<.001*Math.abs(gn)){u.push(H-oe*_e,Y-de*_e,H+oe*Oe,Y+de*Oe),gn>=0&&(b+=s.join===Sl.ROUND?Xf(H,Y,H-oe*_e,Y-de*_e,H-ae*_e,Y-fe*_e,u,!1)+4:2,u.push(H-ae*Oe,Y-fe*Oe,H+ae*_e,Y+fe*_e));continue}const pt=(-oe+B)*(-de+Y)-(-oe+H)*(-de+L),ut=(-ae+se)*(-fe+Y)-(-ae+H)*(-fe+ue),dt=(we*ut-Pe*pt)/ei,Kt=(Ot*pt-et*ut)/ei,Tn=(dt-H)*(dt-H)+(Kt-Y)*(Kt-Y),oi=H+(dt-H)*_e,ki=Y+(Kt-Y)*_e,$i=H-(dt-H)*Oe,xn=Y-(Kt-Y)*Oe,gi=Math.min(we*we+et*et,Pe*Pe+Ot*Ot),ur=on?_e:Oe;let Hr=s.join;if(Hr===Sl.MITER&&Tn/I>k&&(Hr=Sl.BEVEL),Tn<=gi+ur*ur*I)switch(Hr){case Sl.MITER:u.push(oi,ki,$i,xn);break;case Sl.BEVEL:on?u.push(oi,ki,H+oe*Oe,Y+de*Oe,oi,ki,H+ae*Oe,Y+fe*Oe):u.push(H-oe*_e,Y-de*_e,$i,xn,H-ae*_e,Y-fe*_e,$i,xn),b+=2;break;case Sl.ROUND:on?(u.push(oi,ki,H+oe*Oe,Y+de*Oe),b+=Xf(H,Y,H+oe*Oe,Y+de*Oe,H+ae*Oe,Y+fe*Oe,u,!0)+4,u.push(oi,ki,H+ae*Oe,Y+fe*Oe)):(u.push(H-oe*_e,Y-de*_e,$i,xn),b+=Xf(H,Y,H-oe*_e,Y-de*_e,H-ae*_e,Y-fe*_e,u,!1)+4,u.push(H-ae*_e,Y-fe*_e,$i,xn))}else{switch(u.push(H-oe*_e,Y-de*_e,H+oe*Oe,Y+de*Oe),Hr){case Sl.MITER:on?u.push($i,xn,$i,xn):u.push(oi,ki,oi,ki),b+=2;break;case Sl.ROUND:b+=on?Xf(H,Y,H+oe*Oe,Y+de*Oe,H+ae*Oe,Y+fe*Oe,u,!0)+2:Xf(H,Y,H-oe*_e,Y-de*_e,H-ae*_e,Y-fe*_e,u,!1)+2}u.push(H-ae*_e,Y-fe*_e,H+ae*Oe,Y+fe*Oe),b+=2}}B=i[2*(d-2)],L=i[2*(d-2)+1],H=i[2*(d-1)],Y=i[2*(d-1)+1],oe=-(L-Y),de=B-H,Re=Math.sqrt(oe*oe+de*de),oe/=Re,de/=Re,oe*=M,de*=M,u.push(H-oe*_e,Y-de*_e,H+oe*Oe,Y+de*Oe),l||(s.cap===eh.ROUND?b+=Xf(H-oe*(_e-Oe)*.5,Y-de*(_e-Oe)*.5,H-oe*_e,Y-de*_e,H+oe*Oe,Y+de*Oe,u,!1)+2:s.cap===eh.SQUARE&&(b+=i9(H,Y,oe,de,_e,Oe,!1,u)));const Ge=e.indices,Ee=hp.epsilon*hp.epsilon;for(let ye=C;ye<b+C-2;++ye)B=u[2*ye],L=u[2*ye+1],H=u[2*(ye+1)],Y=u[2*(ye+1)+1],se=u[2*(ye+2)],ue=u[2*(ye+2)+1],!(Math.abs(B*(Y-ue)+H*(ue-L)+se*(L-Y))<Ee)&&Ge.push(ye,ye+1,ye+2)}(n,e)}class WT{static curveLength(e,t,i,r,s,o){const a=e-2*i+s,l=t-2*r+o,c=2*i-2*e,u=2*r-2*t,d=4*(a*a+l*l),b=4*(a*c+l*u),C=c*c+u*u,M=2*Math.sqrt(d+b+C),I=Math.sqrt(d),k=2*d*I,B=2*Math.sqrt(C),L=b/I;return(k*M+I*b*(M-B)+(4*C*d-b*b)*Math.log((2*I+L+M)/(L+B)))/(4*k)}static curveTo(e,t,i,r,s){const o=s[s.length-2],a=s[s.length-1],l=hp._segmentsCount(WT.curveLength(o,a,e,t,i,r));let c=0,u=0;for(let d=1;d<=l;++d){const b=d/l;c=o+(e-o)*b,u=a+(t-a)*b,s.push(c+(e+(i-e)*b-c)*b,u+(t+(r-t)*b-u)*b)}}}const YT={[fr.POLY]:ED,[fr.CIRC]:mv,[fr.ELIP]:mv,[fr.RECT]:t9,[fr.RREC]:n9},ID=[],_v=[];class yv{constructor(e,t=null,i=null,r=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=t,this.matrix=r,this.type=e.type}clone(){return new yv(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}class r9{constructor(){this.reset()}begin(e,t,i){this.reset(),this.style=e,this.start=t,this.attribStart=i}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}const Q_=new fi,s9=class vX extends MA{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ov,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),_v.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),ID.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,i=null,r=null){const s=new yv(e,t,i,r);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const i=new yv(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let i=0;i<t.length;++i){const r=t[i];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(e,Q_):Q_.copyFrom(e),r.shape.contains(Q_.x,Q_.y))){let s=!1;if(r.holes)for(let o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(Q_.x,Q_.y)){s=!0;break}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let i=null,r=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],r=i.style);for(let l=this.shapeIndex;l<t.length;l++){this.shapeIndex++;const c=t[l],u=c.fillStyle,d=c.lineStyle;YT[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(u.visible||d.visible)&&this.processHoles(c.holes);for(let b=0;b<2;b++){const C=0===b?u:d;if(!C.visible)continue;const I=this.indices.length,k=this.points.length/2;C.texture.baseTexture.wrapMode=Ku.REPEAT,0===b?this.processFill(c):this.processLine(c);const B=this.points.length/2-k;0!==B&&(i&&!this._compareStyles(r,C)&&(i.end(I,k),i=null),i||(i=ID.pop()||new r9,i.begin(C,I,k),this.batches.push(i),r=C),this.addUvs(this.points,e,C.texture,k,B,C.matrix))}}const o=this.points.length/2;if(i&&i.end(this.indices.length,o),0===this.batches.length)return void(this.batchable=!0);const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const i=this.graphicsData[e],r=i.fillStyle,s=i.lineStyle;if(r&&!r.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,i=e.length;t<i;t++){const r=e[t];for(let s=0;s<r.size;s++){const o=r.start+s;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<2*vX.BATCHABLE_SIZE}buildDrawCalls(){let e=++kn._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),_v.push(this.drawCalls[d]);this.drawCalls.length=0;const t=this.colors,i=this.textureIds;let r=_v.pop();r||(r=new pT,r.texArray=new bT),r.texArray.count=0,r.start=0,r.size=0,r.type=cc.TRIANGLES;let s=0,o=null,a=0,l=!1,c=cc.TRIANGLES,u=0;this.drawCalls.push(r);for(let d=0;d<this.batches.length;d++){const b=this.batches[d],C=8,M=b.style,I=M.texture.baseTexture;l!==!!M.native&&(l=!!M.native,c=l?cc.LINES:cc.TRIANGLES,o=null,s=C,e++),o!==I&&(o=I,I._batchEnabled!==e&&(s===C&&(e++,s=0,r.size>0&&(r=_v.pop(),r||(r=new pT,r.texArray=new bT),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=c),I.touched=1,I._batchEnabled=e,I._batchLocation=s,I.wrapMode=Ku.REPEAT,r.texArray.elements[r.texArray.count++]=I,s++)),r.size+=b.size,u+=b.size,a=I._batchLocation,this.addColors(t,M.color,M.alpha,b.attribSize,b.attribStart),this.addTextureIds(i,a,b.attribSize,b.attribStart)}kn._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,i=this.colors,r=this.textureIds,s=new ArrayBuffer(3*e.length*4),o=new Float32Array(s),a=new Uint32Array(s);let l=0;for(let c=0;c<e.length/2;c++)o[l++]=e[2*c],o[l++]=e[2*c+1],o[l++]=t[2*c],o[l++]=t[2*c+1],a[l++]=i[c],o[l++]=r[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?ED.triangulate(e,this):YT[e.type].triangulate(e,this)}processLine(e){PD(e,this);for(let t=0;t<e.holes.length;t++)PD(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const i=e[t];YT[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let i=0;i<e.length/2;i++){const r=e[2*i],s=e[2*i+1];e[2*i]=t.a*r+t.c*s+t.tx,e[2*i+1]=t.b*r+t.d*s+t.ty}}addColors(e,t,i,r,s=0){const o=si.shared.setValue(t).toLittleEndianNumber(),a=si.shared.setValue(o).toPremultiplied(i);e.length=Math.max(e.length,s+r);for(let l=0;l<r;l++)e[s+l]=a}addTextureIds(e,t,i,r=0){e.length=Math.max(e.length,r+i);for(let s=0;s<i;s++)e[r+s]=t}addUvs(e,t,i,r,s,o=null){let a=0;const l=t.length,c=i.frame;for(;a<s;){let d=e[2*(r+a)],b=e[2*(r+a)+1];if(o){const C=o.a*d+o.c*b+o.tx;b=o.b*d+o.d*b+o.ty,d=C}a++,t.push(d/c.width,b/c.height)}const u=i.baseTexture;(c.width<u.width||c.height<u.height)&&this.adjustUvs(t,i,l,s)}adjustUvs(e,t,i,r){const s=t.baseTexture,o=1e-6,a=i+2*r,l=t.frame,c=l.width/s.width,u=l.height/s.height;let d=l.x/l.width,b=l.y/l.height,C=Math.floor(e[i]+o),M=Math.floor(e[i+1]+o);for(let I=i+2;I<a;I+=2)C=Math.min(C,Math.floor(e[I]+o)),M=Math.min(M,Math.floor(e[I+1]+o));d-=C,b-=M;for(let I=i;I<a;I+=2)e[I]=(e[I]+d)*c,e[I+1]=(e[I+1]+b)*u}};s9.BATCHABLE_SIZE=100;let o9=s9;class bv{constructor(){this.color=16777215,this.alpha=1,this.texture=Lt.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new bv;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Lt.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class XT extends bv{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=eh.BUTT,this.join=Sl.MITER,this.miterLimit=10}clone(){const e=new XT;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=eh.BUTT,this.join=Sl.MITER,this.miterLimit=10}}const AD={},DD=class Ox extends vr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new bv,this._lineStyle=new XT,this._matrix=null,this._holeMode=!1,this.state=au.for2d(),this._geometry=e||new o9,this._geometry.refCount++,this._transformID=-1,this._tintColor=new si(16777215),this.blendMode=wt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Ox(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,i,r=.5,s=!1){return"number"==typeof e&&(e={width:e,color:t,alpha:i,alignment:r,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){e=Object.assign({width:0,texture:Lt.WHITE,color:(null==e?void 0:e.texture)?16777215:0,matrix:null,alignment:.5,native:!1,cap:eh.BUTT,join:Sl.MITER,miterLimit:10},e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new op,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new op,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points;return(i[i.length-2]!==e||i[i.length-1]!==t)&&i.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,i,r){this._initCurve();const s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),WT.curveTo(e,t,i,r,s),this}bezierCurveTo(e,t,i,r,s,o){return this._initCurve(),$T.curveTo(e,t,i,r,s,o,this.currentPath.points),this}arcTo(e,t,i,r,s){this._initCurve(e,t);const a=OD.curveTo(e,t,i,r,s,this.currentPath.points);if(a){const{cx:l,cy:c,radius:u,startAngle:d,endAngle:b,anticlockwise:C}=a;this.arc(l,c,u,d,b,C)}return this}arc(e,t,i,r,s,o=!1){if(r===s)return this;if(!o&&s<=r?s+=zb:o&&r<=s&&(r+=zb),s-r==0)return this;const a=e+Math.cos(r)*i,l=t+Math.sin(r)*i,c=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const d=Math.abs(u[u.length-2]-a),b=Math.abs(u[u.length-1]-l);d<c&&b<c||u.push(a,l)}else this.moveTo(a,l),u=this.currentPath.points;return OD.arc(a,l,e,t,i,r,s,o,u),this}beginFill(e=0,t){return this.beginTextureFill({texture:Lt.WHITE,color:e,alpha:t})}normalizeColor(e){var i;const t=si.shared.setValue(null!=(i=e.color)?i:0);e.color=t.toNumber(),null!=e.alpha||(e.alpha=t.alpha)}beginTextureFill(e){e=Object.assign({texture:Lt.WHITE,color:16777215,matrix:null},e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,i,r){return this.drawShape(new Ln(e,t,i,r))}drawRoundedRect(e,t,i,r,s){return this.drawShape(new Yb(e,t,i,r,s))}drawCircle(e,t,i){return this.drawShape(new $b(e,t,i))}drawEllipse(e,t,i,r){return this.drawShape(new Wb(e,t,i,r))}drawPolygon(...e){let t,i=!0;const r=e[0];r.points?(i=r.closeStroke,t=r.points):t=Array.isArray(e[0])?e[0]:e;const s=new op(t);return s.closeStroke=i,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==fr.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(let r=0;r<i;r++){const s=e.batches[r],o=s.style.color,a=new Float32Array(this.vertexData.buffer,4*s.attribStart*2,2*s.attribSize),l=new Float32Array(e.uvsFloat32.buffer,4*s.attribStart*2,2*s.attribSize),u={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*s.start,s.size),uvs:l,_batchRGB:si.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[r]=u}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,i=this.batches.length;t<i;t++){const r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}}_renderDirect(e){const t=this._resolveDirectShader(e),i=this._geometry,r=this.worldAlpha,s=t.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,si.shared.setValue(this._tintColor).premultiply(r).toArray(s.tint),e.shader.bind(t),e.geometry.bind(i,t),e.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(e,i.drawCalls[a])}_renderDrawCallDirect(e,t){const{texArray:i,type:r,size:s,start:o}=t,a=i.count;for(let l=0;l<a;l++)e.texture.bind(i.elements[l],l);e.geometry.draw(r,s,o)}_resolveDirectShader(e){let t=this.shader;const i=this.pluginName;if(!t){if(!AD[i]){const{maxTextures:r}=e.plugins[i],s=new Int32Array(r);for(let l=0;l<r;l++)s[l]=l;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Vi,default:hc.from({uSamplers:s},!0)};AD[i]=new lu(e.plugins[i]._shader.program,o)}t=AD[i]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:i,maxX:r,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,t,i,r,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Ox._TEMP_POINT),this._geometry.containsPoint(Ox._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=si.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,i=t.a,r=t.b,s=t.c,o=t.d,a=t.tx,l=t.ty,c=this._geometry.points,u=this.vertexData;let d=0;for(let b=0;b<c.length;b+=2){const C=c[b],M=c[b+1];u[d++]=i*C+s*M+a,u[d++]=o*M+r*C+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};DD.curves=hp,DD._TEMP_POINT=new fi;let mc=DD;const Xbe={buildPoly:ED,buildCircle:mv,buildRectangle:t9,buildRoundedRectangle:n9,buildLine:PD,ArcUtils:OD,BezierUtils:$T,QuadraticUtils:WT,BatchPart:r9,FILL_COMMANDS:YT,BATCH_POOL:ID,DRAW_CALL_POOL:_v};class a9{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const RD=new fi,l9=new op,c9=class CX extends vr{constructor(e,t,i,r=cc.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=i||au.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=zt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){this.shader.batchable&&this.drawMode===cc.TRIANGLES&&this.geometry.buffers[0].data.length<2*CX.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const r=this.transform.worldTransform,s=r.a,o=r.b,a=r.c,l=r.d,c=r.tx,u=r.ty,d=this.vertexData;for(let b=0;b<d.length/2;b++){const C=t[2*b],M=t[2*b+1];d[2*b]=s*C+a*M+c,d[2*b+1]=o*C+l*M+u}if(this._roundPixels){const b=zt.RESOLUTION;for(let C=0;C<d.length;++C)d[C]=Math.round(d[C]*b)/b}this.vertexDirty=i}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new a9(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,RD);const t=this.geometry.getBuffer("aVertexPosition").data,i=l9.points,r=this.geometry.getIndex().data,s=r.length,o=4===this.drawMode?3:1;for(let a=0;a+2<s;a+=o){const l=2*r[a],c=2*r[a+1],u=2*r[a+2];if(i[0]=t[l],i[1]=t[l+1],i[2]=t[c],i[3]=t[c+1],i[4]=t[u],i[5]=t[u+1],l9.contains(RD.x,RD.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};c9.BATCHABLE_SIZE=100;let ea=c9;class vv extends qd{constructor(e,t,i){super();const r=new ds(e),s=new ds(t,!0),o=new ds(i,!0,!0);this.addAttribute("aVertexPosition",r,2,!1,pn.FLOAT).addAttribute("aTextureCoord",s,2,!1,pn.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}class qf extends lu{constructor(e,t){const i={uSampler:e,alpha:1,uTextureMatrix:Vi.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(i,t.uniforms),super(t.program||ed.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i),this._colorDirty=!1,this.uvMatrix=new MT(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new si(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;si.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class u9 extends vv{constructor(e=100,t=100,i=10,r=10){super(),this.segWidth=i,this.segHeight=r,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],i=[],r=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let u=0;u<e;u++){const d=u%this.segWidth,b=u/this.segWidth|0;t.push(d*a,b*l),i.push(d/s,b/o)}const c=s*o;for(let u=0;u<c;u++){const d=u%s,b=u/s|0,M=b*this.segWidth+d+1,I=(b+1)*this.segWidth+d;r.push(b*this.segWidth+d,M,I,M,(b+1)*this.segWidth+d+1,I)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class d9 extends vv{constructor(e=200,t,i=0){super(new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array(6*(t.length-1))),this.points=t,this._width=e,this.textureScale=i,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),i.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));const s=i.data,o=r.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const c=this._width*this.textureScale,u=e.length;for(let b=0;b<u;b++){const C=4*b;if(this.textureScale>0){const M=l.x-e[b].x,I=l.y-e[b].y,k=Math.sqrt(M*M+I*I);l=e[b],a+=k/c}else a=b/(u-1);s[C]=a,s[C+1]=0,s[C+2]=a,s[C+3]=1}let d=0;for(let b=0;b<u-1;b++){const C=2*b;o[d++]=C,o[d++]=C+1,o[d++]=C+2,o[d++]=C+2,o[d++]=C+1,o[d++]=C+3}i.update(),r.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let i,t=e[0],r=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const u=e[c],d=4*c;i=c<e.length-1?e[c+1]:u,s=-(i.x-t.x),r=i.y-t.y;let b=10*(1-c/(a-1));b>1&&(b=1);const C=Math.sqrt(r*r+s*s);C<1e-6?(r=0,s=0):(r/=C,s/=C,r*=l,s*=l),o[d]=u.x+r,o[d+1]=u.y+s,o[d+2]=u.x-r,o[d+3]=u.y-s,t=u}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class h9 extends ea{constructor(e,t,i){super(new u9(e.width,e.height,t,i),new qf(Lt.WHITE)),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:i}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==i)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}class Cv extends h9{constructor(e,t,i,r,s){var o,a,l,c,u,d,b,C;super(Lt.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=null!=(a=null!=t?t:null==(o=e.defaultBorders)?void 0:o.left)?a:10,this._rightWidth=null!=(c=null!=r?r:null==(l=e.defaultBorders)?void 0:l.right)?c:10,this._topHeight=null!=(d=null!=i?i:null==(u=e.defaultBorders)?void 0:u.top)?d:10,this._bottomHeight=null!=(C=null!=s?s:null==(b=e.defaultBorders)?void 0:b.bottom)?C:10,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,i=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>i?1:this._height/i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const i=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=i*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-i*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class p9 extends ea{constructor(e=Lt.EMPTY,t,i,r,s){const o=new vv(t,i,r);o.getBuffer("aVertexPosition").static=!1,super(o,new qf(e),null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class f9 extends ea{constructor(e,t,i=0){const r=new d9(e.height,t,i),s=new qf(e);i>0&&(e.baseTexture.wrapMode=Ku.REPEAT),super(r,s),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class g9{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Jbe(n,e){var i;let t=!1;if(null==(i=null==n?void 0:n._textures)?void 0:i.length)for(let r=0;r<n._textures.length;r++)if(n._textures[r]instanceof Lt){const s=n._textures[r].baseTexture;e.includes(s)||(e.push(s),t=!0)}return t}function Qbe(n,e){if(n.baseTexture instanceof kn){const t=n.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function Zbe(n,e){if(n._texture&&n._texture instanceof Lt){const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function eve(n,e){return e instanceof dv&&(e.updateText(!0),!0)}function tve(n,e){if(e instanceof Qd){const t=e.toFontString();return Jd.measureFont(t),!0}return!1}function nve(n,e){if(n instanceof dv){e.includes(n.style)||e.push(n.style),e.includes(n)||e.push(n);const t=n._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function ive(n,e){return n instanceof Qd&&(e.includes(n)||e.push(n),!0)}const m9=class wX{constructor(e){this.limiter=new g9(wX.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(nve),this.registerFindHook(ive),this.registerFindHook(Jbe),this.registerFindHook(Qbe),this.registerFindHook(Zbe),this.registerUploadHook(eve),this.registerUploadHook(tve)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,ho.system.addOnce(this.tick,this,Kd.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed)for(let i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)ho.system.addOnce(this.tick,this,Kd.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,i=e.length;t<i;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,i=this.addHooks.length;t<i&&!this.addHooks[t](e,this.queue);t++);if(e instanceof vr)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&ho.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};m9.uploadsPerFrame=4;let wv=m9;function _9(n,e){return e instanceof kn&&(e._glTextures[n.CONTEXT_UID]||n.texture.bind(e),!0)}function rve(n,e){if(!(e instanceof mc))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:i}=t;for(let r=0;r<i.length;r++){const{texture:s}=i[r].style;s&&_9(n,s.baseTexture)}return t.batchable||n.geometry.bind(t,e._resolveDirectShader(n)),!0}function sve(n,e){return n instanceof mc&&(e.push(n),!0)}Object.defineProperties(zt,{UPLOADS_PER_FRAME:{get:()=>wv.uploadsPerFrame,set(n){Mn("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),wv.uploadsPerFrame=n}}});class kD extends wv{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(sve),this.registerUploadHook(_9),this.registerUploadHook(rve)}}kD.extension={name:"prepare",type:Bt.RendererSystem},Wt.add(kD);class ove{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}class Sv extends Ds{constructor(e,t=!0){super(e[0]instanceof Lt?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ho.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ho.shared.add(this.update,this,Kd.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,i=this.currentFrame;if(null!==this._durations){let r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let i=0;i<e.length;++i)t.push(Lt.from(e[i]));return new Sv(t)}static fromImages(e){const t=[];for(let i=0;i<e.length;++i)t.push(Lt.from(e[i]));return new Sv(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Lt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ho.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ho.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const y9=class q1{constructor(e,t,i){this.linkedSheets=[],(e instanceof kn||e instanceof Lt)&&(e={texture:e,data:t,resolutionFilename:i});const{texture:r,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=r instanceof Lt?r:null,this.baseTexture=r instanceof kn?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const l=this.baseTexture.resource;this.resolution=this._updateResolution(o||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let i=Qu(e,null);return null===i&&(i="number"==typeof t?t:parseFloat(null!=t?t:"1")),1!==i&&this.baseTexture.setResolution(i),i}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=q1.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const i=q1.BATCH_SIZE;for(;t-e<i&&t<this._frameKeys.length;){const r=this._frameKeys[t],s=this._frames[r],o=s.frame;if(o){let a=null,l=null;const c=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,u=new Ln(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);a=s.rotated?new Ln(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Ln(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(l=new Ln(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new Lt(this.baseTexture,a,u,l,s.rotated?2:0,s.anchor,s.borders),Lt.addToCache(this.textures[r],this.cachePrefix+r.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let i=0;i<e[t].length;i++)this.animations[t].push(this.textures[e[t][i]])}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*q1.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*q1.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null==(t=this._texture)||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};y9.BATCH_SIZE=1e3;let ND=y9;const ave=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function b9(n,e,t){const i={};if(n.forEach(r=>{i[r]=e}),Object.keys(e.textures).forEach(r=>{i[`${e.cachePrefix}${r}`]=e.textures[r]}),!t){const r=Zs.dirname(n[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(i,b9([`${r}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return i}const v9={extension:Bt.Asset,cache:{test:n=>n instanceof ND,getCacheableAssets:(n,e)=>b9(n,e,!1)},resolver:{test:n=>{const e=n.split("?")[0].split("."),t=e.pop(),i=e.pop();return"json"===t&&ave.includes(i)},parse:n=>{var t,i;const e=n.split(".");return{resolution:parseFloat(null!=(i=null==(t=zt.RETINA_PREFIX.exec(n))?void 0:t[1])?i:"1"),format:e[e.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:Bt.LoadParser,priority:gc.Normal},testParse:(n,e)=>en(function*(){return".json"===Zs.extname(e.src).toLowerCase()&&!!n.frames})(),parse:(n,e,t)=>en(function*(){var u,d,b;const{texture:i,imageFilename:r,cachePrefix:s}=null!=(u=null==e?void 0:e.data)?u:{};let a,o=Zs.dirname(e.src);if(o&&o.lastIndexOf("/")!==o.length-1&&(o+="/"),i&&i.baseTexture)a=i;else{const C=HT(o+(null!=r?r:n.meta.image),e.src);a=(yield t.load([C]))[C]}const l=new ND({texture:a.baseTexture,data:n,resolutionFilename:e.src,cachePrefix:s});yield l.parse();const c=null==(d=null==n?void 0:n.meta)?void 0:d.related_multi_packs;if(Array.isArray(c)){const C=[];for(const I of c){if("string"!=typeof I)continue;let k=o+I;(null==(b=e.data)?void 0:b.ignoreMultiPack)||(k=HT(k,e.src),C.push(t.load({src:k,data:{ignoreMultiPack:!0}})))}const M=yield Promise.all(C);l.linkedSheets=M,M.forEach(I=>{I.linkedSheets=[l].concat(l.linkedSheets.filter(k=>k!==I))})}return l})(),unload(n){n.destroy(!0)}}};Wt.add(v9);class Tv{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Mv{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in t){const o=t[s].match(/^[a-z]+/gm)[0],a=t[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const u=a[c].split("="),d=u[0],b=u[1].replace(/"/gm,""),C=parseFloat(b),M=isNaN(C)?b:C;l[d]=M}i[o].push(l)}const r=new Tv;return i.info.forEach(s=>r.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>r.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>r.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>r.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>r.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>r.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),r}}class KT{static test(e){const t=e;return"string"!=typeof e&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){const t=new Tv,i=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<i.length;c++)t.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(let c=0;c<r.length;c++)t.common.push({lineHeight:parseInt(r[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)t.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const u=o[c];t.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)t.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)t.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return t}}class JT{static test(e){return!("string"!=typeof e||!e.includes("<font>"))&&KT.test(zt.ADAPTER.parseXML(e))}static parse(e){return KT.parse(zt.ADAPTER.parseXML(e))}}const FD=[Mv,KT,JT];function C9(n){for(let e=0;e<FD.length;e++)if(FD[e].test(n))return FD[e];return null}function cve(n,e,t,i,r,s,o){const a=t.text,l=t.fontProperties;e.translate(i,r),e.scale(s,s);const c=o.strokeThickness/2,u=-o.strokeThickness/2;if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=function lve(n,e,t,i,r,s){const o=t.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];let a;const l=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,u=n.width/i-l-2*c,d=n.height/i-l-2*c,b=o.slice(),C=t.fillGradientStops.slice();if(!C.length){const M=b.length+1;for(let I=1;I<M;++I)C.push(I/M)}if(b.unshift(o[0]),C.unshift(0),b.push(o[o.length-1]),C.push(1),t.fillGradientType===uv.LINEAR_VERTICAL){a=e.createLinearGradient(u/2,c,u/2,d+c);let M=0;const I=(s.fontProperties.fontSize+t.strokeThickness)/d;for(let k=0;k<r.length;k++){const B=s.lineHeight*k;for(let L=0;L<b.length;L++){let H=0;H="number"==typeof C[L]?C[L]:L/b.length;let se=Math.max(M,B/d+H*I);se=Math.min(se,1),a.addColorStop(se,b[L]),M=se}}}else{a=e.createLinearGradient(c,d/2,u+c,d/2);const M=b.length+1;let I=1;for(let k=0;k<b.length;k++){let B;B="number"==typeof C[k]?C[k]:I/M,a.addColorStop(B,b[k]),I++}}return a}(n,e,o,s,[a],t),e.strokeStyle=o.stroke,o.dropShadow){const b=o.dropShadowBlur*s,C=o.dropShadowDistance*s;e.shadowColor=si.shared.setValue(o.dropShadowColor).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=b,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*C,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*C}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,u+t.lineHeight-l.descent),o.fill&&e.fillText(a,c,u+t.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function w9(n){return Array.from?Array.from(n):n.split("")}function QT(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}const pp=class Sd{constructor(e,t,i){var u,d;const[r]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,l=Qu(o.file),c={};this._ownsTextures=i,this.font=r.face,this.size=r.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=c;for(let b=0;b<e.page.length;b++){const{id:C,file:M}=e.page[b];c[C]=t instanceof Array?t[b]:t[M],(null==a?void 0:a.fieldType)&&"none"!==a.fieldType&&(c[C].baseTexture.alphaMode=Ea.NO_PREMULTIPLIED_ALPHA,c[C].baseTexture.mipmap=nu.OFF)}for(let b=0;b<e.char.length;b++){const{id:C,page:M}=e.char[b];let{x:I,y:k,width:B,height:L,xoffset:H,yoffset:Y,xadvance:se}=e.char[b];I/=l,k/=l,B/=l,L/=l,H/=l,Y/=l,se/=l;const ue=new Ln(I+c[M].frame.x/l,k+c[M].frame.y/l,B,L);this.chars[C]={xOffset:H,yOffset:Y,xAdvance:se,kerning:{},texture:new Lt(c[M].baseTexture,ue),page:M}}for(let b=0;b<e.kerning.length;b++){let{first:C,second:M,amount:I}=e.kerning[b];C/=l,M/=l,I/=l,this.chars[M]&&(this.chars[M].kerning[C]=I)}this.distanceFieldRange=null==a?void 0:a.distanceRange,this.distanceFieldType=null!=(d=null==(u=null==a?void 0:a.fieldType)?void 0:u.toLowerCase())?d:"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,i){let r;if(e instanceof Tv)r=e;else{const o=C9(e);if(!o)throw new Error("Unrecognized data format for font.");r=o.parse(e)}t instanceof Lt&&(t=[t]);const s=new Sd(r,t,i);return Sd.available[s.font]=s,s}static uninstall(e){const t=Sd.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete Sd.available[e]}static from(e,t,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const oe=Object.assign({},Sd.defaultOptions,i),{chars:r,padding:s,resolution:o,textureWidth:a,textureHeight:l}=oe,c=Sx(oe,["chars","padding","resolution","textureWidth","textureHeight"]),u=function uve(n){"string"==typeof n&&(n=[n]);const e=[];for(let t=0,i=n.length;t<i;t++){const r=n[t];if(Array.isArray(r)){if(2!==r.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${r.length}.`);const s=r[0].charCodeAt(0),o=r[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...w9(r))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(r),d=t instanceof Qd?t:new Qd(t),b=a,C=new Tv;C.info[0]={face:d.fontFamily,size:d.fontSize},C.common[0]={lineHeight:d.fontSize};let k,B,L,M=0,I=0,H=0;const Y=[],se=[];for(let de=0;de<u.length;de++){k||(k=zt.ADAPTER.createCanvas(),k.width=a,k.height=l,B=k.getContext("2d"),L=new kn(k,je({resolution:o},c)),Y.push(L),se.push(new Lt(L)),C.page.push({id:se.length-1,file:""}));const ae=u[de],fe=Jd.measureText(ae,d,!1,k),Re=fe.width,ve=Math.ceil(fe.height),_e=Math.ceil(("italic"===d.fontStyle?2:1)*Re);if(I>=l-ve*o){if(0===I)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${ae}')`);--de,k=null,B=null,L=null,I=0,M=0,H=0;continue}if(H=Math.max(ve+fe.fontProperties.descent,H),_e*o+M>=b){if(0===M)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${ae}')`);--de,I+=H*o,I=Math.ceil(I),M=0,H=0;continue}cve(k,B,fe,M,I,o,d);const Oe=QT(fe.text);C.char.push({id:Oe,page:se.length-1,x:M/o,y:I/o,width:_e,height:ve,xoffset:0,yoffset:0,xadvance:Re-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),M+=(_e+2*s)*o,M=Math.ceil(M)}if(!(null==i?void 0:i.skipKerning))for(let de=0,ae=u.length;de<ae;de++){const fe=u[de];for(let Re=0;Re<ae;Re++){const ve=u[Re],_e=B.measureText(fe).width,Oe=B.measureText(ve).width,Ge=B.measureText(fe+ve).width-(_e+Oe);Ge&&C.kerning.push({first:QT(fe),second:QT(ve),amount:Ge})}}const ue=new Sd(C,se,!0);return void 0!==Sd.available[e]&&Sd.uninstall(e),Sd.available[e]=ue,ue}};pp.ALPHA=[["a","z"],["A","Z"]," "],pp.NUMERIC=[["0","9"]],pp.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],pp.ASCII=[[" ","~"]],pp.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:pp.ALPHANUMERIC},pp.available={};let du=pp;const S9=[],T9=[],M9=[],x9=class SX extends vr{constructor(e,t={}){super();const{align:i,tint:r,maxWidth:s,letterSpacing:o,fontName:a,fontSize:l}=Object.assign({},SX.styleDefaults,t);if(!du.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new si(r),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Zu(()=>{this.dirty=!0},this,0,0),this._roundPixels=zt.ROUND_PIXELS,this.dirty=!0,this._resolution=zt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Re;const e=du.available[this._fontName],t=this.fontSize,i=t/e.size,r=new fi,s=[],o=[],a=[],c=w9(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),u=this._maxWidth*e.size/t,d="none"===e.distanceFieldType?S9:T9;let b=null,C=0,M=0,I=0,k=-1,B=0,L=0,H=0,Y=0;for(let ve=0;ve<c.length;ve++){const _e=c[ve],Oe=QT(_e);if(/(?:\s)/.test(_e)&&(k=ve,B=C,Y++),"\r"===_e||"\n"===_e){o.push(C),a.push(-1),M=Math.max(M,C),++I,++L,r.x=0,r.y+=e.lineHeight,b=null,Y=0;continue}const Ge=e.chars[Oe];if(!Ge)continue;b&&Ge.kerning[b]&&(r.x+=Ge.kerning[b]);const Ee=M9.pop()||{texture:Lt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new fi};Ee.texture=Ge.texture,Ee.line=I,Ee.charCode=Oe,Ee.position.x=Math.round(r.x+Ge.xOffset+this._letterSpacing/2),Ee.position.y=Math.round(r.y+Ge.yOffset),Ee.prevSpaces=Y,s.push(Ee),C=Ee.position.x+Math.max(Ge.xAdvance-Ge.xOffset,Ge.texture.orig.width),r.x+=Ge.xAdvance+this._letterSpacing,H=Math.max(H,Ge.yOffset+Ge.texture.height),b=Oe,-1!==k&&u>0&&r.x>u&&(++L,Lf(s,1+k-L,1+ve-k),ve=k,k=-1,o.push(B),a.push(s.length>0?s[s.length-1].prevSpaces:0),M=Math.max(M,B),I++,r.x=0,r.y+=e.lineHeight,b=null,Y=0)}const se=c[c.length-1];"\r"!==se&&"\n"!==se&&(/(?:\s)/.test(se)&&(C=B),o.push(C),M=Math.max(M,C),a.push(-1));const ue=[];for(let ve=0;ve<=I;ve++){let _e=0;"right"===this._align?_e=M-o[ve]:"center"===this._align?_e=(M-o[ve])/2:"justify"===this._align&&(_e=a[ve]<0?0:(M-o[ve])/a[ve]),ue.push(_e)}const oe=s.length,de={},ae=[],fe=this._activePagesMeshData;d.push(...fe);for(let ve=0;ve<oe;ve++){const _e=s[ve].texture,Oe=_e.baseTexture.uid;if(!de[Oe]){let Ge=d.pop();if(!Ge){const ye=new vv;let we,et;"none"===e.distanceFieldType?(we=new qf(Lt.EMPTY),et=wt.NORMAL):(we=new qf(Lt.EMPTY,{program:ed.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),et=wt.NORMAL_NPM);const Pe=new ea(ye,we);Pe.blendMode=et,Ge={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Pe,vertices:null,uvs:null,indices:null}}Ge.index=0,Ge.indexCount=0,Ge.vertexCount=0,Ge.uvsCount=0,Ge.total=0;const{_textureCache:Ee}=this;Ee[Oe]=Ee[Oe]||new Lt(_e.baseTexture),Ge.mesh.texture=Ee[Oe],Ge.mesh.tint=this._tintColor.value,ae.push(Ge),de[Oe]=Ge}de[Oe].total++}for(let ve=0;ve<fe.length;ve++)ae.includes(fe[ve])||this.removeChild(fe[ve].mesh);for(let ve=0;ve<ae.length;ve++)ae[ve].mesh.parent!==this&&this.addChild(ae[ve].mesh);this._activePagesMeshData=ae;for(const ve in de){const _e=de[ve],Oe=_e.total;if(!((null==(Re=_e.indices)?void 0:Re.length)>6*Oe)||_e.vertices.length<2*ea.BATCHABLE_SIZE)_e.vertices=new Float32Array(8*Oe),_e.uvs=new Float32Array(8*Oe),_e.indices=new Uint16Array(6*Oe);else{const Ee=_e.vertices;for(let ye=4*_e.total*2;ye<Ee.length;ye++)Ee[ye]=0}_e.mesh.size=6*Oe}for(let ve=0;ve<oe;ve++){const _e=s[ve];let Oe=_e.position.x+ue[_e.line]*("justify"===this._align?_e.prevSpaces:1);this._roundPixels&&(Oe=Math.round(Oe));const Ge=Oe*i,Ee=_e.position.y*i,ye=_e.texture,we=de[ye.baseTexture.uid],et=ye.frame,Pe=ye._uvs,Ot=we.index++;we.indices[6*Ot+0]=0+4*Ot,we.indices[6*Ot+1]=1+4*Ot,we.indices[6*Ot+2]=2+4*Ot,we.indices[6*Ot+3]=0+4*Ot,we.indices[6*Ot+4]=2+4*Ot,we.indices[6*Ot+5]=3+4*Ot,we.vertices[8*Ot+0]=Ge,we.vertices[8*Ot+1]=Ee,we.vertices[8*Ot+2]=Ge+et.width*i,we.vertices[8*Ot+3]=Ee,we.vertices[8*Ot+4]=Ge+et.width*i,we.vertices[8*Ot+5]=Ee+et.height*i,we.vertices[8*Ot+6]=Ge,we.vertices[8*Ot+7]=Ee+et.height*i,we.uvs[8*Ot+0]=Pe.x0,we.uvs[8*Ot+1]=Pe.y0,we.uvs[8*Ot+2]=Pe.x1,we.uvs[8*Ot+3]=Pe.y1,we.uvs[8*Ot+4]=Pe.x2,we.uvs[8*Ot+5]=Pe.y2,we.uvs[8*Ot+6]=Pe.x3,we.uvs[8*Ot+7]=Pe.y3}this._textWidth=M*i,this._textHeight=(r.y+e.lineHeight)*i;for(const ve in de){const _e=de[ve];if(0!==this.anchor.x||0!==this.anchor.y){let ye=0;const we=this._textWidth*this.anchor.x,et=this._textHeight*this.anchor.y;for(let Pe=0;Pe<_e.total;Pe++)_e.vertices[ye++]-=we,_e.vertices[ye++]-=et,_e.vertices[ye++]-=we,_e.vertices[ye++]-=et,_e.vertices[ye++]-=we,_e.vertices[ye++]-=et,_e.vertices[ye++]-=we,_e.vertices[ye++]-=et}this._maxLineHeight=H*i;const Oe=_e.mesh.geometry.getBuffer("aVertexPosition"),Ge=_e.mesh.geometry.getBuffer("aTextureCoord"),Ee=_e.mesh.geometry.getIndex();Oe.data=_e.vertices,Ge.data=_e.uvs,Ee.data=_e.indices,Oe.update(),Ge.update(),Ee.update()}for(let ve=0;ve<s.length;ve++)M9.push(s[ve]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:i,size:r}=du.available[this._fontName];if("none"!==i){const{a:s,b:o,c:a,d:l}=this.worldTransform,c=Math.sqrt(s*s+o*o),u=Math.sqrt(a*a+l*l),d=(Math.abs(c)+Math.abs(u))/2,b=this.fontSize/r,C=e._view.resolution;for(const M of this._activePagesMeshData)M.mesh.shader.uniforms.uFWidth=d*t*b*C}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=du.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!du.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return null!=(e=this._fontSize)?e:du.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(null!=e?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,i="none"===du.available[this._fontName].distanceFieldType?S9:T9;i.push(...this._activePagesMeshData);for(const r of this._activePagesMeshData)this.removeChild(r.mesh);this._activePagesMeshData=[],i.filter(r=>t[r.mesh.texture.baseTexture.uid]).forEach(r=>{r.mesh.texture=Lt.EMPTY});for(const r in t)t[r].destroy(),delete t[r];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};x9.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let xv=x9;const pve=[".xml",".fnt"],E9={extension:{type:Bt.LoadParser,priority:gc.Normal},name:"loadBitmapFont",test:n=>pve.includes(Zs.extname(n).toLowerCase()),testParse:n=>en(function*(){return Mv.test(n)||JT.test(n)})(),parse:(n,e,t)=>en(function*(){const i=Mv.test(n)?Mv.parse(n):JT.parse(n),{src:r}=e,{page:s}=i,o=[];for(let c=0;c<s.length;++c){const u=s[c].file;let d=Zs.join(Zs.dirname(r),u);d=HT(d,r),o.push(d)}const a=yield t.load(o),l=o.map(c=>a[c]);return du.install(i,l,!0)})(),load:(n,e)=>en(function*(){return(yield zt.ADAPTER.fetch(n)).text()})(),unload(n){n.destroy()}};Wt.add(E9);const BD=class Z0 extends Qd{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Z0(Object.keys(Z0.defaultOptions).reduce((t,i)=>Nn(je({},t),{[i]:e[i]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Z0.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){var i=this;const{availableFonts:r}=Z0;if(r[e]){const s=r[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return zt.ADAPTER.fetch(e).then(s=>s.blob()).then(function(){var s=en(function*(o){return new Promise((a,l)=>{const c=URL.createObjectURL(o),u=new FileReader;u.onload=()=>a([c,u.result]),u.onerror=l,u.readAsDataURL(o)})});return function(o){return s.apply(this,arguments)}}()).then(function(){var s=en(function*([o,a]){const l=Object.assign({family:Zs.basename(e,Zs.extname(e)),weight:"normal",style:"normal",display:"auto",src:o,dataSrc:a,refs:1,originalUrl:e,fontFace:null},t);r[e]=l,i._fonts.push(l),i.styleID++;const c=new FontFace(l.family,`url(${l.src})`,{weight:l.weight,style:l.style,display:l.display});l.fontFace=c,yield c.load(),document.fonts.add(c),yield document.fonts.ready,i.styleID++,i.fontsDirty=!0});return function(o){return s.apply(this,arguments)}}())}addOverride(...e){const t=e.filter(i=>!this._overrides.includes(i));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(i=>this._overrides.includes(i));t.length>0&&(this._overrides=this._overrides.filter(i=>!t.includes(i)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}\n            @font-face {\n                font-family: "${t.family}";\n                src: url('${t.dataSrc}');\n                font-weight: ${t.weight};\n                font-style: ${t.style};\n                font-display: ${t.display};\n            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Xj(e)),"number"==typeof e?Yj(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),r=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));const s=`${i}px ${r}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Z0.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=zt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};BD.availableFonts={},BD.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let ZT=BD;const Ev=class ey extends Ds{constructor(e="",t={}){var d;super(Lt.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,r=Lt.from(i,{scaleMode:zt.SCALE_MODE,resourceOptions:{autoLoad:!1}});r.orig=new Ln,r.trim=new Ln,this.texture=r;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject"),c=document.createElementNS(o,"div"),u=document.createElementNS(o,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",a.appendChild(l),this.maxWidth=ey.defaultMaxWidth,this.maxHeight=ey.defaultMaxHeight,this._domElement=c,this._styleElement=u,this._svgRoot=a,this._foreignObject=l,this._foreignObject.appendChild(u),this._foreignObject.appendChild(c),this._image=i,this._loadImage=new Image,this._autoResolution=ey.defaultAutoResolution,this._resolution=null!=(d=ey.defaultResolution)?d:zt.RESOLUTION,this.text=e,this.style=t}measureText(e){var u,d;const{text:t,style:i,resolution:r}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:i.toCSS(r)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const l=Math.min(this.maxWidth,Math.ceil(o)),c=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",c.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:null==(u=this._style)?void 0:u.toCSS(r)}),this._styleElement.textContent=null==(d=this._style)?void 0:d.toGlobalCSS()),{width:l+2*i.padding,height:c+2*i.padding}}updateText(e=!0){var t=this;return en(function*(){const{style:i,_image:r,_loadImage:s}=t;if(t.localStyleID!==i.styleID&&(t.dirty=!0,t.localStyleID=i.styleID),!t.dirty&&e)return;const{width:o,height:a}=t.measureText();r.width=s.width=Math.ceil(Math.max(1,o)),r.height=s.height=Math.ceil(Math.max(1,a)),t._updateID++;const l=t._updateID;yield new Promise(c=>{s.onload=en(function*(){l<t._updateID||(yield i.onBeforeDraw(),r.src=s.src,s.onload=null,s.src="",t.updateTexture()),c()});const u=(new XMLSerializer).serializeToString(t._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`})})()}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:i,resolution:r}=this,{padding:s}=e,{baseTexture:o}=t;t.trim.width=t._frame.width=i.width/r,t.trim.height=t._frame.height=i.height/r,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-2*s,t.orig.height=t._frame.height-2*s,this._onTextureUpdate(),o.setRealSize(i.width,i.height,r),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var i,r,s,o,a;"boolean"==typeof e&&(e={children:e}),e=Object.assign({},ey.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&(null==(i=this._style)||i.cleanFonts()),this._style=t,null==(r=this._svgRoot)||r.remove(),this._svgRoot=t,null==(s=this._domElement)||s.remove(),this._domElement=t,null==(o=this._foreignObject)||o.remove(),this._foreignObject=t,null==(a=this._styleElement)||a.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=Xd(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=Xd(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof ZT?(this.ownsStyle=!1,this._style=e):e instanceof Qd?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=ZT.from(e)):(this.ownsStyle=!0,this._style=new ZT(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Ev.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Ev.defaultMaxWidth=2024,Ev.defaultMaxHeight=2024,Ev.defaultAutoResolution=!0;let fve=Ev;const fp=new Ln;class LD{constructor(e){this.renderer=e}image(e,t,i,r){var s=this;return en(function*(){const o=new Image;return o.src=yield s.base64(e,t,i,r),o})()}base64(e,t,i,r){var s=this;return en(function*(){const o=s.canvas(e,r);if(void 0!==o.toBlob)return new Promise((a,l)=>{o.toBlob(c=>{if(!c)return void l(new Error("ICanvas.toBlob failed!"));const u=new FileReader;u.onload=()=>a(u.result),u.onerror=l,u.readAsDataURL(c)},t,i)});if(void 0!==o.toDataURL)return o.toDataURL(t,i);if(void 0!==o.convertToBlob){const a=yield o.convertToBlob({type:t,quality:i});return new Promise((l,c)=>{const u=new FileReader;u.onload=()=>l(u.result),u.onerror=c,u.readAsDataURL(a)})}throw new Error("CanvasExtract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")})()}canvas(e,t){const i=this.renderer;if(!i)throw new Error("The CanvasExtract has already been destroyed");let r,s,o;e&&(e instanceof cu?o=e:(o=i.generateTexture(e,{region:t,resolution:i.resolution}),t&&(fp.width=t.width,fp.height=t.height,t=fp))),o?(r=o.baseTexture._canvasRenderTarget.context,s=o.baseTexture._canvasRenderTarget.resolution,t=null!=t?t:o.frame):(r=i.canvasContext.rootContext,s=i._view.resolution,t||((t=fp).width=i.width/s,t.height=i.height/s));const a=Math.round(t.x*s),l=Math.round(t.y*s),c=Math.max(Math.round(t.width*s),1),u=Math.max(Math.round(t.height*s),1),d=new jb(c,u,1),b=r.getImageData(a,l,c,u);return d.context.putImageData(b,0,0),d.canvas}pixels(e,t){const i=this.renderer;if(!i)throw new Error("The CanvasExtract has already been destroyed");let r,s,o;e&&(e instanceof cu?o=e:(o=i.generateTexture(e,{region:t,resolution:i.resolution}),t&&(fp.width=t.width,fp.height=t.height,t=fp))),o?(r=o.baseTexture._canvasRenderTarget.context,s=o.baseTexture._canvasRenderTarget.resolution,t=null!=t?t:o.frame):(r=i.canvasContext.rootContext,s=i.resolution,t||((t=fp).width=i.width/s,t.height=i.height/s));const a=Math.round(t.x*s),l=Math.round(t.y*s),c=Math.max(Math.round(t.width*s),1),u=Math.max(Math.round(t.height*s),1);return r.getImageData(a,l,c,u).data}destroy(){this.renderer=null}}let UD;LD.extension={name:"extract",type:Bt.CanvasRendererSystem},Wt.add(LD);const Ov=new Vi;mc.prototype.generateCanvasTexture=function(n,e=1){const t=this.getLocalBounds(new Ln);t.width=Math.max(t.width,1/e),t.height=Math.max(t.height,1/e);const i=cu.create({width:t.width,height:t.height,scaleMode:n,resolution:e});UD||(UD=new sv),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(Ov),Ov.invert(),Ov.tx-=t.x,Ov.ty-=t.y,UD.render(this,{renderTexture:i,clear:!0,transform:Ov});const r=Lt.from(i.baseTexture._canvasRenderTarget.canvas,{scaleMode:n});return r.baseTexture.setResolution(e),r},mc.prototype.cachedGraphicsData=[],mc.prototype._renderCanvas=function(n){!0!==this.isMask&&(this.finishPoly(),n.plugins.graphics.render(this))};class Pv{static offsetPolygon(e,t){const i=[],r=e.length;t=Pv.isPolygonClockwise(e)?t:-1*t;for(let s=0;s<r;s+=2){let o=s-2;o<0&&(o+=r);const a=(s+2)%r;let l=e[s]-e[o],c=e[s+1]-e[o+1],u=Math.sqrt(l*l+c*c);l/=u,c/=u,l*=t,c*=t;const d=-c,C=[e[o]+d,e[o+1]+l],M=[e[s]+d,e[s+1]+l];let I=e[a]-e[s],k=e[a+1]-e[s+1];u=Math.sqrt(I*I+k*k),I/=u,k/=u,I*=t,k*=t;const B=-k,H=[e[s]+B,e[s+1]+I],Y=[e[a]+B,e[a+1]+I],se=Pv.findIntersection(C[0],C[1],M[0],M[1],H[0],H[1],Y[0],Y[1]);se&&i.push(...se)}return i}static findIntersection(e,t,i,r,s,o,a,l){const c=(l-o)*(i-e)-(a-s)*(r-t),u=(a-s)*(t-o)-(l-o)*(e-s);if(0===c)return 0===u&&0==(i-e)*(t-o)-(r-t)*(e-s)?[(e+i)/2,(t+r)/2]:null;const b=u/c;return[e+b*(i-e),t+b*(r-t)]}static isPolygonClockwise(e){let t=0;for(let i=0,r=e.length-2;i<e.length;r=i,i+=2)t+=(e[i]-e[r])*(e[i+1]+e[r+1]);return t>0}}class HD{constructor(e){this._svgMatrix=null,this._tempMatrix=new Vi,this.renderer=e}_calcCanvasStyle(e,t){let i;return e.texture&&e.texture.baseTexture!==Lt.WHITE.baseTexture?e.texture.valid?(i=eo.getTintedPattern(e.texture,t),this.setPatternTransform(i,e.matrix||Vi.IDENTITY)):i="#808080":i=`#${`00000${(0|t).toString(16)}`.slice(-6)}`,i}render(e){const t=this.renderer,i=t.canvasContext.activeContext,r=e.worldAlpha,s=e.transform.worldTransform;t.canvasContext.setContextTransform(s),t.canvasContext.setBlendMode(e.blendMode);const o=e.geometry.graphicsData;let a,l;const c=si.shared.setValue(e.tint).toArray();for(let u=0;u<o.length;u++){const d=o[u],b=d.shape,C=d.fillStyle,M=d.lineStyle,I=0|d.fillStyle.color,k=0|d.lineStyle.color;if(d.matrix&&t.canvasContext.setContextTransform(s.copyTo(this._tempMatrix).append(d.matrix)),C.visible&&(a=this._calcCanvasStyle(C,si.shared.setValue(I).multiply(c).toNumber())),M.visible&&(l=this._calcCanvasStyle(M,si.shared.setValue(k).multiply(c).toNumber())),i.lineWidth=M.width,i.lineCap=M.cap,i.lineJoin=M.join,i.miterLimit=M.miterLimit,d.type===fr.POLY){i.beginPath();const B=b;let L=B.points;const H=d.holes;let Y,se,ue,oe,de;i.moveTo(L[0],L[1]);for(let ae=2;ae<L.length;ae+=2)i.lineTo(L[ae],L[ae+1]);if(B.closeStroke&&i.closePath(),H.length>0){de=[],Y=0,ue=L[0],oe=L[1];for(let ae=2;ae+2<L.length;ae+=2)Y+=(L[ae]-ue)*(L[ae+3]-oe)-(L[ae+2]-ue)*(L[ae+1]-oe);for(let ae=0;ae<H.length;ae++)if(L=H[ae].shape.points,L){se=0,ue=L[0],oe=L[1];for(let fe=2;fe+2<L.length;fe+=2)se+=(L[fe]-ue)*(L[fe+3]-oe)-(L[fe+2]-ue)*(L[fe+1]-oe);if(se*Y<0){i.moveTo(L[0],L[1]);for(let fe=2;fe<L.length;fe+=2)i.lineTo(L[fe],L[fe+1])}else{i.moveTo(L[L.length-2],L[L.length-1]);for(let fe=L.length-4;fe>=0;fe-=2)i.lineTo(L[fe],L[fe+1])}H[ae].shape.closeStroke&&i.closePath(),de[ae]=se*Y<0}}C.visible&&(i.globalAlpha=C.alpha*r,i.fillStyle=a,i.fill()),M.visible&&this.paintPolygonStroke(B,M,l,H,de,r,i)}else if(d.type===fr.RECT){const B=b;if(C.visible&&(i.globalAlpha=C.alpha*r,i.fillStyle=a,i.fillRect(B.x,B.y,B.width,B.height)),M.visible){const L=M.width*(.5-(1-M.alignment)),H=B.width+2*L,Y=B.height+2*L;i.globalAlpha=M.alpha*r,i.strokeStyle=l,i.strokeRect(B.x-L,B.y-L,H,Y)}}else if(d.type===fr.CIRC){const B=b;if(i.beginPath(),i.arc(B.x,B.y,B.radius,0,2*Math.PI),i.closePath(),C.visible&&(i.globalAlpha=C.alpha*r,i.fillStyle=a,i.fill()),M.visible){if(.5!==M.alignment){const L=M.width*(.5-(1-M.alignment));i.beginPath(),i.arc(B.x,B.y,B.radius+L,0,2*Math.PI),i.closePath()}i.globalAlpha=M.alpha*r,i.strokeStyle=l,i.stroke()}}else if(d.type===fr.ELIP){const B=b,L=1===M.alignment;if(L||this.paintEllipse(B,C,M,a,r,i),M.visible){if(.5!==M.alignment){const H=.5522848,Y=M.width*(.5-(1-M.alignment)),se=2*(B.width+Y),ue=2*(B.height+Y),oe=B.x-se/2,de=B.y-ue/2,ae=se/2*H,fe=ue/2*H,Re=oe+se,ve=de+ue,_e=oe+se/2,Oe=de+ue/2;i.beginPath(),i.moveTo(oe,Oe),i.bezierCurveTo(oe,Oe-fe,_e-ae,de,_e,de),i.bezierCurveTo(_e+ae,de,Re,Oe-fe,Re,Oe),i.bezierCurveTo(Re,Oe+fe,_e+ae,ve,_e,ve),i.bezierCurveTo(_e-ae,ve,oe,Oe+fe,oe,Oe),i.closePath()}i.globalAlpha=M.alpha*r,i.strokeStyle=l,i.stroke()}L&&this.paintEllipse(B,C,M,a,r,i)}else if(d.type===fr.RREC){const B=b,L=1===M.alignment;if(L||this.paintRoundedRectangle(B,C,M,a,r,i),M.visible){if(.5!==M.alignment){const H=B.width,Y=B.height,se=M.width*(.5-(1-M.alignment)),ue=B.x-se,oe=B.y-se,de=B.width+2*se,ae=B.height+2*se,fe=se*(M.alignment>=1?Math.min(de/H,ae/Y):Math.min(H/de,Y/ae));let Re=B.radius+fe;const ve=Math.min(de,ae)/2;Re=Re>ve?ve:Re,i.beginPath(),i.moveTo(ue,oe+Re),i.lineTo(ue,oe+ae-Re),i.quadraticCurveTo(ue,oe+ae,ue+Re,oe+ae),i.lineTo(ue+de-Re,oe+ae),i.quadraticCurveTo(ue+de,oe+ae,ue+de,oe+ae-Re),i.lineTo(ue+de,oe+Re),i.quadraticCurveTo(ue+de,oe,ue+de-Re,oe),i.lineTo(ue+Re,oe),i.quadraticCurveTo(ue,oe,ue,oe+Re),i.closePath()}i.globalAlpha=M.alpha*r,i.strokeStyle=l,i.stroke()}L&&this.paintRoundedRectangle(B,C,M,a,r,i)}}}paintPolygonStroke(e,t,i,r,s,o,a){if(.5!==t.alignment){const l=t.width*(.5-(1-t.alignment));let u,c=Pv.offsetPolygon(e.points,l);a.beginPath(),a.moveTo(c[0],c[1]);for(let d=2;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);e.closeStroke&&a.closePath();for(let d=0;d<r.length;d++){if(u=r[d].shape.points,c=Pv.offsetPolygon(u,l),s[d]){a.moveTo(c[0],c[1]);for(let b=2;b<c.length;b+=2)a.lineTo(c[b],c[b+1])}else{a.moveTo(c[c.length-2],c[c.length-1]);for(let b=c.length-4;b>=0;b-=2)a.lineTo(c[b],c[b+1])}r[d].shape.closeStroke&&a.closePath()}}a.globalAlpha=t.alpha*o,a.strokeStyle=i,a.stroke()}paintEllipse(e,t,i,r,s,o){const a=2*e.width,l=2*e.height,c=e.x-a/2,u=e.y-l/2,d=.5522848,b=a/2*d,C=l/2*d,M=c+a,I=u+l,k=c+a/2,B=u+l/2;0===i.alignment&&o.save(),o.beginPath(),o.moveTo(c,B),o.bezierCurveTo(c,B-C,k-b,u,k,u),o.bezierCurveTo(k+b,u,M,B-C,M,B),o.bezierCurveTo(M,B+C,k+b,I,k,I),o.bezierCurveTo(k-b,I,c,B+C,c,B),o.closePath(),0===i.alignment&&o.clip(),t.visible&&(o.globalAlpha=t.alpha*s,o.fillStyle=r,o.fill()),0===i.alignment&&o.restore()}paintRoundedRectangle(e,t,i,r,s,o){const a=e.x,l=e.y,c=e.width,u=e.height;let d=e.radius;const b=Math.min(c,u)/2;d=d>b?b:d,0===i.alignment&&o.save(),o.beginPath(),o.moveTo(a,l+d),o.lineTo(a,l+u-d),o.quadraticCurveTo(a,l+u,a+d,l+u),o.lineTo(a+c-d,l+u),o.quadraticCurveTo(a+c,l+u,a+c,l+u-d),o.lineTo(a+c,l+d),o.quadraticCurveTo(a+c,l,a+c-d,l),o.lineTo(a+d,l),o.quadraticCurveTo(a,l,a,l+d),o.closePath(),0===i.alignment&&o.clip(),t.visible&&(o.globalAlpha=t.alpha*s,o.fillStyle=r,o.fill()),0===i.alignment&&o.restore()}setPatternTransform(e,t){if(!1!==this._svgMatrix){if(!this._svgMatrix){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");if((null==i?void 0:i.createSVGMatrix)&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!e.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=t.a,this._svgMatrix.b=t.b,this._svgMatrix.c=t.c,this._svgMatrix.d=t.d,this._svgMatrix.e=t.tx,this._svgMatrix.f=t.ty,e.setTransform(this._svgMatrix.inverse())}}destroy(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null}}HD.extension={name:"graphics",type:Bt.CanvasRendererPlugin},Wt.add(HD),Object.defineProperties(zt,{MESH_CANVAS_PADDING:{get:()=>ea.defaultCanvasPadding,set(n){Mn("7.1.0","settings.MESH_CANVAS_PADDING is deprecated, use Mesh.defaultCanvasPadding"),ea.defaultCanvasPadding=n}}}),qf.prototype._renderCanvas=function(n,e){n.plugins.mesh.render(e)},Cv.prototype._cachedTint=16777215,Cv.prototype._tintedCanvas=null,Cv.prototype._canvasUvs=null,Cv.prototype._renderCanvas=function(n){const e=n.canvasContext.activeContext,t=this.worldTransform,i=16777215!==this.tintValue,r=this.texture;if(!r.valid)return;i&&this._cachedTint!==this.tintValue&&(this._cachedTint=this.tintValue,this._tintedCanvas=eo.getTintedCanvas(this,this.tintValue));const s=i?this._tintedCanvas:r.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);const o=this.vertices,a=this._canvasUvs,l=i?0:r.frame.x,c=i?0:r.frame.y,u=l+r.frame.width,d=c+r.frame.height;a[0]=l,a[1]=l+this._leftWidth,a[2]=u-this._rightWidth,a[3]=u,a[4]=c,a[5]=c+this._topHeight,a[6]=d-this._bottomHeight,a[7]=d;for(let b=0;b<8;b++)a[b]*=r.baseTexture.resolution;e.globalAlpha=this.worldAlpha,n.canvasContext.setBlendMode(this.blendMode),n.canvasContext.setContextTransform(t,this.roundPixels);for(let b=0;b<3;b++)for(let C=0;C<3;C++){const M=2*C+8*b,I=Math.max(1,a[C+1]-a[C]),k=Math.max(1,a[b+5]-a[b+4]),B=Math.max(1,o[M+10]-o[M]),L=Math.max(1,o[M+11]-o[M+1]);e.drawImage(s,a[C],a[b+4],I,k,o[M],o[M+1],B,L)}};let O9=!1;ea.prototype._cachedTint=16777215,ea.prototype._tintedCanvas=null,ea.prototype._cachedTexture=null,ea.prototype._renderCanvas=function(n){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(n,this):O9||(O9=!0,globalThis.console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},ea.prototype._canvasPadding=null,ea.defaultCanvasPadding=0,Object.defineProperty(ea.prototype,"canvasPadding",{get(){var n;return null!=(n=this._canvasPadding)?n:ea.defaultCanvasPadding},set(n){this._canvasPadding=n}}),p9.prototype._renderCanvas=function(n){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(n,this)},f9.prototype._renderCanvas=function(n){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(n,this)};class jD{constructor(e){this.renderer=e}render(e){const t=this.renderer,i=e.worldTransform;t.canvasContext.activeContext.globalAlpha=e.worldAlpha,t.canvasContext.setBlendMode(e.blendMode),t.canvasContext.setContextTransform(i,e.roundPixels),e.drawMode!==cc.TRIANGLES?this._renderTriangleMesh(e):this._renderTriangles(e)}_renderTriangleMesh(e){const t=e.geometry.buffers[0].data.length;for(let i=0;i<t-2;i++){const r=2*i;this._renderDrawTriangle(e,r,r+2,r+4)}}_renderTriangles(e){const t=e.geometry.getIndex().data,i=t.length;for(let r=0;r<i;r+=3)this._renderDrawTriangle(e,2*t[r],2*t[r+1],2*t[r+2])}_renderDrawTriangle(e,t,i,r){var we;const s=this.renderer.canvasContext.activeContext,o=e.geometry.buffers[0].data,{uvs:a,texture:l}=e;if(!l.valid)return;const c=16777215!==e.tintValue,u=l.baseTexture,d=u.width,b=u.height;e._cachedTexture&&e._cachedTexture.baseTexture!==u&&(e._cachedTint=16777215,null==(we=e._cachedTexture)||we.destroy(),e._cachedTexture=null,e._tintedCanvas=null),c&&e._cachedTint!==e.tintValue&&(e._cachedTint=e.tintValue,e._cachedTexture=e._cachedTexture||new Lt(u),e._tintedCanvas=eo.getTintedCanvas({texture:e._cachedTexture},e.tintValue));const C=c?e._tintedCanvas:u.getDrawableSource(),M=a[t]*u.width,I=a[i]*u.width,k=a[r]*u.width,B=a[t+1]*u.height,L=a[i+1]*u.height,H=a[r+1]*u.height;let Y=o[t],se=o[i],ue=o[r],oe=o[t+1],de=o[i+1],ae=o[r+1];const fe=e.canvasPadding/this.renderer.canvasContext.activeResolution;if(fe>0){const{a:et,b:Pe,c:Ot,d:gn}=e.worldTransform,ei=(Y+se+ue)/3,on=(oe+de+ae)/3;let pt=Y-ei,ut=oe-on,dt=et*pt+Ot*ut,Kt=Pe*pt+gn*ut,Tn=Math.sqrt(dt*dt+Kt*Kt),oi=1+fe/Tn;Y=ei+pt*oi,oe=on+ut*oi,pt=se-ei,ut=de-on,dt=et*pt+Ot*ut,Kt=Pe*pt+gn*ut,Tn=Math.sqrt(dt*dt+Kt*Kt),oi=1+fe/Tn,se=ei+pt*oi,de=on+ut*oi,pt=ue-ei,ut=ae-on,dt=et*pt+Ot*ut,Kt=Pe*pt+gn*ut,Tn=Math.sqrt(dt*dt+Kt*Kt),oi=1+fe/Tn,ue=ei+pt*oi,ae=on+ut*oi}s.save(),s.beginPath(),s.moveTo(Y,oe),s.lineTo(se,de),s.lineTo(ue,ae),s.closePath(),s.clip();const Re=M*L+B*k+I*H-L*k-B*I-M*H;s.transform((Y*L+B*ue+se*H-L*ue-B*se-Y*H)/Re,(oe*L+B*ae+de*H-L*ae-B*de-oe*H)/Re,(M*se+Y*k+I*ue-se*k-Y*I-M*ue)/Re,(M*de+oe*k+I*ae-de*k-oe*I-M*ae)/Re,(M*L*ue+B*se*k+Y*I*H-Y*L*k-B*I*ue-M*se*H)/Re,(M*L*ae+B*de*k+oe*I*H-oe*L*k-B*I*ae-M*de*H)/Re),s.drawImage(C,0,0,d*u.resolution,b*u.resolution,0,0,d,b),s.restore(),this.renderer.canvasContext.invalidateBlendMode()}renderMeshFlat(e){const t=this.renderer.canvasContext.activeContext,i=e.geometry.getBuffer("aVertexPosition").data,r=i.length/2;t.beginPath();for(let s=1;s<r-2;++s){const o=2*s,c=i[o+2],u=i[o+3],d=i[o+4],b=i[o+5];t.moveTo(i[o],i[o+1]),t.lineTo(c,u),t.lineTo(d,b)}t.fillStyle="#FF0000",t.fill(),t.closePath()}destroy(){this.renderer=null}}function gve(n,e){const t=n;if(e instanceof kn){const i=e.source,r=0===i.width?t.canvas.width:Math.min(t.canvas.width,i.width),s=0===i.height?t.canvas.height:Math.min(t.canvas.height,i.height);return t.ctx.drawImage(i,0,0,r,s,0,0,t.canvas.width,t.canvas.height),!0}return!1}jD.extension={name:"mesh",type:Bt.CanvasRendererPlugin},Wt.add(jD);class GD extends wv{constructor(e){super(e),this.uploadHookHelper=this,this.canvas=zt.ADAPTER.createCanvas(16,16),this.ctx=this.canvas.getContext("2d"),this.registerUploadHook(gve)}destroy(){super.destroy(),this.ctx=null,this.canvas=null}}GD.extension={name:"prepare",type:Bt.CanvasRendererSystem},Wt.add(GD),Ds.prototype._tintedCanvas=null,Ds.prototype._renderCanvas=function(n){n.plugins.sprite.render(this)};const I9=new Vi;class VD{constructor(e){this.renderer=e}render(e){const t=e._texture,i=this.renderer,r=i.canvasContext.activeContext,s=i.canvasContext.activeResolution;if(!t.valid)return;const o=t._frame.width,a=t._frame.height;let l=t._frame.width,c=t._frame.height;t.trim&&(Rr.isVertical(t.rotate)?(l=t.trim.height,c=t.trim.width):(l=t.trim.width,c=t.trim.height));let u=e.transform.worldTransform,d=0,b=0;const C=t.baseTexture.getDrawableSource();if(t.orig.width<=0||t.orig.height<=0||!t.valid||!C)return;i.canvasContext.setBlendMode(e.blendMode,!0),r.globalAlpha=e.worldAlpha;const M=t.baseTexture.scaleMode===uc.LINEAR,I=i.canvasContext.smoothProperty;I&&r[I]!==M&&(r[I]=M),t.trim?(d=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,b=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(d=(.5-e.anchor.x)*t.orig.width,b=(.5-e.anchor.y)*t.orig.height),t.rotate&&(u.copyTo(I9),u=I9,Rr.matrixAppendRotationInv(u,t.rotate,d,b),d=0,b=0),d-=l/2,b-=c/2,i.canvasContext.setContextTransform(u,e.roundPixels,1),e.roundPixels&&(d|=0,b|=0);const k=t.baseTexture.resolution,B=i.canvasContext._outerBlend;B&&(r.save(),r.beginPath(),r.rect(d*s,b*s,l*s,c*s),r.clip()),16777215!==e.tint?((e._cachedTint!==e.tintValue||e._tintedCanvas.tintId!==e._texture._updateID)&&(e._cachedTint=e.tintValue,e._tintedCanvas=eo.getTintedCanvas(e,e.tintValue)),r.drawImage(e._tintedCanvas,0,0,Math.floor(o*k),Math.floor(a*k),Math.floor(d*s),Math.floor(b*s),Math.floor(l*s),Math.floor(c*s))):r.drawImage(C,t._frame.x*k,t._frame.y*k,Math.floor(o*k),Math.floor(a*k),Math.floor(d*s),Math.floor(b*s),Math.floor(l*s),Math.floor(c*s)),B&&r.restore(),i.canvasContext.setBlendMode(wt.NORMAL)}destroy(){this.renderer=null}}VD.extension={name:"sprite",type:Bt.CanvasRendererPlugin},Wt.add(VD);var th=(()=>(function(n){n.Base="Inter, sans-serif"}(th||(th={})),th))(),eM=(()=>(function(n){n.navigate="navigate",n.reload="reload",n.backForward="back_forward",n.prerender="prerender"}(eM||(eM={})),eM))();function A9(n=40){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<n;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function D9(n){if(!n)return[];const e=[];return JSON.parse(n).forEach(t=>e.push({url:t.media[0].tinygif.url,dims:t.media[0].tinygif.dims,id:t.id})),e}function _c(n){return new si(n).toNumber()}const R9=["af","am","az","bg","bn","cs","de","el","en","en-sc","es","fa","fi","fr","hi","hr","hu","hy","id","it","ja","ka","ko","lt","lv","mk","nl","no","pl","pt","pt-br","ro","ru","sq","sr","sv","sw","th","tl","tr","uk","uz","vi","zh","zh-tw"];class zD extends Ze{constructor(e=1/0,t=1/0,i=n2){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function k9(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,Uo({connector:()=>new zD(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}var N9=A(6100);class Sve{constructor(e){this.translations=e}getTranslation(e){return rc(this.translations.get(e)||{})}}const $D=new hn("TRANSLOCO_LOADER");function F9(n,e){return n&&(Object.prototype.hasOwnProperty.call(n,e)?n[e]:e.split(".").reduce((t,i)=>null==t?void 0:t[i],n))}function B9(n){return n?Array.isArray(n)?n.length:WD(n)?Object.keys(n).length:n?n.length:0:0}function Kf(n){return"string"==typeof n}function WD(n){return!!n&&"object"==typeof n&&!Array.isArray(n)}function L9(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>0==t?e.toLowerCase():e.toUpperCase()).replace(/\s+|_|-|\//g,"")}function YD(n){return null==n}function H9(n){return!1===YD(n)}function j9(n){return n&&"string"==typeof n.scope}function G9(n){return(0,N9.flatten)(n,{safe:!0})}const Jf=new hn("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>({defaultLang:"en"})}),tM={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function Ive(n=tM){return Object.assign(Object.assign({},tM),n)}const V9=new hn("TRANSLOCO_TRANSPILER");let Ave=(()=>{class n{constructor(t){this.interpolationMatcher=function Dve(n){const[e,t]=n&&n.interpolation?n.interpolation:tM.interpolation;return new RegExp(`${e}(.*?)${t}`,"g")}(t)}transpile(t,i={},r,s){return Kf(t)?t.replace(this.interpolationMatcher,(o,a)=>(a=a.trim(),H9(i[a])?i[a]:H9(r[a])?this.transpile(r[a],i,r,s):"")):(i&&(WD(t)?t=this.handleObject(t,i,r,s):Array.isArray(t)&&(t=this.handleArray(t,i,r,s))),t)}handleObject(t,i={},r,s){let o=t;return Object.keys(i).forEach(a=>{const l=F9(o,a),c=F9(i,a),u=this.transpile(l,c,r,s);o=function Tve(n,e,t){n=Object.assign({},n);const i=e.split("."),r=i.length-1;return i.reduce((s,o,a)=>(s[o]=a===r?t:Array.isArray(s[o])?s[o].slice():Object.assign({},s[o]),s&&s[o]),n),n}(o,a,u)}),o}handleArray(t,i={},r,s){return t.map(o=>this.transpile(o,i,r,s))}}return n.\u0275fac=function(t){return new(t||n)(We(Jf,8))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const XD=new hn("TRANSLOCO_MISSING_HANDLER");let Rve=(()=>{class n{handle(t,i){return i.missingHandler.logMissingKey&&!i.prodMode&&console.warn(`%c Missing translation for '${t}'`,"font-size: 12px; color: red"),t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const z9=new hn("TRANSLOCO_INTERCEPTOR");let kve=(()=>{class n{preSaveTranslation(t){return t}preSaveTranslationKey(t,i){return i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const $9=new hn("TRANSLOCO_FALLBACK_STRATEGY");let QD,Nve=(()=>{class n{constructor(t){this.userConfig=t}getNextLangs(){const t=this.userConfig.fallbackLang;if(!t)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(t)?t:[t]}}return n.\u0275fac=function(t){return new(t||n)(We(Jf))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();function Iv(n){if(!n)return"";const e=n.split("/");return e.pop(),e.join("/")}function gp(n){return n?n.split("/").pop():""}function qD(n,e,t="|"){if(Kf(n)){const i=n.split(t),r=i.pop();return r===e?[!0,i.toString()]:[!1,r]}return[!1,""]}function W9(n,e){const[t]=qD(e,"static");return!t&&!!n.config.reRenderOnLangChange}function Y9(n){return n?e=>e:sr(1)}function KD(n,e){return function Ove(n){return n&&WD(n.loader)}(n)?function Bve(n,e){return Object.keys(n).reduce((t,i)=>(t[`${e}/${i}`]=n[i],t),{})}(n.loader,e):void 0}function JD(n){return{scope:Iv(n)||null,langName:gp(n)}}function X9(n){const{path:e,inlineLoader:t,mainLoader:i,data:r}=n;if(t){if(!1===function xve(n){return"function"==typeof n}(t[e]))throw`You're using an inline loader but didn't provide a loader for ${e}`;return t[e]().then(o=>o.default?o.default:o)}return i.getTranslation(e,r)}let sd=(()=>{class n{constructor(t,i,r,s,o,a){this.loader=t,this.parser=i,this.missingHandler=r,this.interceptor=s,this.userConfig=o,this.fallbackStrategy=a,this.subscription=null,this.translations=new Map,this.cache=new Map,this.defaultLang="",this.availableLangs=[],this.isResolvedMissingOnce=!1,this.failedLangs=new Set,this.events=new Ze,this.events$=this.events.asObservable(),this.loader||(this.loader=new Sve(this.translations)),QD=this,this.mergedConfig=function Fve(n,e){return Object.assign(Object.assign(Object.assign({},n),e),{missingHandler:Object.assign(Object.assign({},n.missingHandler),e.missingHandler),flatten:Object.assign(Object.assign({},n.flatten),e.flatten)})}(tM,this.userConfig),this.setAvailableLangs(this.mergedConfig.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.mergedConfig),this.setDefaultLang(this.mergedConfig.defaultLang),this.lang=new $n(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(l=>{"translationLoadSuccess"===l.type&&l.wasFailure&&this.setActiveLang(l.payload.langName)})}get config(){return this.mergedConfig}getDefaultLang(){return this.defaultLang}setDefaultLang(t){this.defaultLang=t}getActiveLang(){return this.lang.getValue()}setActiveLang(t){var i,r;return null===(r=(i=this.parser).onLangChanged)||void 0===r||r.call(i,t),this.lang.next(t),this.events.next({type:"langChanged",payload:JD(t)}),this}setAvailableLangs(t){this.availableLangs=t}getAvailableLangs(){return this.availableLangs}load(t,i={}){const r=this.cache.get(t);if(r)return r;let s;const o=this._isLangScoped(t);let a;o&&(a=Iv(t));const l={path:t,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:o?{scope:a}:void 0};if(this.useFallbackTranslation(t)){const u=o?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,d=function Lve({mainLoader:n,path:e,data:t,fallbackPath:i,inlineLoader:r}){return(i?[e,i]:[e]).map(o=>Mr(X9({path:o,mainLoader:n,inlineLoader:r,data:t})).pipe(ke(l=>({translation:l,lang:o}))))}(Object.assign(Object.assign({},l),{fallbackPath:u}));s=IS(d)}else s=Mr(X9(l));const c=s.pipe(function wve(n=1/0){let e;e=n&&"object"==typeof n?n:{count:n};const{count:t=1/0,delay:i,resetOnSuccess:r=!1}=e;return t<=0?Ce:tt((s,o)=>{let l,a=0;const c=()=>{let u=!1;l=s.subscribe(me(o,d=>{r&&(a=0),o.next(d)},void 0,d=>{if(a++<t){const b=()=>{l?(l.unsubscribe(),l=null,c()):u=!0};if(null!=i){const C="number"==typeof i?Jc(i):It(i(d,a)),M=me(o,()=>{M.unsubscribe(),b()},()=>{o.complete()});C.subscribe(M)}else b()}else o.error(d)})),u&&(l.unsubscribe(),l=null,c())};c()})}(this.config.failedRetries),bl(u=>{Array.isArray(u)?u.forEach(d=>{this.handleSuccess(d.lang,d.translation),d.lang!==t&&this.cache.set(d.lang,rc({}))}):this.handleSuccess(t,u)}),Nb(u=>(this.mergedConfig.prodMode||console.error(`Error while trying to load "${t}"`,u),this.handleFailure(t,i))),k9(1));return this.cache.set(t,c),c}translate(t,i={},r=this.getActiveLang()){if(!t)return t;const{scope:s,resolveLang:o}=this.resolveLangAndScope(r);if(Array.isArray(t))return t.map(c=>this.translate(s?`${s}.${c}`:c,i,o));t=s?`${s}.${t}`:t;const a=this.getTranslation(o),l=a[t];return l?this.parser.transpile(l,i,a,t):this._handleMissingKey(t,l,i)}selectTranslate(t,i,r,s=!1){let o;const a=(c,u)=>this.load(c,u).pipe(ke(()=>s?this.translateObject(t,i,c):this.translate(t,i,c)));if(YD(r))return this.langChanges$.pipe(Kh(c=>a(c)));if(j9(r)){const c=r;r=c.scope,o=KD(c,c.scope)}if(this.isLang(r)||this.isScopeWithLang(r))return a(r);const l=r;return this.langChanges$.pipe(Kh(c=>a(`${l}/${c}`,{inlineLoader:o})))}isScopeWithLang(t){return this.isLang(gp(t))}translateObject(t,i={},r=this.getActiveLang()){if(Kf(t)||Array.isArray(t)){const{resolveLang:o,scope:a}=this.resolveLangAndScope(r);if(Array.isArray(t))return t.map(u=>this.translateObject(a?`${a}.${u}`:u,i,o));const l=this.getTranslation(o),c=function Pve(n){return(0,N9.unflatten)(n)}(this.getObjectByKey(l,t=a?`${a}.${t}`:t));return function Mve(n){return 0===B9(n)}(c)?this.translate(t,i,r):this.parser.transpile(c,i,l,t)}const s=[];for(const[o,a]of this.getEntries(t))s.push(this.translateObject(o,a,r));return s}selectTranslateObject(t,i,r){if(Kf(t)||Array.isArray(t))return this.selectTranslate(t,i,r,!0);const[[s,o],...a]=this.getEntries(t);return this.selectTranslateObject(s,o,r).pipe(ke(l=>{const c=[l];for(const[u,d]of a)c.push(this.translateObject(u,d,r));return c}))}getTranslation(t){if(t){if(this.isLang(t))return this.translations.get(t)||{};{const{scope:i,resolveLang:r}=this.resolveLangAndScope(t),s=this.translations.get(r)||{};return this.getObjectByKey(s,i)}}return this.translations}selectTranslation(t){let i=this.langChanges$;if(t){const r=gp(t)!==t;i=this.isLang(t)||r?rc(t):this.langChanges$.pipe(ke(s=>`${t}/${s}`))}return i.pipe(Kh(r=>this.load(r).pipe(ke(()=>this.getTranslation(r)))))}setTranslation(t,i=this.getActiveLang(),r={}){const o=Object.assign(Object.assign({},{merge:!0,emitChange:!0}),r),a=Iv(i);let l=t;a&&(l=G9({[this.getMappedScope(a)]:t}));const c=a?gp(i):i,u=Object.assign(Object.assign({},o.merge&&this.getTranslation(c)),l),d=this.mergedConfig.flatten.aot?u:G9(u),b=this.interceptor.preSaveTranslation(d,c);this.translations.set(c,b),o.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(t,i,r=this.getActiveLang(),s={}){const o=this.interceptor.preSaveTranslationKey(t,i,r);this.setTranslation({[t]:o},r,Object.assign(Object.assign({},s),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:t}){const i=Array.isArray(t)?t[0]:t;t&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(t,i,r){if(this.config.missingHandler.allowEmpty&&""===i)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const s=this.translate(t,r,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,s}return this.missingHandler.handle(t,this.getMissingHandlerData(),r)}_isLangScoped(t){return-1===this.getAvailableLangsIds().indexOf(t)}isLang(t){return-1!==this.getAvailableLangsIds().indexOf(t)}_loadDependencies(t,i){const r=gp(t);return this._isLangScoped(t)&&!this.isLoadedTranslation(r)?lc(this.load(r),this.load(t,{inlineLoader:i})):this.load(t,{inlineLoader:i})}_completeScopeWithLang(t){return this._isLangScoped(t)&&!this.isLang(gp(t))?`${t}/${this.getActiveLang()}`:t}_setScopeAlias(t,i){this.mergedConfig.scopeMapping||(this.mergedConfig.scopeMapping={}),this.mergedConfig.scopeMapping[t]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(t){return B9(this.getTranslation(t))}getAvailableLangsIds(){return Kf(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return Object.assign(Object.assign({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(t){return this.config.missingHandler.useFallbackTranslation&&t!==this.firstFallbackLang}handleSuccess(t,i){this.setTranslation(i,t,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:JD(t)}),this.failedLangs.forEach(r=>this.cache.delete(r)),this.failedLangs.clear()}handleFailure(t,i){YD(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(t)));const r=t.split("/"),o=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(t),this.cache.has(o))return this.handleSuccess(o,this.getTranslation(o)),vt;if(!o||o===r[r.length-1]){let c="Unable to load translation and all the fallback languages";throw r.length>1&&(c+=", did you misspelled the scope name?"),new Error(c)}let l=o;return r.length>1&&(r[r.length-1]=o,l=r.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:JD(t)}),this.load(l,i)}getMappedScope(t){const{scopeMapping:i={}}=this.config;return i[t]||L9(t)}resolveLangAndScope(t){let r,i=t;if(this._isLangScoped(t)){const s=gp(t),o=this.isLang(s);i=o?s:this.getActiveLang(),r=this.getMappedScope(o?Iv(t):t)}return{scope:r,resolveLang:i}}getObjectByKey(t,i){const r={},s=`${i}.`;for(const o in t)o.startsWith(s)&&(r[o.replace(s,"")]=t[o]);return r}getEntries(t){return t instanceof Map?t.entries():Object.entries(t)}}return n.\u0275fac=function(t){return new(t||n)(We($D,8),We(V9),We(XD),We(z9),We(Jf),We($9))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["ng-component"]],inputs:{html:"html"},decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(t,i){1&t&&ce(0,"div",0),2&t&&F("innerHTML",i.html,tf)},encapsulation:2}),n})();class Hve{constructor(e,t){this.view=e,this.vcr=t,this.injector=this.vcr.injector}attachView(){if(this.view instanceof Br)this.vcr.createEmbeddedView(this.view);else if(Kf(this.view)){const e=this.createComponent(Uve);e.instance.html=this.view,e.hostView.detectChanges()}else this.createComponent(this.view)}detachView(){this.vcr.clear()}createComponent(e){const i=this.injector.get(i_).resolveComponentFactory(e);return this.vcr.createComponent(i)}}const q9=new hn("TRANSLOCO_LANG"),jve=new hn("TRANSLOCO_LOADING_TEMPLATE"),ZD=new hn("TRANSLOCO_SCOPE");class K9{constructor(){this.initialized=!1}resolve({inline:e,provider:t,active:i}){let r=i;if(this.initialized)return r=i,r;if(t){const[,s]=qD(t,"static");r=s}if(e){const[,s]=qD(e,"static");r=s}return this.initialized=!0,r}resolveLangBasedOnScope(e){return Iv(e)?gp(e):e}resolveLangPath(e,t){return t?`${t}/${e}`:e}}class J9{constructor(e){this.translocoService=e}resolve({inline:e,provider:t}={inline:void 0,provider:void 0}){if(e)return e;if(t){if(j9(t)){const{scope:i,alias:r=L9(i)}=t;return this.translocoService._setScopeAlias(i,r),i}return t}}}let hu=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u){this.translocoService=t,this.tpl=i,this.providerScope=r,this.providerLang=s,this.providedLoadingTpl=o,this.vcr=a,this.cdr=l,this.host=c,this.renderer=u,this.subscription=null,this.translationMemo={},this.params={},this.initialized=!1,this.langResolver=new K9,this.scopeResolver=new J9(this.translocoService),this.strategy=null===this.tpl?"attribute":"structural"}static ngTemplateContextGuard(t,i){return!0}ngOnInit(){const t=W9(this.translocoService,this.providerLang||this.inlineLang);this.subscription=this.translocoService.langChanges$.pipe(Kh(r=>{const s=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:r});return Array.isArray(this.providerScope)?IS(this.providerScope.map(o=>this.resolveScope(s,o))):this.resolveScope(s,this.providerScope)}),Y9(t)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),"attribute"===this.strategy?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.inlineRead),this.cdr.markForCheck(),this.initialized=!0});const i=this.getLoadingTpl();!this.initialized&&i&&(this.loaderTplHandler=new Hve(i,this.vcr),this.loaderTplHandler.attachView())}ngOnChanges(t){"attribute"===this.strategy&&Object.keys(t).some(r=>!t[r].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.translocoService.translate(this.key,this.params,this.currentLang))}structuralStrategy(t,i){this.translationMemo={},this.view?(this.view.context.$implicit=this.getTranslateFn(t,i),this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:this.getTranslateFn(t,i),currentLang:this.currentLang}))}getTranslateFn(t,i){return(r,s)=>{const o=i?`${i}.${r}`:r,a=s?`${o}${JSON.stringify(s)}`:o;return Object.prototype.hasOwnProperty.call(this.translationMemo,a)||(this.translationMemo[a]={params:s,value:this.translocoService.translate(o,s,t)}),this.translationMemo[a].value}}getLoadingTpl(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}detachLoader(){var t;null===(t=this.loaderTplHandler)||void 0===t||t.detachView()}resolveScope(t,i){const r=this.scopeResolver.resolve({inline:this.inlineScope,provider:i});this.path=this.langResolver.resolveLangPath(t,r);const s=KD(i,r);return this.translocoService._loadDependencies(this.path,s)}}return n.\u0275fac=function(t){return new(t||n)(W(sd),W(Br,8),W(ZD,8),W(q9,8),W(jve,8),W(pl),W(Fn),W(ji),W(ja))},n.\u0275dir=Ht({type:n,selectors:[["","transloco",""]],inputs:{key:["transloco","key"],params:["translocoParams","params"],inlineScope:["translocoScope","inlineScope"],inlineRead:["translocoRead","inlineRead"],inlineLang:["translocoLang","inlineLang"],inlineTpl:["translocoLoadingTpl","inlineTpl"]},features:[Eo]}),n})(),$t=(()=>{class n{constructor(t,i,r,s){this.translocoService=t,this.providerScope=i,this.providerLang=r,this.cdr=s,this.subscription=null,this.lastValue="",this.langResolver=new K9,this.scopeResolver=new J9(this.translocoService)}transform(t,i,r){var s;if(!t)return t;const o=i?`${t}${JSON.stringify(i)}`:t;if(o===this.lastKey)return this.lastValue;this.lastKey=o,null===(s=this.subscription)||void 0===s||s.unsubscribe();const a=W9(this.translocoService,this.providerLang||r);return this.subscription=this.translocoService.langChanges$.pipe(Kh(l=>{const c=this.langResolver.resolve({inline:r,provider:this.providerLang,active:l});return Array.isArray(this.providerScope)?IS(this.providerScope.map(u=>this.resolveScope(c,u))):this.resolveScope(c,this.providerScope)}),Y9(a)).subscribe(()=>this.updateValue(t,i)),this.lastValue}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}updateValue(t,i){const r=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.translocoService.translate(t,i,r),this.cdr.markForCheck()}resolveScope(t,i){const r=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(t,r);const s=KD(i,r);return this.translocoService._loadDependencies(this.path,s)}}return n.\u0275fac=function(t){return new(t||n)(W(sd,16),W(ZD,24),W(q9,24),W(Fn,16))},n.\u0275pipe=ss({name:"transloco",type:n,pure:!1}),n})();const Q9=[{provide:V9,useClass:Ave,deps:[Jf]},{provide:XD,useClass:Rve},{provide:z9,useClass:kve},{provide:$9,useClass:Nve,deps:[Jf]}];function zve(n){return[{provide:ZD,useValue:n}]}let Vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[Q9]}),n})();new hn("TRANSLOCO_TEST_LANGS - Available testing languages"),new hn("TRANSLOCO_TEST_OPTIONS - Testing options");class Wve{handle(e){console.error(`Missing translation for ${e}`)}}let Yve=(()=>{class n{constructor(t){this.http=t}getTranslation(t){const i=new RegExp("challenges","g");return this.http.get(qs(`/assets/i18n/${t}.json`)).pipe(Nb(r=>(console.error(r),i.test(t)?this.http.get(qs("/assets/i18n/challenges/en.json")):this.http.get(qs("/assets/i18n/en.json")))))}}return n.\u0275fac=function(t){return new(t||n)(We(Zw))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[{provide:Jf,useValue:Ive({availableLangs:R9,fallbackLang:"en",prodMode:Qs.production,missingHandler:{useFallbackTranslation:!0}})},{provide:XD,useClass:Wve},{provide:$D,useClass:Yve}],imports:[Vt]}),n})();var ta=(()=>(function(n){n.Music="music",n.Sound="sound"}(ta||(ta={})),ta))(),Ao=(()=>(function(n){n.Bet="bet_placed",n.FlyAway="fly_away",n.RoundStart="round_start",n.Win="win",n.FreeBet="free_bet"}(Ao||(Ao={})),Ao))();const Z9="assets/sounds/",qve={[ta.Music]:{src:[qs(Z9+"bg_music.mp3")],autoplay:!0,loop:!0,volume:.1},[ta.Sound]:{src:[qs(Z9+"sprite_audio.mp3")],autoplay:!1,loop:!1,volume:.3,sprite:{[Ao.Bet]:[0,522.4489795918367],[Ao.FlyAway]:[2e3,2574.126984126984],[Ao.RoundStart]:[6e3,1515.102040816327],[Ao.Win]:[9e3,4022.857142857143],[Ao.FreeBet]:[15125,2e3]}}};var na=(()=>(function(n){n.Success="alert-success",n.Danger="alert-danger",n.Warning="alert-warning"}(na||(na={})),na))(),nh=(()=>(function(n){n.NotEnoughBalance="Not enough balance",n.YourFreeBetWasCancelledByAdministrator="Your freebet was canceled by the administrator",n.FirstInactivityMessage="You have not been active for a while. Place a bet to avoid a disconnection.",n.SecondInactivityMessage="Last chance to place a bet. Your session will be terminated due to inactivity.",n.YouHaveGotAFreeBet="You've got a Free Bet!",n.SelectedRoomIsUnavailable="The selected room is unavailable. You have been connected to another room."}(nh||(nh={})),nh))();function Kve(n,e){if(1&n&&(D(0,"p",4),U(1),R()),2&n){const t=ee();S(1),ie(" ",t.getTranslation(t.message,t.errorMessageParams)," ")}}function Jve(n,e){if(1&n){const t=_t();D(0,"p",5),Ae("click",function(r){return ht(t),ee().onToastClick(r)}),U(1),R()}if(2&n){const t=ee();S(1),ie(" ",t.getTranslation(t.message,t.errorMessageParams)," ")}}function Qve(n,e){if(1&n){const t=_t();D(0,"button",6),Ae("click",function(r){return ht(t),ee().onCloseIconClick(r)}),D(1,"span"),U(2,"\xd7"),R()()}}let yc=(()=>{class n{constructor(t,i,r){this.toastService=t,this.translate=i,this.currencyPrecisionPipe=r,this.type=na.Success,this.closable=!0}getTranslation(t,i){return this.translate.translate(`shared.ui-components.toastr.toastr-message.${t}`,{amount:this.formattedCurrencyValue(null==i?void 0:i.amount),duration:null==i?void 0:i.duration,minBalance:this.formattedCurrencyValue(null==i?void 0:i.minBalance),currency:null==i?void 0:i.currency})||t}onCloseIconClick(t){t.preventDefault(),this.toastService.remove(this.id)}onToastClick(t){var i;null===(i=this.callback)||void 0===i||i.call(this),this.onCloseIconClick(t)}formattedCurrencyValue(t){return this.currencyPrecisionPipe.transform(t)}}return n.\u0275fac=function(t){return new(t||n)(W(Io),W(sd),W(Zn))},n.\u0275cmp=rt({type:n,selectors:[["app-alert-toast"]],decls:4,vars:6,consts:[[1,"alert",3,"ngClass"],["class","m-0",4,"ngIf"],["class","m-0","style","cursor: pointer",3,"click",4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],[1,"m-0"],[1,"m-0",2,"cursor","pointer",3,"click"],["type","button",1,"close",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,Kve,2,1,"p",1),te(2,Jve,2,1,"p",2),te(3,Qve,3,0,"button",3),R()),2&t&&(Et("alert-dismissible",i.closable),F("ngClass",i.type),S(1),F("ngIf",!i.callback),S(1),F("ngIf",i.callback),S(1),F("ngIf",i.closable))},directives:[cs,At],encapsulation:2,changeDetection:0}),n})(),Z_=(()=>{class n{constructor(t){this.message=t,this._servers=[],this._isMultiServer=!1}get isMultiServer(){return this._isMultiServer}get servers(){return this._servers}get currentServerId(){return this._currentServerId}init(t){this._isMultiServer=!0,this._servers=[...t]}getRandomServer(){const t=this.servers[Math.floor(Math.random()*this.servers.length)];return this._currentServerId=t.id,t}userChooseServer(t,i){this.userChosenServerId=t,this._currentServerId=t,this._servers=[...i]}removeFullServer(){const t=this.servers.findIndex(i=>i.id===this.currentServerId);this.servers.splice(t,1)}showNotification(){this.isMultiServer&&this.isNotUserChosenServer&&(this.message.show(yc,{message:nh.SelectedRoomIsUnavailable,type:na.Warning}),this.userChosenServerId=void 0)}get isNotUserChosenServer(){return void 0!==this.userChosenServerId&&this.userChosenServerId!==this.currentServerId}}return n.\u0275fac=function(t){return new(t||n)(We(Io))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var iM=(()=>(function(n){n[n.v2=2]="v2"}(iM||(iM={})),iM))(),Av=(()=>(function(n){n.Default="default",n.Detailed="detailed"}(Av||(Av={})),Av))(),Qf=(()=>(function(n){n.Navigate="navigate",n.IfcEvent="ifcEvent",n.NewTab="newTab"}(Qf||(Qf={})),Qf))(),Zf=(()=>(function(n){n.Navigate="navigate",n.IfcEvent="ifcEvent"}(Zf||(Zf={})),Zf))(),Dv=(()=>(function(n){n.IfcEvent="ifcEvent",n.Modal="modal"}(Dv||(Dv={})),Dv))(),e0=(()=>(function(n){n.CancelBet="cancelBet",n.None="none"}(e0||(e0={})),e0))(),lr=(()=>(function(n){n[n.Bet=1]="Bet",n[n.Run=2]="Run",n[n.End=3]="End",n[n.EndDelay=4]="EndDelay"}(lr||(lr={})),lr))(),t0=(()=>(function(n){n.None="none",n.Alderney="alderney",n.GameRules="game_rules",n.PayTable="pay_table"}(t0||(t0={})),t0))();let Hn=(()=>{class n{constructor(t){this.sharedGameConfigService=t,this.accountHistoryActionType=Qf.Navigate,this.autoBetOptions=void 0,this.autoCashOut={minValue:1.01,defaultValue:1.1,maxValue:100},this.backToHomeActionType=Zf.Navigate,this.betInputStep=.1,this.betOptions=[1,2,5,10],this.betPrecision=2,this.chat={isEnabled:!0,isGifsEnabled:!0,maxMessageLength:160,maxMessages:70,promo:{isEnabled:!0},rain:{defaultNumOfUsers:5,isEnabled:!1,maxNumOfUsers:10,minNumOfUsers:3,rainMaxBet:10,rainMinBet:.1},sendMessageDelay:5e3},this.chatApiVersion=void 0,this.currency="",this.defaultBetValue=1,this.engagementTools=void 0,this.fullBetTime=5e3,this.gameRulesAutoCashOutType=Av.Default,this.inactivityTimeForDisconnect=0,this.ircDisplayType=Dv.IfcEvent,this.isActiveGameFocused=!1,this.isAlderneyModalShownOnInit=!1,this.isAutoBetFeatureEnabled=!0,this.isBalanceValidationEnabled=!1,this.isBetTimerBranded=!0,this.isBetsHistoryEndBalanceEnabled=!1,this.isBetsHistoryStartBalanceEnabled=!1,this.isClockVisible=!1,this.isCurrencyNameHidden=!1,this.isEmbeddedVideoHidden=!1,this.isFreeBetsEnabled=void 0,this.isGameRulesHaveMaxWin=!1,this.isGameRulesHaveMinimumBankValue=!1,this.isGameRulesHaveMultiplierFormula=!1,this.isHolidayTheme=!1,this.isLiveBetsAndStatisticsHidden=!1,this.isLoginTimer=!1,this.isLogoUrlHidden=!1,this.isMaxUserMultiplierEnabled=!1,this.isMultipleBetsEnabled=!1,this.isNetSessionEnabled=!1,this.isPodSelectAvailable=!1,this.isShowActivePlayersWidget=!1,this.isShowBetControlNumber=!1,this.isShowTotalWinWidget=!1,this.isShowWinAmountUntilNextRound=!1,this.isUseMaskedUsername=!0,this.maxBet=100,this.maxUserWin=1e5,this.minBet=.1,this.modalShownOnInit=t0.None,this.multiplierPrecision=2,this.onLockUIActions=e0.None,this.pingIntervalMs=void 0,this.reCaptchaSiteKey=void 0,this.showCrashExampleInRules=!1,this.isRuleUnfinishedGame=void 0,this.maxUserMultiplier=void 0,this.gameVersion=void 0,this.returnToPlayer=0,this.isLongPrecision=!1}init(t){Object.assign(this,t),this.handleConditionalProperties(),this.initSharedGameConfigService()}handleConditionalProperties(){this.isCurrencyNameHidden&&(this.currency=""),this.isLongPrecision=this.betPrecision>=4}initSharedGameConfigService(){this.sharedGameConfigService.setBackendConfig({betPrecision:this.betPrecision,multiplierPrecision:this.multiplierPrecision,isUseMaskedUsername:this.isUseMaskedUsername})}}return n.\u0275fac=function(t){return new(t||n)(We(xf))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gr=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,b){this.audioService=t,this.translate=i,this.http=r,this.storage=s,this.deviceService=o,this.urlParams=a,this.domain=l,this.multiServer=c,this.ifc=u,this.gameConfig=d,this.sharedGameConfig=b,this.SESSION_TOKEN_KEY="__spavstk",this.useInnerScroll=!1,this._isGameInited=!1,this.preloadFonts=()=>{const C=[];return C.push(document.fonts.load(`normal 16px ${th.Base}`)),C.push(document.fonts.load(`bold 16px ${th.Base}`)),Promise.all(C)},this.isMobile=this.deviceService.isMobile(),this.isTablet=this.deviceService.isTablet(),this.isDesktop=this.deviceService.isDesktop(),this.deviceInfo=this.deviceService.getDeviceInfo(),!1===this.isDesktop&&this.deviceInfo.os===fj.IOS&&parseInt(function bve(){if("MSStream"in window)return 0;let e,n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=n?(e=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||"0",10)],parseFloat(e.join("."))):0}().toString())<=12&&OS()&&(this.useInnerScroll=!0)}init(){this.setBuildConfig(),this.audioService.init(qve),OS()&&this.ifc.init();const t=[];return t.push(this.setLanguage()),t.push(this.getClientConfig().then(()=>this.preloadResources())),t.push(this.preloadFonts()),t.push(this.setAviaportSessionToken()),Promise.all(t)}getClientConfig(){const t="Retry limit of client config exceeded!",l=qs(this.domain.mirrorURL(Qs.clientConfig.path)+this.urlParams.operator+Qs.clientConfig.ext);return new Promise((c,u)=>{this.http.get(l).pipe(function L_e(n){return tt((e,t)=>{let i,s,r=!1;const o=()=>{i=e.subscribe(me(t,void 0,void 0,a=>{s||(s=new Ze,n(s).subscribe(me(t,()=>i?o():r=!0))),s&&s.next(a)})),r&&(i.unsubscribe(),i=null,r=!1,o())};o()})}(d=>d.pipe(sr(5),pH(2e3),b=>Sb(b,eT(new Error(t)))))).subscribe(d=>{d.ws.host=this.domain.mirrorHostname(d.ws.host),d.servers&&(d.servers.forEach((b,C)=>{b.host=this.domain.mirrorHostname(b.host),b.id=C+1}),this.multiServer.init(d.servers)),this._clientConfig=Object.freeze(d),c()},()=>u(t))})}get sessionToken(){return(null===this.storage.session.getItem(this.SESSION_TOKEN_KEY)||function vve(){try{if(performance&&performance.getEntriesByType){const n=performance.getEntriesByType("navigation");if(n&&n.length>0)return n[n.length-1].type}}catch(n){return null}return null}()===eM.backForward)&&this.storage.session.setItem(this.SESSION_TOKEN_KEY,A9(64)),this.storage.session.getItem(this.SESSION_TOKEN_KEY)||""}setAviaportSessionToken(){return new Promise((t,i)=>{"true"===this.urlParams.aviaport?(this.ifc.receive$(Ir.AviaPortInit).pipe(sr(1),function H_e(n,e){const{first:t,each:i,with:r=j_e,scheduler:s=(null!=e?e:R_),meta:o=null}=NU(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==t&&null==i)throw new TypeError("No timeout provided.");return tt((a,l)=>{let c,u,d=null,b=0;const C=M=>{u=_s(l,s,()=>{try{c.unsubscribe(),It(r({meta:o,lastValue:d,seen:b})).subscribe(l)}catch(I){l.error(I)}},M)};c=a.subscribe(me(l,M=>{null==u||u.unsubscribe(),b++,l.next(d=M),i>0&&C(i)},void 0,void 0,()=>{(null==u?void 0:u.closed)||null==u||u.unsubscribe(),d=null})),!b&&C(null!=t?"number"==typeof t?t:+t-s.now():i)})}(5e3),Nb(()=>eT(()=>new Error("ifc.ap.waiting.init timeout")))).subscribe({next:r=>{this.storage.session.setItem(this.SESSION_TOKEN_KEY,r.sessionToken),t()},error:i}),this.ifc.send(Di.AviaPortWaitingInit,void 0)):t()})}setLanguage(){const t=R9.includes(this.urlParams.lang)?this.urlParams.lang:"en";return this.translate.setActiveLang(t),new Promise(i=>{this.translate.load(t).subscribe(()=>{i(void 0)})})}preloadResources(){const t=((n,e=!1)=>{n="adjarabet"===n?"adjarabet":"spribe";const i="./assets/images/canvas/",r=[{alias:"bg",src:`${i}bg/bg-${e?"dashed-line":"sun"}.svg`},{alias:"prop",src:`${i}prop/prop.svg`},{alias:"partners-logo",src:`${i}partners-logo/partners-logo.svg`},{alias:"official",src:`${i}partners-logo/official.svg`},{alias:"multiplier-bg-blur",src:`${i}multiplier/bg/blur.svg`},{alias:"icon-login-timer",src:`${i}icons/login-timer.svg`},{alias:"icon-clock",src:`${i}icons/clock.svg`},{alias:"icon-up-down",src:`${i}icons/up-down.svg`}],s=[];for(let o=0;o<4;o++)s.push({alias:`plane-${o}`,src:`${i}plane/${n}/plane-${o}.svg`});return r.concat(s)})(this.clientConfig.brandName,this.clientConfig.isDashedLineBg);return class mve{static load(e,t){const i=this.versionResources(e);return K_.load(i,t)}static versionResources(e){return e.map(t=>({alias:t.alias,src:qs(t.src)}))}}.load(t)}setBuildConfig(){this.sharedGameConfig.setBuildConfig({packageVersion:Qs.version,isDomainMirroringEnabled:Qs.domainMirroringEnabled})}get clientConfig(){return this._clientConfig}get isFunMode(){return"demo"===this.urlParams.operator}get isGameInited(){return this._isGameInited}get isFreeBetsEnabled(){return void 0!==this.gameConfig.isFreeBetsEnabled?!!this.gameConfig.isFreeBetsEnabled:!this.clientConfig.hasOwnProperty("isHideFreeBetsInUserMenu")||!this.clientConfig.isHideFreeBetsInUserMenu}setGameInited(){this._isGameInited=!0}get isBrandAdjarabet(){return"adjarabet"===this.clientConfig.brandName}getAvatarUrl(t){return qs(Qs.avatarPath+t)}}return n.\u0275fac=function(t){return new(t||n)(We(qh),We(sd),We(Zw),We(nH),We(B_e),We(ac),We(Lpe),We(Z_),We(Xo),We(Hn),We(xf))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Yr=A(8135),hi=(()=>(function(n){n.bugReport="bugReport",n.fairness="fairness",n.fairnessSettings="fairnessSettings",n.freeBets="freeBets",n.avatar="avatar",n.rules="rules",n.whatIsPf="whatIsPf",n.quickHelp="quickHelp",n.notification="notification",n.myBetsHistory="myBetsHistory",n.gameLimits="gameLimits",n.otherSettings="otherSettings",n.chatRules="chatRules",n.changeServer="changeServer"}(hi||(hi={})),hi))(),In=(()=>(function(n){n.Init="init",n.CashOut="cashOut",n.CancelBet="cancelBet",n.Bet="bet",n.CurrentMultiplier="currentMultiplier",n.X="x",n.AddChatMessage="AddChatMessage",n.AddChatMessages="AddChatMessages",n.DeleteChatMessage="deleteChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.NewBalance="newBalance",n.RoundChartInfo="roundChartInfo",n.FreeBetsArchive="freeBetsArchive",n.FreeBetInfo="freeBetInfo",n.ChangeState="changeState",n.OnlinePlayers="onlinePlayers",n.CurrentBetsInfo="currentBetsInfo",n.UpdateCurrentBets="updateCurrentBets",n.UpdateCurrentCashOuts="updateCurrentCashOuts",n.InternalRealityCheck="internalRealityCheck",n.PreviousRoundInfo="previousRoundInfoResponse",n.BetHistory="betHistoryResponse",n.RoundFairness="roundFairnessResponse",n.ServerSeed="serverSeedResponse",n.FreeBetFinish="freeBetFinishResponse",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.CreateFreeBet="createFreeBet",n.CancelFreeBet="cancelFreeBet"}(In||(In={})),In))(),ih=(()=>(function(n){n.RealityCheck="reality-check",n.InternalRealityCheck="internalRealityCheck",n.Alderney="Alderney"}(ih||(ih={})),ih))(),n0=(()=>(function(n){n.Mobile="mobile",n.Desktop="desktop",n.Tablet="tablet"}(n0||(n0={})),n0))(),r0=(()=>(function(n){n.Request="PING_REQUEST",n.Response="PING_RESPONSE"}(r0||(r0={})),r0))();class h1e{constructor(e,t){this.smartFox=e,this.callbackFn=t,this.pingInterval=15e3}start(e){this.pingInterval=null!=e?e:15e3,this.reset(),Hi(this.smartFox,Yr.SFSEvent.EXTENSION_RESPONSE).pipe(cn(t=>t.cmd===r0.Response),kt(this,"reset")).subscribe(()=>this.pingResponseHandler()),this.intervalRef=setInterval(()=>this.threadRunner(),this.pingInterval)}threadRunner(){this.smartFox.send(new Yr.ExtensionRequest(r0.Request)),this.waitResponse()}waitResponse(){void 0===this.timeoutRef&&(this.timeoutRef=setTimeout(()=>{this.callbackFn(pr.SlowConnection)},this.pingInterval-1e3))}clearTimeout(){this.timeoutRef&&(clearTimeout(this.timeoutRef),this.timeoutRef=void 0)}pingResponseHandler(){this.callbackFn(pr.GameReady),this.clearTimeout()}reset(){this.clearTimeout(),this.intervalRef&&(clearInterval(this.intervalRef),this.intervalRef=void 0)}}class p1e{constructor(){this.RECONNECT_DELAY=3e3,this.MAX_RECONNECT=3,this.reconnectCount=0}try(e,t){if(this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectCount<=this.MAX_RECONNECT){const i=Jc(this.RECONNECT_DELAY);this.reconnectDelayTimer$=i.subscribe(()=>{null==e||e.connect(),this.reconnectCount++})}else t&&t()}reset(){this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectDelayTimer$=void 0,this.reconnectCount=0}}var eg=(()=>(function(n){n[n.Success=200]="Success",n[n.RealityCheck=412]="RealityCheck"}(eg||(eg={})),eg))();class tz{static toSFSObject(e){let t=new Yr.SFSObject;return Object.keys(e).forEach(i=>{const r=e[i];"string"==typeof r?function _ve(n){return encodeURI(n).split(/%..|./).length-1}(r)>32e3?t.putText(i,r):t.putUtfString(i,r):"boolean"==typeof r?t.putBool(i,r):"number"==typeof r?t.putDouble(i,r):!0===Array.isArray(r)&&t.putUtfStringArray(i,r)}),t}static toObject(e){let t={};if(null===e||void 0===e.getKeysArray)return t;let i=e.getKeysArray();for(let r=0;r<i.length;r++)if(this.checkType(e,i[r],Yr.SFSDataType.SFS_OBJECT))t[i[r]]=this.toObject(e.get(i[r]));else if(this.checkType(e,i[r],Yr.SFSDataType.SFS_ARRAY)){let s=[],o=e.get(i[r]);for(let a=0;a<o.size();a++)this.isArrayContainsSfsObjects(o,a)?s.push(this.toObject(o.getSFSObject(a))):s.push(o.get(a));t[i[r]]=s}else t[i[r]]=e.get(i[r]);return t}static isArrayContainsSfsObjects(e,t){try{return!!e.get(t,Yr.SFSDataType.SFS_OBJECT)}catch(i){return!1}}static checkType(e,t,i){try{return!!e.get(t,i)}catch(r){return!1}}}var Rv=(()=>(function(n){n[n.LOGIN_BANNED_USER=4]="LOGIN_BANNED_USER",n[n.LOGIN_ZONE_FULL=5]="LOGIN_ZONE_FULL"}(Rv||(Rv={})),Rv))(),kv=(()=>(function(n){n[n.ONLY_OPERATOR_DATA=10]="ONLY_OPERATOR_DATA",n[n.NOT_ALLOWED_CURRENCY=50]="NOT_ALLOWED_CURRENCY"}(kv||(kv={})),kv))();let Pa=(()=>{class n{constructor(){this._subject=new Ze,this._onOpen$=this._subject.asObservable()}open(t,i=null){this._subject.next({key:t,params:i})}get onOpen$(){return this._onOpen$}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tr=(()=>{class n{constructor(t,i,r,s,o,a){this.app=t,this.zone=i,this.toastService=r,this.modal=s,this.urlParams=o,this.multiServer=a,this.stateSubject=new $n({state:pr.None}),this.state$=this.stateSubject.asObservable().pipe(bl(l=>function o1e(n){lo({type:"ws",level:"info",category:"ws.state",message:n.state})}(l))),this.responseSubject=new Ze,this.isOnLoginError=!1,this.reconnection=new p1e}init(t){return this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=void 0),this.zone.runOutsideAngular(()=>{var i;console.log("[ SFS ] instantiate"),this.smartFox=new Yr.SmartFox(this.getWSServer(this.app.clientConfig.ws,t)),this.bindEvents(!0),console.log("[ SFS ] connect"),this.smartFox.connect(),null===(i=this.pingMonitor)||void 0===i||i.reset(),this.pingMonitor=new h1e(this.smartFox,r=>{this.setState(r)})}),this.response(In.Init)}userChooseServer(t){this.multiServer.userChooseServer(t,this.app.clientConfig.servers),this.setState(pr.Reconnecting),this.init(this.multiServer.servers[t-1])}getWSServer(t,i){return i||(this.multiServer.isMultiServer?this.multiServer.getRandomServer():t)}shutdown(t){var i;this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=void 0),this.reconnection.reset(),null===(i=this.pingMonitor)||void 0===i||i.reset(),this.setState(pr.Disconnected,{reason:t})}bindEvents(t=!0){!this.smartFox||(t?(this.smartFox.addEventListener(Yr.SFSEvent.CONNECTION,this.onConnection,this),this.smartFox.addEventListener(Yr.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.smartFox.addEventListener(Yr.SFSEvent.LOGIN,this.onLogin,this),this.smartFox.addEventListener(Yr.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.smartFox.addEventListener(Yr.SFSEvent.EXTENSION_RESPONSE,this.onResponse,this)):(this.smartFox.removeEventListener(Yr.SFSEvent.CONNECTION,this.onConnection),this.smartFox.removeEventListener(Yr.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.smartFox.removeEventListener(Yr.SFSEvent.LOGIN,this.onLogin),this.smartFox.removeEventListener(Yr.SFSEvent.LOGIN_ERROR,this.onLoginError),this.smartFox.removeEventListener(Yr.SFSEvent.EXTENSION_RESPONSE,this.onResponse)))}request(t,i){if(!this.smartFox)return;let r;(function s1e(n,e){lo({type:"ws",level:"info",category:"ws.send",data:{action:n,data:e}})})(t,i),console.log("%c[ SFS SEND ] "+t,"background: #222; color: #caa817",i),null!==i&&i.constructor==={}.constructor&&(r=tz.toSFSObject(i)),this.smartFox.send(new Yr.ExtensionRequest(t+"Handler",r))}response(t,i){let r;return r=this.responseSubject.pipe(cn(void 0===i?s=>s.cmd===t:s=>{var o;return s.cmd===t&&(null===(o=s.data)||void 0===o?void 0:o.code)===i})),r.pipe(ke(s=>s.data))}setState(t,i){this.zone.run(()=>this.stateSubject.next({state:t,data:i}))}onConnection(t){var i;console.log("[ SFS ] onConnection",t),t.success?(this.reconnection.reset(),null===(i=this.pingMonitor)||void 0===i||i.reset(),this.smartFoxLogin()):(this.setState(pr.Reconnecting),this.reconnection.try(this.smartFox,()=>{var r;null===(r=this.pingMonitor)||void 0===r||r.reset(),this.setState(pr.Disconnected,{reason:Xa.Network})}))}smartFoxLogin(){var t;const i=new Yr.SFSObject;i.putUtfString("token",this.urlParams.token),i.putUtfString("currency",this.urlParams.currency),i.putUtfString("lang",this.urlParams.lang),i.putUtfString("sessionToken",this.app.sessionToken),i.putSFSObject("platform",function d1e(n){let e=new Yr.SFSObject;return e.putUtfString("deviceInfo",JSON.stringify(n.deviceInfo)),e.putUtfString("userAgent",JSON.stringify(n.deviceInfo.userAgent)),n.isDesktop?e.putUtfString("deviceType",n0.Desktop):n.isMobile?e.putUtfString("deviceType",n0.Mobile):n.isTablet&&e.putUtfString("deviceType",n0.Tablet),e}(this.app)),i.putUtfString("version",Qs.version),this.urlParams.jurisdiction&&i.putUtfString("jurisdiction",this.urlParams.jurisdiction);const r=this.urlParams.additionalParams;if(r.size>0){const o=new Yr.SFSObject;r.forEach((a,l)=>o.putUtfString(l,a)),i.putSFSObject("additionalParams",o)}let s=this.urlParams.user;this.app.clientConfig.userWithOperator&&!0===this.app.clientConfig.userWithOperator&&(s=s+"&&"+this.urlParams.operator),console.log("[ SFS ] login"),null===(t=this.smartFox)||void 0===t||t.send(new Yr.LoginRequest(s,"",i))}onConnectionLost(t){var i,r;if(console.log("[ SFS ] onConnectionLost",t),!this.isOnLoginError){if(t.reason===Yr.ClientDisconnectionReason.BAN)return null===(i=this.pingMonitor)||void 0===i||i.reset(),void this.setState(pr.Disconnected,{reason:Xa.Ban});if(t.reason===Yr.ClientDisconnectionReason.KICK)return null===(r=this.pingMonitor)||void 0===r||r.reset(),void this.setState(pr.Disconnected,{reason:Xa.Kick});this.setState(pr.Reconnecting),this.reconnection.try(this.smartFox)}}onLogin(){console.log("[ SFS ] onLogin")}onLoginError(t){var i;console.log("[ SFS ] onLoginError",t),this.isOnLoginError=!0,null===(i=this.smartFox)||void 0===i||i.disconnect();const r=this.getCustomErrorMessage(t.errorMessage),s=null==r?void 0:r.code;if(t.errorCode!==Rv.LOGIN_BANNED_USER)return t.errorCode===Rv.LOGIN_ZONE_FULL?this.multiServer.servers.length>1?(this.multiServer.removeFullServer(),void this.init()):void this.setState(pr.Disconnected,{reason:Xa.LoginError}):void this.setState(pr.Disconnected,s!==kv.NOT_ALLOWED_CURRENCY?s!==kv.ONLY_OPERATOR_DATA?{reason:Xa.LoginError,additionalOperatorData:r}:{reason:Xa.LoginError,additionalOperatorData:null==r?void 0:r.additionalOperatorData}:{reason:Xa.NotAllowedCurrency,allowedCurrencies:r.allowedCurrencies,additionalOperatorData:null==r?void 0:r.additionalOperatorData});this.setState(pr.Disconnected,{reason:Xa.Ban,additionalOperatorData:null==r?void 0:r.additionalOperatorData})}getCustomErrorMessage(t){if(function Cve(n){try{JSON.parse(n)}catch(e){return!1}return!0}(t))return JSON.parse(t)}onResponse(t){if(t.cmd===r0.Response)return;const i=tz.toObject(t.params);(function r1e(n,e){let t;n===In.Init&&(t={code:e.code,stageId:e.stageId,roundId:e.roundId,currentMultiplier:e.currentMultiplier,betTimeLeft:e.betTimeLeft,activeBets:e.activeBets,user:e.user,onlinePlayers:e.onlinePlayers,roundsInfo:e.roundsInfo},lo({type:"ws",level:"info",category:"ws.receive",data:{action:"init.config",data:e.config}})),n!==In.Init&&(t=e),lo({type:"ws",level:"info",category:"ws.receive",data:{action:n,data:t}})})(t.cmd,i),i.code===eg.RealityCheck&&this.zone.run(()=>{this.modal.open(hi.notification,{type:ih.RealityCheck,message:i.errorMessage})}),i.code!==eg.Success&&i.code!==eg.RealityCheck&&this.zone.run(()=>{this.toastService.show(yc,{message:i.errorMessage,type:na.Danger,errorMessageParams:i.errorMessageParams})}),t.cmd!==In.CurrentMultiplier&&t.cmd!==In.X&&console.log("%c[ SFS RESPONSE ] "+t.cmd,"background: #222; color: #bada55",i);const r={cmd:t.cmd,data:i};t.cmd===In.CurrentMultiplier||t.cmd===In.X?this.responseSubject.next(r):this.zone.run(()=>{this.responseSubject.next(r)})}startPingMonitor(t){var i;null===(i=this.pingMonitor)||void 0===i||i.start(t)}gameReady(){this.setState(pr.GameReady)}}return n.\u0275fac=function(t){return new(t||n)(We(gr),We(Ti),We(Io),We(Pa),We(ac),We(Z_))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zr=(()=>{class n{constructor(t,i,r){this.connector=t,this.audioService=i,this.modal=r,this._events=new Ze,this._eventsObs=this._events.asObservable(),this._timeLeft=0,this._stateSubject=new $n(lr.Bet),this._onlinePlayersSubject=new $n(0),this._stateObs=this._stateSubject.asObservable(),this.onlinePlayers$=this._onlinePlayersSubject.asObservable()}init(t){this.reset(),this._roundId=t.roundId,this.setTimeLeft(t.serverTime,t.betStateEndTime,t.betTimeLeft),this._onlinePlayersSubject.next(t.onlinePlayers),this._stateSubject.next(t.stageId),Hu("roundId",t.roundId),this.changeState$=this.connector.response(In.ChangeState,200).pipe(cn(i=>i.newStateId!==lr.End)).subscribe(i=>this.onChangeState(i)),this.connector.response(In.CurrentMultiplier,200).pipe(cn(i=>!!i.crashMultiplier)).subscribe(()=>this.onChangeState({newStateId:lr.End,roundId:this.roundId})),this.connector.response(In.X,200).pipe(cn(i=>!!i.crashX)).subscribe(()=>this.onChangeState({newStateId:lr.End,roundId:this.roundId})),this.connector.response(In.OnlinePlayers,200).subscribe(i=>this._onlinePlayersSubject.next(i.onlinePlayers))}onChangeState(t){Hu("roundId",t.roundId),this.state===lr.Run&&t.newStateId===lr.Bet&&function Kse(n,e){const t="string"==typeof e?e:void 0,i="string"!=typeof e?{captureContext:e}:void 0;ao().captureMessage(n,t,i)}("Frontend did not receive the crash multiplier"),this._roundId=t.roundId,this.setTimeLeft(t.serverTime,t.betStateEndTime,t.timeLeft),t.newStateId===lr.End&&this.audioService.play(ta.Sound,Ao.FlyAway),t.newStateId===lr.Run&&this.audioService.play(ta.Sound,Ao.RoundStart),this._stateSubject.next(t.newStateId)}setTimeLeft(t,i,r){t&&i?this._timeLeft=Math.max(0,i-t):void 0===r||(this._timeLeft=r)}getState(t){return void 0===t?this._stateObs:this._stateObs.pipe(cn(i=>i===t))}get state(){return this._stateSubject.value}get timeLeft(){return this._timeLeft}get roundId(){return this._roundId}get isBettingState(){return this.state===lr.Bet}get isRunningState(){return this.state===lr.Run}get isEndingState(){return this.state===lr.End||this.state===lr.EndDelay}emitEvent(t,i){this._events.next({type:t,data:i})}event(t){return this._eventsObs.pipe(cn(i=>i.type===t))}checkFairness(t){this.canCheckFairness(t)&&this.modal.open(hi.fairness,t)}canCheckFairness(t){return this.roundId!==t}reset(){this.changeState$&&this.changeState$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(We(tr),We(qh),We(Pa))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Do=(()=>(function(n){n.sid="sid",n.manualSeed="msd",n.randomSeed="rsd",n.isRandomSeed="irs"}(Do||(Do={})),Do))();let eR=(()=>{class n{constructor(t){this.storage=t,this.STORE_PREFIX="__av_gs",this.RANDOM_SEED_LEN=20,null===this.getItem(Do.isRandomSeed)&&(this.isRandomSeed=!0),null===this.getItem(Do.randomSeed)&&(this.randomSeed=this.getRandomSeed()),null===this.getItem(Do.manualSeed)&&(this.manualSeed=this.getRandomSeed()),null===this.getItem(Do.sid)&&(this.sid=0)}get isRandomSeed(){const t=this.getItem(Do.isRandomSeed);return null===t||!!t&&"true"===t}set isRandomSeed(t){this.setItem(Do.isRandomSeed,t)}get randomSeed(){return null===this.getItem(Do.randomSeed)&&(this.randomSeed=this.getRandomSeed()),this.getItem(Do.randomSeed)}set randomSeed(t){this.setItem(Do.randomSeed,t)}get manualSeed(){return null===this.getItem(Do.manualSeed)&&(this.manualSeed=this.getRandomSeed()),this.getItem(Do.manualSeed).trim()}set manualSeed(t){this.sid=0,t=t.trim(),this.setItem(Do.manualSeed,t)}get manualSeedWithId(){return this.manualSeed+"-"+this.sid}get clientSeed(){let t="";return this.isRandomSeed?(t=this.randomSeed,this.randomSeed=this.getRandomSeed()):(t=this.manualSeedWithId,this.sid++),t}get sid(){return parseInt(this.getItem(Do.sid))}set sid(t){this.setItem(Do.sid,t)}getRandomSeed(){return A9(this.RANDOM_SEED_LEN)}getItem(t){return this.storage.local.getItem(this.STORE_PREFIX+t)}setItem(t,i){this.storage.local.setItem(this.STORE_PREFIX+t,`${i}`)}}return n.\u0275fac=function(t){return new(t||n)(We(nH))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var mr=(()=>(function(n){n.CancelBet="cancelBet",n.CashOut="cashOut",n.Bet="bet",n.CurrentBetsInfo="currentBetsInfo",n.PreviousRoundInfo="previousRoundInfo",n.BetHistory="betHistory",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.AddChatMessage="AddChatMessage",n.AddChatMessageV2="AddChatMessageV2",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.RoundFairness="roundFairness",n.ServerSeed="serverSeed",n.FreeBetsArchive="freeBetsArchive",n.ChangeProfileImage="changeProfileImage",n.NotificationCallback="notificationCallback",n.FreeBetFinish="freeBetFinish",n.UpdateBalance="updateBalance",n.SetPlayerSetting="setPlayerSetting"}(mr||(mr={})),mr))(),tg=(()=>(function(n){n.Sound="sound",n.Music="music",n.Animation="animation",n.SecondBet="secondBet"}(tg||(tg={})),tg))(),pu=(()=>(function(n){n.HideLiveBetsAndStatistics="hideLiveBetsAndStatistics",n.HideMyActivity="hideMyActivity"}(pu||(pu={})),pu))();let f1e=(()=>{class n{constructor(t,i,r){this.connector=t,this.audioService=i,this.ifc=r,this._animationSubject=new $n(!1),this._soundSubject=new $n(!1),this._musicSubject=new $n(!1),this._secondBetSubject=new $n(!1),this.otherSubject=new Ze,this.other$=this.otherSubject.asObservable(),this.other=new Map([]),this.otherSettingNames=Object.values(pu),this._isOtherEnabled=!1,this._otherKeys=[],this.saveLock=!1}init(t){this.saveLock=!1,this.sound=t.sound,this.music=t.music,this.animation=t.animation,this.secondBet=t.secondBet;const i=t.other;i&&this.otherSettingNames.forEach(r=>{i[r]&&this.other.set(r,i[r])}),this._otherKeys=Array.from(this.other.keys()),this._isOtherEnabled=!!this.other.size,this.saveLock=!0}changeOther(t,i){this.other.set(t,i),this.otherSubject.next({name:t,value:i}),this.save(t,i)}getOther(t){return this.other.get(t)||!1}get isOtherEnabled(){return this._isOtherEnabled}get otherKeys(){return this._otherKeys}get sound(){return this._soundSubject.value}set sound(t){this._soundSubject.value!==t&&(this._soundSubject.next(t),this.audioService.mute(ta.Sound,!t),this.ifc.send(Di.Sound,{value:t}),this.save(tg.Sound,t))}get music(){return this._musicSubject.value}set music(t){this._musicSubject.value!==t&&(this._musicSubject.next(t),this.audioService.mute(ta.Music,!t),this.ifc.send(Di.Music,{value:t}),this.save(tg.Music,t))}get animation(){return this._animationSubject.value}set animation(t){this._animationSubject.value!==t&&(this._animationSubject.next(t),this.ifc.send(Di.Animation,{value:t}),this.save(tg.Animation,t))}get animation$(){return this._animationSubject.asObservable()}get secondBet(){return this._secondBetSubject.value}set secondBet(t){this._secondBetSubject.value!==t&&(this._secondBetSubject.next(t),this.save(tg.SecondBet,t))}save(t,i){!1!==this.saveLock&&this.connector.request(mr.SetPlayerSetting,{settingName:t,value:i})}}return n.\u0275fac=function(t){return new(t||n)(We(tr),We(qh),We(Xo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fu=(()=>{class n{constructor(t,i,r,s){this.seed=t,this.settings=i,this.connector=r,this.ifc=s,this.balanceSubject=new $n(0),this.balance$=this.balanceSubject.asObservable(),this.connector.response(In.NewBalance,200).subscribe(o=>this.onNewBalanceResponse(o)),this.ifc.receive$(Ir.SetBalance).subscribe(o=>{this.balance=o.value})}init(t){this.balance=t.balance,this._id=t.userId,this._username=t.username,this._avatar=t.profileImage,this.settings.init(t.settings)}onNewBalanceResponse(t){this.balance=t.newBalance,this.ifc.send(Di.UpdateBalance,{amount:this.balance,additionalOperatorData:t.additionalOperatorData})}get id(){return this._id}get username(){return this._username}get avatar(){return this._avatar}set avatar(t){this._avatar=t}get balance(){return this.balanceSubject.getValue()}set balance(t){this.balanceSubject.next(t)}get clientSeed(){return this.seed.clientSeed}}return n.\u0275fac=function(t){return new(t||n)(We(eR),We(f1e),We(tr),We(Xo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),od=(()=>{class n{constructor(t,i,r,s,o){this.modal=t,this.connector=i,this.toastService=r,this.ifc=s,this.urlParams=o,this._list=[],this._activateSource=new Ze,this._updateSource=new Ze,this.onActivate$=this._activateSource.asObservable(),this.onUpdate$=this._updateSource.asObservable(),this.connector.response(In.FreeBetInfo).subscribe(a=>{a.activeFreeBetsInfo&&200===a.code&&("true"===this.urlParams.aviaport&&this.ifc.send(Di.AviaPortUpdateFreeBet,{freeBet:{freeBetId:a.activeFreeBetsInfo.freeBetsId,freeBetsLeft:a.activeFreeBetsInfo.freeBetsLeft,freeBetBetAmount:a.activeFreeBetsInfo.freeBetsBetAmount,freeBetWinAmount:a.activeFreeBetsInfo.freeBetsWinSum,freeBetStartDate:a.activeFreeBetsInfo.freeBetsStartDate,freeBetEndDate:a.activeFreeBetsInfo.freeBetsEndDate,numberOfFreeBets:a.activeFreeBetsInfo.numberOfFreeBets,freeBetMinCashOut:a.activeFreeBetsInfo.freeBetsMinCashOut,isBetIncluded:a.activeFreeBetsInfo.isBetIncluded}}),this.update(a.activeFreeBetsInfo))}),this.connector.response(In.CreateFreeBet,200).subscribe(a=>{const l=a.freeBets;this.toastService.show(yc,{message:nh.YouHaveGotAFreeBet,type:na.Success}),this.setList(l,!1)}),this.connector.response(In.CancelFreeBet,200).subscribe(a=>{this.toastService.show(yc,{message:nh.YourFreeBetWasCancelledByAdministrator,type:na.Danger}),a.freeBets.forEach(l=>{var c;const u=this.list.find(d=>d.freeBetsId===l);u&&(u.freeBetsId===(null===(c=this.activeFreeBet)||void 0===c?void 0:c.freeBetsId)&&this.activate(),this.remove(u))})}),this.ifc.receive$(Ir.AviaPortSelectFreeBet).subscribe(a=>this.activate(a.freeBetId))}setList(t,i=!0){!Array.isArray(t)||(this._list=t,i&&this.autoActivation(),this._updateSource.next(t[t.length-1]))}autoActivation(){"true"!==this.urlParams.aviaport&&this.activate(this._list.length>0?this._list[0].freeBetsId:void 0)}get list(){return this._list}get freeBetsCount(){return Array.isArray(this._list)?this._list.length:0}get activeFreeBet(){if(void 0!==this._activeId&&this.freeBetsCount>0)return this._list.find(t=>t.freeBetsId===this._activeId)}withdrawFreeBet(t){return 0!==t.freeBetsLeft&&(t.freeBetsLeft--,!0)}isActive(t){return this._activeId===t}update(t){this._list[this._list.findIndex(i=>i.freeBetsId===t.freeBetsId)]=t,this._updateSource.next(t)}add(t){this._list.find(i=>i.freeBetsId===t.freeBetsId)||(this._list.push(t),this._updateSource.next(t))}remove(t){const i=this._list.findIndex(r=>r.freeBetsId===t.freeBetsId);this._list.splice(i,1),this._updateSource.next(t)}activate(t){t!==this._activeId&&(this._activeId=t,this._activateSource.next())}onClaim(){var t,i;this.connector.request(mr.FreeBetFinish,{freeBetsId:null===(t=this.activeFreeBet)||void 0===t?void 0:t.freeBetsId}),"true"===this.urlParams.aviaport&&this.ifc.send(Di.AviaPortClaimFreeBet,{freeBetId:null===(i=this.activeFreeBet)||void 0===i?void 0:i.freeBetsId}),this.remove(this.activeFreeBet),this.activate()}onManage(){this.modal.open(hi.freeBets)}}return n.\u0275fac=function(t){return new(t||n)(We(Pa),We(tr),We(Io),We(Xo),We(ac))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nz=(()=>{class n{constructor(){this.history=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iz=(()=>{class n{constructor(){this.container=document.body}copyToClipBoard(t){this.createFake(t),this.select(this.fakeElem),this.copyText(),this.removeFake()}select(t){t.select(),t.setSelectionRange(0,t.value.length)}copyText(){document.execCommand("copy")}createFake(t){const i="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[i?"right":"left"]="-9999px";const r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=`${r}px`,this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=t,this.container.appendChild(this.fakeElem)}removeFake(){var t;this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=void 0),null===(t=window.getSelection())||void 0===t||t.removeAllRanges()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var rh=(()=>(function(n){n[n.xs=0]="xs",n[n.sm=576]="sm",n[n.md=768]="md",n[n.lg=992]="lg",n[n.xl=1200]="xl",n[n.xl1300=1300]="xl1300",n[n.xxl=1400]="xxl"}(rh||(rh={})),rh))();function qa(n,e=R_){return function g1e(n){return tt((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(me(t,c=>{i=!0,r=c,s||It(n(c)).subscribe(s=me(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>Jc(n,e))}let Nv=(()=>{class n{constructor(t){this.zone=t,this.AUDIT_TIME=100,this.resizeSubject=new $n(this.getSize()),this._size$=this.resizeSubject.asObservable(),this.zone.runOutsideAngular(()=>{Hi(window,"resize").pipe(ke(()=>this.getSize()),qa(this.AUDIT_TIME)).subscribe(i=>this.zone.run(()=>this.resizeSubject.next(i)))})}get onResize$(){return this._size$}manualEmitResizeEvent(){setTimeout(()=>{this.resizeSubject.next(this.getSize())})}getSize(){return{width:window.innerWidth,height:window.innerHeight}}isSmallScreen(){return this.getSize().width>=rh.md}}return n.\u0275fac=function(t){return new(t||n)(We(Ti))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tl=(()=>{class n{constructor(t,i){this.window=t,this.ifc=i,this._isOpen=!1,this.openSubject=new $n(!1),this.isChatEnabledSubject=new $n(!1),this.isChatEnabled$=this.isChatEnabledSubject.asObservable(),this.isOpen$=this.openSubject.asObservable(),this.ifc.receive$(Ir.AviaPortToggleChat).subscribe(()=>{this.isOpen=!this.isOpen})}get isChatEnabled(){return this.isChatEnabledSubject.getValue()}set isChatEnabled(t){this.isChatEnabledSubject.next(t)}get isOpen(){return this._isOpen}set isOpen(t){this.isOpen!==t&&(this._isOpen=t,this.openSubject.next(t),this.window.manualEmitResizeEvent())}enableChat(){this.isChatEnabled=!0,this.ifc.send(Di.AviaPortChatInit,{isChatEnabled:!0}),this.initializeChatState()}initializeChatState(){const t=this.window.getSize().width;this.isOpen=this.shouldOpenChat(t)}shouldOpenChat(t){return t>=rh.md&&!(t<rh.xl1300&&t>=rh.lg)}}return n.\u0275fac=function(t){return new(t||n)(We(Nv),We(Xo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mp=(()=>{class n{constructor(t,i,r,s){this.clipBoard=t,this.toastService=i,this.chatFeatureService=r,this.gameConfig=s,this.messages=[],this._top10Gifs=[],this.tagUserSubject=new Ze}initChat(t){var i;!this.gameConfig.chat.isEnabled||(null===(i=this.gameConfig.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)||(t.chatHistory&&(this.messages=function yve(n,e){return n.slice(Math.max(n.length-e,0))}(t.chatHistory,this.gameConfig.chat.maxMessages)),t.chatSettings&&(this._top10Gifs=Array.isArray(t.chatSettings.top10Gifs)?t.chatSettings.top10Gifs:D9(t.chatSettings.top10Gifs)),this.chatFeatureService.enableChat())}tagUser(t){this.tagUserSubject.next(`@${t} `)}get onTagUser(){return this.tagUserSubject.asObservable()}get top10Gifs(){return this._top10Gifs}shareBet(t,i){this.clipBoard.copyToClipBoard(this.isChatApiV2OrLater?`/share_bet:${t}:${i}`:`/share_bet:${t}`),this.toastService.show(yc,{message:"copied-for-chat",type:na.Success,closable:!1},{duration:1e3})}get isChatApiV2OrLater(){const t=this.gameConfig.chatApiVersion;return!!t&&t>=iM.v2}}return n.\u0275fac=function(t){return new(t||n)(We(iz),We(Io),We(Tl),We(Hn))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rM=(()=>{class n{constructor(t){this.connector=t,this.inited=!1,this.isSendInitialize=!1,this.stopAutoBetSubject=new Ze,this.stopAutoBet$=this.stopAutoBetSubject.asObservable(),this.sendPostMessage=(i,r)=>{try{parent.postMessage({name:i,status:r},"*")}catch(s){}},this.sendActionPostMessage=(i,r)=>{try{parent.postMessage({action:i,data:r},"*")}catch(s){}}}setup(){this.inited||(this.inited=!0,Hi(window,"message").pipe(cn(t=>"updatebalance"===t.data.name)).subscribe(()=>{this.updateBalanceHandler()}),Hi(window,"message").pipe(cn(t=>"stopAutospins"===t.data.name)).subscribe(()=>{this.stopAutoGameHandler()}))}stopAutoGameHandler(){this.stopAutoBetSubject.next()}updateBalanceHandler(){this.connector.request(mr.UpdateBalance,null)}sendClosed(){!this.inited||this.sendPostMessage("gameStatus","closed")}sendBackToHome(t){!this.inited||this.sendActionPostMessage("backToHome",t)}sendInitialized(){!this.inited||this.isSendInitialize||(this.isSendInitialize=!0,this.sendPostMessage("gameStatus","initialized"))}}return n.\u0275fac=function(t){return new(t||n)(We(tr))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ad=(()=>{class n{constructor(){this.bets=[],this.cancelBetsSubject=new Ze,this.cancelBets$=this.cancelBetsSubject.asObservable(),this.betSettedSubject=new Ze,this.betSetted$=this.betSettedSubject.asObservable()}getBets(){return this.bets}getBet(t){return this.bets.find(i=>i.betId===t)}setBet(t){this.isBetSetted||this.betSettedSubject.next(!0),this.bets=this.bets.filter(i=>i.betId!==t.betId),this.bets.push(t)}removeBet(t){this.bets=this.bets.filter(i=>i.betId!==t),this.isBetSetted||this.betSettedSubject.next(!1)}get isBetSetted(){return this.bets.length>0}restoreBets(t){t&&Array.isArray(t)&&t.forEach(i=>{this.setBet({betId:i.betId,preBet:!1,data:i})})}cancelBets(){this.cancelBetsSubject.next()}isWinCelebrated(t,i){return void 0===i||t>i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ld=(()=>(function(n){n[n.Low=1]="Low",n[n.Medium=2]="Medium",n[n.High=10]="High"}(ld||(ld={})),ld))(),s0=(()=>(function(n){n.Low="#34B4FF",n.Medium="#913EF8",n.High="#C017B4"}(s0||(s0={})),s0))();class m1e{getString(e){return e<ld.Medium?s0.Low:e<ld.High?s0.Medium:s0.High}getHex(e){return _c(this.getString(e))}}let sM=(()=>{class n{constructor(t,i){this.connector=t,this.main=i,this._startingValue=1,this.levelColor=new m1e,this.dataSubject=new $n({currentMultiplier:1}),this.data$=this.dataSubject.asObservable(),this.connector.response(In.X,200).pipe(cn(r=>r.x>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.x})}),this.connector.response(In.CurrentMultiplier,200).pipe(cn(r=>r.currentPayout>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.currentPayout})}),this.main.getState(lr.Run).subscribe(()=>this.dataSubject.next({currentMultiplier:1}))}init(t){this._startingValue=t.currentMultiplier?t.currentMultiplier:1}get startingValue(){const t=this._startingValue;return this._startingValue=1,t}}return n.\u0275fac=function(t){return new(t||n)(We(tr),We(Zr))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sh=(()=>{class n{constructor(t,i){this.elRef=t,this.multiplierService=i}ngAfterViewInit(){this.elRef.nativeElement.style.color=this.multiplierService.levelColor.getString(this.elRef.nativeElement.textContent.replace("x",""))}}return n.\u0275fac=function(t){return new(t||n)(W(ji),W(sM))},n.\u0275dir=Ht({type:n,selectors:[["","appColoredMultiplier",""]]}),n})();const _1e=function(n,e){return{padding:n,borderRadius:e}};let tR=(()=>{class n{constructor(){this.multiplier=1,this.padding="2px 6px",this.borderRadius="11px"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-bubble-multiplier"]],inputs:{multiplier:"multiplier",padding:"padding",borderRadius:"borderRadius"},decls:3,vars:7,consts:[["appColoredMultiplier","",1,"bubble-multiplier","font-weight-bold",3,"ngStyle"]],template:function(t,i){1&t&&(D(0,"div",0),U(1),G(2,"multiplierPrecision"),R()),2&t&&(F("ngStyle",wa(4,_1e,i.padding,i.borderRadius)),S(1),ie(" ",q(2,2,i.multiplier),"x\n"))},directives:[sh,Dd],pipes:[qo],styles:[".bubble-multiplier[_ngcontent-%COMP%]{background-color:#00000080}"]}),n})(),gu=(()=>{class n{constructor(){this.size=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-loader"]],inputs:{size:"size"},decls:1,vars:1,consts:[[1,"loader",3,"ngClass"]],template:function(t,i){1&t&&ce(0,"div",0),2&t&&F("ngClass",i.size)},directives:[cs],styles:[".loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after{border-radius:50%;width:30px;height:30px}.loader[_ngcontent-%COMP%]{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:3px solid rgba(208,2,27,.2);border-right:3px solid rgba(208,2,27,.2);border-bottom:3px solid rgba(208,2,27,.2);border-left:3px solid #d0021b;transform:translateZ(0);animation:load8 1.1s infinite linear}.loader.small[_ngcontent-%COMP%]{margin:5px auto}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function y1e(n,e){if(1&n&&(D(0,"div",11)(1,"div",12),ce(2,"app-bubble-multiplier",13),R(),D(3,"div",14),U(4),G(5,"date"),R()()),2&n){const t=ee();S(2),F("multiplier",t.fairnessData.result),S(2),ie(" ",Gt(5,2,t.fairnessData.roundStartDate,"HH:mm:ss")," ")}}const b1e=function(n){return{value:n}};function v1e(n,e){if(1&n&&(D(0,"div",21)(1,"div",34)(2,"span"),U(3),G(4,"transloco"),R(),D(5,"div",35),ce(6,"img",36),U(7),G(8,"maskedUsername"),R()(),D(9,"div",37)(10,"span"),U(11),G(12,"transloco"),R(),D(13,"div",38),U(14),R()()()),2&n){const t=ee(),i=t.index,r=t.$implicit,s=ee(2);S(3),ie(" ",Gt(4,6,"shared.modals.fairness.player",zn(13,b1e,i+1))," "),S(3),F("src",s.getAvatar(r),an)("alt",s.getAvatar(r)),S(1),ie(" ",q(8,9,r.username)," "),S(4),nt(q(12,11,"shared.modals.fairness.seed")),S(3),ie(" ",r.seed," ")}}function C1e(n,e){if(1&n&&(D(0,"div"),te(1,v1e,15,15,"div",33),R()),2&n){const t=e.$implicit;ee();const i=er(26);S(1),F("ngIf",t)("ngIfElse",i)}}function w1e(n,e){1&n&&(D(0,"div",39),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.modals.fairness.not enough")," "))}function S1e(n,e){if(1&n){const t=_t();D(0,"div",15)(1,"div",16)(2,"div",17),ce(3,"div",18),D(4,"div",19)(5,"span"),U(6),G(7,"transloco"),R(),D(8,"div",20),U(9),G(10,"transloco"),R()()(),D(11,"div",21)(12,"input",22,23),Ae("ngModelChange",function(r){return ht(t),ee().fairnessData.serverSeed=r})("click",function(){ht(t);const r=er(13);return ee().onSelect(r)}),R()()(),D(14,"div",24)(15,"div",17),ce(16,"div",25),D(17,"div",19)(18,"span"),U(19),G(20,"transloco"),R(),D(21,"div",20),U(22),G(23,"transloco"),R()()(),te(24,C1e,2,2,"div",26),te(25,w1e,3,3,"ng-template",null,27,Wo),R(),D(27,"div",28)(28,"div",17),ce(29,"div",29),D(30,"div",19)(31,"span"),U(32),G(33,"transloco"),R(),D(34,"div",20),U(35),G(36,"transloco"),R()()(),D(37,"div",21)(38,"input",22,30),Ae("ngModelChange",function(r){return ht(t),ee().fairnessData.seedSHA256=r})("click",function(){ht(t);const r=er(39);return ee().onSelect(r)}),R()()(),D(40,"div",31)(41,"div",17)(42,"span"),U(43),G(44,"transloco"),R(),D(45,"span"),U(46),G(47,"transloco"),R(),D(48,"span"),U(49),G(50,"transloco"),R()(),D(51,"div",21)(52,"span"),U(53),R(),D(54,"span"),U(55),R(),D(56,"span"),U(57),R()()(),D(58,"div",32)(59,"div",17)(60,"span"),U(61),G(62,"transloco"),R()(),D(63,"div",21)(64,"span"),U(65),R()(),D(66,"div",17)(67,"span"),U(68),G(69,"transloco"),R()(),D(70,"div",21)(71,"span"),U(72),R()(),D(73,"div",17)(74,"span"),U(75),G(76,"transloco"),R()(),D(77,"div",21)(78,"span"),U(79),R()()()()}if(2&n){const t=ee();S(6),nt(q(7,23,"shared.modals.fairness.server seed")),S(3),ie(" ",q(10,25,"shared.modals.fairness.server tip")," "),S(3),F("readonly",!0)("ngModel",t.fairnessData.serverSeed),S(7),nt(q(20,27,"shared.modals.fairness.client seed")),S(3),ie(" ",q(23,29,"shared.modals.fairness.client tip")," "),S(2),F("ngForOf",t.players),S(8),nt(q(33,31,"shared.modals.fairness.hash")),S(3),ie(" ",q(36,33,"shared.modals.fairness.hash tip")," "),S(3),F("readonly",!0)("ngModel",t.fairnessData.seedSHA256),S(5),nt(q(44,35,"shared.modals.fairness.hex")),S(3),nt(q(47,37,"shared.modals.fairness.decimal")),S(3),nt(q(50,39,"shared.modals.fairness.result")),S(4),nt(t.fairnessData.partSeedHexNumber),S(2),nt(t.fairnessData.partSeedDecimalNumber),S(2),nt(t.fairnessData.result),S(4),nt(q(62,41,"shared.modals.fairness.hex")),S(4),nt(t.fairnessData.partSeedHexNumber),S(3),nt(q(69,43,"shared.modals.fairness.decimal")),S(4),nt(t.fairnessData.partSeedDecimalNumber),S(3),nt(q(76,45,"shared.modals.fairness.result")),S(4),nt(t.fairnessData.result)}}function T1e(n,e){1&n&&(D(0,"div"),ce(1,"app-loader"),R())}let ng=class{constructor(e,t,i){this.activeModal=e,this.modal=t,this.connector=i,this.fairnessData=void 0,this.loaded=!1}ngOnInit(){this.connector.request(mr.RoundFairness,{roundId:this.betId}),this.connector.response(In.RoundFairness,200).pipe(kt(this)).subscribe(e=>{this.fairnessData=e.fairness,this.loaded=!0})}onPFModalOpen(){this.modal.open(hi.whatIsPf)}onSelect(e){e.select()}get players(){var e,t;const i=null!==(t=null===(e=this.fairnessData)||void 0===e?void 0:e.playerSeeds)&&void 0!==t?t:[];for(let r=i.length;r<3;r++)i.push(null);return i}getAvatar(e){return qs(Qs.avatarPath+e.profileImage)}ngOnDestroy(){this.loaded=!1}};ng.\u0275fac=function(e){return new(e||ng)(W(Dr),W(Pa),W(tr))},ng.\u0275cmp=rt({type:ng,selectors:[["app-fairness"]],decls:19,vars:13,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["class","header__info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"content-wrapper"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"help"],[3,"click"],[1,"header__info"],[1,"bubble-multiplier-wrapper"],[3,"multiplier"],[1,"header__info-time"],[1,"content"],[1,"content-part"],[1,"title"],[1,"icon-server","flex-shrink-0"],[1,"text"],[1,"tip"],[1,"value"],["type","text",1,"value-input",3,"readonly","ngModel","ngModelChange","click"],["serverSeed",""],[1,"content-part","client","pt-3"],[1,"icon-client","flex-shrink-0"],[4,"ngFor","ngForOf"],["notEnoughBlock",""],[1,"content-part","pt-3"],[1,"icon-hash","flex-shrink-0"],["hash",""],[1,"content-part","result","result-line","pt-3"],[1,"content-part","result","result-col","pt-3"],["class","value",4,"ngIf","ngIfElse"],[1,"player"],[1,"user"],["draggable","false",1,"avatar",3,"src","alt"],[1,"seed"],[1,"seed-value","canSelect"],[1,"value","empty"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"span",1),U(2),G(3,"transloco"),R(),te(4,y1e,6,5,"div",2),D(5,"button",3),Ae("click",function(){return t.activeModal.close()}),D(6,"span"),U(7,"\xd7"),R()()(),D(8,"div",4)(9,"div",5),te(10,S1e,80,47,"div",6),te(11,T1e,2,0,"div",7),R()(),D(12,"div",8)(13,"div",9),U(14),G(15,"transloco"),D(16,"span",10),Ae("click",function(){return t.onPFModalOpen()}),U(17),G(18,"transloco"),R()()()),2&e&&(S(2),Xn(" ",q(3,7,"shared.round")," ",t.betId," "),S(2),F("ngIf",t.loaded),S(6),F("ngIf",t.loaded),S(1),F("ngIf",!t.loaded),S(3),ie(" ",q(15,9,"shared.modals.fairness.help")," "),S(3),ie(" ",q(18,11,"shared.what_is_provably_fair")," "))},directives:[At,tR,Pf,Jo,Ma,di,gu],pipes:[$t,za,Ya],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.header__info[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:5px}.header__info[_ngcontent-%COMP%]   .bubble-multiplier-wrapper[_ngcontent-%COMP%]{font-size:12px}.header__info[_ngcontent-%COMP%]   .header__info-time[_ngcontent-%COMP%]{padding-left:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:700px;width:100%;line-height:14px;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-bottom:8px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-server[_ngcontent-%COMP%]{width:32px;height:31px;background-image:url(server.d1f55f15e704c606.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-client[_ngcontent-%COMP%]{width:32px;height:25px;background-image:url(client.1a7adfbd8896f09e.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-hash[_ngcontent-%COMP%]{min-width:30px;max-width:30px;height:30px;background-image:url(hash.99b8c40ac31b3e06.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{margin-top:3px;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#0707084d;padding:12px 20px;display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:4px 20px;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80;margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;min-width:40%;max-width:40%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;font-weight:700;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:3px solid #343434;margin-right:7px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;white-space:nowrap}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:12px 20px;justify-content:center;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffff80;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:12px 0;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;text-align:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#ffffff80;text-align:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:#e30c32;cursor:pointer}@media (max-width: 991.98px){.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:auto;min-width:auto;max-width:-moz-fit-content;max-width:fit-content}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{margin-top:4px;width:auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-bottom:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}}"],data:{animation:[]}}),ng=Ve([_i()],ng);let M1e=(()=>{class n{constructor(t,i){this.activeModal=t,this.app=i}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(gr))},n.\u0275cmp=rt({type:n,selectors:[["app-what-is-pf-modal"]],decls:57,vars:51,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","modal-bottom-radius"],[1,"d-flex","justify-content-center","mb-1"],[1,"fairness-i"],[1,"text-center","mt-2","mb-1"],[1,"top-text","description","p-2","my-3"],[1,"text-center","text-uppercase"],[1,"description","mt-2"],[1,"mt-3"],[1,"d-flex","justify-content-center","my-sm-4"],[1,"pf-scheme"],[1,"description","mt-4"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span",1),U(2),G(3,"transloco"),R(),D(4,"button",2),Ae("click",function(){return i.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",3)(8,"div",4),ce(9,"div",5),R(),D(10,"div",6)(11,"span"),U(12),G(13,"transloco"),R()(),D(14,"div",7)(15,"span"),U(16),G(17,"transloco"),R()(),D(18,"div",8),U(19),G(20,"transloco"),R(),D(21,"div"),U(22),G(23,"transloco"),R(),D(24,"div",9),U(25),G(26,"transloco"),R(),D(27,"div",10),U(28),G(29,"transloco"),R(),D(30,"div",9),U(31),G(32,"transloco"),G(33,"transloco"),G(34,"transloco"),R(),D(35,"div",9),U(36),G(37,"transloco"),R(),D(38,"div",11),ce(39,"div",12),R(),D(40,"div",8),U(41),G(42,"transloco"),R(),D(43,"div",13)(44,"div"),U(45),G(46,"transloco"),R(),D(47,"div"),U(48),G(49,"transloco"),R(),D(50,"div"),U(51),G(52,"transloco"),G(53,"transloco"),R(),D(54,"div"),U(55),G(56,"transloco"),R()()()),2&t&&(S(2),ie(" ",q(3,17,"shared.what_is_provably_fair"),"? "),S(10),ie(" Provably Fair - ",q(13,19,"shared.modals.provably-fair.slogan")," "),S(4),nt(q(17,21,"shared.modals.provably-fair.top text")),S(3),ie(" ",q(20,23,"shared.modals.provably-fair.How does it work")," "),S(3),nt(q(23,25,"shared.modals.provably-fair.Simple")),S(3),ie(" ",q(26,27,"shared.modals.provably-fair.text1")," "),S(3),nt(q(29,29,"shared.modals.provably-fair.more")),S(3),e_(" ",q(32,31,"shared.modals.provably-fair.text2-1")," ",q(33,33,"shared.modals.provably-fair.text2-2")," ",q(34,35,"shared.modals.provably-fair.text2-3")," "),S(5),ie(" ",q(37,37,"shared.modals.provably-fair.text2-4")," "),S(5),ie(" ",q(42,39,"shared.modals.provably-fair.video title")," "),S(4),ie("- ",q(46,41,"shared.modals.provably-fair.stats-1"),""),S(3),ie("- ",q(49,43,"shared.modals.provably-fair.stats-2"),""),S(3),Xn(" - ",q(52,45,"shared.modals.provably-fair.settings-1")," ",q(53,47,"shared.modals.provably-fair.settings-2")," "),S(4),ie("- ",q(56,49,"shared.modals.provably-fair.settings-3"),""))},pipes:[$t],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#2d3c27}.modal-body[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:80px;height:90px}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#9ea0a3}.modal-body[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#0000004d}.modal-body[_ngcontent-%COMP%]   .pf-scheme[_ngcontent-%COMP%]{background:url(pf-scheme.8d41a398beb18651.svg) no-repeat center center/contain;width:500px;height:513px}"]}),n})(),x1e=(()=>{class n{constructor(t){this.seed=t,this.finish=new _n,this.seedValue=this.seed.manualSeed,this.isSaveBtnEnabled=!0}handlerSave(){this.seed.manualSeed!==this.seedValue&&(this.seed.manualSeed=this.seedValue),this.finish.emit()}handlerClose(){this.finish.emit()}handlerRandom(){this.seedValue=this.seed.getRandomSeed()}validateSeedValue(t){const i=new RegExp(String.raw`^[A-Za-z0-9-]{5,}$`,"g");this.isSaveBtnEnabled=!!t.match(i)}}return n.\u0275fac=function(t){return new(t||n)(W(eR))},n.\u0275cmp=rt({type:n,selectors:[["app-seed-change"]],outputs:{finish:"finish"},decls:28,vars:17,consts:[[1,"seed-wrapper"],[1,"seed-change"],[1,"seed-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"seed-body"],[1,"seed-body-title"],[1,"seed-value"],["type","text","title","Seed",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","btn-random",3,"click"],[1,"text-uppercase"],[1,"actions"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),U(4),G(5,"transloco"),R(),D(6,"button",3),Ae("click",function(){return i.handlerClose()}),D(7,"span"),U(8,"\xd7"),R()()(),D(9,"div",4)(10,"div",5),U(11),G(12,"transloco"),R(),D(13,"div",6)(14,"input",7),Ae("ngModelChange",function(s){return i.seedValue=s})("ngModelChange",function(s){return i.validateSeedValue(s)}),R(),D(15,"button",8),Ae("click",function(){return i.handlerRandom()}),D(16,"span",9),U(17),G(18,"transloco"),R()()(),D(19,"div",10)(20,"button",11),Ae("click",function(){return i.handlerSave()}),D(21,"span",9),U(22),G(23,"transloco"),R()(),D(24,"button",12),Ae("click",function(){return i.handlerClose()}),D(25,"span",9),U(26),G(27,"transloco"),R()()()()()()),2&t&&(S(4),ie(" ",q(5,7,"shared.modals.fairness-settings.seed-change.change seed")," "),S(7),ie(" ",q(12,9,"shared.modals.fairness-settings.seed-change.enter new seed")," "),S(3),F("ngModel",i.seedValue),S(3),nt(q(18,11,"shared.random")),S(3),F("disabled",!i.isSaveBtnEnabled),S(2),nt(q(23,13,"shared.save")),S(4),nt(q(27,15,"shared.cancel")))},directives:[Pf,Jo,Ma],pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.seed-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(23,30,35,.8);position:absolute;top:0;left:0}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px;width:310px;height:210px;box-shadow:0 0 50px 4px #000000bf;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border:0;padding:0 10px;min-height:36px;max-height:36px;align-items:center;font-size:16px;background:#2c2d30;border-top-left-radius:8px;border-top-right-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]{background:#1b1c1d;width:100%;height:100%;padding:16px 10px 20px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body-title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;border-radius:22px;border:none;padding:5px 15px;color:#fff;width:100%;height:30px;margin-bottom:12px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 5px;display:flex;justify-content:space-between;margin-top:18px}.btn[_ngcontent-%COMP%]{width:135px;height:30px;font-size:16px;line-height:1.2}"]}),n})();function E1e(n,e){1&n&&(D(0,"div",32)(1,"div",33),U(2),G(3,"transloco"),R()()),2&n&&(S(2),ie(" ",q(3,1,"shared.modals.fairness-settings.alert")," "))}function O1e(n,e){if(1&n){const t=_t();D(0,"app-seed-change",34),Ae("finish",function(){return ht(t),ee().changeSeed=!1}),R()}}let ig=class{constructor(e,t,i,r,s,o,a){this.modal=e,this.seed=t,this.toastService=i,this.connector=r,this.betControl=s,this.clipboard=o,this.activeModal=a,this.changeSeed=!1,this.serverSeed=void 0,this.loaded=!1,this.betSetted=!1}ngOnInit(){this.betSetted=this.betControl.isBetSetted,this.connector.request(mr.ServerSeed,null),this.connector.response(In.ServerSeed,200).pipe(kt(this)).subscribe(e=>this.serverSeed=e.serverSeedSHA256)}onSelectClientSeedType(e){this.seed.isRandomSeed!==e&&(this.seed.isRandomSeed=e)}copySeedToClipboard(e){this.clipboard.copyToClipBoard(e),this.toastService.show(yc,{message:"copied",type:na.Success,closable:!1},{duration:1e3})}onPFModalOpen(){this.modal.open(hi.whatIsPf)}};function P1e(n,e){if(1&n){const t=_t();D(0,"img",8),Ae("click",function(){const s=ht(t).$implicit;return ee().onSaveAvatar(s.name)}),R()}if(2&n){const t=e.$implicit,i=ee();Et("active",i.user.avatar===t.name),F("src",i.getAvatar(t.name),an)("alt",i.getAvatar(t.name))}}ig.\u0275fac=function(e){return new(e||ig)(W(Pa),W(eR),W(Io),W(tr),W(ad),W(iz),W(Dr))},ig.\u0275cmp=rt({type:ig,selectors:[["app-fairness-settings"]],decls:80,vars:46,consts:[[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","fairness-disabled",4,"ngIf"],[1,"info"],[1,"info-link",3,"click"],[1,"question-icon"],[1,"client-seed"],[1,"client-seed-title"],[1,"client-seed-title-main"],[1,"client-icon"],[1,"client-seed-title-sub"],[1,"client-seed-type"],[3,"click"],[1,"radio"],[1,"dot"],[1,"block-key"],[1,"key-container","random"],[1,"key"],[1,"current"],[1,"copy-icon",3,"click"],[1,"block-key","d-flex"],[1,"key-container","manual","mr-lg-2","flex-grow-1"],[1,"btn","btn-success","btn-change","text-uppercase",3,"disabled","click"],[1,"server-seed"],[1,"server-seed-title"],[1,"server-icon"],[1,"server-seed-value-block"],[1,"key-container"],[1,"modal-footer"],[3,"finish",4,"ngIf"],[1,"fairness-disabled"],[1,"alert","alert-danger"],[3,"finish"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"div",1),U(2),G(3,"transloco"),R(),D(4,"button",2),Ae("click",function(){return t.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",3),te(8,E1e,4,3,"div",4),D(9,"div",5)(10,"p"),U(11),G(12,"transloco"),R(),D(13,"p",6),Ae("click",function(){return t.onPFModalOpen()}),ce(14,"i",7),U(15),G(16,"transloco"),R()(),D(17,"div",8)(18,"div",9)(19,"div",10),ce(20,"i",11),D(21,"span"),U(22),G(23,"transloco"),R()(),D(24,"div",12)(25,"span"),U(26),G(27,"transloco"),R()()(),D(28,"div",13)(29,"label",14),Ae("click",function(){return t.onSelectClientSeedType(!0)}),D(30,"span",15),ce(31,"i",16),R(),D(32,"span"),U(33),G(34,"transloco"),R()(),D(35,"div",17)(36,"div",18)(37,"div",19)(38,"p")(39,"span",20),U(40),G(41,"transloco"),R(),D(42,"span"),U(43),R()()(),D(44,"i",21),Ae("click",function(){return t.copySeedToClipboard(t.seed.randomSeed)}),R()()()(),D(45,"div",13)(46,"label",14),Ae("click",function(){return t.onSelectClientSeedType(!1)}),D(47,"span",15),ce(48,"i",16),R(),D(49,"span"),U(50),G(51,"transloco"),R()(),D(52,"div",22)(53,"div",23)(54,"div",19)(55,"p")(56,"span",20),U(57),G(58,"transloco"),R(),D(59,"span"),U(60),R()()(),D(61,"i",21),Ae("click",function(){return t.copySeedToClipboard(t.seed.manualSeedWithId)}),R()(),D(62,"button",24),Ae("click",function(){return t.changeSeed=!0}),D(63,"span"),U(64),G(65,"transloco"),R()()()()(),D(66,"div",25)(67,"div",26),ce(68,"i",27),D(69,"span"),U(70),G(71,"transloco"),R()(),D(72,"div",28)(73,"div",29)(74,"div",19),U(75),R()()()()(),D(76,"div",30),U(77),G(78,"transloco"),R(),te(79,O1e,1,0,"app-seed-change",31)),2&e&&(S(2),ie(" ",q(3,22,"shared.provably_fair_settings")," "),S(6),F("ngIf",t.betSetted),S(3),nt(q(12,24,"shared.modals.fairness-settings.tooltip.text")),S(4),ie(" ",q(16,26,"shared.what_is_provably_fair")," "),S(7),nt(q(23,28,"shared.modals.fairness-settings.client-part.title")),S(4),nt(q(27,30,"shared.modals.fairness-settings.client-part.text")),S(2),Et("active",t.seed.isRandomSeed),S(5),ie(" ",q(34,32,"shared.modals.fairness-settings.client-part.random")," "),S(7),ie(" ",q(41,34,"shared.modals.fairness-settings.client-part.current")," "),S(3),nt(t.seed.randomSeed),S(2),Et("active",!t.seed.isRandomSeed),S(5),ie(" ",q(51,36,"shared.modals.fairness-settings.client-part.manual")," "),S(7),ie(" ",q(58,38,"shared.modals.fairness-settings.client-part.current")," "),S(3),nt(t.seed.manualSeedWithId),S(2),F("disabled",t.seed.isRandomSeed),S(2),nt(q(65,40,"shared.change")),S(6),nt(q(71,42,"shared.modals.fairness-settings.server seed")),S(5),ie(" ",null===t.serverSeed?"loading...":t.serverSeed," "),S(2),ie(" ",q(78,44,"shared.modals.fairness-settings.bottom"),"\n"),S(2),F("ngIf",t.changeSeed))},directives:[At,x1e],pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.modal-body[_ngcontent-%COMP%]{color:#868b8d;padding:unset;font-size:13px}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{min-width:260px;max-width:360px}p[_ngcontent-%COMP%]{margin-bottom:0}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);text-align:left;line-height:14px;cursor:pointer}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{color:#e30c32;display:flex;align-items:center;flex-shrink:0;margin-left:8px}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{background:url(question.8f5a7ef7bad6779b.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer;margin-right:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:647px}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{min-width:16px;height:16px;margin-left:8px;display:inline-block;background-size:cover;margin-right:5px}.client-seed[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.client-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;align-items:center;color:#fff;width:100%}.client-seed-title-main[_ngcontent-%COMP%]{width:100%;display:flex}.client-seed-title-sub[_ngcontent-%COMP%]{width:100%;display:flex;max-width:689px;color:#9b9c9e}.client-seed-title[_ngcontent-%COMP%]   .client-icon[_ngcontent-%COMP%]{background-image:url(client.1a7adfbd8896f09e.svg);width:32px;height:25px;display:inline-block;background-size:cover;margin-right:10px}.client-seed-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:10px;max-width:689px;border-radius:8px;background-color:#0707084d;padding:10px 10px 10px 20px}.client-seed-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;cursor:pointer;flex-shrink:0}.client-seed-type[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#0006;border:solid 1px #38ca07;border-radius:50%;margin-right:5px}.client-seed[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:.2}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{opacity:1;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:1}.server-seed[_ngcontent-%COMP%]{padding:10px 20px 20px;display:flex;flex-direction:column;align-items:center}.server-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;color:#fff}.server-seed-title[_ngcontent-%COMP%]   .server-icon[_ngcontent-%COMP%]{background-image:url(server.d1f55f15e704c606.svg);width:32px;height:31px;display:inline-block;background-size:cover;margin-right:10px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;margin-top:13px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:7px;max-width:100px;min-width:100px;height:32px;border-radius:40px;background-color:#0006;border:solid 2px #38ca07;font-size:13px;color:#fff;cursor:pointer}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px!important;color:#868b8d;font-size:13px}.modal-footer[_ngcontent-%COMP%]   .game-history[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.key-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:700px;margin-top:5px;padding:12px 23px 14px 20px;background-color:#000;position:relative;overflow:hidden;color:#fff;border-radius:24px}.key-container.random[_ngcontent-%COMP%]{min-width:400px;max-width:400px}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-right:8px;height:20px;white-space:nowrap}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{height:100%}.key-container[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{background:url(copy.4a0d60bc14e7330f.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]{width:60px;height:100%;border-radius:6px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:flex-end}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]   .icon-copy[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px;color:#fff;margin-right:13px}.key-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#868b8d}.btn-change[_ngcontent-%COMP%]{height:30px;line-height:1.2}.block-key[_ngcontent-%COMP%]{width:100%;max-width:400px;align-items:center;justify-content:space-between}@media (max-width: 991.98px){.info[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}.client-seed[_ngcontent-%COMP%]   .client-seed-type[_ngcontent-%COMP%]{flex-direction:column}.block-key[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;max-width:100%;justify-content:center}.block-key[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{margin-top:10px}.key-container.random[_ngcontent-%COMP%], .key-container.manual[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]}),ig=Ve([_i()],ig);let I1e=(()=>{class n{constructor(t,i,r){this.activeModal=t,this.connector=i,this.user=r,this.avatars=[];for(let s=1;s<=72;s++)this.avatars.push({name:"av-"+s+".png"})}getAvatar(t){return qs(Qs.avatarPath+t)}onSaveAvatar(t){this.user.avatar!==t&&(this.user.avatar=t,this.activeModal.close(),this.connector.request(mr.ChangeProfileImage,{profileImage:t}))}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(tr),W(fu))},n.\u0275cmp=rt({type:n,selectors:[["app-game-avatar"]],decls:15,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"content"],[1,"wrap"],["draggable","false","class","game-img",3,"active","src","alt","click",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],["draggable","false",1,"game-img",3,"src","alt","click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span"),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return i.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",2)(8,"div",3)(9,"div",4),te(10,P1e,1,4,"img",5),R()()(),D(11,"div",6)(12,"button",7),Ae("click",function(){return i.activeModal.close()}),U(13),G(14,"transloco"),R()()),2&t&&(S(2),nt(q(3,3,"shared.modals.game-avatar.title")),S(8),F("ngForOf",i.avatars),S(3),ie(" ",q(14,5,"shared.close")," "))},directives:[di],pipes:[$t],styles:[".content[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:flex;justify-content:center;max-height:100%}.content[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin-right:-8px;margin-bottom:-8px}.content[_ngcontent-%COMP%]   .game-img[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;border:4px solid #333;background-position:center;margin-right:8px;margin-bottom:8px;cursor:pointer}.content[_ngcontent-%COMP%]   .game-img.active[_ngcontent-%COMP%]{border-color:#428a12;cursor:default}.btn[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();function A1e(n,e){if(1&n){const t=_t();D(0,"div",3)(1,"div",4)(2,"span",5),Ae("click",function(){return ht(t),ee().selectClick()}),ce(3,"i",6),R(),D(4,"div",7),U(5),G(6,"transloco"),R()()()}2&n&&(Et("selected",ee().freeBets.isActive()),S(5),ie(" ",q(6,3,"shared.modals.free-bets-management.play with cash")," "))}function D1e(n,e){if(1&n){const t=_t();D(0,"span",5),Ae("click",function(){ht(t);const r=ee(2);return r.selectClick(r.freeBet.freeBetsId)}),ce(1,"i",6),R()}}function R1e(n,e){if(1&n&&(D(0,"div",18),U(1),R()),2&n){const t=ee(2);S(1),ie(" ",t.freeBet.numberOfFreeBets," ")}}function k1e(n,e){if(1&n&&(D(0,"div",19),U(1),R()),2&n){const t=ee(2);S(1),nt(t.freeBet.freeBetsLeft)}}function N1e(n,e){if(1&n&&(D(0,"div",20)(1,"div",21)(2,"div",22),U(3),G(4,"transloco"),R(),D(5,"div",23),U(6),G(7,"date"),R()(),D(8,"div",24)(9,"div",22),U(10),G(11,"transloco"),R(),D(12,"div",23),U(13),R()(),D(14,"div",24)(15,"div",22),U(16),G(17,"transloco"),R(),D(18,"div",23),U(19),G(20,"date"),R()()()),2&n){const t=ee(2);S(3),ie(" ",q(4,6,"shared.modals.free-bets-management.granted")," "),S(3),ie(" ",Gt(7,8,t.freeBet.freeBetsStartDate,"dd.MM.yy, HH:mm")," "),S(4),ie(" ",q(11,11,"shared.modals.free-bets-management.min cashout coefficient")," "),S(3),nt(t.freeBet.freeBetsMinCashOut),S(3),ie(" ",q(17,13,"shared.modals.free-bets-management.expires")," "),S(3),ie(" ",Gt(20,15,t.freeBet.freeBetsEndDate,"dd.MM.yy, HH:mm")," ")}}function F1e(n,e){if(1&n){const t=_t();D(0,"div",8)(1,"div",4),te(2,D1e,2,0,"span",9),te(3,R1e,2,1,"div",10),te(4,k1e,2,1,"div",11),D(5,"div",12)(6,"div",13)(7,"span"),U(8),G(9,"currencyPrecision"),R()()(),D(10,"div",14)(11,"div",13),U(12),G(13,"currencyPrecision"),R()(),D(14,"div",15),Ae("click",function(){return ht(t),ee().toggleDisplayDetails()}),ce(15,"div",16),R()(),te(16,N1e,21,18,"div",17),R()}if(2&n){const t=ee();Et("detailed",t.isDisplayedDetails)("selected",t.freeBets.isActive(t.freeBet.freeBetsId)),S(2),F("ngIf",!t.isArchive),S(1),F("ngIf",t.isArchive),S(1),F("ngIf",!t.isArchive),S(4),ie(" ",q(9,12,t.freeBet.freeBetsBetAmount)," "),S(4),ie(" ",q(13,14,t.freeBet.freeBetsWinSum)," "),S(3),Et("rotate",t.isDisplayedDetails),S(1),F("ngIf",t.isDisplayedDetails)}}let B1e=(()=>{class n{constructor(t,i,r,s){this.mainService=t,this.freeBets=i,this.activeModal=r,this.app=s,this.itemType=void 0,this.isArchive=!1,this.isDisplayedDetails=!1}selectClick(t){this.freeBets.isActive(t)||(this.freeBets.activate(t),this.activeModal.close())}clickPlayWithCash(){}clickPlayWithFreeBet(){}toggleDisplayDetails(){this.isDisplayedDetails=!this.isDisplayedDetails}}return n.\u0275fac=function(t){return new(t||n)(W(Zr),W(od),W(Dr),W(gr))},n.\u0275cmp=rt({type:n,selectors:[["app-free-bet-management-item"]],inputs:{itemType:"itemType",isArchive:"isArchive",freeBet:"freeBet"},decls:3,vars:2,consts:[[1,"item-wrapper",3,"ngSwitch"],["class","rounded-block cash-block",3,"selected",4,"ngSwitchCase"],["class","rounded-block",3,"detailed","selected",4,"ngSwitchDefault"],[1,"rounded-block","cash-block"],[1,"main-row"],[1,"radio",3,"click"],[1,"dot"],[1,"cash-block__text"],[1,"rounded-block"],["class","radio",3,"click",4,"ngIf"],["class","quantity archive",4,"ngIf"],["class","quantity",4,"ngIf"],[1,"bet"],[1,"amount"],[1,"total-win"],[1,"arrow-wrapper",3,"click"],[1,"arrow"],["class","details",4,"ngIf"],[1,"quantity","archive"],[1,"quantity"],[1,"details"],[1,"table-row","top-row"],[1,"col-first"],[1,"col-sec"],[1,"table-row"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,A1e,7,5,"div",1),te(2,F1e,17,16,"div",2),R()),2&t&&(F("ngSwitch",i.itemType),S(1),F("ngSwitchCase","playWithCash"))},directives:[Va,Zl,df,At],pipes:[$t,Zn,za],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:5px auto 0;border:solid 1px transparent}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:12px;flex-shrink:0}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{width:30%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:20%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:12%;padding-right:10px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{background:url(dd-h.b73ce3c52613cfd8.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.08ed122e8624a251.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:276px;min-height:70px;border-radius:6px;background-color:#212123;font-size:12px;margin:8px 0 12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;display:flex;line-height:1}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-first[_ngcontent-%COMP%]{flex-shrink:0;margin-left:10px;width:50%;font-size:11px;color:#83878e}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-sec[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin-left:20px;width:35%;color:#fff}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row.top-row[_ngcontent-%COMP%]{margin-top:5px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]{border:solid 1px #229607}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.item-wrapper[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{height:121px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]{margin-top:10px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]   .cash-block__text[_ngcontent-%COMP%]{margin-left:12px}"]}),n})();function L1e(n,e){1&n&&ce(0,"app-free-bet-management-item",11),2&n&&F("itemType","playWithCash")}function U1e(n,e){if(1&n){const t=_t();D(0,"div",12)(1,"div"),U(2),G(3,"transloco"),R(),D(4,"div",13),Ae("click",function(){return ht(t),ee().onClickArchiveHistory()}),ce(5,"div",14),D(6,"div"),U(7),G(8,"transloco"),R()()()}2&n&&(S(2),ie(" ",q(3,2,"shared.modals.free-bets-management.active free bets")," "),S(5),nt(q(8,4,"shared.archive")))}function H1e(n,e){if(1&n){const t=_t();D(0,"div",15)(1,"div"),U(2),G(3,"transloco"),R(),D(4,"div",13),Ae("click",function(){return ht(t),ee().isArchive=!1}),ce(5,"div",16),D(6,"div"),U(7),G(8,"transloco"),R()()()}if(2&n){const t=ee();S(2),nt(q(3,4,"shared.archive")),S(2),Et("disabled",!t.loaded),S(3),nt(q(8,6,"shared.back"))}}function j1e(n,e){if(1&n&&(D(0,"div",25),ce(1,"app-free-bet-management-item",26),R()),2&n){const t=e.$implicit,i=ee(2);S(1),F("isArchive",i.isArchive)("freeBet",t)}}function G1e(n,e){if(1&n){const t=_t();D(0,"div",27)(1,"div",28),Ae("click",function(){ht(t);const r=ee(2);return r.getFreeBetsArchive(r.freeBetsList[r.freeBetsList.length-1].freeBetsId)}),ce(2,"div",29),D(3,"span",30),U(4),G(5,"transloco"),R()()()}2&n&&(S(4),nt(q(5,1,"shared.load_more")))}function V1e(n,e){1&n&&(D(0,"div"),ce(1,"app-loader",31),R())}function z1e(n,e){if(1&n&&(D(0,"div",17)(1,"div",18)(2,"div",19),U(3),G(4,"transloco"),R(),D(5,"div",20),U(6),G(7,"transloco"),R(),D(8,"div",21),U(9),G(10,"transloco"),R()(),D(11,"div",22),te(12,j1e,2,2,"div",23),te(13,G1e,6,3,"div",24),te(14,V1e,2,0,"div",9),R()()),2&n){const t=ee();S(2),Et("archive",t.isArchive),S(1),ie(" ",q(4,10,"shared.modals.free-bets-management.quantity")," "),S(3),Xn(" ",q(7,12,"shared.bet")," ",t.gameConfig.currency," "),S(3),Xn(" ",q(10,14,"shared.win")," ",t.gameConfig.currency," "),S(3),F("ngForOf",t.freeBetsList),S(1),F("ngIf",t.isArchive&&t.isMoreArchive&&t.loaded),S(1),F("ngIf",t.isArchive&&!t.loaded)}}function $1e(n,e){1&n&&(D(0,"div"),ce(1,"app-loader"),R())}function W1e(n,e){1&n&&(D(0,"div",35),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.modals.free-bets-management.no active free bets")," "))}function Y1e(n,e){1&n&&(D(0,"div",35),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.modals.free-bets-management.nothing yet")," "))}function X1e(n,e){if(1&n&&(D(0,"div",32),ce(1,"div",33),te(2,W1e,3,3,"div",34),te(3,Y1e,3,3,"div",34),R()),2&n){const t=ee();S(2),F("ngIf",!t.isArchive),S(1),F("ngIf",t.isArchive)}}let rg=class{constructor(e,t,i,r){this.gameConfig=e,this.activeModal=t,this.freeBets=i,this.connector=r,this.isArchive=!1,this.loaded=!0,this.isMoreArchive=!1,this.freeBetsArchiveList=[]}ngOnInit(){this.connector.response(In.FreeBetsArchive).pipe(kt(this)).subscribe(e=>this.freeBetsArchiveResponse(e))}freeBetsArchiveResponse(e){this.loaded=!0,200===e.code&&(this.isMoreArchive=e.isHaveMore,e.freeBetsArchiveInfo&&(this.freeBetsArchiveList?this.freeBetsArchiveList.push(...e.freeBetsArchiveInfo):this.freeBetsArchiveList=e.freeBetsArchiveInfo))}onClickArchiveHistory(){this.isArchive=!0,this.getFreeBetsArchive()}getFreeBetsArchive(e){if(!e&&this.freeBetsArchiveList.length>0)return;this.loaded=!1;const t={};e&&(t.startId=e),this.connector.request(mr.FreeBetsArchive,t)}get freeBetsList(){return this.isArchive?this.freeBetsArchiveList:this.freeBets.list}get freeBetsCount(){return this.freeBetsList?this.freeBetsList.length:0}};rg.\u0275fac=function(e){return new(e||rg)(W(Hn),W(Dr),W(od),W(tr))},rg.\u0275cmp=rt({type:rg,selectors:[["app-free-bets-management"]],decls:16,vars:9,consts:[[1,"title","modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","px-2"],[1,"content-wrapper"],[1,"content"],["class","free-bet-item",3,"itemType",4,"ngIf"],["class","free-bets-header pl-1",4,"ngIf"],["class","free-bets-header free-bets-header-archive",4,"ngIf"],["class","content__free-bets",4,"ngIf"],[4,"ngIf"],["class","content__none",4,"ngIf"],[1,"free-bet-item",3,"itemType"],[1,"free-bets-header","pl-1"],[1,"archive-btn","pl-1","pr-2",3,"click"],[1,"history-i"],[1,"free-bets-header","free-bets-header-archive"],[1,"close-i"],[1,"content__free-bets"],[1,"free-bets-table-header"],[1,"quantity"],[1,"bet"],[1,"total-win"],[1,"free-bets-list-wrapper"],["class","free-bets-list",4,"ngFor","ngForOf"],["class","load-more-wrapper",4,"ngIf"],[1,"free-bets-list"],[1,"free-bets-list__item",3,"isArchive","freeBet"],[1,"load-more-wrapper"],[1,"load-more",3,"click"],[1,"load-more-i"],[1,"load-more__text"],["type","small"],[1,"content__none"],[1,"free-bet-image"],["class","none-text",4,"ngIf"],[1,"none-text"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"span"),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return t.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",2)(8,"div",3)(9,"div",4),te(10,L1e,1,1,"app-free-bet-management-item",5),te(11,U1e,9,6,"div",6),te(12,H1e,9,8,"div",7),te(13,z1e,15,16,"div",8),te(14,$1e,2,0,"div",9),te(15,X1e,4,2,"div",10),R()()()),2&e&&(S(2),nt(q(3,7,"shared.modals.free-bets-management.title")),S(8),F("ngIf",!t.isArchive),S(1),F("ngIf",!t.isArchive),S(1),F("ngIf",t.isArchive),S(1),F("ngIf",t.freeBetsCount>0),S(1),F("ngIf",t.isArchive&&!t.loaded&&0===t.freeBetsCount),S(1),F("ngIf",0===t.freeBetsCount&&t.loaded))},directives:[At,B1e,di,gu],pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.title.modal-header.canSelect[_ngcontent-%COMP%]{padding-left:15px}.content-wrapper[_ngcontent-%COMP%]{position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__free-bets[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px 0;display:flex;align-items:center;flex-direction:column;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .free-bet-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.1e243c2f0def2ce9.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .none-text[_ngcontent-%COMP%]{margin-top:14px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:12px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header-archive[_ngcontent-%COMP%]{margin:0 auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;cursor:pointer;color:#b8b8b7;border-radius:17px;border:solid 1px #414148;background-color:#252528}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.2;pointer-events:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{background:url(history.f7bb16bd19899b41.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .close-i[_ngcontent-%COMP%]{background:url(x-r.4631ab127c326520.svg) no-repeat center center/contain;width:11px;height:11px;margin-right:3px;align-self:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .close-i[_ngcontent-%COMP%]{background:url(x-r-h.50c61e3b304f4ab0.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]{margin-top:9px;width:100%;display:flex;font-size:11px;color:#83878e;justify-content:flex-start}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:37px;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:30%;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]{height:calc(100% - 40px);width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child{width:100%;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child   .free-bets-list__item[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{text-align:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{margin:11px 0 5px;display:inline-flex;align-items:center;height:22px;border-radius:13px;border:solid 1px #6f6f6f;background-color:#1e1e1e;color:#b8b8b7;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]:hover   .load-more-i[_ngcontent-%COMP%]{background:url(load-h.1b7512b42d0c37e1.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more-i[_ngcontent-%COMP%]{background:url(load.370ad567de19b0d6.svg) no-repeat center center/contain;margin:0 4px 0 10px;width:14px;height:9px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more__text[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}.free-bet-item[_ngcontent-%COMP%]{width:100%;color:#d2d2d2}"]}),rg=Ve([_i()],rg);var Ia=(()=>(function(n){n.EN="en",n.KA="ka",n.RU="ru",n.HY="hy",n.TR="tr",n.BG="bg",n.IT="it",n.ZH="zh",n.KO="ko",n.HR="hr",n.SV="sv",n.FA="fa",n.ES="es",n.TH="th"}(Ia||(Ia={})),Ia))();const rz=n=>{const e={};return e[Ia.EN]="https://www.youtube.com/embed/PZejs3XDCSY?playsinline=1&rel=0",e[Ia.RU]="https://www.youtube.com/embed/dcThkn7JMV0?playsinline=1&rel=0",e[Ia.TR]="https://www.youtube.com/embed/04Kjqzxuv4w?playsinline=1&rel=0",e[Ia.BG]="https://www.youtube.com/embed/uqqaznDHThM?playsinline=1&rel=0",e[Ia.IT]="https://www.youtube.com/embed/pWRuRU01zV8?playsinline=1&rel=0",e[Ia.ZH]="https://www.youtube.com/embed/Q7GDLGcSTu0?playsinline=1&rel=0",e[Ia.KO]="https://www.youtube.com/embed/ZVatehIvZb0?playsinline=1&rel=0",e[Ia.FA]="https://www.youtube.com/embed/_5DNXyuabns?playsinline=1&rel=0",e[Ia.HR]="https://www.youtube.com/embed/jwi2__ybp1o?playsinline=1&rel=0",e[Ia.ES]="https://www.youtube.com/embed/kXxVkRHKhQI?playsinline=1&rel=0",e[Ia.TH]="https://www.youtube.com/embed/VleLfaBs2JQ?playsinline=1&rel=0",e.hasOwnProperty(n)?e[n]:e[Ia.EN]};let sz=(()=>{class n{constructor(){this.clonedBetControlNodeSubject=new zD(1),this.clonedBetControlNode$=this.clonedBetControlNodeSubject.asObservable()}sendClonedBetControlNode(t){this.clonedBetControlNodeSubject.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const q1e=["betControlTarget"];let sg=class{constructor(e,t,i){this.activeModal=e,this.rules=t,this.cd=i}ngOnInit(){this.rules.clonedBetControlNode$.pipe(kt(this)).subscribe(e=>this.addClonedBetControlNode(e))}addClonedBetControlNode(e){this.betControlTarget&&(this.betControlTarget.nativeElement.appendChild(e),this.cd.markForCheck())}};function K1e(n,e){if(1&n&&(D(0,"div",30)(1,"div",31),ce(2,"iframe",32),R()()),2&n){const t=ee();S(2),F("src",t.videoURL,OC)}}sg.\u0275fac=function(e){return new(e||sg)(W(Dr),W(sz),W(Fn))},sg.\u0275cmp=rt({type:sg,selectors:[["app-rules-bet-control"]],viewQuery:function(e,t){if(1&e&&Lr(q1e,7),2&e){let i;Kn(i=Jn())&&(t.betControlTarget=i.first)}},decls:2,vars:0,consts:[["betControlTarget",""]],template:function(e,t){1&e&&ce(0,"div",null,0)},styles:["div[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),sg=Ve([_i()],sg);const J1e=function(n){return{multiplierFormula:n}};function Q1e(n,e){if(1&n&&(ce(0,"li",23),G(1,"transloco")),2&n){const t=ee();F("innerHTML",Gt(1,1,"shared.modals.rules.game-rules.details.multiplierFormula",zn(4,J1e,t.multiplierFormulaHtml)),tf)}}function Z1e(n,e){1&n&&(D(0,"li",21),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.modals.rules.game-rules.game-functions.bet-cashout.point2")," "))}function eCe(n,e){1&n&&(ft(0),ce(1,"br"),U(2),G(3,"transloco"),ce(4,"br"),U(5),G(6,"transloco"),ce(7,"br"),U(8),G(9,"transloco"),ce(10,"br"),U(11),G(12,"transloco"),gt()),2&n&&(S(2),ie(" ",q(3,4,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-1")," "),S(3),ie(" ",q(6,6,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-2")," "),S(3),ie(" ",q(9,8,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-3")," "),S(3),ie(" ",q(12,10,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-4")," "))}function tCe(n,e){if(1&n&&(D(0,"ul",20)(1,"li",21),U(2),G(3,"transloco"),R(),D(4,"li",21),U(5),G(6,"transloco"),R(),D(7,"li",21),U(8),G(9,"transloco"),R(),D(10,"li",21),U(11),G(12,"transloco"),R(),D(13,"li",21),U(14),G(15,"transloco"),R(),D(16,"li",21),U(17),G(18,"transloco"),R(),D(19,"li",21),U(20),G(21,"transloco"),R(),D(22,"li",21),U(23),G(24,"transloco"),R()()),2&n){const t=ee(2);S(2),ie(" ",q(3,8,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7")," "),S(3),ie(" ",q(6,10,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point1")," "),S(3),ie(" ",q(9,12,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point8")," "),S(3),ie(" ",q(12,14,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point2")," "),S(3),ie(" ",q(15,16,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point3")," "),S(3),ie(" ",q(18,18,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point4")," "),S(3),ie(" ",q(21,20,t.gameConfig.gameRulesAutoCashOutType===t.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," "),S(3),ie(" ",q(24,22,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point9")," ")}}function nCe(n,e){if(1&n&&(D(0,"ul",20)(1,"li",21),U(2),G(3,"transloco"),R(),D(4,"li",21),U(5),G(6,"transloco"),R(),D(7,"li",21),U(8),G(9,"transloco"),R()()),2&n){const t=ee(2);S(2),ie(" ",q(3,3,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7")," "),S(3),ie(" ",q(6,5,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point6")," "),S(3),ie(" ",q(9,7,t.gameConfig.gameRulesAutoCashOutType===t.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," ")}}function iCe(n,e){if(1&n&&(D(0,"div",25)(1,"div",19),U(2),G(3,"transloco"),R(),te(4,tCe,25,24,"ul",33),te(5,nCe,10,9,"ul",33),R()),2&n){const t=ee();S(2),ie(" ",q(3,3,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.title")," "),S(2),F("ngIf",void 0!==t.gameConfig.autoBetOptions),S(1),F("ngIf",void 0===t.gameConfig.autoBetOptions)}}const nR=function(n){return{icon:n}};function rCe(n,e){if(1&n&&(ce(0,"li",23),G(1,"transloco")),2&n){const t=ee();F("innerHTML",Gt(1,1,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2",zn(4,nR,t.iconChatHtml)),tf)}}function sCe(n,e){1&n&&(D(0,"div",25)(1,"div",19),U(2),G(3,"transloco"),R(),D(4,"ul",20)(5,"li",21),U(6),G(7,"transloco"),R()()()),2&n&&(S(2),ie(" ",q(3,2,"shared.modals.rules.game-rules.game-functions.in-game-chat.title")," "),S(4),ie(" ",q(7,4,"shared.modals.rules.game-rules.game-functions.in-game-chat.point1")," "))}function oCe(n,e){1&n&&(D(0,"div",25)(1,"div",34),U(2),G(3,"transloco"),R(),D(4,"ul",20)(5,"li",21),U(6),G(7,"transloco"),R()()()),2&n&&(S(2),ie(" ",q(3,2,"shared.free_bets")," "),S(4),ie(" ",q(7,4,"shared.modals.rules.game-rules.game-functions.free-bets.point1")," "))}function aCe(n,e){1&n&&(D(0,"ul",20)(1,"li",21),U(2),G(3,"transloco"),R()()),2&n&&(S(2),ie(" ",q(3,1,"shared.modals.rules.game-rules.game-functions.rain-feature.point1")," "))}function lCe(n,e){1&n&&(D(0,"ul",20)(1,"li",21),U(2),G(3,"transloco"),R()()),2&n&&(S(2),ie(" ",q(3,1,"shared.modals.rules.game-rules.game-functions.rain-feature.point2")," "))}function cCe(n,e){if(1&n&&(D(0,"div",25)(1,"div",19),U(2),G(3,"transloco"),R(),te(4,aCe,4,3,"ul",33),te(5,lCe,4,3,"ul",33),R()),2&n){const t=ee();S(2),ie(" ",q(3,3,"shared.modals.rules.game-rules.game-functions.rain-feature.title")," "),S(2),F("ngIf",t.gameConfig.chat.promo.isEnabled),S(1),F("ngIf",t.gameConfig.chat.rain.isEnabled)}}const uCe=function(n,e){return{minBankValue:n,currency:e}};function dCe(n,e){if(1&n&&(D(0,"div",25)(1,"div",19),U(2),G(3,"transloco"),R(),D(4,"ul",20)(5,"li",21),U(6),G(7,"transloco"),R()()()),2&n){const t=ee();S(2),ie(" ",q(3,2,"shared.modals.rules.game-rules.game-functions.minimum_bet_value.title")," "),S(4),ie(" ",Gt(7,4,"shared.modals.rules.game-rules.game-functions.minimum_bet_value.point1",wa(7,uCe,t.minBankValue,t.gameConfig.currency))," ")}}const hCe=function(n,e){return{returnToPlayer:n,numberOfRounds:e}};function pCe(n,e){if(1&n&&(D(0,"div",25)(1,"div",19),U(2),G(3,"transloco"),R(),D(4,"ul",20)(5,"li",21),U(6),G(7,"transloco"),R()()()),2&n){const t=ee();S(2),ie(" ",q(3,2,"shared.modals.rules.game-rules.game-functions.return-to-player.title")," "),S(4),ie(" ",Gt(7,4,"shared.modals.rules.game-rules.game-functions.return-to-player.point1",wa(7,hCe,t.gameConfig.returnToPlayer,100-t.gameConfig.returnToPlayer))," ")}}function fCe(n,e){1&n&&(D(0,"div",25)(1,"div",19),U(2),G(3,"transloco"),R(),D(4,"ul",20)(5,"li",21),U(6),G(7,"transloco"),R(),D(8,"li",21),U(9),G(10,"transloco"),R()()()),2&n&&(S(2),ie(" ",q(3,3,"shared.modals.rules.game-rules.game-functions.multi-rooms.title")," "),S(4),ie(" ",q(7,5,"shared.modals.rules.game-rules.game-functions.multi-rooms.point1")," "),S(3),ie(" ",q(10,7,"shared.modals.rules.game-rules.game-functions.multi-rooms.point2")," "))}function gCe(n,e){1&n&&(D(0,"li",21),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.modals.rules.game-rules.game-functions.other.unfinished game")," "))}const mCe=function(n,e){return{maxWin:n,currency:e}};function _Ce(n,e){if(1&n&&(D(0,"li",21),U(1),G(2,"transloco"),G(3,"currencyPrecision"),R()),2&n){const t=ee();S(1),ie(" ",Gt(2,1,"shared.modals.rules.game-rules.game-functions.other.max_win",wa(6,mCe,q(3,4,t.gameConfig.maxUserWin),t.gameConfig.currency))," ")}}const yCe=function(n){return{maxMultiplier:n}};function bCe(n,e){if(1&n&&(D(0,"li",21),U(1),G(2,"transloco"),G(3,"multiplierPrecision"),R()),2&n){const t=ee();S(1),ie(" ",Gt(2,1,"shared.modals.rules.game-rules.game-functions.other.max_user_multiplier",zn(6,yCe,q(3,4,t.gameConfig.maxUserMultiplier)))," ")}}const vCe=function(n){return{min:n}};function CCe(n,e){if(1&n&&(D(0,"li",21),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),ie(" ",Gt(2,1,"shared.modals.rules.game-rules.game-functions.other.inactivityTime",zn(4,vCe,t.gameConfig.inactivityTimeForDisconnect))," ")}}function wCe(n,e){if(1&n&&(D(0,"div",35)(1,"div")(2,"span"),U(3),G(4,"transloco"),R(),D(5,"span"),U(6),R()()()),2&n){const t=ee();S(3),ie(" ",q(4,2,"shared.modals.rules.game-rules.game-functions.version")," "),S(3),nt(t.gameConfig.gameVersion)}}const SCe=function(n,e){return{"pt-5":n,"pt-2":e}};let TCe=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d){this.activeModal=t,this.app=i,this.connector=r,this.modal=s,this.urlParams=o,this.sanitizer=a,this.currencyPrecisionPipe=l,this.multiServer=c,this.gameConfig=u,this.chatFutureService=d,this.videoURL=void 0,this.minBankValue=this.currencyPrecisionPipe.transform(Fi.mul(this.gameConfig.minBet,1.01).toNumber()),this.gameRulesAutoCashOutType=Av,this.multiplierFormulaHtml="\u230a100 \xb7 e<sup>0.000083 \xb7 {ms}</sup>\u230b / 100",this.iconChatHtml=`<img src=${qs("assets/icons/message-icon.svg")} alt="chat" width="16" height="16" />`,this.iconPfHtml=`<img src=${qs("assets/icons/pf-icon.svg")} alt="chat" width="14" height="16" />`}get isEmbeddedVideoHidden(){var t;return null!==(t=this.gameConfig.isEmbeddedVideoHidden)&&void 0!==t&&t}ngOnInit(){const t=rz(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(t)}onPFModalOpen(t){t.preventDefault(),this.modal.open(hi.whatIsPf)}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(gr),W(tr),W(Pa),W(ac),W(wP),W(Zn),W(Z_),W(Hn),W(Tl))},n.\u0275cmp=rt({type:n,selectors:[["app-rules"]],features:[qn([Zn])],decls:174,vars:153,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"text-grey"],["href","#",3,"click"],[1,"mt-4","mb-2","text-uppercase"],["class","youtube",4,"ngIf"],[1,"steps-wrapper"],[1,"pl-2",3,"ngClass"],[1,"steps-container"],[1,"step","step-1"],[1,"step-bg-img"],[1,"step-text","pt-2"],[1,"step","step-2"],[1,"step-text"],[1,"step","step-3"],[1,"mt-3","text-grey"],[1,"rules-list","pt-3"],[1,"rules-list-title"],[1,"list-group"],[1,"list-group-item"],["class","list-group-item",3,"innerHTML",4,"ngIf"],[1,"list-group-item",3,"innerHTML"],[1,"mt-4","mt-5"],[1,"rules-list","pt-2"],["class","list-group-item",4,"ngIf"],[4,"ngIf"],["class","rules-list pt-2",4,"ngIf"],["class","game-version-wrapper border-top mt-4 pt-2 d-flex justify-content-center",4,"ngIf"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],["class","list-group",4,"ngIf"],[1,"rules-list-title","text-capitalize"],[1,"game-version-wrapper","border-top","mt-4","pt-2","d-flex","justify-content-center"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span",1),U(2),G(3,"transloco"),R(),D(4,"button",2),Ae("click",function(){return i.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",3)(8,"p",4),U(9),G(10,"transloco"),R(),D(11,"a",5),Ae("click",function(s){return i.onPFModalOpen(s)}),U(12),G(13,"transloco"),R(),D(14,"h6",6),U(15),G(16,"transloco"),R(),te(17,K1e,3,1,"div",7),D(18,"div",8)(19,"h6",9),U(20),G(21,"transloco"),R(),D(22,"div",10)(23,"div",11)(24,"h3"),U(25,"01"),R(),D(26,"div",12),ce(27,"app-rules-bet-control"),R(),D(28,"div",13)(29,"span",1),U(30),G(31,"transloco"),R(),U(32),G(33,"transloco"),R()(),D(34,"div",14)(35,"h3"),U(36,"02"),R(),ce(37,"div",12),D(38,"div",15)(39,"span",1),U(40),G(41,"transloco"),R(),U(42),G(43,"transloco"),R()(),D(44,"div",16)(45,"h3"),U(46,"03"),R(),ce(47,"div",12),D(48,"div",15)(49,"span",1),U(50),G(51,"transloco"),R(),U(52),G(53,"transloco"),R()()(),D(54,"p",17),U(55),G(56,"transloco"),R(),D(57,"div",18)(58,"div",19),U(59),G(60,"transloco"),R(),D(61,"ul",20)(62,"li",21),U(63),G(64,"transloco"),R(),te(65,Q1e,2,6,"li",22),D(66,"li",21),U(67),G(68,"transloco"),R(),ce(69,"li",23),G(70,"transloco"),R()()(),D(71,"h6",24),U(72),G(73,"transloco"),R(),D(74,"div",25)(75,"div",19),U(76),G(77,"transloco"),R(),D(78,"ul",20)(79,"li",21),U(80),G(81,"transloco"),R(),ft(82),D(83,"li",21),U(84),G(85,"transloco"),R(),D(86,"li",21),U(87),G(88,"transloco"),R(),gt(),te(89,Z1e,3,3,"li",26),D(90,"li",21),U(91),G(92,"transloco"),R(),D(93,"li",21),U(94),G(95,"transloco"),te(96,eCe,13,12,"ng-container",27),R()()(),te(97,iCe,6,5,"div",28),D(98,"div",25)(99,"div",19),U(100),G(101,"transloco"),R(),D(102,"ul",20)(103,"li",21),U(104),G(105,"transloco"),R(),D(106,"li",21),U(107),G(108,"transloco"),R(),te(109,rCe,2,6,"li",22),R()(),te(110,sCe,8,6,"div",28),te(111,oCe,8,6,"div",28),te(112,cCe,6,5,"div",28),D(113,"div",25)(114,"div",19),U(115),G(116,"transloco"),R(),D(117,"ul",20)(118,"li",21),U(119),G(120,"transloco"),D(121,"a",5),Ae("click",function(s){return i.onPFModalOpen(s)}),U(122),G(123,"transloco"),R()(),D(124,"li",21),U(125),G(126,"transloco"),R(),ce(127,"li",23),G(128,"transloco"),R()(),te(129,dCe,8,10,"div",28),te(130,pCe,8,10,"div",28),D(131,"div",25)(132,"div",19),U(133),G(134,"transloco"),R(),D(135,"ul",20)(136,"li",21),U(137),G(138,"transloco"),R(),D(139,"li",21),U(140),G(141,"transloco"),R(),D(142,"li",21),U(143),G(144,"transloco"),R(),D(145,"li",21),U(146),G(147,"transloco"),R(),D(148,"li",21),U(149),G(150,"transloco"),R(),D(151,"li",21),U(152),G(153,"transloco"),R(),D(154,"li",21),U(155),G(156,"transloco"),R()()(),te(157,fCe,11,9,"div",28),D(158,"div",25)(159,"div",19),U(160),G(161,"transloco"),R(),D(162,"ul",20)(163,"li",21),U(164),G(165,"transloco"),R(),D(166,"li",21),U(167),G(168,"transloco"),R(),te(169,gCe,3,3,"li",26),te(170,_Ce,4,9,"li",26),te(171,bCe,4,8,"li",26),te(172,CCe,3,6,"li",26),R()(),te(173,wCe,7,4,"div",29),R()),2&t&&(S(2),nt(q(3,60,"shared.game_rules")),S(7),ie(" ",q(10,62,"shared.modals.rules.game-rules.main-text")," "),S(3),ie(" ",q(13,64,"shared.modals.rules.game-rules.link")," "),S(3),ie(" ",q(16,66,"shared.how_to_play")," "),S(2),F("ngIf",!i.isEmbeddedVideoHidden),S(2),F("ngClass",wa(146,SCe,!i.isEmbeddedVideoHidden,i.isEmbeddedVideoHidden)),S(1),ie(" ",q(21,68,"shared.modals.rules.game-rules.steps.title")," "),S(10),nt(q(31,70,"shared.bet")),S(2),ie(" ",q(33,72,"shared.modals.rules.game-rules.steps.first-step")," "),S(8),nt(q(41,74,"shared.watch")),S(2),ie(" ",q(43,76,"shared.modals.rules.game-rules.steps.second-step")," "),S(8),ie(" ",q(51,78,"shared.cash_out")," "),S(2),ie(" ",q(53,80,"shared.modals.rules.game-rules.steps.third-step")," "),S(3),ie(" ",q(56,82,"shared.modals.rules.game-rules.steps.text")," "),S(4),ie(" ",q(60,84,"shared.modals.rules.game-rules.details.title")," "),S(4),ie(" ",q(64,86,"shared.modals.rules.game-rules.details.point1")," "),S(2),F("ngIf",i.gameConfig.isGameRulesHaveMultiplierFormula),S(2),ie(" ",q(68,88,"shared.modals.rules.game-rules.details.point2")," "),S(2),F("innerHTML",Gt(70,90,"shared.modals.rules.game-rules.details.point3",zn(149,nR,i.iconPfHtml)),tf),S(3),ie(" ",q(73,93,"shared.modals.rules.game-rules.game-functions.title")," "),S(4),ie(" ",q(77,95,"shared.modals.rules.game-rules.game-functions.bet-cashout.title")," "),S(4),ie(" ",q(81,97,"shared.modals.rules.game-rules.game-functions.bet-cashout.point1")," "),S(4),ie(" ",q(85,99,"shared.modals.rules.game-rules.game-functions.bet-cashout.point5")," "),S(3),ie(" ",q(88,101,"shared.modals.rules.game-rules.game-functions.bet-cashout.point6")," "),S(2),F("ngIf",i.gameConfig.isMultipleBetsEnabled),S(2),ie(" ",q(92,103,"shared.modals.rules.game-rules.game-functions.bet-cashout.point3")," "),S(3),ie(" ",q(95,105,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4")," "),S(2),F("ngIf",i.gameConfig.showCrashExampleInRules),S(1),F("ngIf",i.gameConfig.isAutoBetFeatureEnabled),S(3),ie(" ",q(101,107,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.title")," "),S(4),ie(" ",q(105,109,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point1")," "),S(3),ie(" ",q(108,111,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point3")," "),S(2),F("ngIf",i.chatFutureService.isChatEnabled),S(1),F("ngIf",i.gameConfig.chat.isEnabled),S(1),F("ngIf",i.app.isFreeBetsEnabled),S(1),F("ngIf",i.gameConfig.chat.rain.isEnabled||i.gameConfig.chat.promo.isEnabled),S(3),ie(" ",q(116,113,"shared.modals.rules.game-rules.game-functions.randomization.title")," "),S(4),ie(" ",q(120,115,"shared.modals.rules.game-rules.game-functions.randomization.point1")," "),S(3),ie(" ",q(123,117,"shared.modals.rules.game-rules.link")," "),S(3),ie(" ",q(126,119,"shared.modals.rules.game-rules.game-functions.randomization.point2")," "),S(2),F("innerHTML",Gt(128,121,"shared.modals.rules.game-rules.game-functions.randomization.point3",zn(151,nR,i.iconPfHtml)),tf),S(2),F("ngIf",i.gameConfig.isGameRulesHaveMinimumBankValue),S(1),F("ngIf",i.gameConfig.returnToPlayer>0),S(3),ie(" ",q(134,124,"shared.modals.rules.game-rules.game-functions.game-menu.title")," "),S(4),ie(" ",q(138,126,"shared.modals.rules.game-rules.game-functions.game-menu.point1")," "),S(3),ie(" ",q(141,128,"shared.modals.rules.game-rules.game-functions.game-menu.point2")," "),S(3),ie(" ",q(144,130,"shared.modals.rules.game-rules.game-functions.game-menu.point3")," "),S(3),ie(" ",q(147,132,"shared.modals.rules.game-rules.game-functions.game-menu.point4")," "),S(3),ie(" ",q(150,134,"shared.modals.rules.game-rules.game-functions.game-menu.point5")," "),S(3),ie(" ",q(153,136,"shared.modals.rules.game-rules.game-functions.game-menu.point6")," "),S(3),ie(" ",q(156,138,"shared.modals.rules.game-rules.game-functions.game-menu.point7")," "),S(2),F("ngIf",i.multiServer.isMultiServer&&i.gameConfig.isPodSelectAvailable),S(3),ie(" ",q(161,140,"shared.modals.rules.game-rules.game-functions.other.title")," "),S(4),ie(" ",q(165,142,"shared.modals.rules.game-rules.game-functions.other.point1")," "),S(3),ie(" ",q(168,144,"shared.modals.rules.game-rules.game-functions.other.point2")," "),S(2),F("ngIf",i.gameConfig.isRuleUnfinishedGame),S(1),F("ngIf",i.gameConfig.isGameRulesHaveMaxWin),S(1),F("ngIf",i.gameConfig.maxUserMultiplier),S(1),F("ngIf",i.gameConfig.inactivityTimeForDisconnect),S(1),F("ngIf",i.gameConfig.gameVersion))},directives:[At,cs,sg],pipes:[$t,Zn,qo],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.modal-body[_ngcontent-%COMP%]{padding:16px 12px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.14ee00bd9966ab35.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}a[_ngcontent-%COMP%]{color:red}.youtube[_ngcontent-%COMP%]{display:block}.icon[_ngcontent-%COMP%]{display:inline-block;height:16px;min-width:16px;transform:translateY(2px)}.fair-i[_ngcontent-%COMP%]{background:url(shield-icon.575a242f3c9fb8ed.svg) no-repeat center center/contain;scale:1.9}.chat-i[_ngcontent-%COMP%]{background:url(message-icon.0fa68cf3ce1c8a15.svg) no-repeat center center/contain;scale:1.6}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:20px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:0 0 240px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{width:320px;min-height:160px;border-radius:20px;border:1px solid #4e4e4e;background-size:100% 100%;overflow:hidden;pointer-events:none}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px;background:url(01-bet.825ca2bc7c7b97a6.svg) no-repeat top left;background-size:36px 36px;padding-left:40px;min-height:36px;font-weight:700}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-2[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-02.e4c4ded206c4c071.png) no-repeat center center/cover}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-3[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-03.e6c43f8198532fff.png) no-repeat center center/cover}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"],changeDetection:0}),n})();function MCe(n,e){if(1&n&&(D(0,"div",10)(1,"div",11),ce(2,"iframe",12),R()()),2&n){const t=ee();S(2),F("src",t.videoURL,OC)}}let xCe=(()=>{class n{constructor(t,i,r,s,o){this.activeModal=t,this.sanitizer=i,this.modal=r,this.urlParams=s,this.gameConfig=o,this.videoURL=void 0}get isEmbeddedVideoHidden(){var t;return null!==(t=this.gameConfig.isEmbeddedVideoHidden)&&void 0!==t&&t}ngOnInit(){const t=rz(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(t)}onShowRules(){this.modal.open(hi.rules),this.activeModal.close()}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(wP),W(Pa),W(ac),W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-quick-help-modal"]],decls:31,vars:16,consts:[[1,"modal-header","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","youtube",4,"ngIf"],[1,"step"],[1,"bullet","bullet-1"],[1,"bullet","bullet-2"],[1,"bullet","bullet-3"],[1,"modal-footer","p-0"],[1,"btn","btn-link","btn-sm","mx-auto",3,"click"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span"),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return i.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",2),te(8,MCe,3,1,"div",3),D(9,"div",4)(10,"div",5),U(11,"01"),R(),D(12,"p"),U(13),G(14,"transloco"),R()(),D(15,"div",4)(16,"div",6),U(17,"02"),R(),D(18,"p"),U(19),G(20,"transloco"),R()(),D(21,"div",4)(22,"div",7),U(23,"03"),R(),D(24,"p"),U(25),G(26,"transloco"),R()()(),D(27,"div",8)(28,"button",9),Ae("click",function(){return i.onShowRules()}),U(29),G(30,"transloco"),R()()),2&t&&(S(2),ie("",q(3,6,"shared.how_to_play"),"?"),S(6),F("ngIf",!i.isEmbeddedVideoHidden),S(5),nt(q(14,8,"shared.modals.quick-help.step1")),S(6),nt(q(20,10,"shared.modals.quick-help.step2")),S(6),nt(q(26,12,"shared.modals.quick-help.step3")),S(4),ie(" ",q(30,14,"shared.modals.quick-help.details")," "))},directives:[At],pipes:[$t],styles:[".modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#e69308!important}.modal-body[_ngcontent-%COMP%]{background:#f5a623}.modal-header[_ngcontent-%COMP%]{color:#965419!important;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#49290c!important}.step[_ngcontent-%COMP%]{display:flex;color:#5f3816;margin-top:15px}.step[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:url(01-bet.825ca2bc7c7b97a6.svg) no-repeat right;background-size:40px 40px;min-width:65px;max-width:65px;height:40px;font-size:18px;font-weight:700}.step[_ngcontent-%COMP%]   .bullet.bullet-2[_ngcontent-%COMP%]{background:url(02-watch.ea80a7e88f9b36d2.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   .bullet.bullet-3[_ngcontent-%COMP%]{background:url(03-cashout.a17abd692baf4849.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:0}.btn-link[_ngcontent-%COMP%]{color:#5f3816!important}.youtube[_ngcontent-%COMP%]{display:block;width:calc(100% + 2rem);margin-left:-1rem;margin-right:-1rem}"]}),n})();var Fv=(()=>(function(n){n.RealityCheck="reality_check"}(Fv||(Fv={})),Fv))(),og=(()=>(function(n){n.Continue="CONTINUE",n.Stop="STOP"}(og||(og={})),og))();function ECe(n,e){1&n&&(D(0,"p",7),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.modals.notification.alderney_message")," "))}function OCe(n,e){1&n&&ce(0,"p",8),2&n&&F("innerHTML",ee().params.message,tf)}function PCe(n,e){if(1&n){const t=_t();D(0,"p",9)(1,"button",10),Ae("click",function(){return ht(t),ee().onOpenAccountHistory()}),U(2),G(3,"transloco"),R()()}2&n&&(S(2),ie(" ",q(3,1,"shared.modals.notification.account_history")," "))}function ICe(n,e){if(1&n){const t=_t();D(0,"div",11)(1,"button",12),Ae("click",function(){ht(t);const r=ee();return r.onRealityCheck(r.realityCheckAction.Continue)}),U(2),G(3,"transloco"),R(),D(4,"button",13),Ae("click",function(){ht(t);const r=ee();return r.onRealityCheck(r.realityCheckAction.Stop)}),U(5),G(6,"transloco"),R()()}2&n&&(S(2),ie(" ",q(3,2,"shared.continue")," "),S(3),ie(" ",q(6,4,"shared.stop")," "))}function ACe(n,e){if(1&n){const t=_t();D(0,"div",11)(1,"button",14),Ae("click",function(){return ht(t),ee().activeModal.close()}),U(2),G(3,"transloco"),R()()}if(2&n){const t=ee();S(1),F("disabled",t.isAcknowledgeDisabled),S(1),ie(" ",q(3,2,"shared.acknowledge")," ")}}let ag=class{constructor(e,t,i,r,s,o,a,l){this.activeModal=e,this.connector=t,this.modal=i,this.frontEndProxyService=r,this.betControls=s,this.ifc=o,this.urlParams=a,this.gameConfig=l,this.realityCheckAction=og,this.isAcknowledgeDisabled=!0}ngOnInit(){this.onInitIRC(),this.onInitAlderney()}onInitIRC(){this.isInternalRealityCheck&&this.betControls.cancelBets()}onInitAlderney(){this.isAlderney&&Jc(5e3).pipe(kt(this)).subscribe(()=>this.isAcknowledgeDisabled=!1)}get isRCButtonsVisible(){return this.isRealityCheck||this.isInternalRealityCheck}get isRealityCheck(){return this.params.type===ih.RealityCheck}get isInternalRealityCheck(){return this.params.type===ih.InternalRealityCheck}get isAlderney(){return this.params.type===ih.Alderney}onRealityCheck(e){if(this.activeModal.close(),this.connector.request(mr.NotificationCallback,{notificationType:Fv.RealityCheck,action:e}),e===og.Stop&&(this.frontEndProxyService.sendClosed(),this.connector.shutdown(Xa.RealityCheck),this.urlParams.returnUrl)){if(this.gameConfig.backToHomeActionType===Zf.IfcEvent)return void this.frontEndProxyService.sendBackToHome(this.urlParams.returnUrl);window.open(this.urlParams.returnUrl,"_top")}}onOpenAccountHistory(){this.gameConfig.accountHistoryActionType===Qf.IfcEvent?this.ifc.send(Di.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.modal.open(hi.myBetsHistory)}};ag.\u0275fac=function(e){return new(e||ag)(W(Dr),W(tr),W(Pa),W(rM),W(ad),W(Xo),W(ac),W(Hn))},ag.\u0275cmp=rt({type:ag,selectors:[["app-notification-modal"]],inputs:{params:"params"},decls:10,vars:8,consts:[[1,"modal-header"],[1,"text-uppercase"],[1,"modal-body","modal-bottom-radius"],["class","text-center p-4",4,"ngIf"],["class","text-center p-4",3,"innerHTML",4,"ngIf"],["class","text-center",4,"ngIf"],["class","modal-footer d-flex justify-content-center",4,"ngIf"],[1,"text-center","p-4"],[1,"text-center","p-4",3,"innerHTML"],[1,"text-center"],[1,"btn","btn-secondary","btn-sm","px-4",3,"click"],[1,"modal-footer","d-flex","justify-content-center"],[1,"btn","btn-success","btn-sm","text-uppercase",3,"click"],[1,"btn","btn-danger","btn-sm","ml-1","text-uppercase",3,"click"],[1,"btn","btn-success","btn-sm","ml-1","text-uppercase",3,"disabled","click"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"span",1),U(2),G(3,"transloco"),R()(),D(4,"div",2),te(5,ECe,3,3,"p",3),te(6,OCe,1,1,"p",4),te(7,PCe,4,3,"p",5),R(),te(8,ICe,7,6,"div",6),te(9,ACe,4,4,"div",6)),2&e&&(S(2),nt(q(3,6,"shared.notification")),S(3),F("ngIf",t.isAlderney),S(1),F("ngIf",t.isRCButtonsVisible),S(1),F("ngIf",t.isRCButtonsVisible),S(1),F("ngIf",t.isRCButtonsVisible),S(1),F("ngIf",t.isAlderney))},directives:[At],pipes:[$t],styles:[".progress[_ngcontent-%COMP%]{width:160px;height:4px;border-radius:2px;background-color:#262830;margin:0 auto}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:2px;transition-property:transform;transition-timing-function:linear}.progress[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#e50539!important;box-shadow:0 2px 4px #d0021b}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),ag=Ve([_i()],ag);let _p=(()=>{class n{constructor(){this.isMessageSendingBlockedSubject=new $n(!1),this.isMessageSendingBlocked$=this.isMessageSendingBlockedSubject.asObservable()}set isMessageSendingBlocked(t){this.isMessageSendingBlockedSubject.next(t)}get isMessageSendingBlocked(){return this.isMessageSendingBlockedSubject.value}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var hs=(()=>(function(n){n.Init="/app/init",n.ChallengeInit="/app/challenges.init",n.Join="/app/challenges.join",n.TakePrize="/app/challenges.take.prize",n.Leaderboard="/app/challenges.leaderboard",n.TicketsArchive="/app/challenges.tickets.archive",n.MetricsChallengesModalOpen="/app/challenges.metrics.details.modal.open",n.MetricsLeaderboardModalOpen="/app/challenges.metrics.leaderboard.modal.open",n.ChatInit="/app/chat.init",n.MessageSend="/app/chat.message.send",n.MessageLike="/app/chat.message.like",n.MessageUnlike="/app/chat.message.unlike",n.GifsSearch="/app/chat.gifs.search",n.RainClaim="/app/chat.rain.claim"}(hs||(hs={})),hs))(),oh=(()=>(function(n){n.Player="PLAYER",n.Moderator="MODERATOR",n.Bot="BOT",n.Server="SERVER"}(oh||(oh={})),oh))(),mu=(()=>(function(n){n.Ban="BAN",n.ShareBet="SHARE_BET",n.Rain="RAIN",n.Gif="GIF",n.Text="TEXT",n.TicketRain="TICKET_RAIN",n.Restricted="RESTRICTED"}(mu||(mu={})),mu))();const oz=["Chat access is restricted for players with balance below {amount} {currency}.","Chat access is restricted for players with wager amount over the last {duration} days below {amount} {currency}.","Chat access is restricted for players whose account has been active for less than {duration} days.","Message blocked for breaking chat rules. Further violations may result in a ban.","You have been banned from chat. Reason: {reason}.","You have been banned from chat until {date}. Reason: {reason}."];var o0=(()=>(function(n){n.Init="/user/queue/init",n.BalanceUpdate="/user/queue/balance.update"}(o0||(o0={})),o0))(),es=(()=>(function(n){n.ChallengesInit="/user/queue/challenges.init",n.Join="/user/queue/challenges.join",n.TakePrize="/user/queue/challenges.take.prize",n.Leaderboard="/user/queue/challenges.leaderboard",n.TicketsArchive="/user/queue/challenges.tickets.archive",n.ChallengesAnnounce="/user/queue/challenges.announce",n.ChallengeStatus="/user/queue/challenges.status",n.PlayerStatus="/user/queue/challenges.player.status",n.Prize="/user/queue/challenges.prize.left",n.Progress="/user/queue/challenges.progress",n.JoinCount="/user/queue/challenges.join.count",n.NewTicket="/user/queue/challenges.new.ticket",n.TicketsStatusUpdate="/user/queue/challenges.tickets.status.update"}(es||(es={})),es))(),ps=(()=>(function(n){n.ChatInit="/user/queue/chat.init",n.GifsSearch="/user/queue/chat.gifs.search",n.MessageSend="/user/queue/chat.message.send",n.RainClaim="/user/queue/chat.rain.claim",n.MessageLike="/user/queue/chat.message.like",n.MessageUnlike="/user/queue/chat.message.unlike",n.MessageAdd="/user/queue/chat.message.add",n.MessageDelete="/user/queue/chat.message.delete",n.PlayersOnline="/user/queue/chat.players.online",n.MessageEdit="/user/queue/chat.message.edit",n.TicketRainClaim="/user/queue/chat.rain.claim.ticket",n.RainExpire="/user/queue/chat.rain.expire"}(ps||(ps={})),ps))();function oM(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}const Bv_LF="\n",Bv_NULL="\0";class yp{get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:i,body:r,binaryBody:s,escapeHeaderValues:o,skipContentLengthHeader:a}=e;this.command=t,this.headers=Object.assign({},i||{}),s?(this._binaryBody=s,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=a||!1}static fromRawFrame(e,t){const i={},r=s=>s.replace(/^\s+|\s+$/g,"");for(const s of e.headers.reverse()){s.indexOf(":");const a=r(s[0]);let l=r(s[1]);t&&"CONNECT"!==e.command&&"CONNECTED"!==e.command&&(l=yp.hdrValueUnEscape(l)),i[a]=l}return new yp({command:e.command,headers:i,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?yp.toUnit8Array(e,this._binaryBody).buffer:e+this._body+Bv_NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const i=this.headers[t];e.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${t}:${yp.hdrValueEscape(`${i}`)}`:`${t}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(Bv_LF)+Bv_LF+Bv_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?(new TextEncoder).encode(e).length:0}static toUnit8Array(e,t){const i=(new TextEncoder).encode(e),r=new Uint8Array([0]),s=new Uint8Array(i.length+t.length+r.length);return s.set(i),s.set(t,i.length),s.set(r,i.length+t.length),s}static marshall(e){return new yp(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class kCe{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let i;if(i="string"==typeof e?this._encoder.encode(e):new Uint8Array(e),t&&0!==i[i.length-1]){const r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++)this._onByte(i[r])}_collectFrame(e){if(0!==e&&13!==e){if(10===e)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(13!==e){if(10===e)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(e)}}_collectHeaders(e){if(13!==e){if(10===e)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(58===e)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(e)}_collectHeaderValue(e){if(13!==e){if(10===e)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(t=>"content-length"===t[0])[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){0!==e?this._consumeByte(e):this._retrievedBody()}_collectBodyFixedSize(e){0!=this._bodyBytesRemaining--?this._consumeByte(e):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var ah=(()=>(function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"}(ah||(ah={})),ah))(),bc=(()=>(function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"}(bc||(bc={})),bc))();class Aa{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Aa.V1_0="1.0",Aa.V1_1="1.1",Aa.V1_2="1.2",Aa.default=new Aa([Aa.V1_2,Aa.V1_1,Aa.V1_0]);class FCe{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,i){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===Aa.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const s=r.headers.subscription,o=this._subscriptions[s]||this.onUnhandledMessage,a=r,l=this,c=this._connectedVersion===Aa.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(u={})=>l.ack(c,s,u),a.nack=(u={})=>l.nack(c,s,u),o(a)},RECEIPT:r=>{const s=this._receiptWatchers[r.headers["receipt-id"]];s?(s(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}start(){const e=new kCe(t=>{const i=yp.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=t.data instanceof ArrayBuffer?(new TextDecoder).decode(t.data):t.data;this.debug(`<<< ${i}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==Aa.V1_1&&e.version!==Aa.V1_2||!e["heart-beat"])return;const[t,i]=e["heart-beat"].split(",").map(r=>parseInt(r,10));if(0!==this.heartbeatOutgoing&&0!==i){const r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===ah.OPEN&&(this._webSocket.send(Bv_LF),this.debug(">>> PING"))},r)}if(0!==this.heartbeatIncoming&&0!==t){const r=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const s=Date.now()-this._lastServerActivityTS;s>2*r&&(this.debug(`did not receive server activity for the last ${s}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===ah.CONNECTING||this._webSocket.readyState===ah.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function NCe(n,e){n.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const i=new Date,r=Math.random().toString().substring(2,8),s=this.onclose;this.onclose=o=>{const a=(new Date).getTime()-i.getTime();e(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${o.code}/${o.reason}`)},this.close(),null==s||s.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:t,headers:i,body:r,binaryBody:s,skipContentLengthHeader:o}=e,a=new yp({command:t,headers:i,body:r,binaryBody:s,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o});let l=a.serialize();if(this.debug(this.logRawCommunication?`>>> ${l}`:`>>> ${a}`),this.forceBinaryWSFrames&&"string"==typeof l&&(l=(new TextEncoder).encode(l)),"string"==typeof l&&this.splitLargeFrames){let c=l;for(;c.length>0;){const u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}else this._webSocket.send(l)}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt="close-"+this._counter++),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===ah.CONNECTING||this._webSocket.readyState===ah.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:i,body:r,binaryBody:s,skipContentLengthHeader:o}=e,a=Object.assign({destination:t},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:s,skipContentLengthHeader:o})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,i={}){(i=Object.assign({},i)).id||(i.id="sub-"+this._counter++),i.destination=e,this._subscriptions[i.id]=t,this._transmit({command:"SUBSCRIBE",headers:i});const r=this;return{id:i.id,unsubscribe:s=>r.unsubscribe(i.id,s)}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:t}});const i=this;return{id:t,commit(){i.commit(t)},abort(){i.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,i={}){i=Object.assign({},i),this._connectedVersion===Aa.V1_2?i.id=e:i["message-id"]=e,i.subscription=t,this._transmit({command:"ACK",headers:i})}nack(e,t,i={}){return i=Object.assign({},i),this._connectedVersion===Aa.V1_2?i.id=e:i["message-id"]=e,i.subscription=t,this._transmit({command:"NACK",headers:i})}}class BCe{get webSocket(){var e;return null==(e=this._stompHandler)?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===bc.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Aa.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=bc.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e)}activate(){const e=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(bc.ACTIVE),this._connect())};this.state===bc.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}_connect(){var e=this;return en(function*(){if(yield e.beforeConnect(),e._stompHandler)return void e.debug("There is already a stompHandler, skipping the call to connect");if(!e.active)return void e.debug("Client has been marked inactive, will not attempt to connect");e.connectionTimeout>0&&(e._connectionWatcher&&clearTimeout(e._connectionWatcher),e._connectionWatcher=setTimeout(()=>{e.connected||(e.debug(`Connection not established in ${e.connectionTimeout}ms, closing socket`),e.forceDisconnect())},e.connectionTimeout)),e.debug("Opening Web Socket...");const t=e._createWebSocket();e._stompHandler=new FCe(e,t,{debug:e.debug,stompVersions:e.stompVersions,connectHeaders:e.connectHeaders,disconnectHeaders:e._disconnectHeaders,heartbeatIncoming:e.heartbeatIncoming,heartbeatOutgoing:e.heartbeatOutgoing,splitLargeFrames:e.splitLargeFrames,maxWebSocketChunkSize:e.maxWebSocketChunkSize,forceBinaryWSFrames:e.forceBinaryWSFrames,logRawCommunication:e.logRawCommunication,appendMissingNULLonIncoming:e.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:e.discardWebsocketOnCommFailure,onConnect:i=>{if(e._connectionWatcher&&(clearTimeout(e._connectionWatcher),e._connectionWatcher=void 0),!e.active)return e.debug("STOMP got connected while deactivate was issued, will disconnect now"),void e._disposeStompHandler();e.onConnect(i)},onDisconnect:i=>{e.onDisconnect(i)},onStompError:i=>{e.onStompError(i)},onWebSocketClose:i=>{e._stompHandler=void 0,e.state===bc.DEACTIVATING&&e._changeState(bc.INACTIVE),e.onWebSocketClose(i),e.active&&e._schedule_reconnect()},onWebSocketError:i=>{e.onWebSocketError(i)},onUnhandledMessage:i=>{e.onUnhandledMessage(i)},onUnhandledReceipt:i=>{e.onUnhandledReceipt(i)},onUnhandledFrame:i=>{e.onUnhandledFrame(i)}}),e._stompHandler.start()})()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return e.binaryType="arraybuffer",e}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(e={}){var t=this;return en(function*(){var o;const i=e.force||!1,r=t.active;let s;if(t.state===bc.INACTIVE)return t.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(t._changeState(bc.DEACTIVATING),t._reconnector&&(clearTimeout(t._reconnector),t._reconnector=void 0),!t._stompHandler||t.webSocket.readyState===ah.CLOSED)return t._changeState(bc.INACTIVE),Promise.resolve();{const a=t._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{t._stompHandler.onWebSocketClose=u=>{a(u),l()}})}return i?null==(o=t._stompHandler)||o.discardWebsocket():r&&t._disposeStompHandler(),s})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,i={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,i)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,i={}){this._checkConnection(),this._stompHandler.ack(e,t,i)}nack(e,t,i={}){this._checkConnection(),this._stompHandler.nack(e,t,i)}}var LCe=A(209),UCe=A.n(LCe),_u=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(_u||(_u={})),_u))(),cd=(()=>(function(n){n[n.Success=200]="Success",n[n.ChallengeTicketExists=911]="ChallengeTicketExists"}(cd||(cd={})),cd))(),cM=(()=>(function(n){n[n.PolicyViolation=1008]="PolicyViolation"}(cM||(cM={})),cM))();let Rs=(()=>{class n{constructor(t){this.toastService=t,this.responseSubject=new zD(1),this.stateSubject=new $n({state:_u.None}),this.state$=this.stateSubject.asObservable().pipe(bl(i=>function i1e(n){lo({type:"ws",level:"info",category:"ws.et.state",message:n.state})}(i))),this.reconnectCount=0}response(t){return this.responseSubject.pipe(cn(i=>i.response===t),ke(i=>i.data))}request(t,i){!this.stompClient.connected||(function n1e(n,e){lo({type:"ws",level:"info",category:"ws.et.send",data:{action:n,data:e}})}(t,i),console.log("%c[ Stomp REQUEST] "+t,"background: #222; color: #caa817",i),this.stompClient.publish({destination:t,body:JSON.stringify(i)}))}init(t,i,r){var s;(null===(s=this.stompClient)||void 0===s?void 0:s.active)&&this.stompClient.deactivate(),this.stompClient=new BCe({heartbeatIncoming:2e4,heartbeatOutgoing:1e4,reconnectDelay:this.getReconnectDelay()}),this.stompClient.webSocketFactory=()=>new(UCe())(`${t}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket",timeout:8e3}),this.stompClient.beforeConnect=()=>{this.stompClient.reconnectDelay=this.getReconnectDelay(),this.incrementReconnectCount()},this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp ] onConnect"),this.resetReconnectCount(),this.stateSubject.next({state:_u.Connected}),this.registerResponseListeners(r),this.request(hs.Init,null)},this.stompClient.onWebSocketClose=o=>{console.log("[ Stomp ] onWebSocketClose",o),o.code!==cM.PolicyViolation?this.stateSubject.next({state:_u.Reconnecting}):this.deactivate()},this.stompClient.onDisconnect=o=>{console.log("[ Stomp ] onDisconnect",o),this.stateSubject.next({state:_u.Disconnected})}}deactivate(){this.stompClient.deactivate(),this.stateSubject.next({state:_u.Disconnected})}registerResponseListeners(t){var i;!(null===(i=this.stompClient)||void 0===i?void 0:i.active)||t.forEach(r=>{this.stompClient.subscribe(r,s=>{const o=JSON.parse(s.body);(function t1e(n,e){lo({type:"ws",level:"info",category:"ws.et.receive",data:{action:n,data:e}})})(r,o),console.log("%c[ Stomp RESPONSE ] "+r,"background: #222; color: #bada55",o),this.responseSubject.next({response:r,data:o}),this.handleError(o)},{id:r})})}getReconnectDelay(){return this.reconnectCount<1?1:this.reconnectCount<=10?12e3:18e4}handleError(t){var i;"object"==typeof t&&"code"in t&&t.code!==cd.Success&&!oz.includes(null!==(i=t.errorMessage)&&void 0!==i?i:"")&&this.toastService.show(yc,{message:t.errorMessage,errorMessageParams:"errorMessageParams"in t?t.errorMessageParams:{},type:na.Danger})}incrementReconnectCount(){this.reconnectCount++}resetReconnectCount(){this.reconnectCount=0}}return n.\u0275fac=function(t){return new(t||n)(We(Io))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bp=(()=>{class n{constructor(){this.restrictionConfig={isChatMinimumBalanceCheckEnabled:!1,isChatMinimumLifetimeCheckEnabled:!1,isChatMinimumWagerCheckEnabled:!1,minBalanceInPlayerCurrency:0,minWagerInPlayerCurrency:0,minWagerPeriodInDays:0,minLifetimePeriodInDays:0},this.isFreeBetsEnabled=!1,this.maxMessageLength=0,this.maxMessages=0,this.sendMessageDelay=0,this.hideChatOnlineCounter=!0,this.rainConfig=void 0,this.topGifs=void 0}init(t){Object.assign(this,t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),a0=(()=>{class n{constructor(t){this.zone=t,this.newMessagesAddedSubject=new $n(!1),this.newMessagesAdded$=this.newMessagesAddedSubject.asObservable(),this.isFirstScrolling=!0}setScrollNativeElement(t){this.scrollNativeElement=t,Hi(this.scrollNativeElement,"scroll").pipe(qa(500)).subscribe(()=>{this.newMessagesAddedSubject.getValue()&&this.newMessagesAddedSubject.next(!this.isScrollAtBottom)})}onScrollToBottom(){this.newMessagesAddedSubject.next(!1),this.scrollToBottom()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAddedSubject.next(!1),this.scrollToBottom()):this.newMessagesAddedSubject.next(!0)}scrollToBottom(t=100){this.scrollNativeElement&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight,this.isFirstScrolling&&(this.scrollNativeElement.style.scrollBehavior="smooth",this.isFirstScrolling=!1)},t)})}onInputToolChanged(){this.isScrollAtBottom&&this.scrollToBottom()}get isScrollAtBottom(){var t,i,r;return!this.scrollNativeElement||Math.abs((null===(t=this.scrollNativeElement)||void 0===t?void 0:t.scrollHeight)-(null===(i=this.scrollNativeElement)||void 0===i?void 0:i.clientHeight)-(null===(r=this.scrollNativeElement)||void 0===r?void 0:r.scrollTop))<=1}}return n.\u0275fac=function(t){return new(t||n)(We(Ti))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),lh=(()=>{class n{constructor(t,i,r,s,o,a){this.chatFeatureService=t,this.stomp=i,this.toastService=r,this.chatConfig=s,this.scrollService=o,this.antiSpamService=a,this.trackByCounter=0,this._messagesSubject=new $n([]),this.messages$=this._messagesSubject.asObservable(),this.currentPlayerId=0,this.stomp.response(ps.ChatInit).pipe(cn(l=>200===l.code)).subscribe(l=>this.onInit(l)),this.stomp.response(ps.MessageAdd).subscribe(l=>this.onMessageAdd(l)),this.stomp.response(ps.MessageDelete).subscribe(l=>this.onMessageDelete(l.messageIds)),this.stomp.response(ps.MessageEdit).subscribe(l=>this.onMessageEdit(l)),this.stomp.response(ps.MessageSend).subscribe(l=>this.handleChatRestrictionMessage(l)),this.stomp.response(ps.MessageLike).subscribe(l=>this.handleChatRestrictionMessage(l)),this.stomp.response(ps.MessageUnlike).subscribe(l=>this.handleChatRestrictionMessage(l)),this.stomp.response(ps.RainClaim).subscribe(l=>this.handleChatRestrictionMessage(l))}get messages(){return this._messagesSubject.getValue()}onInit(t){if(this.currentPlayerId=t.playerId,this.chatConfig.init(Object.assign({},t.config)),!t.messages)return;const i=t.messages.map(r=>Object.assign(Object.assign({},r),{trackById:String(r.id),waitingForResponse:!1}));this._messagesSubject.next(function DCe(n,e){return n.slice(Math.max(n.length-e,0))}(i,this.chatConfig.maxMessages))}updateMessageByIndex(t,i){i.trackById=`${i.id}-${++this.trackByCounter}`;const r=[...this.messages];r[t]=i,this._messagesSubject.next(r)}sendMessage(t){this.chatConfig.sendMessageDelay>0&&(this.antiSpamService.isMessageSendingBlocked=!0),this.stomp.request(hs.MessageSend,t)}shareBet(t,i,r=this.currentPlayerId){this.sendMessage({type:mu.ShareBet,betId:t,betOwnerId:r,roundId:i,text:""})}onMessageAdd(t){this.addMessageToChat(t),this.chatFeatureService.isOpen&&t.senderPlayerId===this.currentPlayerId&&this.scrollService.onScrollToBottom(),!this.chatFeatureService.isOpen&&t.type===mu.Rain&&this.notifyAboutRain()}onMessageEdit(t){const i=[...this.messages],r=i.findIndex(s=>s.id===t.id);-1!==r&&(i[r]=Object.assign(Object.assign({},i[r]),{text:t.text,trackById:`${t.id}-${++this.trackByCounter}`}),this._messagesSubject.next(i))}onMessageDelete(t){this._messagesSubject.next(this.messages.filter(i=>!t.includes(i.id)))}handleChatRestrictionMessage(t){if(t.errorMessage&&oz.includes(t.errorMessage)){const i={id:Date.now(),createDate:Date.now(),senderPlayerId:this.currentPlayerId,text:t.errorMessage,params:t.errorMessageParams,type:mu.Restricted,senderType:oh.Moderator};this.addMessageToChat(i)}}notifyAboutRain(){this.toastService.show(yc,{message:"rain-has-been-dropped",type:na.Success,callback:()=>{setTimeout(()=>{this.chatFeatureService.isOpen=!0},300)}})}addMessageToChat(t){const i=Object.assign(Object.assign({},t),{trackById:String(t.id),waitingForResponse:!1}),r=[...this.messages,i].slice(-this.chatConfig.maxMessages);this._messagesSubject.next(r),this.scrollService.keepUpScroll()}}return n.\u0275fac=function(t){return new(t||n)(We(Tl),We(Rs),We(Io),We(bp),We(a0),We(_p))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();function $Ce(n,e){if(1&n&&(D(0,"div",2),U(1),R()),2&n){const t=ee();S(1),nt(t.freeBetLabel)}}const WCe=function(n){return{"long-precision":n}};function YCe(n,e){if(1&n&&(D(0,"div",3),U(1),G(2,"currencyPrecision"),R()),2&n){const t=ee();F("ngClass",zn(4,WCe,t.gameConfig.isLongPrecision)),S(1),ie(" ",q(2,2,t.amount),"\n")}}let Lv=(()=>{class n{constructor(t,i){this.app=t,this.gameConfig=i}get freeBetLabel(){return this.app.isBrandAdjarabet?"AVIA BET":"FREE BET"}}return n.\u0275fac=function(t){return new(t||n)(W(gr),W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-bet-amount"]],inputs:{amount:"amount",isFreeBet:"isFreeBet"},decls:2,vars:2,consts:[["class","free-bet",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"free-bet"],[3,"ngClass"]],template:function(t,i){1&t&&(te(0,$Ce,2,1,"div",0),te(1,YCe,3,6,"div",1)),2&t&&(F("ngIf",i.isFreeBet),S(1),F("ngIf",!i.isFreeBet))},directives:[At,cs],pipes:[Zn],styles:[".free-bet[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:1px 7px;font-size:10px;color:#f5a623;border:solid 1px #f5a623;border-radius:11px}.long-precision[_ngcontent-%COMP%]{font-size:12px}"]}),n})();function XCe(n,e){if(1&n&&(D(0,"div",13),U(1),G(2,"currencyPrecision"),R()),2&n){const t=ee();S(1),ie(" ",q(2,1,t.bet.startBalance)," ")}}function qCe(n,e){if(1&n&&(D(0,"div",14),U(1),R()),2&n){const t=ee();S(1),ie(" ",t.bet.betId," ")}}function KCe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"currencyPrecision"),R()),2&n){const t=ee();S(1),ie(" ",q(2,1,t.bet.winAmount),"")}}const JCe=function(n){return{disabled:n}};let QCe=(()=>{class n{constructor(t,i,r,s,o,a){this.chatAntiSpamService=t,this.main=i,this.chatFeatureService=r,this.oldChat=s,this.chatMessageService=o,this.gameConfig=a}onShareBet(t,i){var r;(null===(r=this.gameConfig.engagementTools)||void 0===r?void 0:r.isExternalChatEnabled)?this.chatMessageService.shareBet(t,i):this.oldChat.shareBet(t,i)}}return n.\u0275fac=function(t){return new(t||n)(W(_p),W(Zr),W(Tl),W(mp),W(lh),W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:20,vars:25,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","d-flex"],["class","bet-id",4,"ngIf"],[3,"amount","isFreeBet"],[1,"multiplier","d-flex","align-items-center","pl-2"],[3,"multiplier"],[1,"cash-out","pr-2"],[4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"ngClass","click"],[1,"start-balance","pl-2"],[1,"bet-id"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"div"),U(3),G(4,"date"),R(),D(5,"div"),U(6),G(7,"date"),R()(),te(8,XCe,3,3,"div",2),D(9,"div",3),te(10,qCe,2,1,"div",4),ce(11,"app-bet-amount",5),R(),D(12,"div",6),ce(13,"app-bubble-multiplier",7),R(),D(14,"div",8),te(15,KCe,3,3,"span",9),R(),D(16,"div",10)(17,"div",11),Ae("click",function(){return i.main.checkFairness(i.bet.roundId)}),R(),D(18,"div",12),Ae("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId)}),G(19,"async"),R()()()),2&t&&(Et("long-precision",i.gameConfig.isLongPrecision)("celebrated",i.bet.winAmount),S(3),nt(Gt(4,15,i.bet.cashOutDate,"HH:mm")),S(3),nt(Gt(7,18,i.bet.cashOutDate,"dd-MM-yy")),S(2),F("ngIf",i.gameConfig.isBetsHistoryStartBalanceEnabled),S(2),F("ngIf",i.gameConfig.isShowBetControlNumber),S(1),F("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),S(2),F("multiplier",i.bet.payout||i.bet.maxMultiplier),S(2),F("ngIf",i.bet.winAmount),S(1),Et("disabled",!i.main.canCheckFairness(i.bet.roundId)),S(2),F("ngClass",zn(23,JCe,!i.chatFeatureService.isChatEnabled||q(19,21,i.chatAntiSpamService.isMessageSendingBlocked$))))},directives:[At,Lv,tR,cs],pipes:[za,Zn,Ki],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item.long-precision[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;opacity:.5;justify-content:flex-end;white-space:nowrap}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:12px;min-width:18%}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right}.tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px}.tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.8}.tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function ZCe(n,e){1&n&&ce(0,"app-bet-item",16),2&n&&F("bet",e.$implicit)}function ewe(n,e){if(1&n&&(D(0,"div",7)(1,"div",8)(2,"div",9),U(3),G(4,"transloco"),R(),D(5,"div",10),U(6),G(7,"transloco"),R(),D(8,"div",11),U(9,"X"),R(),D(10,"div",12),U(11),G(12,"transloco"),R(),ce(13,"div",13),R(),D(14,"div",14),ft(15),te(16,ZCe,1,1,"app-bet-item",15),gt(),R()()),2&n){const t=ee();S(3),ie(" ",q(4,6,"game.bets-widget.date")," "),S(3),Xn(" ",q(7,8,"shared.bet")," ",t.gameConfig.currency," "),S(5),Xn(" ",q(12,10,"shared.cash_out")," ",t.gameConfig.currency," "),S(5),F("ngForOf",t.betHistory)}}function twe(n,e){if(1&n&&(D(0,"th",21),U(1),R()),2&n){const t=ee(2).$implicit,i=ee();S(1),Xn(" ",t("shared.Start_balance")," ",i.gameConfig.currency," ")}}function nwe(n,e){if(1&n&&(D(0,"th",21),U(1),R()),2&n){const t=ee(2).$implicit,i=ee();S(1),Xn(" ",t("shared.End balance")," ",i.gameConfig.currency," ")}}function iwe(n,e){if(1&n&&(D(0,"td")(1,"div",36),U(2),G(3,"currencyPrecision"),R()()),2&n){const t=ee().$implicit;S(2),ie(" ",q(3,1,t.startBalance)," ")}}function rwe(n,e){if(1&n&&(D(0,"div",37),U(1),R()),2&n){const t=ee().$implicit;S(1),ie(" ",t.betId," ")}}function swe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"currencyPrecision"),R()),2&n){const t=ee().$implicit;S(1),ie(" ",q(2,1,t.winAmount),"")}}function owe(n,e){if(1&n&&(D(0,"td")(1,"span",38),U(2),G(3,"currencyPrecision"),R()()),2&n){const t=ee().$implicit;S(2),nt(q(3,1,t.endBalance))}}const awe=function(n){return{disabled:n}};function lwe(n,e){if(1&n){const t=_t();D(0,"tr")(1,"td")(2,"div",25)(3,"div"),U(4),G(5,"date"),R(),D(6,"div"),U(7),G(8,"date"),R()()(),te(9,iwe,4,3,"td",26),D(10,"td",27),te(11,rwe,2,1,"div",28),R(),D(12,"td",10),ce(13,"app-bet-amount",29),R(),D(14,"td")(15,"div",30),ce(16,"app-bubble-multiplier",31),R()(),D(17,"td"),te(18,swe,3,3,"span",26),R(),te(19,owe,4,3,"td",26),D(20,"td")(21,"div",32)(22,"div",33)(23,"div",34),Ae("click",function(){const s=ht(t).$implicit;return ee(3).main.checkFairness(s.roundId)}),R(),D(24,"div",35),Ae("click",function(){const s=ht(t).$implicit;return ee(3).onShareBet(s.roundBetId,s.roundId)}),G(25,"async"),R()()()()()}if(2&n){const t=e.$implicit,i=ee(3);Et("celebrated",t.winAmount),S(4),nt(Gt(5,14,t.cashOutDate,"HH:mm")),S(3),nt(Gt(8,17,t.cashOutDate,"dd-MM-yy")),S(2),F("ngIf",i.gameConfig.isBetsHistoryStartBalanceEnabled),S(2),F("ngIf",i.gameConfig.isShowBetControlNumber),S(2),F("amount",t.bet)("isFreeBet",t.isFreeBet),S(3),F("multiplier",t.payout||t.maxMultiplier),S(2),F("ngIf",t.winAmount),S(1),F("ngIf",i.gameConfig.isBetsHistoryEndBalanceEnabled),S(3),Et("disabled",!i.main.canCheckFairness(t.roundId)),S(2),F("ngClass",zn(22,awe,!i.chatFeatureService.isChatEnabled||q(25,20,i.chatAntiSpamService.isMessageSendingBlocked$)))}}function cwe(n,e){if(1&n&&(D(0,"div",18)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr")(5,"th",21),U(6),R(),te(7,twe,2,2,"th",22),ce(8,"th",23),D(9,"th",21),U(10),R(),D(11,"th",21),U(12,"X"),R(),D(13,"th",21),U(14),R(),te(15,nwe,2,2,"th",22),ce(16,"th",21),R()(),D(17,"tbody"),te(18,lwe,26,24,"tr",24),R()()()()),2&n){const t=ee().$implicit,i=ee();S(6),nt(t("game.bets-widget.date")),S(1),F("ngIf",i.gameConfig.isBetsHistoryStartBalanceEnabled),S(3),Xn(" ",t("shared.bet")," ",i.gameConfig.currency," "),S(4),Xn(" ",t("shared.cash_out")," ",i.gameConfig.currency," "),S(1),F("ngIf",i.gameConfig.isBetsHistoryEndBalanceEnabled),S(3),F("ngForOf",i.betHistory)}}function uwe(n,e){if(1&n&&(ft(0),te(1,cwe,19,8,"div",17),gt()),2&n){const t=ee();S(1),F("ngIf",t.hasAdditionalColumns)}}function dwe(n,e){if(1&n){const t=_t();D(0,"button",41),Ae("click",function(){return ht(t),ee(2).onLoadMore()}),U(1),G(2,"transloco"),R()}2&n&&(F("disabled",0===ee(2).lastBetId),S(1),ie(" ",q(2,2,"shared.load_more")," "))}function hwe(n,e){1&n&&(D(0,"div"),ce(1,"app-loader"),R())}function pwe(n,e){if(1&n&&(D(0,"div",39),te(1,dwe,3,4,"button",40),te(2,hwe,2,0,"div",26),R()),2&n){const t=ee();S(1),F("ngIf",t.loaded),S(1),F("ngIf",!t.loaded)}}let lg=class{constructor(e,t,i,r,s,o,a,l,c){this.cd=e,this.activeModal=t,this.connector=i,this.main=r,this.chatFeatureService=s,this.chatAntiSpamService=o,this.chatMessageService=a,this.oldChat=l,this.gameConfig=c,this.betHistory=[],this.loaded=!1,this.lastBetId=0,this.isLoadMoreAvailable=!1}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(In.BetHistory,200).pipe(cn(()=>!this.loaded),kt(this)).subscribe(e=>{var t;this.lastBetId=e.hasOwnProperty("lastBetId")?e.lastBetId:0,this.betHistory=this.betHistory.concat(e.bets),this.loaded=!0,this.isLoadMoreAvailable=null===(t=e.isMorePagesAvailable)||void 0===t||t,this.cd.detectChanges()})}getMyBetsStatistics(e=0){this.loaded=!1,this.connector.request(mr.BetHistory,0===e?null:{lastBetId:e})}onShareBet(e,t){var i;(null===(i=this.gameConfig.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)?this.chatMessageService.shareBet(e,t):this.oldChat.shareBet(e,t)}onLoadMore(){this.getMyBetsStatistics(this.lastBetId)}get hasAdditionalColumns(){return this.gameConfig.isBetsHistoryStartBalanceEnabled||this.gameConfig.isBetsHistoryEndBalanceEnabled||this.gameConfig.isShowBetControlNumber}};function fwe(n,e){if(1&n&&(D(0,"li",5)(1,"div")(2,"span"),U(3),G(4,"transloco"),R(),D(5,"span"),U(6," X:"),R()(),D(7,"span",6),U(8),G(9,"multiplierPrecision"),R()()),2&n){const t=ee();S(3),ie(" ",q(4,2,"shared.modals.game-limits.maximum-multiplier-for-one-bet")," "),S(5),ie(" ",q(9,4,t.gameConfig.maxUserMultiplier)," ")}}lg.\u0275fac=function(e){return new(e||lg)(W(Fn),W(Dr),W(tr),W(Zr),W(Tl),W(_p),W(lh),W(mp),W(Hn))},lg.\u0275cmp=rt({type:lg,selectors:[["app-my-bets-history"]],decls:11,vars:5,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","px-1","py-2"],["class","bet-list pb-2",4,"ngIf"],[4,"transloco"],["class","text-center pt-1",4,"ngIf"],[1,"bet-list","pb-2"],[1,"legend","d-flex","align-items-center"],[1,"date","pl-1"],[1,"bet"],[1,"multiplier","pl-2"],[1,"cash-out","pl-1","pr-2"],[1,"tools"],[1,"bet-list-body"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"],["class","wrap-table",4,"ngIf"],[1,"wrap-table"],[1,"table-responsive"],[1,"table-custom"],["scope","col"],["scope","col",4,"ngIf"],["scope","col",1,"number-bet"],[3,"celebrated",4,"ngFor","ngForOf"],[1,"date"],[4,"ngIf"],[1,"bet-id-wrapper"],["class","bet-id",4,"ngIf"],[3,"amount","isFreeBet"],[1,"multiplier"],[3,"multiplier"],[1,"tools-wrapper"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"ngClass","click"],[1,"start-balance"],[1,"bet-id"],[1,"end-balance"],[1,"text-center","pt-1"],["type","button","class","btn btn-secondary px-3 btn-sm",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-secondary","px-3","btn-sm",3,"disabled","click"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"span",1),U(2),G(3,"transloco"),R(),D(4,"button",2),Ae("click",function(){return t.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",3),te(8,ewe,17,12,"div",4),te(9,uwe,2,1,"ng-container",5),te(10,pwe,3,2,"div",6),R()),2&e&&(S(2),nt(q(3,3,"shared.my_bet_history")),S(6),F("ngIf",!t.hasAdditionalColumns),S(2),F("ngIf",t.isLoadMoreAvailable))},directives:[At,di,QCe,hu,Lv,tR,cs,gu],pipes:[$t,za,Zn,Ki],styles:[".bet-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-x:auto}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:30%;text-align:right;white-space:nowrap;padding-left:10px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-list[_ngcontent-%COMP%]   .bet-list-body[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;position:relative}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 2px;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px;font-weight:400;color:#7b7b7b;line-height:24px;white-space:nowrap;padding:0 5px}table[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .end-balance[_ngcontent-%COMP%]{opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%]   .bet-id[_ngcontent-%COMP%]{color:#ffffff80;text-align:center;width:16px;height:16px;border-radius:5px;font-size:10px;background:#202020}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px;display:inline-block}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.8}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:34px;font-size:14px;color:#fff;background-color:#101112}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#101112;padding:0 5px;white-space:nowrap}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-left:none;border-right:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #101112;border-top:1px solid #101112;border-bottom:1px solid #101112;border-top-left-radius:8px;border-bottom-left-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #101112;border-top:1px solid #101112;border-bottom:1px solid #101112;border-top-right-radius:8px;border-bottom-right-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-top:1px solid #101112;border-bottom:1px solid #101112}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#123405}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #427f00;border-top:1px solid #427f00;border-bottom:1px solid #427f00;border-top-left-radius:8px;border-bottom-left-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #427f00;border-top:1px solid #427f00;border-bottom:1px solid #427f00;border-top-right-radius:8px;border-bottom-right-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-top:1px solid #427f00;border-bottom:1px solid #427f00}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),lg=Ve([_i()],lg);let gwe=(()=>{class n{constructor(t,i){this.activeModal=t,this.gameConfig=i}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-game-limits"]],decls:40,vars:25,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","py-4"],[1,"list-group"],[1,"list-group-item","pl-2","pr-1"],[1,"badge","badge-success","px-2","font-weight-normal"],["class","list-group-item pl-2 pr-1",4,"ngIf"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span",1),U(2),G(3,"transloco"),R(),D(4,"button",2),Ae("click",function(){return i.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",3)(8,"ul",4)(9,"li",5)(10,"div")(11,"span"),U(12),G(13,"transloco"),R(),D(14,"span"),U(15),R()(),D(16,"span",6),U(17),G(18,"currencyPrecision"),R()(),D(19,"li",5)(20,"div")(21,"span"),U(22),G(23,"transloco"),R(),D(24,"span"),U(25),R()(),D(26,"span",6),U(27),G(28,"currencyPrecision"),R()(),D(29,"li",5)(30,"div")(31,"span"),U(32),G(33,"transloco"),R(),D(34,"span"),U(35),R()(),D(36,"span",6),U(37),G(38,"currencyPrecision"),R()(),te(39,fwe,10,6,"li",7),R()()),2&t&&(S(2),nt(q(3,11,"shared.game_limits")),S(10),nt(q(13,13,"shared.modals.game-limits.min-bet")),S(3),ie(" ",i.gameConfig.currency,":"),S(2),ie(" ",q(18,15,i.gameConfig.minBet)," "),S(5),nt(q(23,17,"shared.modals.game-limits.max-bet")),S(3),ie(" ",i.gameConfig.currency,":"),S(2),ie(" ",q(28,19,i.gameConfig.maxBet)," "),S(5),nt(q(33,21,"shared.modals.game-limits.max-win-one-bet")),S(3),ie(" ",i.gameConfig.currency,":"),S(2),ie(" ",q(38,23,i.gameConfig.maxUserWin)," "),S(2),F("ngIf",i.gameConfig.maxUserMultiplier))},directives:[At],pipes:[$t,Zn,qo],styles:[".list-group[_ngcontent-%COMP%]{border-radius:8px;color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-size:14px;line-height:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:not(:first-child){border-top:0}"]}),n})(),Uv=(()=>{class n{constructor(t){this.cd=t,this.toggle=new _n,this.disabled=!1,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.toggle.emit(this.checked))}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(W(Fn))},n.\u0275cmp=rt({type:n,selectors:[["app-ui-switcher"]],inputs:{disabled:"disabled"},outputs:{toggle:"toggle"},features:[qn([{provide:Ks,useExisting:Un(()=>n),multi:!0}])],decls:2,vars:4,consts:[[1,"input-switch",3,"click"],[1,"oval"]],template:function(t,i){1&t&&(D(0,"div",0),Ae("click",function(){return i.onClick()}),ce(1,"span",1),R()),2&t&&Et("off",!i.checked)("disabled",i.disabled)},styles:[".input-switch[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:4px;justify-content:flex-end;width:36px;height:24px;border-radius:32px;background-color:#141516}.input-switch[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:16px;background-color:#a3a3a3;border-radius:50%}.input-switch.off[_ngcontent-%COMP%]{justify-content:flex-start}.input-switch.off[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{background-color:#2c2d30}.input-switch.disabled[_ngcontent-%COMP%]{cursor:default!important;opacity:.5!important}"]}),n})();function mwe(n,e){if(1&n){const t=_t();D(0,"li",5)(1,"div")(2,"span"),U(3),G(4,"transloco"),R()(),D(5,"app-ui-switcher",6),Ae("toggle",function(r){const o=ht(t).$implicit;return ee().user.settings.changeOther(o,r)}),R()()}if(2&n){const t=e.$implicit,i=ee();S(3),nt(q(4,2,"shared.modals.other_settings."+i.translations.get(t))),S(2),F("ngModel",i.user.settings.getOther(t))}}let _we=(()=>{class n{constructor(t,i,r){this.activeModal=t,this.app=i,this.user=r,this.translations=new Map([[pu.HideLiveBetsAndStatistics,"Hide_Live_Bets_and_Statistics"],[pu.HideMyActivity,"Hide_My_Activity"]])}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(gr),W(fu))},n.\u0275cmp=rt({type:n,selectors:[["app-other-settings"]],decls:10,vars:4,consts:[[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","py-2","px-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],[3,"ngModel","toggle"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span"),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return i.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",2)(8,"ul",3),te(9,mwe,6,4,"li",4),R()()),2&t&&(S(2),nt(q(3,2,"shared.modals.other_settings.title")),S(7),F("ngForOf",i.user.settings.otherKeys))},directives:[di,Uv,Jo,Ma],pipes:[$t],styles:[".list-group[_ngcontent-%COMP%]{color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid rgba(255,255,255,.1);font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}"]}),n})();const ywe=function(n,e){return{minBalanceInPlayerCurrency:n,currency:e}};function bwe(n,e){if(1&n&&(D(0,"li",6),U(1),R()),2&n){const t=ee().$implicit,i=ee();S(1),ie(" ",t("game.chat-widget.modals.chat-rules.point7",wa(1,ywe,i.minBalanceInPlayerCurrency,i.currency))," ")}}const vwe=function(n,e,t){return{minWagerPeriodInDays:n,minWagerInPlayerCurrency:e,currency:t}};function Cwe(n,e){if(1&n&&(D(0,"li",6),U(1),R()),2&n){const t=ee().$implicit,i=ee();S(1),ie(" ",t("game.chat-widget.modals.chat-rules.point8",Uy(1,vwe,i.minWagerPeriodInDays,i.minWagerInPlayerCurrency,i.currency))," ")}}const wwe=function(n){return{minLifetimePeriodInDays:n}};function Swe(n,e){if(1&n&&(D(0,"li",6),U(1),R()),2&n){const t=ee().$implicit,i=ee();S(1),ie(" ",t("game.chat-widget.modals.chat-rules.point9",zn(1,wwe,i.minLifetimePeriodInDays))," ")}}function Twe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",1)(2,"span"),U(3),R(),D(4,"button",2),Ae("click",function(){return ht(t),ee().activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",3)(8,"div",4)(9,"ul",5)(10,"li",6),U(11),R(),D(12,"li",6),U(13),R(),D(14,"li",6),U(15),R(),D(16,"li",6),U(17),R(),D(18,"li",6),U(19),R(),D(20,"li",6),U(21),R(),te(22,bwe,2,4,"li",7),te(23,Cwe,2,5,"li",7),te(24,Swe,2,3,"li",7),R()()(),gt()}if(2&n){const t=e.$implicit,i=ee();S(3),nt(t("game.chat-widget.modals.chat-rules.title")),S(8),ie(" ",t("game.chat-widget.modals.chat-rules.point1")," "),S(2),ie(" ",t("game.chat-widget.modals.chat-rules.point2")," "),S(2),ie(" ",t("game.chat-widget.modals.chat-rules.point3")," "),S(2),ie(" ",t("game.chat-widget.modals.chat-rules.point4")," "),S(2),ie(" ",t("game.chat-widget.modals.chat-rules.point5")," "),S(2),ie(" ",t("game.chat-widget.modals.chat-rules.point6")," "),S(1),F("ngIf",i.isChatMinimumBalanceCheckEnabled),S(1),F("ngIf",i.isChatMinimumWagerCheckEnabled),S(1),F("ngIf",i.isChatMinimumLifetimeCheckEnabled)}}let Mwe=(()=>{class n{constructor(t,i,r,s){this.activeModal=t,this.chatConfig=i,this.currencyPrecisionPipe=r,this.gameConfig=s}get isChatMinimumBalanceCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumBalanceCheckEnabled}get isChatMinimumWagerCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumWagerCheckEnabled}get isChatMinimumLifetimeCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumLifetimeCheckEnabled}get minBalanceInPlayerCurrency(){return this.currencyPrecisionPipe.transform(this.chatConfig.restrictionConfig.minBalanceInPlayerCurrency)}get minWagerPeriodInDays(){return this.chatConfig.restrictionConfig.minWagerPeriodInDays}get minWagerInPlayerCurrency(){return this.currencyPrecisionPipe.transform(this.chatConfig.restrictionConfig.minWagerInPlayerCurrency)}get minLifetimePeriodInDays(){return this.chatConfig.restrictionConfig.minLifetimePeriodInDays}get currency(){return this.gameConfig.currency}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(bp),W(Zn),W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-rules"]],features:[qn([Zn])],decls:1,vars:0,consts:[[4,"transloco"],[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"rules-list","pt-2"],[1,"list-group"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"]],template:function(t,i){1&t&&te(0,Twe,25,10,"ng-container",0)},directives:[hu,At],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.14ee00bd9966ab35.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"],changeDetection:0}),n})();const xwe=function(n){return{value:n}};let Ewe=(()=>{class n{constructor(t,i,r,s){this.mainService=t,this.freeBets=i,this.activeModal=r,this.app=s,this.chosen=!1,this.serverChosen=new _n}chooseServer(){this.serverChosen.emit(this.server.id)}}return n.\u0275fac=function(t){return new(t||n)(W(Zr),W(od),W(Dr),W(gr))},n.\u0275cmp=rt({type:n,selectors:[["app-change-server-item"]],inputs:{server:"server",chosen:"chosen"},outputs:{serverChosen:"serverChosen"},decls:8,vars:8,consts:[[1,"item-wrapper"],[1,"rounded-block"],[1,"main-row",3,"click"],[1,"radio"],[1,"dot"],[1,"server-name"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"div",2),Ae("click",function(){return i.chooseServer()}),D(3,"span",3),ce(4,"i",4),R(),D(5,"div",5),U(6),G(7,"transloco"),R()()()()),2&t&&(S(1),Et("chosen",i.chosen),S(5),ie(" ",Gt(7,3,"shared.Room #",zn(6,xwe,i.server.id))," "))},pipes:[$t],styles:["[_nghost-%COMP%]{width:100%}.item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:8px auto 0;border:solid 1px transparent;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .server-name[_ngcontent-%COMP%]{margin-left:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]{border:solid 1px #229607;pointer-events:none;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}"],changeDetection:0}),n})();function Owe(n,e){if(1&n){const t=_t();ft(0),D(1,"app-change-server-item",6),Ae("serverChosen",function(r){return ht(t),ee().userChooseServer(r)}),R(),gt()}if(2&n){const t=e.$implicit,i=ee();let r;S(1),F("server",t)("chosen",t.id===(null!==(r=i.chosenServerId)&&void 0!==r?r:i.multiServer.currentServerId))}}let Pwe=(()=>{class n{constructor(t,i,r,s){this.activeModal=t,this.app=i,this.connector=r,this.multiServer=s}userChooseServer(t){this.chosenServerId=t}change(){this.connector.userChooseServer(this.chosenServerId),this.activeModal.close()}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(gr),W(tr),W(Z_))},n.\u0275cmp=rt({type:n,selectors:[["app-change-server"]],decls:15,vars:12,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"text"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[3,"server","chosen","serverChosen"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span"),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return i.activeModal.close()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",2)(8,"p",3),U(9),G(10,"transloco"),R(),te(11,Owe,2,2,"ng-container",4),D(12,"button",5),Ae("click",function(){return i.change()}),U(13),G(14,"transloco"),R()()),2&t&&(S(2),nt(q(3,6,"shared.modals.Change Room.title")),S(7),nt(q(10,8,"shared.modals.Change Room.text")),S(2),F("ngForOf",i.app.clientConfig.servers),S(1),Et("disabled",!i.chosenServerId||i.chosenServerId===i.multiServer.currentServerId),S(1),ie(" ",q(14,10,"shared.CHANGE")," "))},directives:[di,Ewe],pipes:[$t],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:150px;width:100%}.modal-body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-bottom:7px}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;margin-top:54px;opacity:1}.modal-body[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none;cursor:default}"],changeDetection:0}),n})(),Iwe=(()=>{class n{constructor(t,i,r,s){this.ngbModal=t,this.modal=i,this.urlParams=r,this.ifc=s,this.activeInstances=[]}init(){this.ngbModal.activeInstances.subscribe(t=>this.activeInstances=t),this.modal.onOpen$.subscribe(t=>this.open(t.key,t.params))}open(t,i=null){switch(t){case hi.bugReport:break;case hi.fairness:this.openModal(ng,{size:"lg"},{betId:i});break;case hi.fairnessSettings:this.openModal(ig,{size:"lg"});break;case hi.freeBets:if("true"===this.urlParams.aviaport){this.ifc.send(Di.AviaPortShowFreeBetModal,void 0);break}this.openModal(rg);break;case hi.avatar:this.openModal(I1e,{size:"lg",modalDialogClass:"modal-dialog--change-avatar"});break;case hi.rules:this.openModal(TCe,{size:"xl"});break;case hi.whatIsPf:this.openModal(M1e,{size:"xl"});break;case hi.quickHelp:this.openModal(xCe,{size:"lg"});break;case hi.notification:this.ngbModal.hasOpenModals()&&this.ngbModal.dismissAll(),this.openModal(ag,{backdrop:"static"},{params:i});break;case hi.myBetsHistory:this.openModal(lg);break;case hi.gameLimits:this.openModal(gwe);break;case hi.otherSettings:this.openModal(_we);break;case hi.chatRules:this.openModal(Mwe);break;case hi.changeServer:this.openModal(Pwe)}}openModal(t,i={},r={}){if(this.activeInstances.some(a=>a.componentInstance instanceof t))return;const o=this.ngbModal.open(t,i);Object.entries(r).forEach(([a,l])=>{o.componentInstance[a]=l})}}return n.\u0275fac=function(t){return new(t||n)(We(kb),We(Pa),We(ac),We(Xo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Awe=(()=>{class n{constructor(t,i,r,s,o){this.main=t,this.betControls=i,this.connector=r,this.toastService=s,this.gameConfig=o,this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}init(){this.main.getState(lr.Bet).pipe(cn(()=>this.isInactivityTimePass())).subscribe(()=>this.onBetState()),this.main.getState(lr.Run).subscribe(()=>this.onRunState())}onBetState(){return this.isFirstToastShown?this.isSecondToastShown?void 0:(this.toastService.show(yc,{message:nh.SecondInactivityMessage,type:na.Warning}),void(this.isSecondToastShown=!0)):(this.toastService.show(yc,{message:nh.FirstInactivityMessage,type:na.Warning}),void(this.isFirstToastShown=!0))}onRunState(){this.betControls.isBetSetted?this.reset():this.isFirstToastShown&&this.isSecondToastShown&&this.connector.shutdown(Xa.Inactivity)}isInactivityTimePass(){return Date.now()-this.lastDate>=this.toMilliseconds(this.gameConfig.inactivityTimeForDisconnect)}toMilliseconds(t){return 6e4*t}reset(){this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}}return n.\u0275fac=function(t){return new(t||n)(We(Zr),We(ad),We(tr),We(Io),We(Hn))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ud=(()=>(function(n){n.Active="Active",n.Archive="Archive"}(ud||(ud={})),ud))(),Ml=(()=>(function(n){n.Success="alert-success",n.Danger="alert-danger",n.Warning="alert-warning"}(Ml||(Ml={})),Ml))(),xi=(()=>(function(n){n.CatchMultipliers="CATCH_MULTIPLIERS",n.WinMoneyInTotal="WIN_MONEY_IN_TOTAL",n.WinRounds="WIN_ROUNDS",n.BetInTotal="BET_IN_TOTAL",n.PlayRounds="PLAY_ROUNDS",n.PlayRoundsMaxReachedMultiplier="PLAY_ROUNDS_MAX_REACHED_MULTIPLIER",n.CollectCashOutsMultiplierSum="COLLECT_CASH_OUTS_MULTIPLIER_SUM",n.CatchHighestMultiplier="CATCH_HIGHEST_MULTIPLIER"}(xi||(xi={})),xi))();const iR=new Set([xi.WinMoneyInTotal,xi.BetInTotal]);var vc=(()=>(function(n){n.TaskCompleted="Task completed:",n.ChallengeCompleted="Challenge completed. Take your prize!",n.PrizePaid="Prize has been paid. Congratulations!",n.PrizesEnded="Challenge ended: all prizes have been won",n.ChallengePaused="Challenge has been paused",n.ChallengeResumed="Challenge has been resumed",n.PlayerKicked="You have been removed from the Challenge by the Administrator",n.ChallengeWasCanceled="Challenge was canceled"}(vc||(vc={})),vc))();let Dwe=(()=>{class n{constructor(t){this.toastService=t,this.type=Ml.Success}onCloseIconClick(t){t.preventDefault(),this.toastService.remove(this.id)}}return n.\u0275fac=function(t){return new(t||n)(W(Io))},n.\u0275cmp=rt({type:n,selectors:[["app-toast-challenge"]],decls:4,vars:2,consts:[[1,"challenge-message",3,"ngClass"],[1,"content"],["type","button",1,"close-btn",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),U(2),R(),D(3,"button",2),Ae("click",function(s){return i.onCloseIconClick(s)}),R()()),2&t&&(F("ngClass",i.type),S(2),ie(" ",i.message," "))},directives:[cs],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.challenge-message[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;font-size:14px;color:#fff;min-height:51px;padding:2px;margin:10px 0;border-radius:100px}.challenge-message.alert-success[_ngcontent-%COMP%]{background-color:#6ab32b}.challenge-message.alert-success[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#3e9e0a}.challenge-message.alert-warning[_ngcontent-%COMP%]{background-color:#fec223;color:#000}.challenge-message.alert-warning[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#ff9f00}.challenge-message.alert-warning[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:url(message-close-black.5fac8589d88be916.svg) no-repeat center center}.challenge-message.alert-danger[_ngcontent-%COMP%]{background-color:#e50539}.challenge-message.alert-danger[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#b1072e}.challenge-message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:280px;min-height:47px;display:flex;align-items:center;justify-content:flex-start;text-align:start;line-height:17px;border-radius:100px;padding:10px 15px}.challenge-message[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:18px;height:18px;border:none;margin:0 8px;background:url(message-close-white.a2d3f382dc08166e.svg) no-repeat center center;cursor:pointer}"],changeDetection:0}),n})(),uM=(()=>{class n{constructor(t,i,r){this.translate=t,this.toastService=i,this.currencyPrecisionPipe=r}getTranslation(t,i={}){const r=`challenges.toastMessage.${t}`;return this.translate.translate(r)?this.translate.translate(r,i):t}getTranslationTask(t,i){const r=`challenges.tasks.${t}`,s=this.translate.translate(r,{minBet:this.currencyPrecisionPipe.transform(i.minBet),targetMinMultiplier:i.targetMinMultiplier,goal:iR.has(t)?this.currencyPrecisionPipe.transform(i.goal):i.goal,currency:i.currency});return this.translate.translate(r)?s:t}show(t,i,r={},s){const o=s?this.getTranslation(t,r)+" "+this.getTranslationTask(s.taskType,s.params):this.getTranslation(t,r);this.toastService.show(Dwe,{message:o,type:i})}}return n.\u0275fac=function(t){return new(t||n)(We(sd),We(Io),We(Zn))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();var dM=(()=>(function(n){n.PurplePink="purple-pink",n.Green="green",n.Teal="teal",n.Purple="purple",n.Red="red",n.Orange="orange"}(dM||(dM={})),dM))(),ch=(()=>(function(n){n.RACE="RACE",n.MISSION="MISSION",n.TOURNAMENT="TOURNAMENT"}(ch||(ch={})),ch))(),Cc=(()=>(function(n){n.FreeBet="FREE_BET",n.Special="SPECIAL"}(Cc||(Cc={})),Cc))(),uh=(()=>(function(n){n.Single="SINGLE",n.Range="RANGE"}(uh||(uh={})),uh))(),kr=(()=>(function(n){n.Announced="ANNOUNCED",n.Active="ACTIVE",n.Finished="FINISHED",n.Paused="PAUSED",n.Closed="CLOSED",n.Canceled="CANCELED"}(kr||(kr={})),kr))(),cr=(()=>(function(n){n.None="NONE",n.Joined="JOINED",n.Won="WON",n.Rewarded="REWARDED",n.Kicked="KICKED",n.OperatorKicked="OPERATOR_KICKED"}(cr||(cr={})),cr))(),Qi=(()=>(function(n){n.RACE="xRace",n.MISSION="xMission",n.TOURNAMENT="xTournament"}(Qi||(Qi={})),Qi))();const rR={[ch.RACE]:Qi.RACE,[ch.MISSION]:Qi.MISSION,[ch.TOURNAMENT]:Qi.TOURNAMENT},lz={name:"",startDate:0,endDate:0,minBet:0,currency:"",currencyPrecision:0,isCurrencyNameHidden:!1,isNetwork:!1,leaderBoardSize:100,challengeId:0,type:ch.RACE,typeUi:rR[ch.RACE],isTicketBased:!1},Rwe={config:lz,challengeStatus:kr.Closed,playerStatus:cr.None,progress:{tasks:[],total:0},prizes:[],joinCount:0};let fo=(()=>{class n{constructor(t,i){this.stomp=t,this.gameConfig=i,this.updateDataSubject=new $n(Rwe),this.updateData$=this.updateDataSubject.asObservable(),this.updateStateSubject=new $n({isChallengeAvailable:!1,joinCount:0}),this.updateState$=this.updateStateSubject.asObservable(),this.updateTicketsSubject=new $n([]),this.updateTickets$=this.updateTicketsSubject.asObservable(),this._config=Object.assign({},lz),this.stomp.response(es.ChallengesInit).pipe(cn(r=>200===r.code),bl(r=>this.updateTicketsSubject.next(r.tickets)),cn(r=>r.challenges.length>0),ke(r=>r.challenges[0])).subscribe(r=>this.handleChallengeUpdate(r)),this.stomp.response(es.ChallengesAnnounce).subscribe(r=>this.handleChallengeUpdate(r)),this.stomp.response(es.JoinCount).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{joinCount:r.joinCount}))}),this.stomp.response(es.PlayerStatus).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.status!==cr.Kicked&&r.status!==cr.OperatorKicked}))}),this.stomp.response(es.ChallengeStatus).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.status!==kr.Closed&&r.status!==kr.Canceled}))}),this.stomp.state$.subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.state!==_u.Disconnected}))})}get update(){return this.updateStateSubject.getValue()}handleChallengeUpdate(t){var i,r;this._config={name:t.config.name,startDate:t.config.startDate,endDate:t.config.endDate,minBet:t.config.minBet,isCurrencyNameHidden:this.gameConfig.isCurrencyNameHidden,currency:this.gameConfig.isCurrencyNameHidden?"":this.gameConfig.currency,currencyPrecision:this.gameConfig.betPrecision,isNetwork:null!==(i=t.config.isNetwork)&&void 0!==i&&i,leaderBoardSize:t.config.leaderBoardSize||100,challengeId:t.config.challengeId,type:t.config.type,typeUi:rR[t.config.type],backgroundImage:null!==(r=t.config.backgroundImage)&&void 0!==r?r:dM.PurplePink,isTicketBased:t.config.isTicketBased},this.updateDataSubject.next(t),this.updateStateSubject.next({isChallengeAvailable:!0,joinCount:t.joinCount})}get config(){return this._config}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(Hn))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),cg=(()=>{class n{constructor(t,i,r){this.stomp=t,this.notification=i,this.challenge=r,this.tasks=new Map,this.updateSubject=new $n({tasks:[],totalProgress:0}),this.update$=this.updateSubject.asObservable(),this.challenge.updateData$.subscribe(s=>{this.tasks.clear(),s.progress.tasks.forEach(o=>{this.tasks.set(o.type,Object.assign(Object.assign({},o),{nameParams:{goal:o.goal,minBet:o.minBet,targetMinMultiplier:o.targetMinMultiplier,currency:this.challenge.config.currency}}))}),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:s.progress.total})}),this.stomp.response(es.Progress).subscribe(s=>{s.tasks.forEach(o=>{this.tasks.set(o.type,Object.assign(Object.assign({},this.tasks.get(o.type)),{progress:o.progress})),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:s.total}),this.tasks.get(o.type).progress===this.tasks.get(o.type).goal&&this.notification.show(vc.TaskCompleted,Ml.Success,{},{taskType:o.type,params:this.tasks.get(o.type).nameParams})})})}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(uM),We(fo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();function kwe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",2),Ae("click",function(){const s=ht(t).$implicit;return ee().onClickTab(s)}),U(2),G(3,"transloco"),R(),gt()}if(2&n){const t=e.$implicit,i=ee();S(1),Et("active",i.activeTab===t),S(1),ie(" ",q(3,3,i.translatePath+"."+t)," ")}}let Nwe=(()=>{class n{constructor(t){this.cd=t,this.disabled=!1,this.toggle=new _n,this.activeTab="",this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(t){this.disabled||this.activeTab!==t&&(this.toggle.emit(t),this.writeValue(t))}writeValue(t){!t||(this.activeTab=t,this.onModelChange(this.activeTab),this.cd.markForCheck())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(W(Fn))},n.\u0275cmp=rt({type:n,selectors:[["app-navigation-switcher"]],inputs:{disabled:"disabled",tabs:"tabs",translatePath:"translatePath"},outputs:{toggle:"toggle"},features:[qn([{provide:Ks,useExisting:Un(()=>n),multi:!0}])],decls:2,vars:3,consts:[[1,"navigation-switcher"],[4,"ngFor","ngForOf"],["tabindex","-1",1,"tab",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,kwe,4,5,"ng-container",1),R()),2&t&&(Et("disabled",i.disabled),S(1),F("ngForOf",i.tabs))},directives:[di],pipes:[$t],styles:[".navigation-switcher[_ngcontent-%COMP%]{display:flex;width:100%;height:32px;background:#141516;border-radius:64px;border:solid 4px #141516}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex-grow:1;height:100%;width:100%;text-align:center;background:none;border-radius:32px;border:none;padding:0;color:#a3a3a3;font-size:12px;font-weight:400;letter-spacing:-.18px;transition:background-color .25s ease-in,color .25s ease-in}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#2c2d30;color:#ebebeb;cursor:default}"],changeDetection:0}),n})();var l0=(()=>(function(n){n.Active="ACTIVE",n.Used="USED",n.Expired="EXPIRED",n.Canceled="CANCELED"}(l0||(l0={})),l0))();let Hv=(()=>{class n{constructor(t,i){this.stomp=t,this.challengeService=i,this.activeTicketsSubject=new $n([]),this.activeTickets$=this.activeTicketsSubject.asObservable(),this.archiveTicketsSubject=new $n([]),this.archiveTickets$=this.archiveTicketsSubject.asObservable(),this.inited=!1,this.loaded=!1}init(){this.inited||(this.inited=!0,this.challengeService.updateTickets$.subscribe(t=>{this.activeTicketsSubject.next([...t])}),this.stomp.response(es.NewTicket).subscribe(t=>{this.activeTicketsSubject.next([...this.activeTicketsSubject.getValue(),t])}),this.stomp.response(es.TicketsStatusUpdate).subscribe(t=>{(t.status===l0.Canceled||t.status===l0.Expired||t.status===l0.Used)&&this.remove(t.id)}),this.stomp.response(es.TicketsArchive).subscribe(t=>{this.loaded=!0,200===t.code&&this.archiveTicketsSubject.next([...t.tickets])}))}remove(t){const i=this.activeTicketsSubject.getValue().filter(r=>r.challengeInfo.id!==t);this.activeTicketsSubject.next([...i])}hasActiveTicket(t){return this.activeTicketsSubject.getValue().some(i=>i.challengeInfo.id===t)}getArchiveTickets(){this.loaded=!1,this.stomp.request(hs.TicketsArchive,null)}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(fo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fwe(n,e){if(1&n&&(D(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),U(6),R(),D(7,"div",7),ce(8,"img",8),R()(),D(9,"div",9),U(10),R()(),D(11,"div",10)(12,"div",11)(13,"div",12),U(14),R(),D(15,"div",13),U(16),G(17,"date"),G(18,"date"),R()(),D(19,"div",14)(20,"div",12),U(21),R(),D(22,"div",13),U(23),G(24,"date"),G(25,"date"),R()()()()()()),2&n){const t=e.$implicit,i=ee();Et("archive",i.activeTab===i.ticketsTab.Archive),S(2),F("ngClass",i.challengeType),S(4),ie(" ",i.challengeTypeUI[i.ticket.challengeInfo.type]," "),S(2),F("srcset",i.getSrcSetType(i.challengeTypeImageNames[0],i.challengeTypeImageNames[1],i.challengeTypeImageNames[2]),an)("src",i.getFullImgPathType(i.challengeTypeImageNames[0]),an),S(2),nt(i.ticket.challengeInfo.name),S(4),nt(t("challenges.Start:")),S(2),Xn(" ",Gt(17,13,i.ticket.challengeInfo.startDate,"HH:mm"),", ",Gt(18,16,i.ticket.challengeInfo.startDate,"dd.MM.yy")," "),S(5),nt(t("challenges.End:")),S(2),Xn(" ",Gt(24,19,i.ticket.challengeInfo.endDate,"HH:mm"),", ",Gt(25,22,i.ticket.challengeInfo.endDate,"dd.MM.yy")," ")}}let cz=(()=>{class n{constructor(){this.ticketsTab=ud,this.challengeTypeImageNames=[],this.challengeType="",this.challengeTypeUI=rR}ngOnInit(){this.challengeType=this.ticket.challengeInfo.type.toLowerCase(),this.challengeTypeImageNames=[`x${this.challengeType}-icon.png`,`x${this.challengeType}-icon@2x.png`,`x${this.challengeType}-icon@3x.png`]}getFullImgPathType(t){return"assets/challenges/images/"+t}getSrcSetType(t,i,r){return`${this.getFullImgPathType(t)}, ${this.getFullImgPathType(i)} 2x, ${this.getFullImgPathType(r)} 3x`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-ticket-item"]],inputs:{ticket:"ticket",activeTab:"activeTab"},decls:1,vars:0,consts:[["class","ticket-card",3,"archive",4,"transloco"],[1,"ticket-card"],[1,"inner-border"],[1,"content",3,"ngClass"],[1,"first-row"],[1,"header"],[1,"name"],[1,"icon"],["draggable","false","alt","challenge-type",3,"srcset","src"],[1,"description"],[1,"second-row"],[1,"start-date"],[1,"title"],[1,"value"],[1,"end-date"]],template:function(t,i){1&t&&te(0,Fwe,26,25,"div",0)},directives:[hu,cs],pipes:[za],styles:['.ticket-card[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;flex-direction:column;align-items:flex-start;margin-top:11px;border-radius:16px;border:solid 4px #1a1a1a;background:#1a1a1a}.ticket-card.archive[_ngcontent-%COMP%]{opacity:.7}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{display:flex;width:100%;border-radius:12px;border:solid 1px #333;background:transparent;overflow:hidden;background:linear-gradient(180deg,#1a1a1a 0%,#1a1a1a 100%)}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:0;width:100%;height:100%;border-radius:inherit;background:linear-gradient(0deg,#1a1a1a 0%,rgba(26,26,26,0) 100%);pointer-events:none}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:1;padding:8px;width:100%;height:128px;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content.race[_ngcontent-%COMP%]{background:radial-gradient(136.54% 111.8% at 100% 0%,rgba(255,146,51,.15) 0%,rgba(26,26,26,0) 100%)}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content.mission[_ngcontent-%COMP%]{background:radial-gradient(136.54% 111.8% at 100% 0%,rgba(255,51,97,.15) 0%,rgba(26,26,26,0) 100%)}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content.tournament[_ngcontent-%COMP%]{background:radial-gradient(136.54% 111.8% at 100% 0%,rgba(133,51,255,.15) 0%,rgba(26,26,26,0) 100%)}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:100%}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;padding-bottom:4px}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{overflow:hidden;color:#ebebeb;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;text-overflow:ellipsis;font-size:16px;font-weight:600;letter-spacing:-.24px}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{overflow:hidden;color:#ccc;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;text-overflow:ellipsis;font-size:12px;font-weight:400}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{width:100%}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .start-date[_ngcontent-%COMP%], .ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .end-date[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;overflow:hidden;color:#8f8f8f;text-overflow:ellipsis;font-size:10px;font-weight:500;letter-spacing:-.15px}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .end-date[_ngcontent-%COMP%]{padding-top:8px}'],changeDetection:0}),n})();function Bwe(n,e){if(1&n&&(D(0,"span"),U(1),R()),2&n){const t=ee().$implicit;S(1),ie("",t("challenges.No Active Tickets. Yet!")," ")}}function Lwe(n,e){if(1&n&&(D(0,"span"),U(1),R()),2&n){const t=ee().$implicit;S(1),ie("",t("challenges.No Archive Tickets. Yet!")," ")}}function Uwe(n,e){if(1&n&&(D(0,"div",1),ce(1,"div",2),D(2,"div",3),te(3,Bwe,2,1,"span",4),te(4,Lwe,2,1,"span",4),R()()),2&n){const t=ee();S(3),F("ngIf",t.activeTab===t.ticketsTab.Active),S(1),F("ngIf",t.activeTab===t.ticketsTab.Archive)}}let uz=(()=>{class n{constructor(){this.ticketsTab=ud}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-no-tickets"]],inputs:{activeTab:"activeTab"},decls:1,vars:0,consts:[["class","wrapper",4,"transloco"],[1,"wrapper"],[1,"no-tickets-image"],[1,"text"],[4,"ngIf"]],template:function(t,i){1&t&&te(0,Uwe,5,2,"div",0)},directives:[hu,At],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:32px 0 21px}.wrapper[_ngcontent-%COMP%]   .no-tickets-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.1e243c2f0def2ce9.svg) no-repeat center center/contain}.wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:400;line-height:21px;padding-top:11px}"],changeDetection:0}),n})();function Hwe(n,e){if(1&n&&ce(0,"app-ticket-item",3),2&n){const t=e.$implicit,i=ee(3);F("ticket",t)("activeTab",i.ticketsTab.Active)}}function jwe(n,e){if(1&n&&(ft(0),te(1,Hwe,1,2,"app-ticket-item",2),gt()),2&n){const t=ee().ngIf;S(1),F("ngForOf",t)}}function Gwe(n,e){1&n&&ce(0,"app-no-tickets",4),2&n&&F("activeTab",ee(2).ticketsTab.Active)}function Vwe(n,e){if(1&n&&(ft(0),te(1,jwe,2,1,"ng-container",0),te(2,Gwe,1,1,"app-no-tickets",1),gt()),2&n){const t=e.ngIf;S(1),F("ngIf",t.length>0),S(1),F("ngIf",0===t.length)}}let zwe=(()=>{class n{constructor(t){this.ticketsService=t,this.ticketsTab=ud}}return n.\u0275fac=function(t){return new(t||n)(W(Hv))},n.\u0275cmp=rt({type:n,selectors:[["app-active-tickets-tab"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"activeTab",4,"ngIf"],[3,"ticket","activeTab",4,"ngFor","ngForOf"],[3,"ticket","activeTab"],[3,"activeTab"]],template:function(t,i){1&t&&(te(0,Vwe,3,2,"ng-container",0),G(1,"async")),2&t&&F("ngIf",q(1,1,i.ticketsService.activeTickets$))},directives:[At,di,cz,uz],pipes:[Ki],styles:[""],changeDetection:0}),n})();function $we(n,e){if(1&n&&ce(0,"app-ticket-item",3),2&n){const t=e.$implicit,i=ee(3);F("ticket",t)("activeTab",i.ticketsTab.Archive)}}function Wwe(n,e){if(1&n&&(ft(0),te(1,$we,1,2,"app-ticket-item",2),gt()),2&n){const t=ee().ngIf;S(1),F("ngForOf",t)}}function Ywe(n,e){1&n&&ce(0,"app-no-tickets",4),2&n&&F("activeTab",ee(2).ticketsTab.Archive)}function Xwe(n,e){if(1&n&&(ft(0),te(1,Wwe,2,1,"ng-container",0),te(2,Ywe,1,1,"app-no-tickets",1),gt()),2&n){const t=e.ngIf;S(1),F("ngIf",t.length>0),S(1),F("ngIf",0===t.length)}}function qwe(n,e){1&n&&ce(0,"app-loader")}let Kwe=(()=>{class n{constructor(t){this.ticketsService=t,this.ticketsArchive=[],this.ticketsTab=ud,this.loaded=!1}ngOnInit(){this.ticketsService.getArchiveTickets()}}return n.\u0275fac=function(t){return new(t||n)(W(Hv))},n.\u0275cmp=rt({type:n,selectors:[["app-archive-tickets-tab"]],decls:3,vars:4,consts:[[4,"ngIf"],[3,"activeTab",4,"ngIf"],[3,"ticket","activeTab",4,"ngFor","ngForOf"],[3,"ticket","activeTab"],[3,"activeTab"]],template:function(t,i){1&t&&(te(0,Xwe,3,2,"ng-container",0),G(1,"async"),te(2,qwe,1,0,"app-loader",0)),2&t&&(F("ngIf",q(1,2,i.ticketsService.archiveTickets$)),S(2),F("ngIf",!i.ticketsService.loaded))},directives:[At,di,cz,uz,gu],pipes:[Ki],styles:[""],changeDetection:0}),n})();function Jwe(n,e){1&n&&ce(0,"app-active-tickets-tab")}function Qwe(n,e){1&n&&ce(0,"app-archive-tickets-tab")}function Zwe(n,e){if(1&n){const t=_t();D(0,"div",1)(1,"div",2)(2,"span"),U(3),R(),D(4,"button",3),Ae("click",function(){return ht(t),ee().close()}),ce(5,"span",4),R()(),D(6,"div",5)(7,"div",6)(8,"app-navigation-switcher",7,8),Ae("ngModelChange",function(r){return ht(t),ee().activeTab=r}),R()(),te(10,Jwe,1,0,"app-active-tickets-tab",9),te(11,Qwe,1,0,"app-archive-tickets-tab",9),R()()}if(2&n){const t=e.$implicit,i=ee();S(3),ie("",t("challenges.Tickets")," "),S(5),F("ngModel",i.activeTab)("tabs",i.ticketsTabs)("translatePath","challenges"),S(2),F("ngIf",i.activeTab===i.ticketsTab.Active),S(1),F("ngIf",i.activeTab===i.ticketsTab.Archive)}}let eSe=(()=>{class n{constructor(t,i){this.activeModal=t,this.task=i,this.activeTab=ud.Active,this.ticketsTab=ud,this.ticketsTabs=Object.values(ud)}close(){this.activeModal.close()}}return n.\u0275fac=function(t){return new(t||n)(W(Dr),W(cg))},n.\u0275cmp=rt({type:n,selectors:[["app-tickets"]],decls:1,vars:0,consts:[["class","modal-content",4,"transloco"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"navigation-wrapper"],[1,"navigation",3,"ngModel","tabs","translatePath","ngModelChange"],["betSwitcher",""],[4,"ngIf"]],template:function(t,i){1&t&&te(0,Zwe,12,6,"div",0)},directives:[hu,Nwe,Jo,Ma,At,zwe,Kwe],styles:[".modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{--color-modal-body: #1f1f1f;--modal-challenge-body-padding: 11px 8px 8px;display:flex;flex-direction:column}"],changeDetection:0}),n})();const dz=function(n){return{active:n}};var yu=(()=>(function(n){n.Players="PLAYERS",n.Prizes="PRIZES"}(yu||(yu={})),yu))();let tSe=(()=>{class n{constructor(){this.typeChanged=new _n,this.activeOption=yu.Players,this.LeaderboardSwitcherOption=yu}ngAfterViewInit(){this.onOptionChange(this.activeOption)}onOptionChange(t){this.activeOption=t,this.typeChanged.emit(this.activeOption)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-switcher"]],inputs:{activeOption:"activeOption"},outputs:{typeChanged:"typeChanged"},decls:7,vars:12,consts:[[1,"switcher-container"],[1,"btn",3,"ngClass","click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"button",1),Ae("click",function(){return i.onOptionChange(i.LeaderboardSwitcherOption.Players)}),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return i.onOptionChange(i.LeaderboardSwitcherOption.Prizes)}),U(5),G(6,"transloco"),R()()),2&t&&(S(1),F("ngClass",zn(8,dz,i.activeOption===i.LeaderboardSwitcherOption.Players)),S(1),ie(" ",q(3,4,"challenges.Players")," "),S(2),F("ngClass",zn(10,dz,i.activeOption===i.LeaderboardSwitcherOption.Prizes)),S(1),ie(" ",q(6,6,"challenges.Prizes")," "))},directives:[cs],pipes:[$t],styles:[".switcher-container[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;width:100%;height:40px;min-width:192px;padding:4px;justify-content:space-between;align-items:center;align-self:stretch;border-radius:32px;background:#1f1f1f}.switcher-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;padding:4px 8px;align-items:center;justify-content:center;flex:1 0 0;height:32px;align-self:stretch;border-radius:64px;color:#525252;text-align:center;font-size:12px;font-weight:500;line-height:normal;background:transparent}.switcher-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:4px}.switcher-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#ccc;background:#292929}"],changeDetection:0}),n})(),jv=(()=>{class n{constructor(t,i){this.stomp=t,this.challenge=i,this.loadedSubject=new $n(!1),this.items=[],this.myItem=null,this.myPosition=0,this.loaded$=this.loadedSubject.asObservable(),this.stomp.response(es.Leaderboard).pipe(cn(r=>200===r.code)).subscribe(r=>{this.items=[...r.leaders],null!==r.myPosition?(this.myItem=this.getMyItem(r.myPosition-1),this.myPosition=r.myPosition):(this.myItem=null,this.myPosition=0),this.loadedSubject.next(!0)})}sendRequestLeaderboard(){this.loadedSubject.next(!1),this.stomp.request(hs.Leaderboard,{challengeId:this.challenge.config.challengeId})}getMyItem(t){return t<this.challenge.config.leaderBoardSize?this.items[t]:this.items.pop()}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(fo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),Gv=(()=>{class n{constructor(t,i,r,s){this.stomp=t,this.notification=i,this.challenge=r,this.currencyPrecisionPipe=s,this.updateSubject=new $n({left:void 0}),this.update$=this.updateSubject.asObservable(),this.updateItemsSubject=new $n([]),this.updateItems$=this.updateItemsSubject.asObservable(),this.items=[],this.total=0,this.potentialPrizeAmount=0,this.tournamentList=[],this.challenge.updateData$.subscribe(o=>{this.items=[...o.prizes],this.challenge.config.typeUi===Qi.TOURNAMENT&&(this.setTournamentList(o.prizes),this.setTournamentItems(o.prizes),this.total=this.items.length),this.updateSubject.next({}),this.updateItemsSubject.next(this.items)}),this.stomp.response(es.Prize).subscribe(o=>{this.updateSubject.next({left:o.left}),0===o.left&&this.notification.show(vc.PrizesEnded,Ml.Warning,{challenge:this.challenge.config.typeUi})})}setTournamentList(t){this.tournamentList=t.sort((i,r)=>this.getPrizePosition(i)-this.getPrizePosition(r)).reduce((i,r)=>{var s,o;let a="";return r.type===Cc.FreeBet&&(a=this.currencyPrecisionPipe.transform(r.cost)+(this.challenge.config.isCurrencyNameHidden?"":" "+this.challenge.config.currency)+" Freebet"),r.type===Cc.Special&&(a=r.name),(null===(s=r.position)||void 0===s?void 0:s.type)===uh.Single&&i.push(a),(null===(o=r.position)||void 0===o?void 0:o.type)===uh.Range&&i.push(...Array(r.position.end-r.position.start+1).fill(a)),i},[])}setTournamentItems(t){this.items=t.sort((i,r)=>this.getPrizePosition(i)-this.getPrizePosition(r)).reduce((i,r)=>{var s,o;return(null===(s=r.position)||void 0===s?void 0:s.type)===uh.Single&&i.push(r),(null===(o=r.position)||void 0===o?void 0:o.type)===uh.Range&&i.push(...Array(r.position.end-r.position.start+1).fill(r)),i},[])}getPrizePosition(t){var i,r;return(null===(i=t.position)||void 0===i?void 0:i.type)===uh.Single?t.position.value:(null===(r=t.position)||void 0===r?void 0:r.type)===uh.Range?t.position.start:void 0}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(uM),We(fo),We(Zn))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),ug=(()=>{class n{constructor(t,i,r){this.stomp=t,this.notification=i,this.challenge=r,this.update=new $n({challenge:kr.Announced,player:cr.None,finishDate:void 0}),this.update$=this.update.asObservable(),this.challenge.updateData$.subscribe(s=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{challenge:s.challengeStatus,finishDate:s.config.endDate,player:s.playerStatus}))}),this.stomp.response(es.PlayerStatus).subscribe(s=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{player:s.status})),s.status===cr.Won&&this.notification.show(vc.ChallengeCompleted,Ml.Success,{challenge:this.challenge.config.typeUi}),s.status===cr.Joined&&this.challenge.config.typeUi!==Qi.MISSION&&this.stomp.request(hs.Leaderboard,{challengeId:this.challenge.config.challengeId}),s.status===cr.Rewarded&&this.notification.show(vc.PrizePaid,Ml.Success,{challenge:this.challenge.config.typeUi}),s.status===cr.Kicked&&this.notification.show(vc.PlayerKicked,Ml.Danger,{challenge:this.challenge.config.typeUi}),s.status===cr.OperatorKicked&&this.notification.show(vc.ChallengeWasCanceled,Ml.Danger,{challenge:this.challenge.config.typeUi})}),this.stomp.response(es.ChallengeStatus).subscribe(s=>{s.status===kr.Paused&&this.notification.show(vc.ChallengePaused,Ml.Danger,{challenge:this.challenge.config.typeUi}),s.status===kr.Canceled&&this.notification.show(vc.ChallengeWasCanceled,Ml.Danger,{challenge:this.challenge.config.typeUi}),this.update.getValue().challenge===kr.Paused&&s.status===kr.Active&&this.notification.show(vc.ChallengeResumed,Ml.Success,{challenge:this.challenge.config.typeUi}),this.update.next(Object.assign(Object.assign({},this.update.getValue()),{challenge:s.status,finishDate:s.finishDate||this.update.getValue().finishDate}))})}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(uM),We(fo))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();function nSe(n,e){if(1&n&&(ft(0),D(1,"div",3),ce(2,"div",4),D(3,"div",5)(4,"div",6),U(5),G(6,"transloco"),R(),D(7,"div",7),U(8),G(9,"currencyPrecision"),R()()(),D(10,"div",3),ce(11,"div",8),D(12,"div",5)(13,"div",6),U(14),G(15,"transloco"),R(),D(16,"div",7),U(17),G(18,"number"),R()()(),gt()),2&n){const t=ee();S(5),ie(" ",q(6,4,"challenges.Points scored")," "),S(3),ie(" ",Gt(9,6,t.pointsScored,2)," "),S(6),ie(" ",q(15,9,"challenges.Position")," "),S(3),ie(" ",t.playerStatus===t.PlayerStatus.None?"-":Gt(18,11,t.position,"1.0-0")," ")}}function iSe(n,e){1&n&&ce(0,"app-loader",9),2&n&&F("size","small")}const rSe=function(n){return{leaderboard:n}};let hz=(()=>{class n{constructor(){this.isLeaderboardLoaded=!1,this.pointsScored=0,this.playerStatus=cr.None,this.position=0,this.componentVariant="DEFAULT",this.PlayerStatus=cr}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-tournament-statistics"]],inputs:{isLeaderboardLoaded:"isLeaderboardLoaded",pointsScored:"pointsScored",playerStatus:"playerStatus",position:"position",componentVariant:"componentVariant"},decls:4,vars:5,consts:[[1,"statistics",3,"ngClass"],[4,"ngIf","ngIfElse"],["loader",""],[1,"statistics-card"],[1,"card-icon","icon-points-scored","flex-shrink-0"],[1,"card-info"],[1,"card-title"],[1,"card-value"],[1,"card-icon","icon-position","flex-shrink-0"],[1,"loader",3,"size"]],template:function(t,i){if(1&t&&(D(0,"div",0),te(1,nSe,19,14,"ng-container",1),te(2,iSe,1,1,"ng-template",null,2,Wo),R()),2&t){const r=er(3);F("ngClass",zn(3,rSe,"LEADERBOARD"===i.componentVariant)),S(1),F("ngIf",i.isLeaderboardLoaded)("ngIfElse",r)}},directives:[cs,At,gu],pipes:[$t,Zn,ec],styles:[".statistics[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #242424}.statistics.leaderboard[_ngcontent-%COMP%]{border-top:none;border-radius:9px;background:#1f1f1f}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:8px}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]:first-child{border-right:1px solid #242424}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon.icon-points-scored[_ngcontent-%COMP%]{background-image:url(icon-points-scored.465af97703dee8c8.svg)}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon.icon-position[_ngcontent-%COMP%]{background-image:url(icon-position.d68664419e52f5a6.svg)}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:13px;font-weight:400;line-height:normal;margin-bottom:4px}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:700;line-height:normal;letter-spacing:-.5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.statistics[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),n})(),sSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-no-players"]],decls:7,vars:6,consts:[[1,"no-players"],[1,"no-players-text"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),U(2),G(3,"transloco"),D(4,"p"),U(5),G(6,"transloco"),R()()()),2&t&&(S(2),ie(" ",q(3,2,"challenges.No players yet :(")," "),S(3),ie(" ",q(6,4,"challenges.You can be one of the first!")," "))},pipes:[$t],styles:[".no-players[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}"],changeDetection:0}),n})();function oSe(n,e){if(1&n&&(D(0,"div",4),ce(1,"img",5),U(2," TOP "),R()),2&n){const t=ee();S(1),F("srcset",t.getSrcSet("medal-gold.png","medal-gold@2x.png","medal-gold@3x.png"),an)("src",t.getFullImgPath("medal-gold.png"),an)}}function aSe(n,e){if(1&n&&(D(0,"div",4),ce(1,"img",5),U(2," TOP "),R()),2&n){const t=ee();S(1),F("srcset",t.getSrcSet("medal-silver.png","medal-silver@2x.png","medal-silver@3x.png"),an)("src",t.getFullImgPath("join.png"),an)}}function lSe(n,e){if(1&n&&(D(0,"div",4),ce(1,"img",5),U(2," TOP "),R()),2&n){const t=ee();S(1),F("srcset",t.getSrcSet("medal-bronze.png","medal-bronze@2x.png","medal-bronze@3x.png"),an)("src",t.getFullImgPath("medal-bronze.png"),an)}}function cSe(n,e){if(1&n&&(D(0,"div",6),U(1),R()),2&n){const t=ee();S(1),ie(" ",t.placeNumber," ")}}let pz=(()=>{class n{get placeNumber(){return this.leaderIndex+1}getSrcSet(t,i,r){return`${this.getFullImgPath(t)}, ${this.getFullImgPath(i)} 2x, ${this.getFullImgPath(r)} 3x`}getFullImgPath(t){return"assets/challenges/images/"+t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-player-place"]],inputs:{leaderIndex:"leaderIndex"},decls:6,vars:4,consts:[[1,"leaderboard-place-container"],[3,"ngSwitch"],["class","place-number top",4,"ngSwitchCase"],["class","place-number",4,"ngSwitchDefault"],[1,"place-number","top"],["draggable","false","alt","",3,"srcset","src"],[1,"place-number"]],template:function(t,i){1&t&&(D(0,"div",0),ft(1,1),te(2,oSe,3,2,"div",2),te(3,aSe,3,2,"div",2),te(4,lSe,3,2,"div",2),te(5,cSe,2,1,"div",3),gt(),R()),2&t&&(S(1),F("ngSwitch",i.placeNumber),S(1),F("ngSwitchCase",1),S(1),F("ngSwitchCase",2),S(1),F("ngSwitchCase",3))},directives:[Va,Zl,df],styles:[".leaderboard-place-container[_ngcontent-%COMP%]{display:flex;min-width:52px;height:24px;padding:4px;justify-content:center;align-items:center;border-radius:32px;background:#242424}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]{width:100%;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:10px;font-weight:500;letter-spacing:-.25px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;-o-object-fit:cover;object-fit:cover;margin-right:4px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%], .leaderboard-place-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{color:#a3a3a3}"],changeDetection:0}),n})();function uSe(n,e){if(1&n&&ce(0,"img",3),2&n){const t=ee();F("src",t.getAvatar(t.avatar),an)}}function dSe(n,e){1&n&&ce(0,"img",4)}let hSe=(()=>{class n{getAvatar(t){return qs(Qs.avatarPath+t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-player-avatar"]],inputs:{avatar:"avatar"},decls:3,vars:2,consts:[[1,"avatar-container"],["draggable","false","class","d-inline-block","alt","",3,"src",4,"ngIf"],["draggable","false","class","d-inline-block","src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",4,"ngIf"],["draggable","false","alt","",1,"d-inline-block",3,"src"],["draggable","false","src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",1,"d-inline-block"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,uSe,1,1,"img",1),te(2,dSe,1,0,"img",2),R()),2&t&&(S(1),F("ngIf",i.avatar),S(1),F("ngIf",!i.avatar))},directives:[At],styles:[".avatar-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:24px}.avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;-o-object-fit:cover;object-fit:cover}"],changeDetection:0}),n})();function pSe(n,e){1&n&&ce(0,"app-leaderboard-player-place",6),2&n&&F("leaderIndex",ee().leaderboardIndex)}const fSe=function(n){return{complete:n}};function gSe(n,e){if(1&n&&(D(0,"div",7),U(1),G(2,"currencyPrecision"),R()),2&n){const t=ee();F("ngClass",zn(5,fSe,100===t.leaderboardItem.progress)),S(1),ie(" ",Gt(2,2,t.leaderboardItem.progress,2),"% ")}}function mSe(n,e){1&n&&(ft(0),U(1,"-"),gt())}function _Se(n,e){if(1&n&&(ft(0),U(1),G(2,"currencyPrecision"),gt()),2&n){const t=ee(2);S(1),nt(Gt(2,1,t.leaderboardItem.progress,2))}}function ySe(n,e){if(1&n&&(D(0,"div",8),te(1,mSe,2,0,"ng-container",9),te(2,_Se,3,4,"ng-container",9),R()),2&n){const t=ee();S(1),F("ngIf",!t.isChallengeActive),S(1),F("ngIf",t.isChallengeActive)}}const bSe=function(n){return{activeUser:n}};let sR=(()=>{class n{constructor(){this.isCurrentUserItem=!1,this.componentVariant=Qi.RACE,this.ChallengeTypeUI=Qi}get isChallengeActive(){return this.challengeStatus!==kr.Announced}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-item"]],inputs:{leaderboardIndex:"leaderboardIndex",leaderboardItem:"leaderboardItem",isCurrentUserItem:"isCurrentUserItem",challengeStatus:"challengeStatus",componentVariant:"componentVariant"},decls:8,vars:10,consts:[[1,"leaderboard-item",3,"ngClass"],[3,"leaderIndex",4,"ngIf"],[1,"leaderboard-avatar",3,"avatar"],[1,"leaderboard-name"],["class","leaderboard-percentage",3,"ngClass",4,"ngIf"],["class","leaderboard-score",4,"ngIf"],[3,"leaderIndex"],[1,"leaderboard-percentage",3,"ngClass"],[1,"leaderboard-score"],[4,"ngIf"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,pSe,1,1,"app-leaderboard-player-place",1),ce(2,"app-leaderboard-player-avatar",2),D(3,"div",3),U(4),G(5,"maskedUsername"),R(),te(6,gSe,3,7,"div",4),te(7,ySe,3,2,"div",5),R()),2&t&&(F("ngClass",zn(8,bSe,i.isCurrentUserItem)),S(1),F("ngIf",i.isChallengeActive),S(1),F("avatar",i.leaderboardItem.avatar),S(2),ie(" ",q(5,6,i.leaderboardItem.name)," "),S(2),F("ngIf",i.componentVariant!==i.ChallengeTypeUI.TOURNAMENT),S(1),F("ngIf",i.componentVariant===i.ChallengeTypeUI.TOURNAMENT))},directives:[cs,At,pz,hSe],pipes:[Ya,Zn],styles:[".leaderboard-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.leaderboard-item.activeUser[_ngcontent-%COMP%]{color:#ffde5c;border-radius:8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-avatar[_ngcontent-%COMP%]{margin:0 8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage[_ngcontent-%COMP%]{width:64px;text-align:right;margin-left:16px;font-size:14px;font-weight:500}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage.complete[_ngcontent-%COMP%]{color:#79e279}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-score[_ngcontent-%COMP%]{text-align:right;font-size:14px;font-weight:500}"],changeDetection:0}),n})();const vSe=function(n,e,t,i){return{singleListItem:n,afterActiveUser:e,beforeActiveUser:t,outsideList:i}};function CSe(n,e){if(1&n&&ce(0,"app-leaderboard-item",4),2&n){const t=e.$implicit,i=e.index,r=ee();F("isCurrentUserItem",r.myIndex===i)("componentVariant",r.ChallengeTypeUI.TOURNAMENT)("challengeStatus",r.challengeStatus)("leaderboardIndex",i)("leaderboardItem",t)("ngClass",EO(6,vSe,1===r.leaders.length,i-1===r.myIndex,r.myIndex&&r.myIndex>0&&i+1===r.myIndex,i>=r.maxListLength))}}const wSe=function(n){return{visible:n}};let dg=class{constructor(e,t){this.cd=e,this.hostElRef=t,this.leaders=[],this.myIndex=null,this.maxListLength=100,this.challengeStatus=kr.Announced,this.isScrollToTopVisible=!1,this.ChallengeTypeUI=Qi,this.LEADERBOARD_ITEM_HEIGHT=40}ngAfterViewInit(){this.onLeaderboardLoaded()}scrollToTop(){this.hostElRef.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaders.length||Hi(this.hostElRef.nativeElement,"scroll").pipe(qa(200),cn(e=>this.isScrollToTopVisible!==e.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT),kt(this)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};dg.\u0275fac=function(e){return new(e||dg)(W(Fn),W(ji))},dg.\u0275cmp=rt({type:dg,selectors:[["app-leaders-list"]],inputs:{leaders:"leaders",myIndex:"myIndex",maxListLength:"maxListLength",challengeStatus:"challengeStatus"},decls:6,vars:7,consts:[[1,"leaderboard-container"],["class","leaderboard-item",3,"isCurrentUserItem","componentVariant","challengeStatus","leaderboardIndex","leaderboardItem","ngClass",4,"ngFor","ngForOf"],[1,"back-to-top",3,"ngClass"],[1,"btn",3,"click"],[1,"leaderboard-item",3,"isCurrentUserItem","componentVariant","challengeStatus","leaderboardIndex","leaderboardItem","ngClass"]],template:function(e,t){1&e&&(D(0,"div",0),te(1,CSe,1,11,"app-leaderboard-item",1),R(),D(2,"div",2)(3,"button",3),Ae("click",function(){return t.scrollToTop()}),U(4),G(5,"transloco"),R()()),2&e&&(S(1),F("ngForOf",t.leaders),S(1),F("ngClass",zn(5,wSe,t.isScrollToTopVisible)),S(2),ie(" ",q(5,3,"challenges.action.Back to top")," "))},directives:[di,sR,cs],pipes:[$t],styles:[".leaderboard-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%}.leaderboard-container[_ngcontent-%COMP%]   app-leaderboard-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.leaderboard-container[_ngcontent-%COMP%]   app-leaderboard-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]{width:100%}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.outsideList[_ngcontent-%COMP%]{display:none}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:first-child   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:not(.afterActiveUser), .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;margin-top:8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.beforeActiveUser[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:0 0 8px 8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.singleListItem[_ngcontent-%COMP%], .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:first-child.beforeActiveUser, .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.back-to-top[_ngcontent-%COMP%]{position:absolute;visibility:hidden;bottom:16px;left:0;z-index:100;width:100%;transition:opacity .3s}.back-to-top.visible[_ngcontent-%COMP%]{visibility:visible}.back-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;margin:0 auto;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}"],changeDetection:0}),dg=Ve([_i()],dg);let SSe=(()=>{class n{constructor(){this.prizeName="",this.prizeIndex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-prize-item"]],inputs:{prizeName:"prizeName",prizeIndex:"prizeIndex"},decls:4,vars:2,consts:[[1,"prize-item"],[3,"leaderIndex"],[1,"prize-name"]],template:function(t,i){1&t&&(D(0,"div",0),ce(1,"app-leaderboard-player-place",1),D(2,"div",2),U(3),R()()),2&t&&(S(1),F("leaderIndex",i.prizeIndex),S(2),ie(" ",i.prizeName," "))},directives:[pz],styles:[".prize-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.prize-item[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all;margin-left:8px}"],changeDetection:0}),n})();const TSe=function(n){return{singleListItem:n}};function MSe(n,e){if(1&n&&ce(0,"app-prize-item",2),2&n){const t=e.$implicit,i=e.index,r=ee();F("ngClass",zn(3,TSe,1===r.prizes.length))("prizeIndex",i)("prizeName",t)}}let xSe=(()=>{class n{constructor(){this.prizes=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-prizes-list"]],inputs:{prizes:"prizes"},decls:2,vars:1,consts:[[1,"prizes-container"],[3,"ngClass","prizeIndex","prizeName",4,"ngFor","ngForOf"],[3,"ngClass","prizeIndex","prizeName"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,MSe,1,5,"app-prize-item",1),R()),2&t&&(S(1),F("ngForOf",i.prizes))},directives:[di,SSe,cs],styles:[".prizes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:first-child.singleListItem{border-radius:8px}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}"],changeDetection:0}),n})();function ESe(n,e){if(1&n&&(D(0,"div",6),ce(1,"app-leaderboard-item",7),R()),2&n){const t=ee(2);S(1),F("leaderboardItem",t.activePlayerItem)("componentVariant",t.ChallengeTypeUI.TOURNAMENT)("leaderboardIndex",t.myIndex)("challengeStatus",t.challengeStatus)("isCurrentUserItem",!0)}}function OSe(n,e){if(1&n&&(ft(0),te(1,ESe,2,5,"div",4),D(2,"div",5),U(3),G(4,"transloco"),R(),gt()),2&n){const t=ee();S(1),F("ngIf",!!t.activePlayerItem&&t.playerStatus!==t.PlayerStatus.None),S(2),Xn(" ",q(4,3,"challenges.Total Players")," - ",t.totalPlayers," ")}}function PSe(n,e){if(1&n&&(D(0,"div",5),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),Xn(" ",q(2,2,"challenges.Total Prizes")," - ",t.totalPrizes," ")}}let ISe=(()=>{class n{constructor(){this.activeSwitcherOption=yu.Players,this.totalPrizes=0,this.totalPlayers=0,this.playerStatus=cr.None,this.activePlayerItem=null,this.myIndex=null,this.challengeStatus=kr.Announced,this.LeaderboardSwitcherOption=yu,this.ChallengeTypeUI=Qi,this.PlayerStatus=cr}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-footer"]],inputs:{activeSwitcherOption:"activeSwitcherOption",totalPrizes:"totalPrizes",totalPlayers:"totalPlayers",playerStatus:"playerStatus",activePlayerItem:"activePlayerItem",myIndex:"myIndex",challengeStatus:"challengeStatus"},decls:4,vars:2,consts:[[1,"leaderboard-footer"],[1,"blur-block"],[4,"ngIf"],["class","total-items",4,"ngIf"],["class","active-user-container",4,"ngIf"],[1,"total-items"],[1,"active-user-container"],[1,"active-user-item",3,"leaderboardItem","componentVariant","leaderboardIndex","challengeStatus","isCurrentUserItem"]],template:function(t,i){1&t&&(D(0,"div",0),ce(1,"div",1),te(2,OSe,5,5,"ng-container",2),te(3,PSe,3,4,"div",3),R()),2&t&&(S(2),F("ngIf",i.activeSwitcherOption===i.LeaderboardSwitcherOption.Players),S(1),F("ngIf",i.activeSwitcherOption===i.LeaderboardSwitcherOption.Prizes))},directives:[At,sR],pipes:[$t],styles:[".leaderboard-footer[_ngcontent-%COMP%]{position:relative;margin:0 8px}.leaderboard-footer[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{pointer-events:none;position:absolute;display:flex;top:-80px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.leaderboard-footer[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]{margin-top:16px}.leaderboard-footer[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{border-radius:8px}.leaderboard-footer[_ngcontent-%COMP%]   .total-items[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;margin:16px 0;background:#1a1a1a;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),n})();function ASe(n,e){if(1&n&&(D(0,"span",8),U(1),R()),2&n){const t=ee(2);S(1),ie("(Top-",t.topValue,")")}}function DSe(n,e){1&n&&ce(0,"app-loader",9)}function RSe(n,e){if(1&n&&ce(0,"app-tournament-statistics",17),2&n){const t=ee(2).ngIf,i=ee();F("playerStatus",t.statusUpdate.player)("pointsScored",t.taskUpdate.totalProgress)("isLeaderboardLoaded",t.leaderBoardLoaded)("componentVariant","LEADERBOARD")("position",i.leaderboardService.myPosition)}}function kSe(n,e){1&n&&ce(0,"app-no-players",20)}function NSe(n,e){if(1&n&&ce(0,"app-leaders-list",21),2&n){const t=ee(3).ngIf,i=ee();F("challengeStatus",t.statusUpdate.challenge)("leaders",i.leaderboardService.items)("maxListLength",i.maxListLength)("myIndex",i.leaderboardService.myPosition-1)}}function FSe(n,e){if(1&n&&(ft(0),te(1,kSe,1,0,"app-no-players",18),te(2,NSe,1,4,"app-leaders-list",19),gt()),2&n){const t=ee(3);S(1),F("ngIf",!t.leaderboardService.items.length),S(1),F("ngIf",t.leaderboardService.items.length)}}function BSe(n,e){1&n&&ce(0,"app-prizes-list",22),2&n&&F("prizes",ee(3).prizeService.tournamentList)}function LSe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",10)(2,"app-leaderboard-switcher",11),Ae("typeChanged",function(r){return ht(t),ee(2).switchTab(r)}),R(),te(3,RSe,1,5,"app-tournament-statistics",12),ft(4,13),te(5,FSe,3,2,"ng-container",14),te(6,BSe,1,1,"app-prizes-list",15),gt(),R(),ce(7,"app-leaderboard-footer",16),gt()}if(2&n){const t=ee().ngIf,i=ee();S(2),F("activeOption",i.activeListTab),S(1),F("ngIf",t.statusUpdate.player!==i.PlayerStatus.None),S(1),F("ngSwitch",i.activeListTab),S(1),F("ngSwitchCase",i.LeaderboardSwitcherOption.Players),S(1),F("ngSwitchCase",i.LeaderboardSwitcherOption.Prizes),S(1),F("activeSwitcherOption",i.activeListTab)("myIndex",i.leaderboardService.myPosition-1)("challengeStatus",t.statusUpdate.challenge)("playerStatus",t.statusUpdate.player)("activePlayerItem",i.leaderboardService.myItem)("totalPrizes",i.prizeService.total)("totalPlayers",t.challengeStateUpdate.joinCount)}}function USe(n,e){if(1&n){const t=_t();D(0,"div",1)(1,"div",2)(2,"span"),U(3),G(4,"transloco"),R(),te(5,ASe,2,1,"span",3),D(6,"button",4),Ae("click",function(){return ht(t),ee().close()}),ce(7,"span",5),R()(),te(8,DSe,1,0,"app-loader",6),te(9,LSe,8,12,"ng-container",7),R()}if(2&n){const t=e.ngIf,i=ee();S(3),nt(q(4,4,"challenges.Leaderboard")),S(2),F("ngIf",i.challenge.update.joinCount>=i.topValue),S(3),F("ngIf",!t.leaderBoardLoaded),S(1),F("ngIf",t.leaderBoardLoaded)}}let dd=class{constructor(e,t,i,r,s,o,a){this.challenge=e,this.leaderboardService=t,this.prizeService=i,this.task=r,this.status=s,this.activeModal=o,this.stomp=a,this.topValue=100,this.ChallengeTypeUI=Qi,this.PlayerStatus=cr,this.maxListLength=this.challenge.config.leaderBoardSize,this.activeListTab=yu.Players,this.LeaderboardSwitcherOption=yu,this.data$=lc({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,prizeUpdate:this.prizeService.update$,leaderBoardLoaded:this.leaderboardService.loaded$})}ngOnInit(){this.challenge.updateState$.pipe(cn(e=>!e.isChallengeAvailable),kt(this)).subscribe(()=>this.close()),this.stomp.request(hs.MetricsLeaderboardModalOpen,{challengeId:this.challenge.config.challengeId})}close(){this.activeModal.close()}switchTab(e){this.activeListTab=e}};dd.\u0275fac=function(e){return new(e||dd)(W(fo),W(jv),W(Gv),W(cg),W(ug),W(Dr),W(Rs))},dd.\u0275cmp=rt({type:dd,selectors:[["app-leaderboard"]],decls:2,vars:3,consts:[["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","loader",4,"ngIf"],[4,"ngIf"],[1,"top-description"],[1,"loader"],[1,"modal-body"],[1,"leaderboard-switcher",3,"activeOption","typeChanged"],["class","tournament-statistics",3,"playerStatus","pointsScored","isLeaderboardLoaded","componentVariant","position",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","leaderboard-list",3,"prizes",4,"ngSwitchCase"],[3,"activeSwitcherOption","myIndex","challengeStatus","playerStatus","activePlayerItem","totalPrizes","totalPlayers"],[1,"tournament-statistics",3,"playerStatus","pointsScored","isLeaderboardLoaded","componentVariant","position"],["class","h-100",4,"ngIf"],["class","leaderboard-list",3,"challengeStatus","leaders","maxListLength","myIndex",4,"ngIf"],[1,"h-100"],[1,"leaderboard-list",3,"challengeStatus","leaders","maxListLength","myIndex"],[1,"leaderboard-list",3,"prizes"]],template:function(e,t){1&e&&(te(0,USe,10,6,"div",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.data$))},directives:[At,gu,tSe,hz,Va,Zl,sSe,dg,xSe,ISe],pipes:[Ki,$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{display:flex;height:100%;margin:auto 0;justify-content:center;align-items:center;flex:1 0 0;align-self:stretch}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .leaderboard-switcher[_ngcontent-%COMP%]{display:block;margin:8px 0 0}.modal-content[_ngcontent-%COMP%]   .tournament-statistics[_ngcontent-%COMP%]{display:block;margin:10px 0 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;border-radius:8px;margin-top:10px;height:100%}"],changeDetection:0}),dd=Ve([_i()],dd);let vp=(()=>{class n{constructor(t){this.ngbModal=t,this.defaultOptions={windowClass:"modal-challenge"}}open(t,i){t!==dd?this.ngbModal.open(t,Object.assign(Object.assign({},this.defaultOptions),null!=i?i:{})):this.ngbModal.open(dd,Object.assign({},this.defaultOptions)).componentInstance.activeListTab=i}}return n.\u0275fac=function(t){return new(t||n)(We(kb))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fz=(()=>{class n{constructor(){this.isChallengesEnabled=!1,this.isChatEnabled=!1}init(t){Object.assign(this,t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HSe(n,e){if(1&n&&(D(0,"div",34),U(1),R()),2&n){const t=ee(2);S(1),ie(" ",t.freeBets.freeBetsCount," ")}}function jSe(n,e){if(1&n){const t=_t();D(0,"div",31),Ae("click",function(){return ht(t),ee().onFreeBetsManagementOpen()}),D(1,"div",12)(2,"div",13),ce(3,"div",32),R(),D(4,"div",24),U(5),G(6,"transloco"),R(),te(7,HSe,2,1,"div",33),R()()}if(2&n){const t=ee();F("disabled",t.isBetSetted),S(5),ie(" ",q(6,3,"shared.free_bets")," "),S(2),F("ngIf",t.freeBets.freeBetsCount>0)}}function GSe(n,e){if(1&n){const t=_t();D(0,"div",22),Ae("click",function(){return ht(t),ee().onOtherSettingsOpen()}),D(1,"div",12)(2,"div",13),ce(3,"div",35),R(),D(4,"div",36),U(5),G(6,"transloco"),R()()()}2&n&&(S(5),ie(" ",q(6,1,"shared.Other_Settings")," "))}const VSe=function(n){return{value:n}};function zSe(n,e){if(1&n){const t=_t();D(0,"div",22),Ae("click",function(){return ht(t),ee().onChangeServer()}),D(1,"div",12)(2,"div",13),ce(3,"div",37),R(),D(4,"div",36),U(5),G(6,"transloco"),R()()()}if(2&n){const t=ee();S(5),ie(" ",Gt(6,1,"shared.Game Room: Room #",zn(4,VSe,t.multiServer.currentServerId))," ")}}function $Se(n,e){if(1&n){const t=_t();D(0,"a",38),Ae("click",function(){return ht(t),ee().onBackToHome()}),ce(1,"div",39),D(2,"span"),U(3),G(4,"transloco"),R()()}2&n&&(S(3),nt(q(4,1,"shared.home")))}let hg=class{constructor(e,t,i,r,s,o,a,l,c,u,d,b,C,M){var I,k;this.connector=e,this.app=t,this.gameConfig=i,this.user=r,this.betControl=s,this.freeBets=o,this.proxy=a,this.ifc=l,this.cd=c,this.modal=u,this.urlParams=d,this.multiServer=b,this.modalHandlerService=C,this.challengeConfigService=M,this.returnUrl=null!==(I=this.urlParams.returnUrl)&&void 0!==I?I:"",this.accountHistoryUrl=null!==(k=this.urlParams.accountHistoryUrl)&&void 0!==k?k:""}ngOnInit(){this.ifc.receive$(Ir.OpenHelp).pipe(kt(this)).subscribe(()=>this.onRulesOpen()),this.ifc.receive$(Ir.SetSound).pipe(kt(this)).subscribe(e=>this.setSetting(Ir.SetSound,e.value)),this.ifc.receive$(Ir.SetMusic).pipe(kt(this)).subscribe(e=>this.setSetting(Ir.SetMusic,e.value)),this.ifc.receive$(Ir.SetAnimation).pipe(kt(this)).subscribe(e=>this.setSetting(Ir.SetAnimation,e.value))}setSetting(e,t){switch(e){case Ir.SetSound:this.user.settings.sound=t;break;case Ir.SetMusic:this.user.settings.music=t;break;case Ir.SetAnimation:this.user.settings.animation=t}this.cd.detectChanges()}get isBetSetted(){return this.betControl.isBetSetted}get avatar(){return qs(Qs.avatarPath+this.user.avatar)}onChangeAvatar(){this.modal.open(hi.avatar)}onFreeBetsManagementOpen(){!1===this.betControl.isBetSetted&&this.modal.open(hi.freeBets)}onFairnessOpen(){this.modal.open(hi.fairnessSettings)}onRulesOpen(){this.modal.open(hi.rules)}onMyBetsHistoryOpen(){this.gameConfig.accountHistoryActionType===Qf.IfcEvent?this.ifc.send(Di.AccountHistory,{accountHistoryUrl:this.accountHistoryUrl}):this.gameConfig.accountHistoryActionType===Qf.NewTab&&this.accountHistoryUrl?window.open(this.accountHistoryUrl,"_blank"):this.accountHistoryUrl?window.open(this.accountHistoryUrl,"_top"):this.modal.open(hi.myBetsHistory)}onGameLimitsOpen(){this.modal.open(hi.gameLimits)}onOpenHelp(){this.modal.open(hi.quickHelp)}onOtherSettingsOpen(){this.modal.open(hi.otherSettings)}onBackToHome(){if(this.gameConfig.backToHomeActionType===Zf.IfcEvent)return this.proxy.sendBackToHome(this.returnUrl),void this.ifc.send(Di.BackToHome,{returnUrl:this.returnUrl});window.open(this.returnUrl,"_top")}onChangeServer(){this.modal.open(hi.changeServer)}onChallengeTicketsOpen(){this.modalHandlerService.open(eSe)}};function WSe(n,e){if(1&n&&(D(0,"a",13),ce(1,"img",14),R()),2&n){const t=ee(2);Et("disabled",null===t.urlParams.returnUrl),F("href",t.homeUrl,an),S(1),F("src",t.brandLogo,an)}}function YSe(n,e){if(1&n&&(D(0,"span",15),U(1),R()),2&n){const t=ee(2);S(1),nt(t.gameConfig.currency)}}function XSe(n,e){1&n&&Gs(0)}function qSe(n,e){if(1&n){const t=_t();D(0,"div",16),Ae("click",function(){ht(t);const r=ee(2);return r.chatFeatureService.isOpen=!r.chatFeatureService.isOpen}),ce(1,"div",17),R()}}function KSe(n,e){if(1&n&&(D(0,"div",3)(1,"div",4),te(2,WSe,2,4,"a",5),ce(3,"div",6),R(),D(4,"div",7)(5,"div",8)(6,"span",9),U(7),G(8,"currencyPrecision"),G(9,"async"),R(),te(10,YSe,2,1,"span",10),R(),te(11,XSe,1,0,"ng-container",11),te(12,qSe,2,0,"div",12),G(13,"async"),R()()),2&n){const t=ee(),i=er(3);S(2),F("ngIf",t.app.clientConfig.brandLogo),S(1),Et("game-logo-ab",t.app.isBrandAdjarabet),S(4),nt(q(8,7,q(9,9,t.userBalance$))),S(3),F("ngIf",!t.gameConfig.isCurrencyNameHidden),S(1),F("ngTemplateOutlet",i),S(1),F("ngIf",q(13,11,t.chatFeatureService.isChatEnabled$)&&!t.chatFeatureService.isOpen)}}function JSe(n,e){1&n&&Gs(0)}function QSe(n,e){if(1&n&&(D(0,"div",18),te(1,JSe,1,0,"ng-container",11),R()),2&n){ee();const t=er(3);S(1),F("ngTemplateOutlet",t)}}function ZSe(n,e){if(1&n&&(D(0,"div",24),U(1),R()),2&n){const t=ee(2);S(1),ie(" ",t.freeBets.freeBetsCount," ")}}function eTe(n,e){if(1&n&&(D(0,"div",19)(1,"div",20),ce(2,"div",21),te(3,ZSe,2,1,"div",22),D(4,"div",23),ce(5,"app-settings-menu"),R()()()),2&n){const t=ee();F("placement","bottom-right"),S(3),F("ngIf",t.freeBets.freeBetsCount>0)}}hg.\u0275fac=function(e){return new(e||hg)(W(tr),W(gr),W(Hn),W(fu),W(ad),W(od),W(rM),W(Xo),W(Fn),W(Pa),W(ac),W(Z_),W(vp),W(fz))},hg.\u0275cmp=rt({type:hg,selectors:[["app-settings-menu"]],decls:85,vars:40,consts:[[1,"user"],[1,"first-block","p-2"],[1,"user-info"],[1,"avatar"],["draggable","false",3,"src","alt"],[1,"name"],["ngbDropdownItem","",1,"avatar-change",3,"click"],[1,"avatar-logo"],[1,"change-text"],[1,"second-block"],[1,"list-menu","pb-3"],[1,"list-menu-item"],[1,"title"],[1,"icon-wrapper"],[1,"sound-icon"],[1,"title-text"],[1,"switch"],[3,"ngModel","ngModelChange"],[1,"music-icon"],[1,"animation-icon"],[1,"list-menu"],["ngbDropdownItem","","class","list-menu-item info-item",3,"disabled","click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"click"],[1,"icon","history-icon"],[1,"title-text-info","text-capitalize"],[1,"icon","limits-icon"],[1,"icon","help-icon"],[1,"icon","rule-icon"],[1,"icon","fair-icon"],["class","list-menu-item info-item","ngbDropdownItem","",3,"click",4,"ngIf"],["class","logout","href","javascript:void(0)",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"disabled","click"],[1,"icon","star-icon"],["class","badge badge-danger badge-notification",4,"ngIf"],[1,"badge","badge-danger","badge-notification"],[1,"icon","other-icon"],[1,"title-text-info"],[1,"icon","multi-server-icon"],["href","javascript:void(0)",1,"logout",3,"click"],[1,"home-icon"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ce(4,"img",4),R(),D(5,"div",5),U(6),R()(),D(7,"div",6),Ae("click",function(){return t.onChangeAvatar()}),ce(8,"div",7),D(9,"div",8)(10,"div"),U(11),G(12,"transloco"),R(),D(13,"div"),U(14),G(15,"transloco"),R()()()(),D(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13),ce(21,"div",14),R(),D(22,"span",15),U(23),G(24,"transloco"),R()(),D(25,"div",16)(26,"app-ui-switcher",17),Ae("ngModelChange",function(r){return t.user.settings.sound=r}),R()()(),D(27,"div",11)(28,"div",12)(29,"div",13),ce(30,"div",18),R(),D(31,"span",15),U(32),G(33,"transloco"),R()(),D(34,"div",16)(35,"app-ui-switcher",17),Ae("ngModelChange",function(r){return t.user.settings.music=r}),R()()(),D(36,"div",11)(37,"div",12)(38,"div",13),ce(39,"div",19),R(),D(40,"span",15),U(41),G(42,"transloco"),R()(),D(43,"div",16)(44,"app-ui-switcher",17),Ae("ngModelChange",function(r){return t.user.settings.animation=r}),R()()()(),D(45,"div",20),te(46,jSe,8,5,"div",21),D(47,"div",22),Ae("click",function(){return t.onMyBetsHistoryOpen()}),D(48,"div",12)(49,"div",13),ce(50,"div",23),R(),D(51,"div",24),U(52),G(53,"transloco"),R()()(),D(54,"div",22),Ae("click",function(){return t.onGameLimitsOpen()}),D(55,"div",12)(56,"div",13),ce(57,"div",25),R(),D(58,"div",24),U(59),G(60,"transloco"),R()()(),D(61,"div",22),Ae("click",function(){return t.onOpenHelp()}),D(62,"div",12)(63,"div",13),ce(64,"div",26),R(),D(65,"div",24),U(66),G(67,"transloco"),R()()(),D(68,"div",22),Ae("click",function(){return t.onRulesOpen()}),D(69,"div",12)(70,"div",13),ce(71,"div",27),R(),D(72,"div",24),U(73),G(74,"transloco"),R()()(),D(75,"div",22),Ae("click",function(){return t.onFairnessOpen()}),D(76,"div",12)(77,"div",13),ce(78,"div",28),R(),D(79,"div",24),U(80),G(81,"transloco"),R()()(),te(82,GSe,7,3,"div",29),te(83,zSe,7,6,"div",29),R()(),te(84,$Se,5,3,"a",30),R()),2&e&&(S(4),F("src",t.avatar,an)("alt",t.avatar),S(2),nt(t.user.username),S(5),nt(q(12,20,"shared.change")),S(3),nt(q(15,22,"shared.avatar")),S(9),nt(q(24,24,"shared.sound")),S(3),F("ngModel",t.user.settings.sound),S(6),nt(q(33,26,"shared.music")),S(3),F("ngModel",t.user.settings.music),S(6),nt(q(42,28,"shared.animation")),S(3),F("ngModel",t.user.settings.animation),S(2),F("ngIf",t.app.isFreeBetsEnabled),S(6),ie(" ",q(53,30,"shared.my_bet_history")," "),S(7),ie(" ",q(60,32,"shared.game_limits")," "),S(7),ie(" ",q(67,34,"shared.how_to_play")," "),S(7),ie(" ",q(74,36,"shared.game_rules")," "),S(7),ie(" ",q(81,38,"shared.provably_fair_settings")," "),S(2),F("ngIf",t.user.settings.isOtherEnabled),S(1),F("ngIf",t.multiServer.isMultiServer&&t.gameConfig.isPodSelectAvailable),S(1),F("ngIf",t.urlParams.returnUrl))},directives:[z2,Uv,Jo,Ma,At],pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.user[_ngcontent-%COMP%]{width:100%;max-width:320px;border-radius:6px;background:#2c2d30;box-shadow:10px 10px 20px #000000b3}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:16px;font-weight:700;color:#fff;width:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;border-radius:50%;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]{background:#252528;display:flex;justify-content:center;align-items:center;font-size:12px;color:#83878e;cursor:pointer;padding:6px 15px 6px 10px;width:auto;border:solid 1px #414148;border-radius:21px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .avatar-logo[_ngcontent-%COMP%]{background:url(av.4789b256e5464f98.svg) no-repeat center center/contain;width:20px;height:20px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{margin-left:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;padding-bottom:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{min-width:124px;font-size:14px;line-height:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]{width:100%;background-color:#1b1c1d;border-top:solid 1px rgba(255,255,255,.1);display:flex;height:45px;align-items:center;padding:7px 10px;justify-content:space-between}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]:first-child{border-top:0;height:44px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]{white-space:normal}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item[_ngcontent-%COMP%]{cursor:pointer}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item.disabled[_ngcontent-%COMP%]{opacity:.5}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(255,255,255,.1)!important}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title-text-info[_ngcontent-%COMP%]{font-size:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:24px;display:flex;justify-content:center;margin-right:4px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .sound-icon[_ngcontent-%COMP%]{background:url(sound.354a395bdd5bff4a.svg) no-repeat center center/contain;width:15px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .music-icon[_ngcontent-%COMP%]{background:url(music.4cfceb698f352c5c.svg) no-repeat center center/contain;width:16px;height:18px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .animation-icon[_ngcontent-%COMP%]{background:url(animation.ab8f69f184d5fae8.svg) no-repeat center center/contain;width:18px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{background:url(star-menu.e1cef8dadb898f11.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .challenge-ticket-icon[_ngcontent-%COMP%]{background:url(challenge-ticket.a4b1a0ad7f10f1fd.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fair-icon[_ngcontent-%COMP%]{background:url(pf.0c5beb8137f06e6d.svg) no-repeat center center/contain;width:13px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .rule-icon[_ngcontent-%COMP%]{background:url(rules.f240a948b3e6f2f6.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-grey.42f4d875e3b84de6.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .limits-icon[_ngcontent-%COMP%]{background:url(limits.5c82c8e4688aa90d.svg) no-repeat center center/contain;width:16px;height:10px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .other-icon[_ngcontent-%COMP%]{background:url(other-settings.9ac24a8403a5c08f.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .multi-server-icon[_ngcontent-%COMP%]{background:url(multi-server.c9e1d3c5d7ebef88.svg) no-repeat center center;width:20px;height:20px;margin:0 5px 5px 0}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3;display:flex;justify-content:center;align-items:center;padding-bottom:16px;cursor:pointer}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{width:16px;height:14px;background-image:url(home.6b1098bdadd19cef.svg);margin-right:5px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.badge-notification[_ngcontent-%COMP%]{margin-left:4px}"]}),hg=Ve([_i()],hg);let pg=class{constructor(e,t,i,r,s,o,a,l,c,u){this.mainService=e,this.chatFeatureService=t,this.modal=i,this.cd=r,this.freeBets=s,this.ifc=o,this.userService=a,this.app=l,this.gameConfig=c,this.urlParams=u,this.userBalance$=this.userService.balance$.pipe(ke(d=>d>=0?d:0))}ngOnInit(){this.chatFeatureService.isOpen$.pipe(kt(this)).subscribe(()=>this.cd.detectChanges()),this.freeBets.onUpdate$.pipe(kt(this)).subscribe(()=>{this.cd.detectChanges()}),this.ifc.receive$(Ir.AviaPortToggleGameMenu).pipe(kt(this)).subscribe(()=>{this.onToggleGameMenu(),this.cd.detectChanges()})}get homeUrl(){return this.urlParams.returnUrl?this.urlParams.returnUrl:"#"}get brandLogo(){return qs(Qs.brandPath+this.app.clientConfig.brandLogo)}onOpenHelp(){this.modal.open(hi.quickHelp)}onToggleGameMenu(){this.gameMenu.isOpen()?this.gameMenu.close():(this.gameMenu.open(),this.urlParams.aviaport&&(this.chatFeatureService.isOpen=!1))}};pg.\u0275fac=function(e){return new(e||pg)(W(Zr),W(Tl),W(Pa),W(Fn),W(od),W(Xo),W(fu),W(gr),W(Hn),W(ac))},pg.\u0275cmp=rt({type:pg,selectors:[["app-header"]],viewQuery:function(e,t){if(1&e&&Lr(tp,5),2&e){let i;Kn(i=Jn())&&(t.gameMenu=i.first)}},decls:4,vars:2,consts:[["class","header",4,"ngIf"],["class","hidden-header",4,"ngIf"],["userMenu",""],[1,"header"],[1,"header-left"],["target","_top","class","main-page-btn position-relative",3,"href","disabled",4,"ngIf"],[1,"game-logo"],[1,"header-right"],[1,"balance"],[1,"balance-amount"],["class","balance-currency",4,"ngIf"],[4,"ngTemplateOutlet"],["class","chat-i-wrapper disabled-on-game-focused",3,"click",4,"ngIf"],["target","_top",1,"main-page-btn","position-relative",3,"href"],["draggable","false","alt","home",1,"d-block","h-100","w-100",3,"src"],[1,"balance-currency"],[1,"chat-i-wrapper","disabled-on-game-focused",3,"click"],[1,"chat-i"],[1,"hidden-header"],["ngbDropdown","",1,"user-wrapper",3,"placement"],["ngbDropdownToggle","",1,"user","w-100","d-flex","align-items-center","position-relative","disabled-on-game-focused"],[1,"burger-i"],["class","badge badge-danger badge-notification position-absolute",4,"ngIf"],["ngbDropdownMenu","",1,"user-menu-dropdown"],[1,"badge","badge-danger","badge-notification","position-absolute"]],template:function(e,t){1&e&&(te(0,KSe,14,13,"div",0),te(1,QSe,2,1,"div",1),te(2,eTe,6,2,"ng-template",null,2,Wo)),2&e&&(F("ngIf",!t.urlParams.aviaport),S(1),F("ngIf",t.urlParams.aviaport))},directives:[At,Fh,tp,$2,QS,hg],pipes:[Zn,Ki],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:40px;padding:4px;background-color:#1b1c1d}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;margin-right:8px}.header-left[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{margin-right:4px;width:18px;height:18px;cursor:pointer}.header-left[_ngcontent-%COMP%]   .main-page-btn.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.header-left[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]:hover{opacity:.9}@media (min-width: 768px){.header-left[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:20px;height:20px}}.header-left[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:72px;height:100%;margin:0 4px;background:url(aviator-logo.c6b742d995765be3.svg) no-repeat center center/contain}.header-left[_ngcontent-%COMP%]   .game-logo.game-logo-ab[_ngcontent-%COMP%]{background:url(aviator-logo-ab.3b29606fcc84f707.svg) no-repeat center center/contain}@media (min-width: 768px){.header-left[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:84px}}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:-moz-fit-content;min-width:fit-content}.header-right[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]{text-align:right;font-size:14px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums}.header-right[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#28a909;font-weight:600;margin-right:4px}.header-right[_ngcontent-%COMP%]   .balance-currency[_ngcontent-%COMP%]{color:#9b9c9e;font-weight:500;letter-spacing:-.21px;margin-right:4px}.header-right[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .burger-i[_ngcontent-%COMP%]{margin:4px;width:24px;height:24px;background:url(burger.c6267b2d55596c34.svg) no-repeat center center}.header-right[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer}.header-right[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.header-right[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{top:0;right:0}.header-right[_ngcontent-%COMP%]   .user-wrapper.show[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:before{opacity:0}.header-right[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]   .chat-i[_ngcontent-%COMP%]{margin:4px;width:24px;height:24px;cursor:pointer;background:url(chat.61cb237360b103af.svg) no-repeat center center}.hidden-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:relative;height:0;width:100%;padding-right:8px}.hidden-header[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{top:8px;visibility:hidden}.user-menu-dropdown[_ngcontent-%COMP%]{width:320px}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;padding:0;margin:0}"],changeDetection:0}),pg=Ve([_i()],pg);var c0=(()=>(function(n){n.AllBets="All Bets",n.Previous="Previous",n.Top="Top"}(c0||(c0={})),c0))();function tTe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",2),Ae("click",function(){const s=ht(t).$implicit;return ee().onClickTab(s)}),U(2),G(3,"transloco"),R(),gt()}if(2&n){const t=e.$implicit,i=ee();S(1),Et("active",i.activeTab===t),S(1),ie(" ",q(3,3,i.translatePath+"."+t)," ")}}let oR=(()=>{class n{constructor(t){this.cd=t,this.disabled=!1,this.toggle=new _n,this.activeTab="",this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(t){this.disabled||this.activeTab!==t&&(this.toggle.emit(t),this.writeValue(t))}writeValue(t){!t||(this.activeTab=t,this.onModelChange(this.activeTab),this.cd.markForCheck())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(W(Fn))},n.\u0275cmp=rt({type:n,selectors:[["app-navigation-switcher"]],inputs:{disabled:"disabled",tabs:"tabs",translatePath:"translatePath"},outputs:{toggle:"toggle"},features:[qn([{provide:Ks,useExisting:Un(()=>n),multi:!0}])],decls:2,vars:3,consts:[[1,"navigation-switcher"],[4,"ngFor","ngForOf"],["tabindex","-1",1,"tab",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,tTe,4,5,"ng-container",1),R()),2&t&&(Et("disabled",i.disabled),S(1),F("ngForOf",i.tabs))},directives:[di],pipes:[$t],styles:[".navigation-switcher[_ngcontent-%COMP%]{display:flex;width:100%;height:var(--navigationSwitcherHeight);background:#141516;border-radius:64px;border:solid 4px #141516}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex-grow:1;height:100%;width:100%;text-align:center;background:none;border-radius:32px;border:none;padding:0;color:#a3a3a3;font-size:12px;font-weight:400;letter-spacing:-.18px;transition:background-color .25s ease-in,color .25s ease-in}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#2c2d30;color:#ebebeb;cursor:default}"],changeDetection:0}),n})(),nTe=(()=>{class n{constructor(t,i,r,s,o){this.gameConfig=t,this.mainService=i,this.connector=r,this.user=s,this.app=o,this.allBetsSubject=new $n([]),this.allBets$=this.allBetsSubject.asObservable().pipe(ke(a=>{const l=this.gameConfig.minBet,c=this.gameConfig.maxBet;return a.filter(u=>u.bet>=l&&u.bet<=c)})),this.loaded=!1,this.isUpdateCurrentBetsReceived=!1,this._numberOfBets=0,this.connector.response(In.Bet,200).pipe(cn(()=>!this.isUpdateCurrentBetsReceived),cn(()=>!this.user.settings.getOther(pu.HideMyActivity)),bl(a=>this.allBetsSubject.next([...this.allBetsCurrentValue,a]))).subscribe(()=>{this.setNumberOfBets(this.allBetsCurrentValue.length),this.sortBets()}),this.connector.response(In.CancelBet,200).pipe(cn(()=>!this.isUpdateCurrentBetsReceived),cn(()=>!this.user.settings.getOther(pu.HideMyActivity)),bl(a=>{const l=[...this.allBetsCurrentValue].filter(c=>!(c.player_id===a.player_id&&c.betId===a.betId));this.allBetsSubject.next(l)}),qa(100)).subscribe(()=>{this.setNumberOfBets(this.allBetsCurrentValue.length),this.sortBets()}),this.connector.response(In.CashOut,200).pipe(cn(()=>!this.isUpdateCurrentBetsReceived),cn(()=>!this.user.settings.getOther(pu.HideMyActivity)),bl(a=>this.displayCashOuts(a.cashouts,a.multiplier)),qa(100)).subscribe(()=>{this.sortBets()}),this.connector.response(In.UpdateCurrentBets,200).pipe(bl(a=>this.allBetsSubject.next(a.bets)),qa(100)).subscribe(a=>{this.isUpdateCurrentBetsReceived=!0,this.setNumberOfBets(a.betsCount),this.sortBets()}),this.connector.response(In.UpdateCurrentCashOuts,200).pipe(qa(100)).subscribe(a=>{this.isUpdateCurrentBetsReceived=!0,this.displayCashOuts(a.cashouts)}),this.connector.response(In.CurrentBetsInfo).subscribe(a=>{var l;200===a.code?(this.loaded=!0,this.allBetsSubject.next(a.bets),this.setNumberOfBets(null!==(l=a.betsCount)&&void 0!==l?l:this.allBetsCurrentValue.length),"cashOuts"in a&&Array.isArray(a.cashOuts)&&this.displayCashOuts(a.cashOuts),this.sortBets()):this.loaded=!0}),this.mainService.getState(lr.Bet).subscribe(()=>{this.allBetsSubject.next([]),this.setNumberOfBets(this.allBetsCurrentValue.length)})}get allBetsCurrentValue(){return this.allBetsSubject.getValue()}get numberOfBets(){return this._numberOfBets}loadCurrentBetsInfo(){this.loaded=!1,this.connector.request(mr.CurrentBetsInfo,null)}setNumberOfBets(t){this.loaded&&(this._numberOfBets=t)}displayCashOuts(t,i){const r=new Map(t.map(o=>[`${o.player_id}_${o.betId}`,o])),s=this.allBetsCurrentValue.map(o=>{const a=r.get(`${o.player_id}_${o.betId}`);return a?Object.assign(Object.assign({},o),{payout:"multiplier"in a?a.multiplier:i,winAmount:a.winAmount}):o});this.allBetsSubject.next(s)}sortBets(){const t=[...this.allBetsCurrentValue].sort((i,r)=>r.bet-i.bet);this.allBetsSubject.next(t)}}return n.\u0275fac=function(t){return new(t||n)(We(Hn),We(Zr),We(tr),We(fu),We(gr))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iTe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-legacy-all-bets-counter"]],inputs:{total:"total"},decls:7,vars:4,consts:[[1,"all-bets-block","d-flex","justify-content-between","align-items-center"],[1,"text-uppercase"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div")(2,"div",1),U(3),G(4,"transloco"),R(),D(5,"div"),U(6),R()()()),2&t&&(S(3),ie(" ",q(4,2,"game.bets-widget.All Bets")," "),S(3),nt(i.total))},pipes:[$t],styles:[".all-bets-block[_ngcontent-%COMP%]{padding:8px;font-size:14px;line-height:1.2}"],changeDetection:0}),n})();const gz={activePlayersCount:0,topPlayerProfileImages:[]},mz={betsCount:0,openBetsCount:0,totalCashOut:0,topPlayerProfileImages:[]};let _z=(()=>{class n{constructor(t,i,r){this.connector=t,this.mainService=i,this.app=r,this.activePlayersCounterSubject=new $n(gz),this.activePlayersCounter$=this.activePlayersCounterSubject.asObservable(),this.totalWinSubject=new $n(mz),this.totalWin$=this.totalWinSubject.asObservable(),this.connector.response(In.CurrentBetsInfo,200).subscribe(s=>{this.activePlayersCounterSubject.next({activePlayersCount:s.activePlayersCount||0,topPlayerProfileImages:s.topPlayerProfileImages||[]}),this.totalWinSubject.next({betsCount:s.betsCount||0,openBetsCount:s.openBetsCount||0,totalCashOut:s.totalCashOut||0,topPlayerProfileImages:s.topPlayerProfileImages||[]})}),this.connector.response(In.UpdateCurrentBets,200).subscribe(s=>{this.activePlayersCounterSubject.next({activePlayersCount:s.activePlayersCount,topPlayerProfileImages:s.topPlayerProfileImages}),this.totalWinSubject.next(Object.assign(Object.assign({},this.totalWinCurrentValue),{betsCount:s.betsCount,openBetsCount:s.betsCount,topPlayerProfileImages:s.topPlayerProfileImages}))}),this.connector.response(In.UpdateCurrentCashOuts,200).subscribe(s=>{this.activePlayersCounterSubject.next({activePlayersCount:s.activePlayersCount,topPlayerProfileImages:s.topPlayerProfileImages}),this.totalWinSubject.next(Object.assign(Object.assign({},this.totalWinCurrentValue),{openBetsCount:s.openBetsCount,totalCashOut:s.totalCashOut,topPlayerProfileImages:s.topPlayerProfileImages}))}),this.mainService.getState(lr.Bet).subscribe(()=>{this.activePlayersCounterSubject.next(gz),this.totalWinSubject.next(mz)})}get totalWinCurrentValue(){return this.totalWinSubject.getValue()}}return n.\u0275fac=function(t){return new(t||n)(We(tr),We(Zr),We(gr))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rTe=function(n){return{"z-index":n}};function sTe(n,e){if(1&n&&ce(0,"img",2),2&n){const t=e.$implicit,i=e.index,r=ee();F("ngStyle",zn(3,rTe,10-i))("src",r.app.getAvatarUrl(t),an)("alt",r.app.getAvatarUrl(t))}}let yz=(()=>{class n{constructor(t){this.app=t,this.topPlayerProfileImages=[]}}return n.\u0275fac=function(t){return new(t||n)(W(gr))},n.\u0275cmp=rt({type:n,selectors:[["app-top-player-avatars"]],inputs:{topPlayerProfileImages:"topPlayerProfileImages"},decls:2,vars:1,consts:[[1,"avatars"],["draggable","false","class","avatar",3,"ngStyle","src","alt",4,"ngFor","ngForOf"],["draggable","false",1,"avatar",3,"ngStyle","src","alt"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,sTe,1,5,"img",1),R()),2&t&&(S(1),F("ngForOf",i.topPlayerProfileImages))},directives:[di,Dd],styles:[".avatars[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.avatars[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:solid 1px #28a90a}.avatars[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-8px}"]}),n})();function oTe(n,e){1&n&&ce(0,"app-top-player-avatars",14),2&n&&F("topPlayerProfileImages",ee().ngIf.topPlayerProfileImages)}function aTe(n,e){if(1&n&&(D(0,"div",2)(1,"div",3)(2,"div",4),te(3,oTe,1,1,"app-top-player-avatars",5),R(),D(4,"span",6),U(5),G(6,"currencyPrecision"),R()(),D(7,"div",7)(8,"div",8)(9,"span",9),U(10),R(),D(11,"span",10),U(12),R()(),D(13,"div",11),U(14),R()(),D(15,"div",12),ce(16,"div",13),R()()),2&n){const t=e.ngIf,i=ee().$implicit,r=ee();S(3),F("ngIf",t.openBetsCount>0),S(2),nt(q(6,9,t.totalCashOut)),S(5),Xn("",t.openBetsCount,"/",t.betsCount,""),S(2),ie(" ",i("game.bets-widget.Bets"),""),S(2),Xn(" ",i("game.bets-widget.Total win")," ",r.gameConfig.currency," "),S(2),hl("width",t.progressWidth,"%")}}function lTe(n,e){if(1&n&&(ft(0),te(1,aTe,17,11,"div",1),G(2,"async"),gt()),2&n){const t=ee();S(1),F("ngIf",q(2,1,t.totalWin$))}}let cTe=(()=>{class n{constructor(t,i){this.gameConfig=t,this.playersActivityService=i,this.totalWin$=this.playersActivityService.totalWin$.pipe(ke(r=>{const s=r.betsCount>0?new Fi(r.betsCount-r.openBetsCount).div(r.betsCount).mul(100).toNumber():0;return Object.assign(Object.assign({},r),{progressWidth:s})}))}}return n.\u0275fac=function(t){return new(t||n)(W(Hn),W(_z))},n.\u0275cmp=rt({type:n,selectors:[["app-total-win-widget"]],decls:1,vars:0,consts:[[4,"transloco"],["class","total-win-container",4,"ngIf"],[1,"total-win-container"],[1,"header"],[1,"avatars"],[3,"topPlayerProfileImages",4,"ngIf"],[1,"cashout-value"],[1,"stats"],[1,"bets"],[1,"bets-count"],[1,"bets-label"],[1,"total-win"],[1,"progress"],[1,"progress-bar"],[3,"topPlayerProfileImages"]],template:function(t,i){1&t&&te(0,lTe,3,3,"ng-container",0)},directives:[hu,At,yz],pipes:[Ki,Zn],styles:[".total-win-container[_ngcontent-%COMP%]{display:flex;width:100%;min-width:300px;height:var(--totalWinWidgetHeight);padding:8px;flex-direction:column;justify-content:center;align-items:center;border-radius:14px;background:#141516;margin-bottom:var(--marginSmall)}.total-win-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;width:100%;height:20px}.total-win-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatars[_ngcontent-%COMP%]{display:flex}.total-win-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatars[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;margin-right:4px;-o-object-fit:cover;object-fit:cover;border:2px solid #fff}.total-win-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .cashout-value[_ngcontent-%COMP%]{color:#ccc;font-weight:600;font-size:16px;line-height:18px;vertical-align:middle}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;height:16px;width:100%}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .bets-count[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:100%;vertical-align:middle;color:#ccc;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .bets-label[_ngcontent-%COMP%]{padding-left:4px;font-size:12px;color:#7b7b7b}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:100%;vertical-align:middle;color:#7b7b7b}.total-win-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:100%;height:8px;background:#2b2b2b80;border-radius:32px;overflow:hidden;padding:2px}.total-win-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background:#427f00;transition:width .3s ease;border-radius:32px}"],changeDetection:0}),n})();function bz(n){return null!=n&&"false"!=`${n}`}function u0(n,e=0){return function uTe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}const Vv={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Vv;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new g(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=Vv;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Vv;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},fTe=new class pTe extends r2{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class hTe extends t2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Vv.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Vv.cancelAnimationFrame(t),e._scheduled=void 0)}});let aR,gTe=1;const pM={};function vz(n){return n in pM&&(delete pM[n],!0)}const mTe={setImmediate(n){const e=gTe++;return pM[e]=!0,aR||(aR=Promise.resolve()),aR.then(()=>vz(e)&&n()),e},clearImmediate(n){vz(n)}},{setImmediate:_Te,clearImmediate:yTe}=mTe,fM={setImmediate(...n){const{delegate:e}=fM;return((null==e?void 0:e.setImmediate)||_Te)(...n)},clearImmediate(n){const{delegate:e}=fM;return((null==e?void 0:e.clearImmediate)||yTe)(n)},delegate:void 0},CTe=new class vTe extends r2{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class bTe extends t2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=fM.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(fM.clearImmediate(t),e._scheduled=void 0)}});function Cz(n){return!!n&&(n instanceof he||v(n.lift)&&v(n.subscribe))}let lR;try{lR="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){lR=!1}let gM,fg,cR=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Yy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lR)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(We(kh))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $v(){if("object"!=typeof document||!document)return 0;if(null==gM){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),gM=0,0===n.scrollLeft&&(n.scrollLeft=1,gM=0===n.scrollLeft?1:2),n.remove()}return gM}const ETe=new hn("cdk-dir-doc",{providedIn:"root",factory:function OTe(){return n3(Or)}}),PTe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Sz=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new _n,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function ITe(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?PTe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(We(ETe,8))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})();class RTe extends class ATe{}{constructor(e){super(),this._data=e}connect(){return Cz(this._data)?this._data:rc(this._data)}disconnect(){}}class kTe{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,i,r,s){e.forEachOperation((o,a,l)=>{let c,u;null==o.previousIndex?(c=this._insertView(()=>i(o,a,l),l,t,r(o)),u=c?1:0):null==l?(this._detachAndCacheView(a,t),u=3):(c=this._moveView(a,l,t,r(o)),u=2),s&&s({context:null==c?void 0:c.context,operation:u,record:o})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,i,r){const s=this._insertViewFromCache(t,i);if(s)return void(s.context.$implicit=r);const o=e();return i.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(e,t){const i=t.detach(e);this._maybeCacheView(i,t)}_moveView(e,t,i,r){const s=i.get(e);return i.move(s,t),s.context.$implicit=r,s}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const i=t.indexOf(e);-1===i?e.destroy():t.remove(i)}}_insertViewFromCache(e,t){const i=this._viewCache.pop();return i&&t.insert(i,e),i||null}}const Mz=new hn("_ViewRepeater"),NTe=["contentWrapper"],FTe=["*"],xz=new hn("VIRTUAL_SCROLL_STRATEGY");class BTe{constructor(e,t,i){this._scrolledIndexChange=new Ze,this.scrolledIndexChange=this._scrolledIndexChange.pipe(zh()),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=i}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,i){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let s=this._viewport.measureScrollOffset(),o=this._itemSize>0?s/this._itemSize:0;if(t.end>r){const l=Math.ceil(i/this._itemSize),c=Math.max(0,Math.min(o,r-l));o!=c&&(o=c,s=c*this._itemSize,t.start=Math.floor(o)),t.end=Math.max(0,Math.min(r,t.start+l))}const a=s-t.start*this._itemSize;if(a<this._minBufferPx&&0!=t.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);t.start=Math.max(0,t.start-l),t.end=Math.min(r,Math.ceil(o+(i+this._minBufferPx)/this._itemSize))}else{const l=t.end*this._itemSize-(s+i);if(l<this._minBufferPx&&t.end!=r){const c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(t.end=Math.min(r,t.end+c),t.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(o))}}function LTe(n){return n._scrollStrategy}let UTe=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new BTe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=u0(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=u0(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=u0(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ht({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[qn([{provide:xz,useFactory:LTe,deps:[Un(()=>n)]}]),Eo]}),n})(),Ez=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new he(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(qa(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(cn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=function dTe(n){return n instanceof ji?n.nativeElement:n}(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Hi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(We(Ti),We(cR),We(Or,8))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oz=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Ze,this._elementScrolled=new he(o=>this.ngZone.runOutsideAngular(()=>Hi(this.elementRef.nativeElement,"scroll").pipe($r(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=$v()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==$v()?t.left=t.right:1==$v()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function MTe(){if(null==fg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fg=!1,fg;if("scrollBehavior"in document.documentElement.style)fg=!0;else{const n=Element.prototype.scrollTo;fg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fg}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==$v()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==$v()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(W(ji),W(Ez),W(Ti),W(Sz,8))},n.\u0275dir=Ht({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),GTe=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ze,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(qa(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(We(cR),We(Ti),We(Or,8))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zTe="undefined"!=typeof requestAnimationFrame?fTe:CTe;let Pz=(()=>{class n extends Oz{constructor(t,i,r,s,o,a,l){super(t,a,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this._detachedSubject=new Ze,this._renderedRangeSubject=new Ze,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new he(c=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>c.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=g.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=bz(t)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Ef(null),qa(0,zTe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe($r(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function VTe(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t=this.appendOnly&&"to-start"===i?0:t,"to-end"===i&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(W(ji),W(Fn),W(Ti),W(xz,8),W(Sz,8),W(Ez),W(GTe))},n.\u0275cmp=rt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&Lr(NTe,7),2&t){let r;Kn(r=Jn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&Et("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[qn([{provide:Oz,useExisting:n}]),qi],ngContentSelectors:FTe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(Iy(),D(0,"div",0,1),Ay(2),R(),ce(3,"div",2)),2&t&&(S(3),hl("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function Iz(n,e,t){if(!t.getBoundingClientRect)return 0;const r=t.getBoundingClientRect();return"horizontal"===n?"start"===e?r.left:r.right:"start"===e?r.top:r.bottom}let $Te=(()=>{class n{constructor(t,i,r,s,o,a){this._viewContainerRef=t,this._template=i,this._differs=r,this._viewRepeater=s,this._viewport=o,this.viewChange=new Ze,this._dataSourceChanges=new Ze,this.dataStream=this._dataSourceChanges.pipe(Ef(null),function wTe(){return tt((n,e)=>{let t,i=!1;n.subscribe(me(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}(),Kh(([l,c])=>this._changeDataSource(l,c)),k9(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Ze,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe($r(this._destroyed)).subscribe(l=>{this._renderedRange=l,a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function DTe(n){return n&&"function"==typeof n.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new RTe(Cz(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,r)=>t(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=u0(t)}measureRangeSize(t,i){if(t.start>=t.end)return 0;const r=t.start-this._renderedRange.start,s=t.end-t.start;let o,a;for(let l=0;l<s;l++){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){o=a=c.rootNodes[0];break}}for(let l=s-1;l>-1;l--){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return o&&a?Iz(i,"end",a)-Iz(i,"start",o):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):rc()}_updateContext(){const t=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=t,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(s,o,a)=>this._getEmbeddedViewArgs(s,a),s=>s.item),t.forEachIdentityChange(s=>{this._viewContainerRef.get(s.currentIndex).context.$implicit=s.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const s=this._viewContainerRef.get(r);s.context.index=this._renderedRange.start+r,s.context.count=i,this._updateComputedContextProperties(s.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(t){return new(t||n)(W(pl),W(Br),W(zy),W(Mz),W(Pz,4),W(Ti))},n.\u0275dir=Ht({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[qn([{provide:Mz,useClass:kTe}])]}),n})(),Az=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})(),WTe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[Tz,Az],Tz,Az]}),n})();function YTe(n,e){if(1&n&&(D(0,"div",9),U(1),G(2,"multiplierPrecision"),R()),2&n){const t=ee();S(1),ie(" ",q(2,1,t.bet.payout),"x ")}}let XTe=(()=>{class n{constructor(t){this.app=t}}return n.\u0275fac=function(t){return new(t||n)(W(gr))},n.\u0275cmp=rt({type:n,selectors:[["app-bets-list-item"]],inputs:{bet:"bet"},decls:13,vars:13,consts:[[1,"bet-list-item"],[1,"bet-list-item-column","player"],["draggable","false",1,"avatar",3,"src","alt"],[1,"username"],[1,"bet-list-item-column","bet"],[3,"amount","isFreeBet"],[1,"bet-list-item-column","x"],["appColoredMultiplier","",4,"ngIf"],[1,"bet-list-item-column","win"],["appColoredMultiplier",""]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),ce(2,"img",2),D(3,"div",3),U(4),G(5,"maskedUsername"),R()(),D(6,"div",4),ce(7,"app-bet-amount",5),R(),D(8,"div",6),te(9,YTe,3,3,"div",7),R(),D(10,"div",8),U(11),G(12,"currencyPrecision"),R()()),2&t&&(Et("cashout",i.bet.winAmount),S(2),F("src",i.app.getAvatarUrl(i.bet.profileImage),an)("alt",i.app.getAvatarUrl(i.bet.profileImage)),S(2),nt(q(5,9,i.bet.username)),S(3),F("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),S(2),F("ngIf",i.bet.payout),S(2),ie(" ",q(12,11,i.bet.winAmount)," "))},directives:[Lv,At,sh],pipes:[Ya,qo,Zn],styles:[".bet-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;height:32px;width:100%;padding:4px;margin-top:4px;border-radius:32px;background:#101112}.bet-list-item.cashout[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(66,127,0,.3) 0%,rgba(66,127,0,.3) 100%),#101112}.bet-list-item-column[_ngcontent-%COMP%]{width:100%;font-size:12px;color:#bbbfc5;font-weight:500;text-align:right;margin-left:4px;padding:0 4px;white-space:nowrap}.bet-list-item-column.player[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:92px;margin-left:0;padding:0}.bet-list-item-column.player[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:4px}.bet-list-item-column.player[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{padding:0 4px;width:100%;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;letter-spacing:-.18px;text-align:left;text-overflow:ellipsis;overflow:hidden}.bet-list-item-column.bet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;min-width:72px}"],changeDetection:0}),n})();function qTe(n,e){1&n&&ce(0,"app-loader")}function KTe(n,e){1&n&&ce(0,"app-bets-list-item",9),2&n&&F("bet",e.$implicit)}function JTe(n,e){if(1&n&&(D(0,"cdk-virtual-scroll-viewport",7),te(1,KTe,1,1,"app-bets-list-item",8),R()),2&n){const t=ee();F("itemSize",t.betItemTotalHeight),S(1),F("cdkVirtualForOf",t.bets)("cdkVirtualForTemplateCacheSize",0)}}let Dz=(()=>{class n{constructor(t){this.gameConfig=t,this.bets=[],this.loaded=!1,this.betItemTotalHeight=36}}return n.\u0275fac=function(t){return new(t||n)(W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-bets-list"]],inputs:{bets:"bets",loaded:"loaded"},decls:14,vars:13,consts:[[1,"bets-list-header"],[1,"bets-list-header-item","player"],[1,"bets-list-header-item","bet"],[1,"bets-list-header-item","x"],[1,"bets-list-header-item","win"],[4,"ngIf"],["class","h-100 scroll-y bets-list","minBufferPx","300","maxBufferPx","600",3,"itemSize",4,"ngIf"],["minBufferPx","300","maxBufferPx","600",1,"h-100","scroll-y","bets-list",3,"itemSize"],[3,"bet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[3,"bet"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span",1),U(2),G(3,"transloco"),R(),D(4,"span",2),U(5),G(6,"transloco"),R(),D(7,"span",3),U(8,"X"),R(),D(9,"span",4),U(10),G(11,"transloco"),R()(),te(12,qTe,1,0,"app-loader",5),te(13,JTe,2,3,"cdk-virtual-scroll-viewport",6)),2&t&&(S(2),nt(q(3,7,"game.bets-widget.Player")),S(3),Xn(" ",q(6,9,"game.bets-widget.Bet")," ",i.gameConfig.currency," "),S(5),Xn(" ",q(11,11,"game.bets-widget.Win")," ",i.gameConfig.currency," "),S(2),F("ngIf",!i.loaded),S(1),F("ngIf",i.loaded))},directives:[At,gu,Pz,UTe,$Te,XTe],pipes:[$t],styles:[".bets-list-header[_ngcontent-%COMP%]{display:flex;padding:4px;margin-bottom:4px;justify-content:center;align-items:center;color:#7b7b7b;font-size:10px;font-weight:500;letter-spacing:-.15px}.bets-list-header-item[_ngcontent-%COMP%]{height:12px;width:100%;min-width:72px;margin-left:4px;padding:0 4px;text-align:right;white-space:nowrap}.bets-list-header-item.player[_ngcontent-%COMP%]{min-width:92px;margin-left:0;text-align:left}.bets-list[_ngcontent-%COMP%]{border-radius:16px;margin:0}"],changeDetection:0}),n})();function QTe(n,e){1&n&&ce(0,"app-legacy-all-bets-counter",5),2&n&&F("total",ee(2).allBetsTabService.numberOfBets)}function ZTe(n,e){1&n&&ce(0,"app-total-win-widget")}function eMe(n,e){if(1&n&&(D(0,"div",1),te(1,QTe,1,1,"app-legacy-all-bets-counter",2),te(2,ZTe,1,0,"app-total-win-widget",3),ce(3,"app-bets-list",4),R()),2&n){const t=e.ngIf,i=ee();S(1),F("ngIf",!i.gameConfig.isShowTotalWinWidget),S(1),F("ngIf",i.gameConfig.isShowTotalWinWidget),S(1),F("bets",t)("loaded",i.allBetsTabService.loaded)}}let gg=class{constructor(e,t){this.gameConfig=e,this.allBetsTabService=t}ngOnInit(){this.allBetsTabService.loadCurrentBetsInfo()}};gg.\u0275fac=function(e){return new(e||gg)(W(Hn),W(nTe))},gg.\u0275cmp=rt({type:gg,selectors:[["app-all-bets-tab"]],decls:2,vars:3,consts:[["class","d-flex h-100 flex-column",4,"ngIf"],[1,"d-flex","h-100","flex-column"],[3,"total",4,"ngIf"],[4,"ngIf"],[1,"bets-list",3,"bets","loaded"],[3,"total"]],template:function(e,t){1&e&&(te(0,eMe,4,4,"div",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.allBetsTabService.allBets$))},directives:[At,iTe,cTe,Dz],pipes:[Ki],styles:[".bets-list[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}"],changeDetection:0}),gg=Ve([_i()],gg);let tMe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-previous-round-result"]],inputs:{previousRoundResult:"previousRoundResult"},decls:7,vars:6,consts:[[1,"previous-round-result"],[1,"result-text"],["appColoredMultiplier","",1,"result-multiplier"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),U(2),G(3,"transloco"),R(),D(4,"div",2),U(5),G(6,"multiplierPrecision"),R()()),2&t&&(S(2),ie(" ",q(3,2,"game.bets-widget.Round Result")," "),S(3),ie(" ",q(6,4,i.previousRoundResult),"x "))},directives:[sh],pipes:[$t,qo],styles:[".previous-round-result[_ngcontent-%COMP%]{display:flex;width:100%;height:68px;min-width:300px;padding:8px;flex-direction:column;justify-content:center;align-items:center;border-radius:14px;background:#141516;margin-bottom:4px}.previous-round-result[_ngcontent-%COMP%]   .result-text[_ngcontent-%COMP%]{margin-bottom:2px;color:#bbbfc5;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;font-weight:500;letter-spacing:-.18px}.previous-round-result[_ngcontent-%COMP%]   .result-multiplier[_ngcontent-%COMP%]{text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:24px;font-style:normal;font-weight:700;line-height:normal}"],changeDetection:0}),n})();function nMe(n,e){1&n&&ce(0,"app-previous-round-result",3),2&n&&F("previousRoundResult",ee().previousRoundResult)}let mg=class{constructor(e,t,i){this.connector=e,this.app=t,this.cd=i,this.previousRoundBets=[],this.loaded=!1}ngOnInit(){this.getPreviousRoundBets(),this.connector.response(In.PreviousRoundInfo).pipe(kt(this)).subscribe(e=>{if(200!==e.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this.previousRoundBets=[...e.bets],this.previousRoundResult=e.roundInfo.multiplier,this.cd.detectChanges()})}getPreviousRoundBets(){this.loaded=!1,this.connector.request(mr.PreviousRoundInfo,null)}};mg.\u0275fac=function(e){return new(e||mg)(W(tr),W(gr),W(Fn))},mg.\u0275cmp=rt({type:mg,selectors:[["app-previous-bets-tab"]],decls:3,vars:3,consts:[[1,"d-flex","h-100","flex-column"],[3,"previousRoundResult",4,"ngIf"],[1,"bets-list",3,"bets","loaded"],[3,"previousRoundResult"]],template:function(e,t){1&e&&(D(0,"div",0),te(1,nMe,1,1,"app-previous-round-result",1),ce(2,"app-bets-list",2),R()),2&e&&(S(1),F("ngIf",t.loaded),S(1),F("bets",t.previousRoundBets)("loaded",t.loaded))},directives:[At,tMe,Dz],styles:[".bets-list[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}"],changeDetection:0}),mg=Ve([_i()],mg);var xl=(()=>(function(n){n.X="X",n.WIN="Win",n.ROUNDS="Rounds"}(xl||(xl={})),xl))();const iMe={[xl.X]:In.GetHugeWinsInfo,[xl.WIN]:In.GetTopWinsInfo,[xl.ROUNDS]:In.GetTopRoundsInfo},rMe={[xl.X]:mr.GetHugeWinsInfo,[xl.WIN]:mr.GetTopWinsInfo,[xl.ROUNDS]:mr.GetTopRoundsInfo};var dh=(()=>(function(n){n.Day="day",n.Month="month",n.Year="year"}(dh||(dh={})),dh))();function sMe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",3),Ae("click",function(){const s=ht(t).$implicit;return ee().onClickTab(s)}),U(2),G(3,"transloco"),R(),gt()}if(2&n){const t=e.$implicit,i=ee();S(1),Et("top-tab-switcher__tab--active",i.activeType===t),S(1),ie(" ",q(3,3,"game.bets-widget.top."+t)," ")}}function oMe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",3),Ae("click",function(){const s=ht(t).$implicit;return ee().onClickPeriod(s)}),U(2),G(3,"transloco"),R(),gt()}if(2&n){const t=e.$implicit,i=ee();S(1),Et("top-tab-switcher__tab--active",i.activePeriod===t),S(1),ie(" ",q(3,3,"game.bets-widget.top."+i.getPeriodName(t))," ")}}const aMe={[dh.Day]:"Day",[dh.Month]:"Month",[dh.Year]:"Year"};let lMe=(()=>{class n{constructor(){this.defaultOptions={period:dh.Day,type:xl.X},this.tabChanged=new _n,this.tabs=Object.values(xl),this.periods=Object.values(dh)}ngOnInit(){this.activeType=this.defaultOptions.type,this.activePeriod=this.defaultOptions.period}onClickTab(t){this.activeType!==t&&(this.activeType=t,this.tabChanged.emit({type:this.activeType,period:this.activePeriod}))}onClickPeriod(t){this.activePeriod!==t&&(this.activePeriod=t,this.tabChanged.emit({type:this.activeType,period:this.activePeriod}))}getPeriodName(t){return aMe[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-top-tab-switcher"]],inputs:{defaultOptions:"defaultOptions"},outputs:{tabChanged:"tabChanged"},decls:5,vars:2,consts:[[1,"top-tab-switcher"],[1,"top-tab-switcher-row"],[4,"ngFor","ngForOf"],[1,"top-tab-switcher__tab",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),te(2,sMe,4,5,"ng-container",2),R(),D(3,"div",1),te(4,oMe,4,5,"ng-container",2),R()()),2&t&&(S(2),F("ngForOf",i.tabs),S(2),F("ngForOf",i.periods))},directives:[di],pipes:[$t],styles:[".top-tab-switcher[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;border-radius:16px;background:#141516;padding:4px}.top-tab-switcher-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.top-tab-switcher-row[_ngcontent-%COMP%]:first-child{margin-bottom:4px}.top-tab-switcher__tab[_ngcontent-%COMP%]{position:relative;width:100%;height:32px;border-radius:12px;background-color:transparent;color:#a3a3a3;font-size:12px;font-style:normal;font-weight:400;line-height:normal;letter-spacing:-.18px;border:none;padding:0 4px;transition:background-color .25s ease-in,color .25s ease-in}.top-tab-switcher__tab--active[_ngcontent-%COMP%]{background:#2c2d30;cursor:default;color:#ebebeb}.top-tab-switcher__tab[_ngcontent-%COMP%]:not(.top-tab-switcher__tab--active):hover{cursor:pointer;color:#d0021b}"],changeDetection:0}),n})(),cMe=(()=>{class n{constructor(t,i,r){this.app=t,this.gameConfig=i,this.main=r,this.isMessageSendingBlocked=!1,this.betShared=new _n}onShareBetClick(t,i,r){this.betShared.emit({betId:t,roundId:i,playerId:r})}}return n.\u0275fac=function(t){return new(t||n)(W(gr),W(Hn),W(Zr))},n.\u0275cmp=rt({type:n,selectors:[["app-top-wins-list-item"]],inputs:{bet:"bet",isMessageSendingBlocked:"isMessageSendingBlocked"},outputs:{betShared:"betShared"},decls:46,vars:35,consts:[[1,"top-wins-list-item"],[1,"top-wins-list-item-row"],["draggable","false","alt","avatar",1,"avatar",3,"src"],[1,"column","username-date"],[1,"username"],[1,"date"],[1,"buttons-group"],["aria-label","Share Bet",1,"btn",3,"disabled","click"],[1,"icon","share-i"],["aria-label","Check Fairness",1,"btn","disabled-on-game-focused",3,"click"],[1,"icon","fairness-i"],[1,"column","bet-details"],[1,"bet-details-row"],[1,"description"],[1,"value"],["appColoredMultiplier","",1,"value"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),ce(2,"img",2),D(3,"div",3)(4,"div",4),U(5),G(6,"maskedUsername"),R(),D(7,"div",5),U(8),G(9,"date"),R()(),D(10,"div",6)(11,"button",7),Ae("click",function(){return i.onShareBetClick(i.bet.roundBetId,i.bet.roundId,i.bet.playerId)}),ce(12,"div",8),R(),D(13,"div",9),Ae("click",function(){return i.main.checkFairness(i.bet.roundId)}),ce(14,"div",10),R()()(),D(15,"div",1)(16,"div",11)(17,"div",12)(18,"div",13),U(19),G(20,"transloco"),R(),D(21,"div",14),U(22),G(23,"currencyPrecision"),R()(),D(24,"div",12)(25,"div",13),U(26),G(27,"transloco"),R(),D(28,"div",14),U(29),G(30,"currencyPrecision"),R()()(),D(31,"div",11)(32,"div",12)(33,"div",13),U(34),G(35,"transloco"),R(),D(36,"div",15),U(37),G(38,"multiplierPrecision"),R()(),D(39,"div",12)(40,"div",13),U(41),G(42,"transloco"),R(),D(43,"div",15),U(44),G(45,"multiplierPrecision"),R()()()()()),2&t&&(S(2),F("src",i.app.getAvatarUrl(i.bet.profileImage),an),S(3),nt(q(6,14,i.bet.username)),S(3),nt(Gt(9,16,i.bet.endDate,"dd.MM.yy")),S(3),F("disabled",i.isMessageSendingBlocked),S(8),Xn(" ",q(20,19,"shared.bet")," ",i.gameConfig.currency," "),S(3),nt(q(23,21,i.bet.bet)),S(4),Xn(" ",q(27,23,"game.bets-widget.Win")," ",i.gameConfig.currency," "),S(3),nt(q(30,25,i.bet.winAmount)),S(5),ie(" ",q(35,27,"game.bets-widget.Result")," "),S(3),ie(" ",q(38,29,i.bet.payout),"x "),S(4),ie(" ",q(42,31,"game.bets-widget.Round max.")," "),S(3),ie(" ",q(45,33,i.bet.maxMultiplier),"x "))},directives:[sh],pipes:[Ya,za,$t,Zn,qo],styles:[".top-wins-list-item[_ngcontent-%COMP%]{display:flex;width:100%;height:92px;flex-direction:column;margin-bottom:4px;padding:8px;border-radius:16px;background:#101112;font-size:12px}.top-wins-list-item-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.top-wins-list-item-row[_ngcontent-%COMP%]:first-child{height:32px;margin-bottom:8px}.top-wins-list-item-row[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.top-wins-list-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%}.top-wins-list-item[_ngcontent-%COMP%]   .username-date[_ngcontent-%COMP%]{margin-left:4px;padding:0 4px;letter-spacing:-.18px;width:100%;min-width:68px}.top-wins-list-item[_ngcontent-%COMP%]   .username-date[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#bbbfc5;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-weight:500;overflow:hidden;text-overflow:ellipsis;margin-bottom:1px}.top-wins-list-item[_ngcontent-%COMP%]   .username-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#7a7a7a;font-weight:400}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;width:32px;height:32px;justify-content:center;align-items:center;border-radius:64px;background:#2c2d30;padding:0}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{margin-right:8px}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:32px;width:32px}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(message-icon.0fa68cf3ce1c8a15.svg) no-repeat center center/contain}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(shield-icon.575a242f3c9fb8ed.svg) no-repeat center center/contain}.top-wins-list-item[_ngcontent-%COMP%]   .column.bet-details[_ngcontent-%COMP%]{width:50%}.top-wins-list-item[_ngcontent-%COMP%]   .column.bet-details[_ngcontent-%COMP%]:first-child{margin-right:8px}.top-wins-list-item[_ngcontent-%COMP%]   .bet-details-row[_ngcontent-%COMP%]{display:flex}.top-wins-list-item[_ngcontent-%COMP%]   .bet-details-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-right:auto;padding:0 2px;color:#7b7b7b;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;text-overflow:ellipsis;font-weight:400;letter-spacing:-.18px}.top-wins-list-item[_ngcontent-%COMP%]   .bet-details-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-left:auto;padding:0 2px;color:#bbbfc5;text-align:right;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-weight:500;letter-spacing:-.3px}"],changeDetection:0}),n})();function uMe(n,e){if(1&n){const t=_t();D(0,"app-top-wins-list-item",2),Ae("betShared",function(r){return ht(t),ee().onShareBet(r)}),R()}if(2&n){const t=e.$implicit,i=ee();F("isMessageSendingBlocked",!i.chatFeatureService.isChatEnabled||i.isMessageSendingBlocked)("bet",t)}}let _g=class{constructor(e,t,i,r,s,o){this.chatFeatureService=e,this.gameConfig=t,this.cd=i,this.chatMessageService=r,this.oldChat=s,this.chatAntiSpamService=o,this.topWins=[],this.isMessageSendingBlocked=!1}ngOnInit(){this.chatAntiSpamService.isMessageSendingBlocked$.pipe(kt(this)).subscribe(e=>{this.isMessageSendingBlocked=e,this.cd.markForCheck()})}onShareBet(e){var t;(null===(t=this.gameConfig.engagementTools)||void 0===t?void 0:t.isExternalChatEnabled)?this.chatMessageService.shareBet(e.betId,e.roundId,e.playerId):this.oldChat.shareBet(e.betId,e.roundId)}};_g.\u0275fac=function(e){return new(e||_g)(W(Tl),W(Hn),W(Fn),W(lh),W(mp),W(_p))},_g.\u0275cmp=rt({type:_g,selectors:[["app-top-wins-list"]],inputs:{topWins:"topWins"},decls:2,vars:1,consts:[[1,"h-100","scroll-y","top-wins-list"],[3,"isMessageSendingBlocked","bet","betShared",4,"ngFor","ngForOf"],[3,"isMessageSendingBlocked","bet","betShared"]],template:function(e,t){1&e&&(D(0,"div",0),te(1,uMe,1,2,"app-top-wins-list-item",1),R()),2&e&&(S(1),F("ngForOf",t.topWins))},directives:[di,cMe],styles:[".top-wins-list[_ngcontent-%COMP%]{border-radius:16px;margin:0}"],changeDetection:0}),_g=Ve([_i()],_g);let dMe=(()=>{class n{constructor(t){this.main=t}}return n.\u0275fac=function(t){return new(t||n)(W(Zr))},n.\u0275cmp=rt({type:n,selectors:[["app-top-rounds-list-item"]],inputs:{bet:"bet"},decls:10,vars:7,consts:[[1,"top-rounds-list-item"],[1,"top-rounds-list-item-column","date"],["appColoredMultiplier","",1,"top-rounds-list-item-column","x"],[1,"top-rounds-list-item-column"],["aria-label","Check Fairness",1,"disabled-on-game-focused","btn","fairness-btn",3,"click"],[1,"fairness-i"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),U(2),G(3,"date"),R(),D(4,"div",2),U(5),G(6,"multiplierPrecision"),R(),D(7,"div",3)(8,"button",4),Ae("click",function(){return i.main.checkFairness(i.bet.roundId)}),ce(9,"div",5),R()()()),2&t&&(S(2),ie(" ",Gt(3,2,i.bet.endDate,"dd.MM.yy HH:mm")," "),S(3),ie(" ",q(6,5,i.bet.maxMultiplier),"x "))},directives:[sh],pipes:[za,qo],styles:[".top-rounds-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-radius:32px;background:#101112;height:32px;width:100%;padding:4px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;font-weight:500;letter-spacing:-.3px;margin-bottom:4px}.top-rounds-list-item-column[_ngcontent-%COMP%]{width:33%}.top-rounds-list-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:100px;overflow:hidden;color:#bbbfc5;text-overflow:ellipsis;padding:0 4px}.top-rounds-list-item[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]{text-align:right;padding:0 4px}.top-rounds-list-item[_ngcontent-%COMP%]   .fairness-btn[_ngcontent-%COMP%]{display:flex;width:24px;height:24px;justify-content:center;align-items:center;border-radius:64px;background:#2c2d30;margin-left:auto;padding:0}.top-rounds-list-item[_ngcontent-%COMP%]   .fairness-btn[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(shield-icon.575a242f3c9fb8ed.svg) no-repeat center center/contain;width:24px;height:24px}"],changeDetection:0}),n})();function hMe(n,e){1&n&&ce(0,"app-top-rounds-list-item",4),2&n&&F("bet",e.$implicit)}let pMe=(()=>{class n{constructor(){this.topRounds=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-top-rounds-list"]],inputs:{topRounds:"topRounds"},decls:9,vars:4,consts:[[1,"top-rounds-list-header"],[1,"top-rounds-list-header-item"],[1,"h-100","scroll-y","top-rounds-list"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),U(2),G(3,"transloco"),R(),D(4,"div",1),U(5,"X"),R(),ce(6,"div",1),R(),D(7,"div",2),te(8,hMe,1,1,"app-top-rounds-list-item",3),R()),2&t&&(S(2),ie(" ",q(3,2,"game.bets-widget.top.Date & Time")," "),S(6),F("ngForOf",i.topRounds))},directives:[di,dMe],pipes:[$t],styles:[".top-rounds-list-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px;margin-bottom:4px;color:#7b7b7b;font-size:10px;font-weight:500;letter-spacing:-.15px}.top-rounds-list-header-item[_ngcontent-%COMP%]{width:100%;text-align:right;height:12px;padding:0 4px}.top-rounds-list-header-item[_ngcontent-%COMP%]:first-child{text-align:left}.top-rounds-list[_ngcontent-%COMP%]{border-radius:16px;margin:0}"],changeDetection:0}),n})();function fMe(n,e){1&n&&ce(0,"app-loader")}function gMe(n,e){1&n&&ce(0,"app-top-wins-list",5),2&n&&F("topWins",ee().topWins)}function mMe(n,e){1&n&&ce(0,"app-top-rounds-list",6),2&n&&F("topRounds",ee().topRounds)}let yg=class{constructor(e,t,i){this.gameConfig=e,this.cd=t,this.connector=i,this.loaded=!1,this.topRounds=[],this._topWins=[],this.topListOptions={type:xl.X,period:dh.Day}}onTopTabChange(e){this.topListOptions=e,this.loadData()}ngOnInit(){this.loadData()}loadData(){var e;null===(e=this.statistics$)||void 0===e||e.unsubscribe(),this.loaded=!1,this.topRounds=[],this._topWins=[],this.connector.request(rMe[this.topListOptions.type],{period:this.topListOptions.period}),this.statistics$=this.connector.response(iMe[this.topListOptions.type]).pipe(kt(this)).subscribe(t=>{"topRounds"in t&&(this.topRounds=t.topRounds),"topWins"in t&&(this._topWins=t.topWins),this.loaded=!0,this.cd.markForCheck()}),this.cd.markForCheck()}get topWins(){const e=this.gameConfig.minBet,t=this.gameConfig.maxBet;return this._topWins.filter(i=>i.bet>=e&&i.bet<=t)}get isTopRounds(){return this.topListOptions.type===xl.ROUNDS}};function _Me(n,e){1&n&&(D(0,"a",6),U(1," Powered by "),ce(2,"div",7),R()),2&n&&F("href","https://spribe.co",an)}function yMe(n,e){1&n&&ce(0,"div",7)}yg.\u0275fac=function(e){return new(e||yg)(W(Hn),W(Fn),W(tr))},yg.\u0275cmp=rt({type:yg,selectors:[["app-top-tab"]],decls:5,vars:4,consts:[[1,"d-flex","h-100","flex-column"],[3,"defaultOptions","tabChanged"],[4,"ngIf"],["class","top-list h-100",3,"topWins",4,"ngIf"],["class","top-list d-flex h-100 flex-column",3,"topRounds",4,"ngIf"],[1,"top-list","h-100",3,"topWins"],[1,"top-list","d-flex","h-100","flex-column",3,"topRounds"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"app-top-tab-switcher",1),Ae("tabChanged",function(r){return t.onTopTabChange(r)}),R(),te(2,fMe,1,0,"app-loader",2),te(3,gMe,1,1,"app-top-wins-list",3),te(4,mMe,1,1,"app-top-rounds-list",4),R()),2&e&&(S(1),F("defaultOptions",t.topListOptions),S(1),F("ngIf",!t.loaded),S(1),F("ngIf",t.loaded&&!t.isTopRounds),S(1),F("ngIf",t.loaded&&t.isTopRounds&&t.topRounds.length>0))},directives:[lMe,At,gu,_g,pMe],styles:[".top-list[_ngcontent-%COMP%]{overflow:hidden;margin-top:4px}"],changeDetection:0}),yg=Ve([_i()],yg);let bMe=(()=>{class n{constructor(t,i){this.gameConfig=t,this.modal=i}onWhatIsPf(){this.modal.open(hi.whatIsPf)}}return n.\u0275fac=function(t){return new(t||n)(W(Hn),W(Pa))},n.\u0275cmp=rt({type:n,selectors:[["app-bets-widget-footer"]],decls:7,vars:2,consts:[[1,"bets-widget-footer"],[1,"btn","provably-fair-block","disabled-on-game-focused",3,"click"],[1,"i-fair"],[1,"logo-block","disabled-on-game-focused"],["class","logo-btn","target","_blank",3,"href",4,"ngIf"],["class","i-logo",4,"ngIf"],["target","_blank",1,"logo-btn",3,"href"],[1,"i-logo"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"button",1),Ae("click",function(){return i.onWhatIsPf()}),ce(2,"div",2),U(3," Provably Fair Game "),R(),D(4,"div",3),te(5,_Me,3,1,"a",4),te(6,yMe,1,0,"div",5),R()()),2&t&&(S(5),F("ngIf",!i.gameConfig.isLogoUrlHidden),S(1),F("ngIf",i.gameConfig.isLogoUrlHidden))},directives:[At],styles:[".bets-widget-footer[_ngcontent-%COMP%]{display:flex;padding:10px 4px;justify-content:space-between;align-items:center;width:100%}.bets-widget-footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]{display:flex;align-items:center;height:12px;color:#a3a3a3;font-size:10px;font-weight:500;line-height:12px;padding:0 4px}.bets-widget-footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .i-fair[_ngcontent-%COMP%]{width:12px;height:12px;background:url(pf-icon.431e53a93be90923.svg) no-repeat center center/contain;margin:0 6px}.bets-widget-footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]{height:12px;padding:0 4px}.bets-widget-footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .logo-btn[_ngcontent-%COMP%]{display:flex;color:#525252;font-size:10px;font-weight:500;line-height:12px;text-decoration:none}.bets-widget-footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo[_ngcontent-%COMP%]{padding:.5px 1px 2px;background:url(logo-icon.eaa752ca5b1bd8fb.svg) no-repeat center center/contain;width:35px;height:10px;margin-left:3px}"],changeDetection:0}),n})();function vMe(n,e){if(1&n){const t=_t();D(0,"div",7),Ae("click",function(){ht(t);const r=ee(2);return r.modal.open(r.modalKey.otherSettings)}),D(1,"u"),U(2),G(3,"transloco"),R()()}2&n&&(S(2),ie(" ",q(3,1,"shared.Settings")," "))}function CMe(n,e){if(1&n&&(ft(0),D(1,"div",4),ce(2,"div",5),D(3,"span"),U(4),G(5,"transloco"),R(),te(6,vMe,4,3,"div",6),R(),gt()),2&n){const t=ee();S(4),ie(" ",q(5,2,"shared.This_functionality_is_disabled"),""),S(2),F("ngIf",t.isTabsHiddenByUser)}}function wMe(n,e){1&n&&ce(0,"app-all-bets-tab",9)}function SMe(n,e){1&n&&ce(0,"app-previous-bets-tab",9)}function TMe(n,e){1&n&&ce(0,"app-top-tab",9)}function MMe(n,e){if(1&n&&(ft(0),te(1,wMe,1,0,"app-all-bets-tab",8),te(2,SMe,1,0,"app-previous-bets-tab",8),te(3,TMe,1,0,"app-top-tab",8),gt()),2&n){const t=ee();S(1),F("ngIf",t.isActive(t.betsWidgetTab.AllBets)),S(1),F("ngIf",t.isActive(t.betsWidgetTab.Previous)),S(1),F("ngIf",t.isActive(t.betsWidgetTab.Top))}}let xMe=(()=>{class n{constructor(t,i,r,s){this.gameConfig=t,this.user=i,this.modal=r,this.cd=s,this.activeTab=c0.AllBets,this.betsWidgetTab=c0,this.betsWidgetTabs=Object.values(c0),this.isTabsHiddenByUser=this.user.settings.getOther(pu.HideLiveBetsAndStatistics),this.modalKey=hi}ngOnInit(){this.user.settings.other$.pipe(cn(t=>t.name===pu.HideLiveBetsAndStatistics)).subscribe(t=>{this.isTabsHiddenByUser=t.value,this.cd.detectChanges()})}isActive(t){return this.activeTab===t}get isTabsHidden(){return this.gameConfig.isLiveBetsAndStatisticsHidden||this.isTabsHiddenByUser}}return n.\u0275fac=function(t){return new(t||n)(W(Hn),W(fu),W(Pa),W(Fn))},n.\u0275cmp=rt({type:n,selectors:[["app-bets-widget"]],decls:5,vars:5,consts:[[1,"bets-block"],[1,"navigation-switcher",3,"ngModel","translatePath","tabs","ngModelChange"],[4,"ngIf"],[1,"bets-footer"],[1,"disabled-block","h-100","d-flex","flex-column","align-items-center","justify-content-start"],[1,"disabled-block-image"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","data-list",4,"ngIf"],[1,"data-list"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"app-navigation-switcher",1),Ae("ngModelChange",function(s){return i.activeTab=s}),R(),te(2,CMe,7,4,"ng-container",2),te(3,MMe,4,3,"ng-container",2),ce(4,"app-bets-widget-footer",3),R()),2&t&&(S(1),F("ngModel",i.activeTab)("translatePath","game.bets-widget")("tabs",i.betsWidgetTabs),S(1),F("ngIf",i.isTabsHidden),S(1),F("ngIf",!i.isTabsHidden))},directives:[oR,Jo,Ma,At,gg,mg,yg,bMe],pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}[_nghost-%COMP%]{display:flex;width:inherit;height:100%;min-height:0}.bets-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;min-width:316px;background:#1b1c1d;border-radius:20px;padding:8px 8px 0;padding:var(--paddingMedium) var(--paddingMedium) 0}.bets-block[_ngcontent-%COMP%]   .navigation-switcher[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:400px}.bets-block[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0;margin-top:4px;margin-top:var(--marginSmall)}.disabled-block[_ngcontent-%COMP%]{color:#96979b;font-size:14px}.disabled-block[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:#fff}.disabled-block[_ngcontent-%COMP%]   .disabled-block-image[_ngcontent-%COMP%]{width:44px;height:37px;margin:75px 0 10px;background:url(not-visible.cc9a74671114ce5f.svg) no-repeat center center/contain}"],changeDetection:0}),n})();function hh(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Rz(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var dR,Ro,Xr,ts,pd,_R,yR,Uz,Gz,y0,e1,El={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},h0={duration:.5,overwrite:!1,delay:0},wc=1e8,Cr=1e-8,hR=2*Math.PI,EMe=hR/4,OMe=0,kz=Math.sqrt,PMe=Math.cos,IMe=Math.sin,go=function(e){return"string"==typeof e},fs=function(e){return"function"==typeof e},ph=function(e){return"number"==typeof e},pR=function(e){return void 0===e},hd=function(e){return"object"==typeof e},Ka=function(e){return!1!==e},fR=function(){return"undefined"!=typeof window},mM=function(e){return fs(e)||go(e)},Nz="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ia=Array.isArray,gR=/(?:-?\.?\d|\.)+/gi,Fz=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,p0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,mR=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Bz=/[+-]=-?[.\d]+/,Lz=/[^,'"\[\]\s]+/gi,AMe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ol={},_M={},Hz=function(e){return(_M=g0(e,Ol))&&Za},bR=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Wv=function(e,t){return!t&&console.warn(e)},jz=function(e,t){return e&&(Ol[e]=t)&&_M&&(_M[e]=t)||Ol},Yv=function(){return 0},DMe={suppressEvents:!0,isStart:!0,kill:!1},yM={suppressEvents:!0,kill:!1},RMe={suppressEvents:!0},vR={},Cp=[],CR={},Pl={},wR={},Vz=30,bM=[],SR="",TR=function(e){var i,r,t=e[0];if(hd(t)||fs(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=bM.length;r--&&!bM[r].targetTest(t););i=bM[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new y$(e[r],i)))||e.splice(r,1);return e},bg=function(e){return e._gsap||TR(Tc(e))[0]._gsap},zz=function(e,t,i){return(i=e[t])&&fs(i)?e[t]():pR(i)&&e.getAttribute&&e.getAttribute(t)||i},Ja=function(e,t){return(e=e.split(",")).forEach(t)||e},Ss=function(e){return Math.round(1e5*e)/1e5||0},ks=function(e){return Math.round(1e7*e)/1e7||0},f0=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===i?e+r:"-"===i?e-r:"*"===i?e*r:e/r},kMe=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},vM=function(){var i,r,e=Cp.length,t=Cp.slice(0);for(CR={},Cp.length=0,i=0;i<e;i++)(r=t[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},$z=function(e,t,i,r){Cp.length&&!Ro&&vM(),e.render(t,i,r||Ro&&t<0&&(e._initted||e._startAt)),Cp.length&&!Ro&&vM()},Wz=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Lz).length<2?t:go(e)?e.trim():e},Yz=function(e){return e},Il=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},g0=function(e,t){for(var i in t)e[i]=t[i];return e},Xz=function n(e,t){for(var i in t)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=hd(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},CM=function(e,t){var r,i={};for(r in e)r in t||(i[r]=e[r]);return i},Xv=function(e){var t=e.parent||ts,i=e.keyframes?function(e){return function(t,i){for(var r in i)r in t||"duration"===r&&e||"ease"===r||(t[r]=i[r])}}(ia(e.keyframes)):Il;if(Ka(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},qz=function(e,t,i,r,s){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,o=e[r];if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},wM=function(e,t,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},wp=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},vg=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},BMe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},MR=function(e,t,i,r){return e._startAt&&(Ro?e._startAt.revert(yM):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},LMe=function n(e){return!e||e._ts&&n(e.parent)},Kz=function(e){return e._repeat?m0(e._tTime,e=e.duration()+e._rDelay)*e:0},m0=function(e,t){var i=Math.floor(e=ks(e/t));return e&&i===e?i-1:i},SM=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},TM=function(e){return e._end=ks(e._start+(e._tDur/Math.abs(e._ts||e._rts||Cr)||0))},MM=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=ks(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),TM(e),i._dirty||vg(i,e)),e},Jz=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=SM(e.rawTime(),t),(!t._dur||Kv(0,t.totalDuration(),i)-t._tTime>Cr)&&t.render(i,!0)),vg(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Cr}},fd=function(e,t,i,r){return t.parent&&wp(t),t._start=ks((ph(i)?i:i||e!==ts?Sc(e,i,t):e._time)+t._delay),t._end=ks(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),qz(e,t,"_first","_last",e._sort?"_start":0),xR(t)||(e._recent=t),r||Jz(e,t),e._ts<0&&MM(e,e._tTime),e},Qz=function(e,t){return(Ol.ScrollTrigger||bR("scrollTrigger",t))&&Ol.ScrollTrigger.create(t,e)},Zz=function(e,t,i,r,s){return NR(e,t,s),e._initted?!i&&e._pt&&!Ro&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&Gz!==Dl.frame?(Cp.push(e),e._lazy=[s,r],1):void 0:1},UMe=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},xR=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},_0=function(e,t,i,r){var s=e._repeat,o=ks(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:ks(o*(s+1)+e._rDelay*s):o,a>0&&!r&&MM(e,e._tTime=e._tDur*a),e.parent&&TM(e),i||vg(e.parent,e),e},e$=function(e){return e instanceof Da?vg(e):_0(e,e._dur)},GMe={_start:0,endTime:Yv,totalDuration:Yv},Sc=function n(e,t,i){var a,l,c,r=e.labels,s=e._recent||GMe,o=e.duration()>=wc?s.endTime(!1):e._dur;return go(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c="%"===t.substr(-1),a=t.indexOf("="),"<"===l||">"===l?(a>=0&&(t=t.replace(/=/,"")),("<"===l?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&i&&(l=l/100*(ia(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+l:o+l)):null==t?o:+t},qv=function(e,t,i){var a,l,r=ph(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s];if(r&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ka(l.vars.inherit)&&l.parent;o.immediateRender=Ka(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Ns(t[0],o,t[s+1])},Sp=function(e,t){return e||0===e?t(e):t},Kv=function(e,t,i){return i<e?e:i>t?t:i},ra=function(e,t){return go(e)&&(t=AMe.exec(e))?t[1]:""},ER=[].slice,t$=function(e,t){return e&&hd(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&hd(e[0]))&&!e.nodeType&&e!==pd},Tc=function(e,t,i){return Xr&&!t&&Xr.selector?Xr.selector(e):!go(e)||i||!_R&&b0()?ia(e)?function(e,t,i){return void 0===i&&(i=[]),e.forEach(function(r){var s;return go(r)&&!t||t$(r,1)?(s=i).push.apply(s,Tc(r)):i.push(r)})||i}(e,i):t$(e)?ER.call(e,0):e?[e]:[]:ER.call((t||yR).querySelectorAll(e),0)},OR=function(e){return e=Tc(e)[0]||Wv("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Tc(t,i.querySelectorAll?i:i===e?Wv("Invalid scope")||yR.createElement("div"):e)}},n$=function(e){return e.sort(function(){return.5-Math.random()})},i$=function(e){if(fs(e))return e;var t=hd(e)?e:{each:e},i=Cg(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,u=r,d=r;return go(r)?u=d={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],d=r[1]),function(b,C,M){var B,L,H,Y,se,ue,oe,de,ae,I=(M||t).length,k=o[I];if(!k){if(!(ae="auto"===t.grid?0:(t.grid||[1,wc])[1])){for(oe=-wc;oe<(oe=M[ae++].getBoundingClientRect().left)&&ae<I;);ae<I&&ae--}for(k=o[I]=[],B=l?Math.min(ae,I)*u-.5:r%ae,L=ae===wc?0:l?I*d/ae-.5:r/ae|0,oe=0,de=wc,ue=0;ue<I;ue++)H=ue%ae-B,Y=L-(ue/ae|0),k[ue]=se=c?Math.abs("y"===c?Y:H):kz(H*H+Y*Y),se>oe&&(oe=se),se<de&&(de=se);"random"===r&&n$(k),k.max=oe-de,k.min=de,k.v=I=(parseFloat(t.amount)||parseFloat(t.each)*(ae>I?I-1:c?"y"===c?I/ae:ae:Math.max(ae,I/ae))||0)*("edges"===r?-1:1),k.b=I<0?s-I:s,k.u=ra(t.amount||t.each)||0,i=i&&I<0?g$(i):i}return I=(k[b]-k.min)/k.max||0,ks(k.b+(i?i(I):I)*k.v)+k.u}},PR=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=ks(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(ph(i)?0:ra(i))}},r$=function(e,t){var r,s,i=ia(e);return!i&&hd(e)&&(r=i=e.radius||wc,e.values?(e=Tc(e.values),(s=!ph(e[0]))&&(r*=r)):e=PR(e.increment)),Sp(t,i?fs(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var b,C,a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=wc,u=0,d=e.length;d--;)(b=s?(b=e[d].x-a)*b+(C=e[d].y-l)*C:Math.abs(e[d]-a))<c&&(c=b,u=d);return u=!r||c<=r?e[u]:o,s||u===o||ph(o)?u:u+ra(o)}:PR(e))},s$=function(e,t,i,r){return Sp(ia(e)?!t:!0===i?!!(i=0):!r,function(){return ia(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+.99*i))/i)*i*r)/r})},o$=function(e,t,i){return Sp(i,function(r){return e[~~t(r)]})},Jv=function(e){for(var r,s,o,a,t=0,i="";~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a="["===e.charAt(r+7),s=e.substr(r+7,o-r-7).match(a?Lz:gR),i+=e.substr(t,r-t)+s$(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},a$=function(e,t,i,r,s){var o=t-e,a=r-i;return Sp(s,function(l){return i+((l-e)/o*a||0)})},l$=function(e,t,i){var o,a,l,r=e.labels,s=wc;for(o in r)(a=r[o]-t)<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Al=function(e,t,i){var l,c,u,r=e.vars,s=r[t],o=Xr,a=e._ctx;if(s)return l=r[t+"Params"],c=r.callbackScope||e,i&&Cp.length&&vM(),a&&(Xr=a),u=l?s.apply(c,l):s.call(c),Xr=o,u},Qv=function(e){return wp(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ro),e.progress()<1&&Al(e,"onInterrupt"),e},c$=[],u$=function(e){if(e)if(e=!e.name&&e.default||e,fR()||e.headless){var t=e.name,i=fs(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Yv,render:LR,add:RR,kill:hxe,modifier:dxe,rawVars:0},o={targetTest:0,get:0,getSetter:BR,aliases:{},register:0};if(b0(),e!==r){if(Pl[t])return;Il(r,Il(CM(e,s),o)),g0(r.prototype,g0(s,CM(e,o))),Pl[r.prop=t]=r,e.targetTest&&(bM.push(r),vR[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}jz(t,r),e.register&&e.register(Za,r,Qa)}else c$.push(e)},wr=255,Zv={aqua:[0,wr,wr],lime:[0,wr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,wr],navy:[0,0,128],white:[wr,wr,wr],olive:[128,128,0],yellow:[wr,wr,0],orange:[wr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[wr,0,0],pink:[wr,192,203],cyan:[0,wr,wr],transparent:[wr,wr,wr,0]},IR=function(e,t,i){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)*wr+.5|0},d$=function(e,t,i){var s,o,a,l,c,u,d,b,C,M,r=e?ph(e)?[e>>16,e>>8&wr,e&wr]:0:Zv.black;if(!r){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Zv[e])r=Zv[e];else if("#"===e.charAt(0)){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(r=parseInt(e.substr(1,6),16))>>16,r>>8&wr,r&wr,parseInt(e.substr(7),16)/255];r=[(e=parseInt(e.substr(1),16))>>16,e>>8&wr,e&wr]}else if("hsl"===e.substr(0,3))if(r=M=e.match(gR),t){if(~e.indexOf("="))return r=e.match(Fz),i&&r.length<4&&(r[3]=1),r}else l=+r[0]%360/360,c=+r[1]/100,s=2*(u=+r[2]/100)-(o=u<=.5?u*(c+1):u+c-u*c),r.length>3&&(r[3]*=1),r[0]=IR(l+1/3,s,o),r[1]=IR(l,s,o),r[2]=IR(l-1/3,s,o);else r=e.match(gR)||Zv.transparent;r=r.map(Number)}return t&&!M&&(s=r[0]/wr,o=r[1]/wr,a=r[2]/wr,u=((d=Math.max(s,o,a))+(b=Math.min(s,o,a)))/2,d===b?l=c=0:(C=d-b,c=u>.5?C/(2-d-b):C/(d+b),l=d===s?(o-a)/C+(o<a?6:0):d===o?(a-s)/C+2:(s-o)/C+4,l*=60),r[0]=~~(l+.5),r[1]=~~(100*c+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},h$=function(e){var t=[],i=[],r=-1;return e.split(Tp).forEach(function(s){var o=s.match(p0)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},p$=function(e,t,i){var l,c,u,d,r="",s=(e+r).match(Tp),o=t?"hsla(":"rgba(",a=0;if(!s)return e;if(s=s.map(function(b){return(b=d$(b,t,1))&&o+(t?b[0]+","+b[1]+"%,"+b[2]+"%,"+b[3]:b.join(","))+")"}),i&&(u=h$(e),(l=i.c).join(r)!==u.c.join(r)))for(d=(c=e.replace(Tp,"1").split(p0)).length-1;a<d;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(d=(c=e.split(Tp)).length-1;a<d;a++)r+=c[a]+s[a];return r+c[d]},Tp=function(){var e,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Zv)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),JMe=/hsl[a]?\(/,f$=function(e){var i,t=e.join(" ");if(Tp.lastIndex=0,Tp.test(t))return i=JMe.test(t),e[1]=p$(e[1],i),e[0]=p$(e[0],i,h$(e[1])),!0},Dl=function(){var l,c,u,d,b,C,n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,o=s,a=[],M=function I(k){var H,Y,se,ue,B=n()-r,L=!0===k;if((B>e||B<0)&&(i+=B-t),((H=(se=(r+=B)-i)-o)>0||L)&&(ue=++d.frame,b=se-1e3*d.time,d.time=se/=1e3,o+=H+(H>=s?4:s-H),Y=1),L||(l=c(I)),Y)for(C=0;C<a.length;C++)a[C](se,b,ue,k)};return d={time:0,frame:0,tick:function(){M(!0)},deltaRatio:function(k){return b/(1e3/(k||60))},wake:function(){Uz&&(!_R&&fR()&&(pd=_R=window,yR=pd.document||{},Ol.gsap=Za,(pd.gsapVersions||(pd.gsapVersions=[])).push(Za.version),Hz(_M||pd.GreenSockGlobals||!pd.gsap&&pd||{}),c$.forEach(u$)),u="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,l&&d.sleep(),c=u||function(k){return setTimeout(k,o-1e3*d.time+1|0)},e1=1,M(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),e1=0,c=Yv},lagSmoothing:function(k,B){e=k||1/0,t=Math.min(B||33,e)},fps:function(k){o=1e3*d.time+(s=1e3/(k||240))},add:function(k,B,L){var H=B?function(Y,se,ue,oe){k(Y,se,ue,oe),d.remove(H)}:k;return d.remove(k),a[L?"unshift":"push"](H),b0(),H},remove:function(k,B){~(B=a.indexOf(k))&&a.splice(B,1)&&C>=B&&C--},_listeners:a}}(),b0=function(){return!e1&&Dl.wake()},Bi={},QMe=/^[\d.\-M][\d.\-,\s]/,ZMe=/["']/g,exe=function(e){for(var a,l,c,t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(ZMe,"").trim():+c,r=l.substr(a+1).trim();return t},g$=function(e){return function(t){return 1-e(1-t)}},m$=function n(e,t){for(var r,i=e._first;i;)i instanceof Da?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Cg=function(e,t){return e&&(fs(e)?e:Bi[e]||function(e){var t=(e+"").split("("),i=Bi[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[exe(t[1])]:function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)}(e).split(",").map(Wz)):Bi._CE&&QMe.test(e)?Bi._CE("",e):i}(e))||t},wg=function(e,t,i,r){void 0===i&&(i=function(l){return 1-t(1-l)}),void 0===r&&(r=function(l){return l<.5?t(2*l)/2:1-t(2*(1-l))/2});var o,s={easeIn:t,easeOut:i,easeInOut:r};return Ja(e,function(a){for(var l in Bi[a]=Ol[a]=s,Bi[o=a.toLowerCase()]=i,s)Bi[o+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=Bi[a+"."+l]=s[l]}),s},_$=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},AR=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/hR*(Math.asin(1/r)||0),a=function(u){return 1===u?1:r*Math.pow(2,-10*u)*IMe((u-o)*s)+1},l="out"===e?a:"in"===e?function(c){return 1-a(1-c)}:_$(a);return s=hR/s,l.config=function(c,u){return n(e,c,u)},l},DR=function n(e,t){void 0===t&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r="out"===e?i:"in"===e?function(s){return 1-i(1-s)}:_$(i);return r.config=function(s){return n(e,s)},r};Ja("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;wg(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(2*i,t)/2:1-Math.pow(2*(1-i),t)/2})}),Bi.Linear.easeNone=Bi.none=Bi.Linear.easeIn,wg("Elastic",AR("in"),AR("out"),AR()),function(n,e){var s=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/e,2)+.75:a<.9090909090909092?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};wg("Bounce",function(o){return 1-s(1-o)},s)}(7.5625,2.75),wg("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)}),wg("Circ",function(n){return-(kz(1-n*n)-1)}),wg("Sine",function(n){return 1===n?1:1-PMe(n*EMe)}),wg("Back",DR("in"),DR("out"),DR()),Bi.SteppedEase=Bi.steps=Ol.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0;return function(a){return((r*Kv(0,.99999999,a)|0)+s)*i}}},h0.ease=Bi["quad.out"],Ja("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return SR+=n+","+n+"Params,"});var y$=function(e,t){this.id=OMe++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:zz,this.set=t?t.getSetter:BR},t1=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,_0(this,+t.duration,1,1),this.data=t.data,Xr&&(this._ctx=Xr,Xr.data.push(this)),e1||Dl.wake()}var e=n.prototype;return e.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,_0(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(b0(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(MM(this,i),!s._dp||s.parent||Jz(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&fd(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Cr||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),$z(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Kz(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+Kz(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?m0(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-Cr?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?SM(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Cr?0:this._rts,this.totalTime(Kv(-Math.abs(this._delay),this._tDur,s),!1!==r),TM(this),BMe(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(b0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Cr&&(this._tTime-=Cr)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&fd(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Ka(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?SM(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){void 0===i&&(i=RMe);var r=Ro;return Ro=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),"nested"!==this.data&&!1!==i.kill&&this.kill(),Ro=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,e$(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,e$(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Sc(this,i),Ka(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Ka(r)),this._dur||(this._zTime=-Cr),this},e.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Cr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Cr,this},e.isActive=function(){var s,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Cr))},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),"onUpdate"===i&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=fs(i)?i:Yz,a=function(){var c=r.then;r.then=null,fs(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Qv(this)},n}();Il(t1.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Cr,_prom:0,_ps:!1,_rts:1});var Da=function(n){function e(i,r){var s;return void 0===i&&(i={}),(s=n.call(this,i)||this).labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Ka(i.sortChildren),ts&&fd(i.parent||ts,hh(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&Qz(hh(s),i.scrollTrigger),s}Rz(e,n);var t=e.prototype;return t.to=function(r,s,o){return qv(0,arguments,this),this},t.from=function(r,s,o){return qv(1,arguments,this),this},t.fromTo=function(r,s,o,a){return qv(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,Xv(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ns(r,s,Sc(this,o),1),this},t.call=function(r,s,o){return fd(this,Ns.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Ns(r,o,Sc(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,Xv(o).immediateRender=Ka(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},t.staggerFromTo=function(r,s,o,a,l,c,u,d){return a.startAt=o,Xv(a).immediateRender=Ka(a.immediateRender),this.staggerTo(r,s,a,l,c,u,d)},t.render=function(r,s,o){var b,C,M,I,k,B,L,H,Y,se,ue,oe,a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:ks(r),d=this._zTime<0!=r<0&&(this._initted||!c);if(this!==ts&&u>l&&r>=0&&(u=l),u!==this._tTime||o||d){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),b=u,Y=this._start,B=!(H=this._ts),d&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(ue=this._yoyo,k=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*k+r,s,o);if(b=ks(u%k),u===l?(I=this._repeat,b=c):((I=~~(se=ks(u/k)))&&I===se&&(b=c,I--),b>c&&(b=c)),se=m0(this._tTime,k),!a&&this._tTime&&se!==I&&this._tTime-se*k-this._dur<=0&&(se=I),ue&&1&I&&(b=c-b,oe=1),I!==se&&!this._lock){var de=ue&&1&se,ae=de===(ue&&1&I);if(I<se&&(de=!de),a=de?0:u%c?c:u,this._lock=1,this.render(a||(oe?0:ks(I*k)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Al(this,"onRepeat"),this.vars.repeatRefresh&&!oe&&(this.invalidate()._lock=1),a&&a!==this._time||B!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,ae&&(this._lock=2,this.render(a=de?c:-1e-4,!0),this.vars.repeatRefresh&&!oe&&this.invalidate()),this._lock=0,!this._ts&&!B)return this;m$(this,oe)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,ks(a),ks(b)),L&&(u-=b-(b=L._start))),this._tTime=u,this._time=b,this._act=!H,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&b&&!s&&!I&&(Al(this,"onStart"),this._tTime!==u))return this;if(b>=a&&r>=0)for(C=this._first;C;){if(M=C._next,(C._act||b>=C._start)&&C._ts&&L!==C){if(C.parent!==this)return this.render(r,s,o);if(C.render(C._ts>0?(b-C._start)*C._ts:(C._dirty?C.totalDuration():C._tDur)+(b-C._start)*C._ts,s,o),b!==this._time||!this._ts&&!B){L=0,M&&(u+=this._zTime=-Cr);break}}C=M}else{C=this._last;for(var fe=r<0?r:b;C;){if(M=C._prev,(C._act||fe<=C._end)&&C._ts&&L!==C){if(C.parent!==this)return this.render(r,s,o);if(C.render(C._ts>0?(fe-C._start)*C._ts:(C._dirty?C.totalDuration():C._tDur)+(fe-C._start)*C._ts,s,o||Ro&&(C._initted||C._startAt)),b!==this._time||!this._ts&&!B){L=0,M&&(u+=this._zTime=fe?-Cr:Cr);break}}C=M}}if(L&&!s&&(this.pause(),L.render(b>=a?0:-Cr)._zTime=b>=a?1:-1,this._ts))return this._start=Y,TM(this),this.render(r,s,o);this._onUpdate&&!s&&Al(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(Y===this._start||Math.abs(H)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&wp(this,1),!s&&(!(r<0)||a)&&(u||a||!l)&&(Al(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(ph(s)||(s=Sc(this,s,r)),!(r instanceof t1)){if(ia(r))return r.forEach(function(a){return o.add(a,s)}),this;if(go(r))return this.addLabel(r,s);if(!fs(r))return this;r=Ns.delayedCall(0,r)}return this!==r?fd(this,r,s):this},t.getChildren=function(r,s,o,a){void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=-wc);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Ns?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return go(r)?this.removeLabel(r):fs(r)?this.killTweensOf(r):(r.parent===this&&wM(this,r),r===this._recent&&(this._recent=this._last),vg(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ks(Dl.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Sc(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=Ns.delayedCall(0,s||Yv,o);return a.data="isPause",this._hasPause=1,fd(this,a,Sc(this,r))},t.removePause=function(r){var s=this._first;for(r=Sc(this,r);s;)s._start===r&&"isPause"===s.data&&wp(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Mp!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var u,o=[],a=Tc(r),l=this._first,c=ph(s);l;)l instanceof Ns?kMe(l._targets,a)&&(c?(!Mp||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var C,o=this,a=Sc(o,r),c=s.startAt,u=s.onStart,d=s.onStartParams,b=s.immediateRender,M=Ns.to(o,Il({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Cr,onStart:function(){if(o.pause(),!C){var k=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());M._dur!==k&&_0(M,k,0,1).render(M._time,!0,!0),C=1}u&&u.apply(M,d||[])}},s));return b?M.render(0):M},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Il({startAt:{time:Sc(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return void 0===r&&(r=this._time),l$(this,Sc(this,r))},t.previousLabel=function(r){return void 0===r&&(r=this._time),l$(this,Sc(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Cr)},t.shiftChildren=function(r,s,o){void 0===o&&(o=0);for(var c,a=this._first,l=this.labels;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return vg(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){void 0===r&&(r=!0);for(var o,s=this._first;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),vg(this)},t.totalDuration=function(r){var c,u,d,s=0,o=this,a=o._last,l=wc;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),(u=a._start)>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,fd(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;_0(o,o===ts&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(ts._ts&&($z(ts,SM(r,ts)),Gz=Dl.frame),Dl.frame>=Vz){Vz+=El.autoSleep||120;var s=ts._first;if((!s||!s._ts)&&El.autoSleep&&Dl._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Dl.sleep()}}},e}(t1);Il(Da.prototype,{_lock:0,_hasPause:0,_forcing:0});var Mp,kR,ixe=function(e,t,i,r,s,o,a){var d,b,C,M,I,k,B,L,l=new Qa(this._pt,e,t,0,1,T$,null,s),c=0,u=0;for(l.b=i,l.e=r,i+="",(B=~(r+="").indexOf("random("))&&(r=Jv(r)),o&&(o(L=[i,r],e,t),i=L[0],r=L[1]),b=i.match(mR)||[];d=mR.exec(r);)M=d[0],I=r.substring(c,d.index),C?C=(C+1)%5:"rgba("===I.substr(-5)&&(C=1),M!==b[u++]&&(k=parseFloat(b[u-1])||0,l._pt={_next:l._pt,p:I||1===u?I:",",s:k,c:"="===M.charAt(1)?f0(k,M)-k:parseFloat(M)-k,m:C&&C<4?Math.round:0},c=mR.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(Bz.test(r)||B)&&(l.e=0),this._pt=l,l},RR=function(e,t,i,r,s,o,a,l,c,u){fs(r)&&(r=r(s||0,e,o));var M,d=e[t],b="get"!==i?i:fs(d)?c?e[t.indexOf("set")||!fs(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():d,C=fs(d)?c?lxe:w$:FR;if(go(r)&&(~r.indexOf("random(")&&(r=Jv(r)),"="===r.charAt(1)&&((M=f0(b,r)+(ra(b)||0))||0===M)&&(r=M)),!u||b!==r||kR)return isNaN(b*r)||""===r?(!d&&!(t in e)&&bR(t,r),ixe.call(this,e,t,b,r,C,l||El.stringFilter,c)):(M=new Qa(this._pt,e,t,+b||0,r-(b||0),"boolean"==typeof d?uxe:S$,0,C),c&&(M.fp=c),a&&M.modifier(a,this,e),this._pt=M)},b$=function(e,t,i,r,s,o){var a,l,c,u;if(Pl[e]&&!1!==(a=new Pl[e]).init(s,a.rawVars?t[e]:function(e,t,i,r,s){if(fs(e)&&(e=n1(e,s,t,i,r)),!hd(e)||e.style&&e.nodeType||ia(e)||Nz(e))return go(e)?n1(e,s,t,i,r):e;var a,o={};for(a in e)o[a]=n1(e[a],s,t,i,r);return o}(t[e],r,s,o,i),i,r,o)&&(i._pt=l=new Qa(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==y0))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},NR=function n(e,t,i){var se,ue,oe,de,ae,fe,Re,ve,_e,Oe,Ge,Ee,ye,r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.runBackwards,d=r.yoyoEase,b=r.keyframes,C=r.autoRevert,M=e._dur,I=e._startAt,k=e._targets,B=e.parent,L=B&&"nested"===B.data?B.vars.targets:k,H="auto"===e._overwrite&&!dR,Y=e.timeline;if(Y&&(!b||!s)&&(s="none"),e._ease=Cg(s,h0.ease),e._yEase=d?g$(Cg(!0===d?s:d,h0.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!Y&&!!r.runBackwards,!Y||b&&!r.stagger){if(Ee=(ve=k[0]?bg(k[0]).harness:0)&&r[ve.prop],se=CM(r,vR),I&&(I._zTime<0&&I.progress(1),t<0&&u&&a&&!C?I.render(-1,!0):I.revert(u&&M?yM:DMe),I._lazy=0),o){if(wp(e._startAt=Ns.set(k,Il({data:"isStart",overwrite:!1,parent:B,immediateRender:!0,lazy:!I&&Ka(l),startAt:null,delay:0,onUpdate:c&&function(){return Al(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ro||!a&&!C)&&e._startAt.revert(yM),a&&M&&t<=0&&i<=0)return void(t&&(e._zTime=t))}else if(u&&M&&!I)if(t&&(a=!1),oe=Il({overwrite:!1,data:"isFromStart",lazy:a&&!I&&Ka(l),immediateRender:a,stagger:0,parent:B},se),Ee&&(oe[ve.prop]=Ee),wp(e._startAt=Ns.set(k,oe)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ro?e._startAt.revert(yM):e._startAt.render(-1,!0)),e._zTime=t,a){if(!t)return}else n(e._startAt,Cr,Cr);for(e._pt=e._ptCache=0,l=M&&Ka(l)||l&&!M,ue=0;ue<k.length;ue++){if(Re=(ae=k[ue])._gsap||TR(k)[ue]._gsap,e._ptLookup[ue]=Oe={},CR[Re.id]&&Cp.length&&vM(),Ge=L===k?ue:L.indexOf(ae),ve&&!1!==(_e=new ve).init(ae,Ee||se,e,Ge,L)&&(e._pt=de=new Qa(e._pt,ae,_e.name,0,1,_e.render,_e,0,_e.priority),_e._props.forEach(function(we){Oe[we]=de}),_e.priority&&(fe=1)),!ve||Ee)for(oe in se)Pl[oe]&&(_e=b$(oe,se,e,Ge,ae,L))?_e.priority&&(fe=1):Oe[oe]=de=RR.call(e,ae,oe,"get",se[oe],Ge,L,0,r.stringFilter);e._op&&e._op[ue]&&e.kill(ae,e._op[ue]),H&&e._pt&&(Mp=e,ts.killTweensOf(ae,Oe,e.globalTime(t)),ye=!e.parent,Mp=0),e._pt&&l&&(CR[Re.id]=1)}fe&&M$(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!ye,b&&t<=0&&Y.render(wc,!0,!0)},axe=function(e,t,i,r){var o,a,s=t.ease||r||"power1.inOut";if(ia(t))a=i[e]||(i[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),"ease"===o||a.push({t:parseFloat(e),v:t[o],e:s})},n1=function(e,t,i,r,s){return fs(e)?e.call(t,i,r,s):go(e)&&~e.indexOf("random(")?Jv(e):e},v$=SR+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",C$={};Ja(v$+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return C$[n]=1});var Ns=function(n){function e(i,r,s,o){var a;"number"==typeof r&&(s.duration=r,r=s,s=null);var Y,se,ue,oe,de,ae,fe,Re,l=(a=n.call(this,o?r:Xv(r))||this).vars,c=l.duration,u=l.delay,d=l.immediateRender,b=l.stagger,C=l.overwrite,M=l.keyframes,I=l.defaults,k=l.scrollTrigger,B=l.yoyoEase,L=r.parent||ts,H=(ia(i)||Nz(i)?ph(i[0]):"length"in r)?[i]:Tc(i);if(a._targets=H.length?TR(H):Wv("GSAP target "+i+" not found. https://gsap.com",!El.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=C,M||b||mM(c)||mM(u)){if(r=a.vars,(Y=a.timeline=new Da({data:"nested",defaults:I||{},targets:L&&"nested"===L.data?L.vars.targets:H})).kill(),Y.parent=Y._dp=hh(a),Y._start=0,b||mM(c)||mM(u)){if(oe=H.length,fe=b&&i$(b),hd(b))for(de in b)~v$.indexOf(de)&&(Re||(Re={}),Re[de]=b[de]);for(se=0;se<oe;se++)(ue=CM(r,C$)).stagger=0,B&&(ue.yoyoEase=B),Re&&g0(ue,Re),ae=H[se],ue.duration=+n1(c,hh(a),se,ae,H),ue.delay=(+n1(u,hh(a),se,ae,H)||0)-a._delay,!b&&1===oe&&ue.delay&&(a._delay=u=ue.delay,a._start+=u,ue.delay=0),Y.to(ae,ue,fe?fe(se,ae,H):0),Y._ease=Bi.none;Y.duration()?c=u=0:a.timeline=0}else if(M){Xv(Il(Y.vars.defaults,{ease:"none"})),Y._ease=Cg(M.ease||r.ease||"none");var _e,Oe,Ge,ve=0;if(ia(M))M.forEach(function(Ee){return Y.to(H,Ee,">")}),Y.duration();else{for(de in ue={},M)"ease"===de||"easeEach"===de||axe(de,M[de],ue,M.easeEach);for(de in ue)for(_e=ue[de].sort(function(Ee,ye){return Ee.t-ye.t}),ve=0,se=0;se<_e.length;se++)(Ge={ease:(Oe=_e[se]).e,duration:(Oe.t-(se?_e[se-1].t:0))/100*c})[de]=Oe.v,Y.to(H,Ge,ve),ve+=Ge.duration;Y.duration()<c&&Y.to({},{duration:c-Y.duration()})}}c||a.duration(c=Y.duration())}else a.timeline=0;return!0===C&&!dR&&(Mp=hh(a),ts.killTweensOf(H),Mp=0),fd(L,hh(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(d||!c&&!M&&a._start===ks(L._time)&&Ka(d)&&LMe(hh(a))&&"nested"!==L.data)&&(a._tTime=-Cr,a.render(Math.max(0,-u)||0)),k&&Qz(hh(a),k),a}Rz(e,n);var t=e.prototype;return t.render=function(r,s,o){var b,C,M,I,k,B,L,H,Y,a=this._time,l=this._tDur,c=this._dur,u=r<0,d=r>l-Cr&&!u?l:r<Cr?0:r;if(c){if(d!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(b=d,H=this.timeline,this._repeat){if(I=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(100*I+r,s,o);if(b=ks(d%I),d===l?(M=this._repeat,b=c):(M=~~(k=ks(d/I)))&&M===k?(b=c,M--):b>c&&(b=c),(B=this._yoyo&&1&M)&&(Y=this._yEase,b=c-b),k=m0(this._tTime,I),b===a&&!o&&this._initted&&M===k)return this._tTime=d,this;M!==k&&(H&&this._yEase&&m$(H,B),this.vars.repeatRefresh&&!B&&!this._lock&&b!==I&&this._initted&&(this._lock=o=1,this.render(ks(I*M),!0).invalidate()._lock=0))}if(!this._initted){if(Zz(this,u?r:b,o,s,d))return this._tTime=0,this;if(!(a===this._time||o&&this.vars.repeatRefresh&&M!==k))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=d,this._time=b,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=L=(Y||this._ease)(b/c),this._from&&(this.ratio=L=1-L),b&&!a&&!s&&!M&&(Al(this,"onStart"),this._tTime!==d))return this;for(C=this._pt;C;)C.r(L,C.d),C=C._next;H&&H.render(r<0?r:H._dur*H._ease(b/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&MR(this,r,0,o),Al(this,"onUpdate")),this._repeat&&M!==k&&this.vars.onRepeat&&!s&&this.parent&&Al(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(u&&!this._onUpdate&&MR(this,r,0,!0),(r||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&wp(this,1),!s&&(!u||a)&&(d||a||B)&&(Al(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,i,r){var c,u,d,s=e.ratio,o=t<0||!t&&(!e._start&&UMe(e)&&(e._initted||!xR(e))||(e._ts<0||e._dp._ts<0)&&!xR(e))?0:1,a=e._rDelay,l=0;if(a&&e._repeat&&(l=Kv(0,e._tDur,t),u=m0(l,a),e._yoyo&&1&u&&(o=1-o),u!==m0(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Ro||r||e._zTime===Cr||!t&&e._zTime){if(!e._initted&&Zz(e,t,r,i,l))return;for(d=e._zTime,e._zTime=t||(i?Cr:0),i||(i=t&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&MR(e,t,0,!0),e._onUpdate&&!i&&Al(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Al(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&wp(e,1),!i&&!Ro&&(Al(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,r,s,o);return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a,l){e1||Dl.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||NR(this,c),function(e,t,i,r,s,o,a,l){var u,d,b,C,c=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!c)for(c=e._ptCache[t]=[],b=e._ptLookup,C=e._targets.length;C--;){if((u=b[C][t])&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return kR=1,e.vars[t]="+=0",NR(e,a),kR=0,l?Wv(t+" not eligible for reset"):1;c.push(u)}for(C=c.length;C--;)(u=(d=c[C])._pt||d).s=!r&&0!==r||s?u.s+(r||0)+o*u.c:r,u.c=i-u.s,d.e&&(d.e=Ss(i)+ra(d.e)),d.b&&(d.b=u.s+ra(d.b))}(this,r,s,o,a,this._ease(c/this._dur),c,l)?this.resetTo(r,s,o,a,1):(MM(this,0),this.parent||qz(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(void 0===s&&(s="all"),!(r||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?Qv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ro),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Mp&&!0!==Mp.vars.overwrite)._first||Qv(this),this.parent&&o!==this.timeline.totalDuration()&&_0(this,this._dur*this.timeline._tDur/o,0,1),this}var d,b,C,M,I,k,B,a=this._targets,l=r?Tc(r):a,c=this._ptLookup,u=this._pt;if((!s||"all"===s)&&function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0}(a,l))return"all"===s&&(this._pt=0),Qv(this);for(d=this._op=this._op||[],"all"!==s&&(go(s)&&(I={},Ja(s,function(L){return I[L]=1}),s=I),s=function(e,t){var s,o,a,l,i=e[0]?bg(e[0]).harness:0,r=i&&i.aliases;if(!r)return t;for(o in s=g0({},t),r)if(o in s)for(a=(l=r[o].split(",")).length;a--;)s[l[a]]=s[o];return s}(a,s)),B=a.length;B--;)if(~l.indexOf(a[B]))for(I in b=c[B],"all"===s?(d[B]=s,M=b,C={}):(C=d[B]=d[B]||{},M=s),M)(k=b&&b[I])&&((!("kill"in k.d)||!0===k.d.kill(I))&&wM(this,k,"_pt"),delete b[I]),"all"!==C&&(C[I]=1);return this._initted&&!this._pt&&u&&Qv(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return qv(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return qv(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return ts.killTweensOf(r,s,o)},e}(t1);Il(Ns.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ja("staggerTo,staggerFrom,staggerFromTo",function(n){Ns[n]=function(){var e=new Da,t=ER.call(arguments,0);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});var FR=function(e,t,i){return e[t]=i},w$=function(e,t,i){return e[t](i)},lxe=function(e,t,i,r){return e[t](r.fp,i)},cxe=function(e,t,i){return e.setAttribute(t,i)},BR=function(e,t){return fs(e[t])?w$:pR(e[t])&&e.setAttribute?cxe:FR},S$=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},uxe=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},T$=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},LR=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},dxe=function(e,t,i,r){for(var o,s=this._pt;s;)o=s._next,s.p===r&&s.modifier(e,t,i),s=o},hxe=function(e){for(var i,r,t=this._pt;t;)r=t._next,t.p===e&&!t.op||t.op===e?wM(this,t,"_pt"):t.dep||(i=1),t=r;return!i},pxe=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},M$=function(e){for(var i,r,s,o,t=e._pt;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=i}e._pt=s},Qa=function(){function n(t,i,r,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||S$,this.d=l||this,this.set=c||FR,this.pr=u||0,this._next=t,t&&(t._prev=this)}return n.prototype.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=pxe,this.m=i,this.mt=s,this.tween=r},n}();Ja(SR+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return vR[n]=1}),Ol.TweenMax=Ol.TweenLite=Ns,Ol.TimelineLite=Ol.TimelineMax=Da,ts=new Da({sortChildren:!1,defaults:h0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),El.stringFilter=f$;var Sg=[],xM={},fxe=[],x$=0,gxe=0,UR=function(e){return(xM[e]||fxe).map(function(t){return t()})},HR=function(){var e=Date.now(),t=[];e-x$>2&&(UR("matchMediaInit"),Sg.forEach(function(i){var o,a,l,c,r=i.queries,s=i.conditions;for(a in r)(o=pd.matchMedia(r[a]).matches)&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&t.push(i))}),UR("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),x$=e,UR("matchMedia"))},E$=function(){function n(t,i){this.selector=i&&OR(i),this.data=[],this._r=[],this.isReverted=!1,this.id=gxe++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){fs(i)&&(s=r,r=i,i=fs);var o=this,a=function(){var d,c=Xr,u=o.selector;return c&&c!==o&&c.data.push(o),s&&(o.selector=OR(s)),Xr=o,d=r.apply(o,arguments),fs(d)&&o._r.push(d),Xr=c,o.selector=u,o.isReverted=!1,d};return o.last=a,i===fs?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var r=Xr;Xr=null,i(this),Xr=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof Ns&&!(r.parent&&"nested"===r.parent.data)&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?function(){for(var c,a=s.getTweens(),l=s.data.length;l--;)"isFlip"===(c=s.data[l]).data&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,d){return d.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=s.data.length;l--;)(c=s.data[l])instanceof Da?"nested"!==c.data&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ns)&&c.revert&&c.revert(i);s._r.forEach(function(u){return u(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=Sg.length;o--;)Sg[o].id===this.id&&Sg.splice(o,1)},e.revert=function(i){this.kill(i||{})},n}(),mxe=function(){function n(t){this.contexts=[],this.scope=t,Xr&&Xr.data.push(this)}var e=n.prototype;return e.add=function(i,r,s){hd(i)||(i={matches:i});var l,c,u,o=new E$(0,s||this.scope),a=o.conditions={};for(c in Xr&&!o.selector&&(o.selector=Xr.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i,i)"all"===c?u=1:(l=pd.matchMedia(i[c]))&&(Sg.indexOf(o)<0&&Sg.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(HR):l.addEventListener("change",HR));return u&&r(o,function(d){return o.add(null,d)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),EM={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return u$(r)})},timeline:function(e){return new Da(e)},getTweensOf:function(e,t){return ts.getTweensOf(e,t)},getProperty:function(e,t,i,r){go(e)&&(e=Tc(e)[0]);var s=bg(e||{}).get,o=i?Yz:Wz;return"native"===i&&(i=""),e&&(t?o((Pl[t]&&Pl[t].get||s)(e,t,i,r)):function(a,l,c){return o((Pl[a]&&Pl[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,i){if((e=Tc(e)).length>1){var r=e.map(function(u){return Za.quickSetter(u,t,i)}),s=r.length;return function(u){for(var d=s;d--;)r[d](u)}}var o=Pl[t],a=bg(e=e[0]||{}),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var d=new o;y0._pt=0,d.init(e,i?u+i:u,y0,0,[e]),d.render(1,d),y0._pt&&LR(1,y0)}:a.set(e,l);return o?c:function(u){return c(e,l,i?u+i:u,a,1)}},quickTo:function(e,t,i){var r,s=Za.to(e,Il(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return ts.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Cg(e.ease,h0.ease)),Xz(h0,e||{})},config:function(e){return Xz(El,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,s=e.defaults,o=e.extendTimeline;(e.plugins||"").split(",").forEach(function(a){return a&&!Pl[a]&&!Ol[a]&&Wv(t+" effect requires "+a+" plugin.")}),wR[t]=function(a,l,c){return i(Tc(a),Il(l||{},s),c)},o&&(Da.prototype[t]=function(a,l,c){return this.add(wR[t](a,hd(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Bi[e]=Cg(t)},parseEase:function(e,t){return arguments.length?Cg(e,t):Bi},getById:function(e){return ts.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,s,i=new Da(e);for(i.smoothChildTiming=Ka(e.smoothChildTiming),ts.remove(i),i._dp=0,i._time=i._tTime=ts._time,r=ts._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Ns&&r.vars.onComplete===r._targets[0]))&&fd(i,r,r._start-r._delay),r=s;return fd(ts,i,0),i},context:function(e,t){return e?new E$(e,t):Xr},matchMedia:function(e){return new mxe(e)},matchMediaRefresh:function(){return Sg.forEach(function(e){var i,r,t=e.conditions;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||HR()},addEventListener:function(e,t){var i=xM[e]||(xM[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=xM[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:function n(e,t,i){var r=t-e;return ia(e)?o$(e,n(0,e.length),t):Sp(i,function(s){return(r+(s-e)%r)%r+e})},wrapYoyo:function n(e,t,i){var r=t-e,s=2*r;return ia(e)?o$(e,n(0,e.length-1),t):Sp(i,function(o){return e+((o=(s+(o-e)%s)%s||0)>r?s-o:o)})},distribute:i$,random:s$,snap:r$,normalize:function(e,t,i){return a$(e,t,0,1,i)},getUnit:ra,clamp:function(e,t,i){return Sp(i,function(r){return Kv(e,t,r)})},splitColor:d$,toArray:Tc,selector:OR,mapRange:a$,pipe:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,o){return o(s)},r)}},unitize:function(e,t){return function(i){return e(parseFloat(i))+(t||ra(i))}},interpolate:function n(e,t,i,r){var s=isNaN(e+t)?0:function(C){return(1-C)*e+C*t};if(!s){var l,c,u,d,b,o=go(e),a={};if(!0===i&&(r=1)&&(i=null),o)e={p:e},t={p:t};else if(ia(e)&&!ia(t)){for(u=[],b=(d=e.length)-2,c=1;c<d;c++)u.push(n(e[c-1],e[c]));d--,s=function(M){M*=d;var I=Math.min(b,~~M);return u[I](M-I)},i=t}else r||(e=g0(ia(e)?[]:{},e));if(!u){for(l in t)RR.call(a,e,l,"get",t[l]);s=function(M){return LR(M,a)||(o?e.p:e)}}}return Sp(i,s)},shuffle:n$},install:Hz,effects:wR,ticker:Dl,updateRoot:Da.updateRoot,plugins:Pl,globalTimeline:ts,core:{PropTween:Qa,globals:jz,Tween:Ns,Timeline:Da,Animation:t1,getCache:bg,_removeLinkedListItem:wM,reverting:function(){return Ro},context:function(e){return e&&Xr&&(Xr.data.push(e),e._ctx=Xr),Xr},suppressOverwrites:function(e){return dR=e}}};Ja("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return EM[n]=Ns[n]}),Dl.add(Da.updateRoot),y0=EM.to({},{duration:0});var _xe=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},jR=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(go(s)&&(l={},Ja(s,function(u){return l[u]=1}),s=l),t){for(c in l={},s)l[c]=t(s[c]);s=l}!function(e,t){var r,s,o,i=e._targets;for(r in t)for(s=i.length;s--;)(o=e._ptLookup[s][r])&&(o=o.d)&&(o._pt&&(o=_xe(o,r)),o&&o.modifier&&o.modifier(t[r],e,i[s],r))}(a,s)}}}},Za=EM.registerPlugin({name:"attr",init:function(e,t,i,r,s){var o,a,l;for(o in this.tween=i,t)l=e.getAttribute(o)||"",(a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o)).op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)Ro?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},jR("roundProps",PR),jR("modifiers"),jR("snap",r$))||EM;Ns.version=Da.version=Za.version="3.12.7",Uz=1,fR()&&b0();var O$,xp,v0,GR,Tg,P$,VR,N$,fh={},Mg=180/Math.PI,C0=Math.PI/180,w0=Math.atan2,I$=1e8,zR=/([A-Z])/g,Cxe=/(left|right|width|margin|padding|x)/i,wxe=/[\s,\(]\S/,gd={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$R=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Sxe=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Txe=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Mxe=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},A$=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},D$=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},xxe=function(e,t,i){return e.style[t]=i},Exe=function(e,t,i){return e.style.setProperty(t,i)},Oxe=function(e,t,i){return e._gsap[t]=i},Pxe=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Ixe=function(e,t,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},Axe=function(e,t,i,r,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},ns="transform",el=ns+"Origin",Dxe=function n(e,t){var i=this,r=this.target,s=r.style,o=r._gsap;if(e in fh&&s){if(this.tfm=this.tfm||{},"transform"===e)return gd.transform.split(",").forEach(function(a){return n.call(i,a,t)});if(~(e=gd[e]||e).indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=gh(r,a)}):this.tfm[e]=o.x?o[e]:gh(r,e),e===el&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(ns)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(el,t,"")),e=ns}(s||t)&&this.props.push(e,t,s[e])},R$=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Rxe=function(){var s,o,e=this.props,t=this.target,i=t.style,r=t._gsap;for(s=0;s<e.length;s+=3)e[s+1]?2===e[s+1]?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty("--"===e[s].substr(0,2)?e[s]:e[s].replace(zR,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),(!(s=VR())||!s.isStart)&&!i[ns]&&(R$(i),r.zOrigin&&i[el]&&(i[el]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},k$=function(e,t){var i={target:e,props:[],revert:Rxe,save:Dxe};return e._gsap||Za.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},WR=function(e,t){var i=xp.createElementNS?xp.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):xp.createElement(e);return i&&i.style?i:xp.createElement(e)},md=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(zR,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,S0(t)||t,1)||""},F$="O,Moz,ms,Ms,Webkit".split(","),S0=function(e,t,i){var s=(t||Tg).style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(F$[o]+e in s););return o<0?null:(3===o?"ms":o>=0?F$[o]:"")+e},YR=function(){"undefined"!=typeof window&&window.document&&(O$=window,v0=(xp=O$.document).documentElement,Tg=WR("div")||{style:{}},WR("div"),ns=S0(ns),el=ns+"Origin",Tg.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",N$=!!S0("perspective"),VR=Za.core.reverting,GR=1)},B$=function(e){var s,t=e.ownerSVGElement,i=WR("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0);r.style.display="block",i.appendChild(r),v0.appendChild(i);try{s=r.getBBox()}catch(o){}return i.removeChild(r),v0.removeChild(i),s},L$=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},U$=function(e){var t,i;try{t=e.getBBox()}catch(r){t=B$(e),i=1}return t&&(t.width||t.height)||i||(t=B$(e)),!t||t.width||t.x||t.y?t:{x:+L$(e,["x","cx","x1"])||0,y:+L$(e,["y","cy","y1"])||0,width:0,height:0}},H$=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!U$(e))},xg=function(e,t){if(t){var r,i=e.style;t in fh&&t!==el&&(t=ns),i.removeProperty?(("ms"===(r=t.substr(0,2))||"webkit"===t.substr(0,6))&&(t="-"+t),i.removeProperty("--"===r?t:t.replace(zR,"-$1").toLowerCase())):i.removeAttribute(t)}},Ep=function(e,t,i,r,s,o){var a=new Qa(e._pt,t,i,0,1,o?D$:A$);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},j$={deg:1,rad:1,turn:1},kxe={grid:1,flex:1},Op=function n(e,t,i,r){var M,I,k,B,s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Tg.style,l=Cxe.test(t),c="svg"===e.tagName.toLowerCase(),u=(c?"client":"offset")+(l?"Width":"Height"),d=100,b="px"===r,C="%"===r;if(r===o||!s||j$[r]||j$[o])return s;if("px"!==o&&!b&&(s=n(e,t,i,"px")),B=e.getCTM&&H$(e),(C||"%"===o)&&(fh[t]||~t.indexOf("adius")))return M=B?e.getBBox()[l?"width":"height"]:e[u],Ss(C?s/M*d:s/100*M);if(a[l?"width":"height"]=d+(b?o:r),I="rem"!==r&&~t.indexOf("adius")||"em"===r&&e.appendChild&&!c?e:e.parentNode,B&&(I=(e.ownerSVGElement||{}).parentNode),(!I||I===xp||!I.appendChild)&&(I=xp.body),(k=I._gsap)&&C&&k.width&&l&&k.time===Dl.time&&!k.uncache)return Ss(s/k.width*d);if(!C||"height"!==t&&"width"!==t)(C||"%"===o)&&!kxe[md(I,"display")]&&(a.position=md(e,"position")),I===e&&(a.position="static"),I.appendChild(Tg),M=Tg[u],I.removeChild(Tg),a.position="absolute";else{var L=e.style[t];e.style[t]=d+r,M=e[u],L?e.style[t]=L:xg(e,t)}return l&&C&&((k=bg(I)).time=Dl.time,k.width=I[u]),Ss(b?M*s/d:M&&s?d/M*s:0)},gh=function(e,t,i,r){var s;return GR||YR(),t in gd&&"transform"!==t&&~(t=gd[t]).indexOf(",")&&(t=t.split(",")[0]),fh[t]&&"transform"!==t?(s=s1(e,r),s="transformOrigin"!==t?s[t]:s.svg?s.origin:PM(md(e,el))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||r||~(s+"").indexOf("calc("))&&(s=OM[t]&&OM[t](e,t,i)||md(e,t)||zz(e,t)||("opacity"===t?1:0)),i&&!~(s+"").trim().indexOf(" ")?Op(e,t,s,i)+i:s},Nxe=function(e,t,i,r){if(!i||"none"===i){var s=S0(t,e,1),o=s&&md(e,s,1);o&&o!==i?(t=s,i=o):"borderColor"===t&&(i=md(e,"borderTopColor"))}var u,d,b,C,M,I,k,B,L,H,Y,a=new Qa(this._pt,e.style,t,0,1,T$),l=0,c=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(I=e.style[t],e.style[t]=r,r=md(e,t)||r,I?e.style[t]=I:xg(e,t)),f$(u=[i,r]),r=u[1],b=(i=u[0]).match(p0)||[],(r.match(p0)||[]).length){for(;d=p0.exec(r);)k=d[0],L=r.substring(l,d.index),M?M=(M+1)%5:("rgba("===L.substr(-5)||"hsla("===L.substr(-5))&&(M=1),k!==(I=b[c++]||"")&&(C=parseFloat(I)||0,Y=I.substr((C+"").length),"="===k.charAt(1)&&(k=f0(C,k)+Y),B=parseFloat(k),H=k.substr((B+"").length),l=p0.lastIndex-H.length,H||(H=H||El.units[t]||Y,l===r.length&&(r+=H,a.e+=H)),Y!==H&&(C=Op(e,t,I,H)||0),a._pt={_next:a._pt,p:L||1===c?L:",",s:C,c:B-C,m:M&&M<4||"zIndex"===t?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r="display"===t&&"none"===r?D$:A$;return Bz.test(r)&&(a.e=0),this._pt=a,a},G$={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Fxe=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(e=i,i=r,r=e),t[0]=G$[i]||i,t[1]=G$[r]||r,t.join(" ")},Bxe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var a,l,c,i=t.t,r=i.style,s=t.u,o=i._gsap;if("all"===s||!0===s)r.cssText="",l=1;else for(c=(s=s.split(",")).length;--c>-1;)fh[a=s[c]]&&(l=1,a="transformOrigin"===a?el:ns),xg(i,a);l&&(xg(i,ns),o&&(o.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",s1(i,1),o.uncache=1,R$(r)))}},OM={clearProps:function(e,t,i,r,s){if("isFromStart"!==s.data){var o=e._pt=new Qa(e._pt,t,i,0,0,Bxe);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},r1=[1,0,0,1,0,0],V$={},z$=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},$$=function(e){var t=md(e,ns);return z$(t)?r1:t.substr(7).match(Fz).map(Ss)},XR=function(e,t){var o,a,l,c,i=e._gsap||bg(e),r=e.style,s=$$(e);return i.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(l=e.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?r1:s:(s===r1&&!e.offsetParent&&e!==v0&&!i.svg&&(l=r.display,r.display="block",(!(o=e.parentNode)||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,v0.appendChild(e)),s=$$(e),l?r.display=l:xg(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):v0.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},qR=function(e,t,i,r,s,o){var ue,oe,ae,a=e._gsap,l=s||XR(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,b=a.yOffset||0,C=l[0],M=l[1],I=l[2],k=l[3],B=l[4],L=l[5],H=t.split(" "),Y=parseFloat(H[0])||0,se=parseFloat(H[1])||0;i?l!==r1&&(oe=C*k-M*I)&&(ae=Y*(-M/oe)+se*(C/oe)-(C*L-M*B)/oe,Y=Y*(k/oe)+se*(-I/oe)+(I*L-k*B)/oe,se=ae):(Y=(ue=U$(e)).x+(~H[0].indexOf("%")?Y/100*ue.width:Y),se=ue.y+(~(H[1]||H[0]).indexOf("%")?se/100*ue.height:se)),r||!1!==r&&a.smooth?(a.xOffset=d+((B=Y-c)*C+(L=se-u)*I)-B,a.yOffset=b+(B*M+L*k)-L):a.xOffset=a.yOffset=0,a.xOrigin=Y,a.yOrigin=se,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,e.style[el]="0px 0px",o&&(Ep(o,a,"xOrigin",c,Y),Ep(o,a,"yOrigin",u,se),Ep(o,a,"xOffset",d,a.xOffset),Ep(o,a,"yOffset",b,a.yOffset)),e.setAttribute("data-svg-origin",Y+" "+se)},s1=function(e,t){var i=e._gsap||new y$(e);if("x"in i&&!t&&!i.uncache)return i;var u,d,b,C,M,I,k,B,L,H,Y,se,ue,oe,de,ae,fe,Re,ve,_e,Oe,Ge,Ee,ye,we,et,Pe,Ot,gn,ei,on,pt,r=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=md(e,el)||"0";return u=d=b=I=k=B=L=H=Y=0,C=M=1,i.svg=!(!e.getCTM||!H$(e)),l.translate&&(("none"!==l.translate||"none"!==l.scale||"none"!==l.rotate)&&(r[ns]=("none"!==l.translate?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==l.rotate?"rotate("+l.rotate+") ":"")+("none"!==l.scale?"scale("+l.scale.split(" ").join(",")+") ":"")+("none"!==l[ns]?l[ns]:"")),r.scale=r.rotate=r.translate="none"),oe=XR(e,i.svg),i.svg&&(i.uncache?(we=e.getBBox(),c=i.xOrigin-we.x+"px "+(i.yOrigin-we.y)+"px",ye=""):ye=!t&&e.getAttribute("data-svg-origin"),qR(e,ye||c,!!ye||i.originIsAbsolute,!1!==i.smooth,oe)),se=i.xOrigin||0,ue=i.yOrigin||0,oe!==r1&&(Re=oe[0],ve=oe[1],_e=oe[2],Oe=oe[3],u=Ge=oe[4],d=Ee=oe[5],6===oe.length?(C=Math.sqrt(Re*Re+ve*ve),M=Math.sqrt(Oe*Oe+_e*_e),I=Re||ve?w0(ve,Re)*Mg:0,(L=_e||Oe?w0(_e,Oe)*Mg+I:0)&&(M*=Math.abs(Math.cos(L*C0))),i.svg&&(u-=se-(se*Re+ue*_e),d-=ue-(se*ve+ue*Oe))):(ei=oe[7],Pe=oe[8],Ot=oe[9],on=oe[11],u=oe[12],d=oe[13],b=oe[14],k=(de=w0(pt=oe[6],gn=oe[10]))*Mg,de&&(ye=Ge*(ae=Math.cos(-de))+Pe*(fe=Math.sin(-de)),we=Ee*ae+Ot*fe,et=pt*ae+gn*fe,Pe=Ge*-fe+Pe*ae,Ot=Ee*-fe+Ot*ae,gn=pt*-fe+gn*ae,on=ei*-fe+on*ae,Ge=ye,Ee=we,pt=et),B=(de=w0(-_e,gn))*Mg,de&&(ae=Math.cos(-de),on=Oe*(fe=Math.sin(-de))+on*ae,Re=ye=Re*ae-Pe*fe,ve=we=ve*ae-Ot*fe,_e=et=_e*ae-gn*fe),I=(de=w0(ve,Re))*Mg,de&&(ye=Re*(ae=Math.cos(de))+ve*(fe=Math.sin(de)),we=Ge*ae+Ee*fe,ve=ve*ae-Re*fe,Ee=Ee*ae-Ge*fe,Re=ye,Ge=we),k&&Math.abs(k)+Math.abs(I)>359.9&&(k=I=0,B=180-B),C=Ss(Math.sqrt(Re*Re+ve*ve+_e*_e)),M=Ss(Math.sqrt(Ee*Ee+pt*pt)),de=w0(Ge,Ee),L=Math.abs(de)>2e-4?de*Mg:0,Y=on?1/(on<0?-on:on):0),i.svg&&(ye=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!z$(md(e,ns)),ye&&e.setAttribute("transform",ye))),Math.abs(L)>90&&Math.abs(L)<270&&(s?(C*=-1,L+=I<=0?180:-180,I+=I<=0?180:-180):(M*=-1,L+=L<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=d-((i.yPercent=d&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=b+o,i.scaleX=Ss(C),i.scaleY=Ss(M),i.rotation=Ss(I)+a,i.rotationX=Ss(k)+a,i.rotationY=Ss(B)+a,i.skewX=L+a,i.skewY=H+a,i.transformPerspective=Y+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!t&&i.zOrigin||0)&&(r[el]=PM(c)),i.xOffset=i.yOffset=0,i.force3D=El.force3D,i.renderTransform=i.svg?Uxe:N$?W$:Lxe,i.uncache=0,i},PM=function(e){return(e=e.split(" "))[0]+" "+e[1]},KR=function(e,t,i){var r=ra(t);return Ss(parseFloat(t)+parseFloat(Op(e,"x",i+"px",r)))+r},Lxe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,W$(e,t)},Eg="0deg",o1="0px",Og=") ",W$=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,d=i.rotationX,b=i.skewX,C=i.skewY,M=i.scaleX,I=i.scaleY,k=i.transformPerspective,B=i.force3D,L=i.target,H=i.zOrigin,Y="",se="auto"===B&&e&&1!==e||!0===B;if(H&&(d!==Eg||u!==Eg)){var ae,ue=parseFloat(u)*C0,oe=Math.sin(ue),de=Math.cos(ue);ue=parseFloat(d)*C0,ae=Math.cos(ue),o=KR(L,o,oe*ae*-H),a=KR(L,a,-Math.sin(ue)*-H),l=KR(L,l,de*ae*-H+H)}k!==o1&&(Y+="perspective("+k+Og),(r||s)&&(Y+="translate("+r+"%, "+s+"%) "),(se||o!==o1||a!==o1||l!==o1)&&(Y+=l!==o1||se?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Og),c!==Eg&&(Y+="rotate("+c+Og),u!==Eg&&(Y+="rotateY("+u+Og),d!==Eg&&(Y+="rotateX("+d+Og),(b!==Eg||C!==Eg)&&(Y+="skew("+b+", "+C+Og),(1!==M||1!==I)&&(Y+="scale("+M+", "+I+Og),L.style[ns]=Y||"translate(0, 0)"},Uxe=function(e,t){var se,ue,oe,de,ae,i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,d=i.scaleX,b=i.scaleY,C=i.target,M=i.xOrigin,I=i.yOrigin,k=i.xOffset,B=i.yOffset,L=i.forceCSS,H=parseFloat(o),Y=parseFloat(a);l=parseFloat(l),c=parseFloat(c),(u=parseFloat(u))&&(c+=u=parseFloat(u),l+=u),l||c?(l*=C0,c*=C0,se=Math.cos(l)*d,ue=Math.sin(l)*d,oe=Math.sin(l-c)*-b,de=Math.cos(l-c)*b,c&&(u*=C0,ae=Math.tan(c-u),oe*=ae=Math.sqrt(1+ae*ae),de*=ae,u&&(ae=Math.tan(u),se*=ae=Math.sqrt(1+ae*ae),ue*=ae)),se=Ss(se),ue=Ss(ue),oe=Ss(oe),de=Ss(de)):(se=d,de=b,ue=oe=0),(H&&!~(o+"").indexOf("px")||Y&&!~(a+"").indexOf("px"))&&(H=Op(C,"x",o,"px"),Y=Op(C,"y",a,"px")),(M||I||k||B)&&(H=Ss(H+M-(M*se+I*oe)+k),Y=Ss(Y+I-(M*ue+I*de)+B)),(r||s)&&(ae=C.getBBox(),H=Ss(H+r/100*ae.width),Y=Ss(Y+s/100*ae.height)),C.setAttribute("transform",ae="matrix("+se+","+ue+","+oe+","+de+","+H+","+Y+")"),L&&(C.style[ns]=ae)},Hxe=function(e,t,i,r,s){var d,b,o=360,a=go(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?Mg:1)-r,u=r+c+"deg";return a&&("short"===(d=s.split("_")[1])&&(c%=o)!=c%180&&(c+=c<0?o:-o),"cw"===d&&c<0?c=(c+o*I$)%o-~~(c/o)*o:"ccw"===d&&c>0&&(c=(c-o*I$)%o-~~(c/o)*o)),e._pt=b=new Qa(e._pt,t,i,r,c,Sxe),b.e=u,b.u="deg",e._props.push(i),b},Y$=function(e,t){for(var i in t)e[i]=t[i];return e},jxe=function(e,t,i){var a,l,c,u,d,b,M,r=Y$({},i._gsap),o=i.style;for(l in r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[ns]=t,a=s1(i,1),xg(i,ns),i.setAttribute("transform",c)):(c=getComputedStyle(i)[ns],o[ns]=t,a=s1(i,1),o[ns]=c),fh)(c=r[l])!==(u=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(d=ra(c)!==(M=ra(u))?Op(i,l,c,M):parseFloat(c),b=parseFloat(u),e._pt=new Qa(e._pt,a,l,d,b-d,$R),e._pt.u=M||0,e._props.push(l));Y$(a,r)};Ja("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",o=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(a){return e<2?n+a:"border"+a+n});OM[e>1?"border"+n:n]=function(a,l,c,u,d){var b,C;if(arguments.length<4)return b=o.map(function(M){return gh(a,M,c)}),5===(C=b.join(" ")).split(b[0]).length?b[0]:C;b=(u+"").split(" "),C={},o.forEach(function(M,I){return C[M]=b[I]=b[I]||b[(I-1)/2|0]}),a.init(l,C,d)}});var X$={name:"css",register:YR,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var c,u,d,b,C,M,I,k,B,L,H,Y,se,ue,oe,de,o=this._props,a=e.style,l=i.vars.startAt;for(I in GR||YR(),this.styles=this.styles||k$(e),de=this.styles.props,this.tween=i,t)if("autoRound"!==I&&(u=t[I],!Pl[I]||!b$(I,t,i,r,e,s)))if(M=OM[I],"function"==(C=typeof u)&&(C=typeof(u=u.call(i,r,e,s))),"string"===C&&~u.indexOf("random(")&&(u=Jv(u)),M)M(this,e,I,u,i)&&(oe=1);else if("--"===I.substr(0,2))c=(getComputedStyle(e).getPropertyValue(I)+"").trim(),u+="",Tp.lastIndex=0,Tp.test(c)||(k=ra(c),B=ra(u)),B?k!==B&&(c=Op(e,I,c,B)+B):k&&(u+=k),this.add(a,"setProperty",c,u,r,s,0,0,I),o.push(I),de.push(I,0,a[I]);else if("undefined"!==C){if(l&&I in l?(c="function"==typeof l[I]?l[I].call(i,r,e,s):l[I],go(c)&&~c.indexOf("random(")&&(c=Jv(c)),ra(c+"")||"auto"===c||(c+=El.units[I]||ra(gh(e,I))||""),"="===(c+"").charAt(1)&&(c=gh(e,I))):c=gh(e,I),b=parseFloat(c),(L="string"===C&&"="===u.charAt(1)&&u.substr(0,2))&&(u=u.substr(2)),d=parseFloat(u),I in gd&&("autoAlpha"===I&&(1===b&&"hidden"===gh(e,"visibility")&&d&&(b=0),de.push("visibility",0,a.visibility),Ep(this,a,"visibility",b?"inherit":"hidden",d?"inherit":"hidden",!d)),"scale"!==I&&"transform"!==I&&~(I=gd[I]).indexOf(",")&&(I=I.split(",")[0])),H=I in fh)if(this.styles.save(I),Y||((se=e._gsap).renderTransform&&!t.parseTransform||s1(e,t.parseTransform),ue=!1!==t.smoothOrigin&&se.smooth,(Y=this._pt=new Qa(this._pt,a,ns,0,1,se.renderTransform,se,0,-1)).dep=1),"scale"===I)this._pt=new Qa(this._pt,se,"scaleY",se.scaleY,(L?f0(se.scaleY,L+d):d)-se.scaleY||0,$R),this._pt.u=0,o.push("scaleY",I),I+="X";else{if("transformOrigin"===I){de.push(el,0,a[el]),u=Fxe(u),se.svg?qR(e,u,0,ue,0,this):((B=parseFloat(u.split(" ")[2])||0)!==se.zOrigin&&Ep(this,se,"zOrigin",se.zOrigin,B),Ep(this,a,I,PM(c),PM(u)));continue}if("svgOrigin"===I){qR(e,u,1,ue,0,this);continue}if(I in V$){Hxe(this,se,I,b,L?f0(b,L+u):u);continue}if("smoothOrigin"===I){Ep(this,se,"smooth",se.smooth,u);continue}if("force3D"===I){se[I]=u;continue}if("transform"===I){jxe(this,u,e);continue}}else I in a||(I=S0(I)||I);if(H||(d||0===d)&&(b||0===b)&&!wxe.test(u)&&I in a)d||(d=0),(k=(c+"").substr((b+"").length))!==(B=ra(u)||(I in El.units?El.units[I]:k))&&(b=Op(e,I,c,B)),this._pt=new Qa(this._pt,H?se:a,I,b,(L?f0(b,L+d):d)-b,H||"px"!==B&&"zIndex"!==I||!1===t.autoRound?$R:Mxe),this._pt.u=B||0,k!==B&&"%"!==B&&(this._pt.b=c,this._pt.r=Txe);else if(I in a)Nxe.call(this,e,I,c,L?L+u:u);else if(I in e)this.add(e,I,c||e[I],L?L+u:u,r,s);else if("parseTransform"!==I){bR(I,u);continue}H||(I in a?de.push(I,0,a[I]):"function"==typeof e[I]?de.push(I,2,e[I]()):de.push(I,1,c||e[I])),o.push(I)}oe&&M$(this)},render:function(e,t){if(t.tween._time||!VR())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:gh,aliases:gd,getSetter:function(e,t,i){var r=gd[t];return r&&r.indexOf(",")<0&&(t=r),t in fh&&t!==el&&(e._gsap.x||gh(e,"x"))?i&&P$===i?"scale"===t?Pxe:Oxe:(P$=i||{})&&("scale"===t?Ixe:Axe):e.style&&!pR(e.style[t])?xxe:~t.indexOf("-")?Exe:BR(e,t)},core:{_removeProperty:xg,_getMatrix:XR}};Za.utils.checkPrefix=S0,Za.core.getStyleSaver=k$,function(n,e,t,i){var r=Ja(n+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){fh[s]=1});Ja(e,function(s){El.units[s]="deg",V$[s]=1}),gd[r[13]]=n+","+e,Ja("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var o=s.split(":");gd[o[1]]=r[o[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Ja("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){El.units[n]="px"}),Za.registerPlugin(X$);var ko=Za.registerPlugin(X$)||Za;function q$(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var No,IM,Rl,Pp,Ip,T0,K$,Pg,a1,J$,mh,bu,Q$,Z$=function(){return No||"undefined"!=typeof window&&(No=window.gsap)&&No.registerPlugin&&No},eW=1,M0=[],vi=[],_d=[],l1=Date.now,JR=function(e,t){return t},Ap=function(e,t){return~_d.indexOf(e)&&_d[_d.indexOf(e)+1][t]},c1=function(e){return!!~J$.indexOf(e)},Ra=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!1!==r,capture:!!s})},ka=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},AM="scrollLeft",DM="scrollTop",QR=function(){return mh&&mh.isPressed||vi.cache++},RM=function(e,t){var i=function r(s){if(s||0===s){eW&&(Rl.history.scrollRestoration="manual");var o=mh&&mh.isPressed;s=r.v=Math.round(s)||(mh&&mh.iOS?1:0),e(s),r.cacheID=vi.cache,o&&JR("ss",s)}else(t||vi.cache!==r.cacheID||JR("ref"))&&(r.cacheID=vi.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Na={s:AM,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:RM(function(n){return arguments.length?Rl.scrollTo(n,to.sc()):Rl.pageXOffset||Pp[AM]||Ip[AM]||T0[AM]||0})},to={s:DM,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Na,sc:RM(function(n){return arguments.length?Rl.scrollTo(Na.sc(),n):Rl.pageYOffset||Pp[DM]||Ip[DM]||T0[DM]||0})},tl=function(e,t){return(t&&t._ctx&&t._ctx.selector||No.utils.toArray)(e)[0]||("string"==typeof e&&!1!==No.config().nullTargetWarn?console.warn("Element not found:",e):null)},Dp=function(e,t){var i=t.s,r=t.sc;c1(e)&&(e=Pp.scrollingElement||Ip);var s=vi.indexOf(e),o=r===to.sc?1:2;!~s&&(s=vi.push(e)-1),vi[s+o]||Ra(e,"scroll",QR);var a=vi[s+o],l=a||(vi[s+o]=RM(Ap(e,i),!0)||(c1(e)?r:RM(function(c){return arguments.length?e[i]=c:e[i]})));return l.target=e,a||(l.smooth="smooth"===No.getProperty(e,"scrollBehavior")),l},ZR=function(e,t,i){var r=e,s=e,o=l1(),a=o,l=t||50,c=Math.max(500,3*l),u=function(M,I){var k=l1();I||k-o>l?(s=r,r=M,a=o,o=k):i?r+=M:r=s+(M-s)/(k-a)*(o-a)};return{update:u,reset:function(){s=r=i?0:r,a=o=0},getVelocity:function(M){var I=a,k=s,B=l1();return(M||0===M)&&M!==r&&u(M),o===a||B-a>c?0:(r+(i?k:-k))/((i?B:o)-I)*1e3}}},u1=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},tW=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},nW=function(){var e,t,i,r;(a1=No.core.globals().ScrollTrigger)&&a1.core&&(t=(e=a1.core).bridge||{},r=e._proxies,(i=e._scrollers).push.apply(i,vi),r.push.apply(r,_d),vi=i,_d=r,JR=function(o,a){return t[o](a)})},iW=function(e){return No=e||Z$(),!IM&&No&&"undefined"!=typeof document&&document.body&&(Rl=window,Pp=document,J$=[Rl,Pp,Ip=Pp.documentElement,T0=Pp.body],Q$=No.core.context||function(){},Pg="onpointerenter"in T0?"pointer":"mouse",K$=Ts.isTouch=Rl.matchMedia&&Rl.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Rl||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,bu=Ts.eventTypes=("ontouchstart"in Ip?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ip?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return eW=0},500),nW(),IM=1),IM};Na.op=to,vi.cache=0;var Ts=function(){function n(t){this.init(t)}return n.prototype.init=function(i){IM||iW(No)||console.warn("Please gsap.registerPlugin(Observer)"),a1||nW();var r=i.tolerance,s=i.dragMinimum,o=i.type,a=i.target,l=i.lineHeight,c=i.debounce,u=i.preventDefault,d=i.onStop,b=i.onStopDelay,C=i.ignore,M=i.wheelSpeed,I=i.event,k=i.onDragStart,B=i.onDragEnd,L=i.onDrag,H=i.onPress,Y=i.onRelease,se=i.onRight,ue=i.onLeft,oe=i.onUp,de=i.onDown,ae=i.onChangeX,fe=i.onChangeY,Re=i.onChange,ve=i.onToggleX,_e=i.onToggleY,Oe=i.onHover,Ge=i.onHoverEnd,Ee=i.onMove,ye=i.ignoreCheck,we=i.isNormalizer,et=i.onGestureStart,Pe=i.onGestureEnd,Ot=i.onWheel,gn=i.onEnable,ei=i.onDisable,on=i.onClick,pt=i.scrollSpeed,ut=i.capture,dt=i.allowClicks,Kt=i.lockAxis,Tn=i.onLockAxis;this.target=a=tl(a)||Ip,this.vars=i,C&&(C=No.utils.toArray(C)),r=r||1e-9,s=s||0,M=M||1,pt=pt||1,o=o||"wheel,touch,pointer",c=!1!==c,l||(l=parseFloat(Rl.getComputedStyle(T0).lineHeight)||22);var oi,ki,$i,xn,gi,ur,Ms,at=this,Hr=0,la=0,jl=i.passive||!u&&!1!==i.passive,Fr=Dp(a,Na),Gl=Dp(a,to),kc=Fr(),Su=Gl(),gs=~o.indexOf("touch")&&!~o.indexOf("pointer")&&"pointerdown"===bu[0],Nc=c1(a),_r=a.ownerDocument||Pp,nl=[0,0,0],wo=[0,0,0],Ch=0,H1=function(){return Ch=l1()},Bs=function(An,Zi){return(at.event=An)&&C&&~C.indexOf(An.target)||Zi&&gs&&"touch"!==An.pointerType||ye&&ye(An,Zi)},wh=function(){var An=at.deltaX=tW(nl),Zi=at.deltaY=tW(wo),Yt=Math.abs(An)>=r,ti=Math.abs(Zi)>=r;Re&&(Yt||ti)&&Re(at,An,Zi,nl,wo),Yt&&(se&&at.deltaX>0&&se(at),ue&&at.deltaX<0&&ue(at),ae&&ae(at),ve&&at.deltaX<0!=Hr<0&&ve(at),Hr=at.deltaX,nl[0]=nl[1]=nl[2]=0),ti&&(de&&at.deltaY>0&&de(at),oe&&at.deltaY<0&&oe(at),fe&&fe(at),_e&&at.deltaY<0!=la<0&&_e(at),la=at.deltaY,wo[0]=wo[1]=wo[2]=0),(xn||$i)&&(Ee&&Ee(at),$i&&(k&&1===$i&&k(at),L&&L(at),$i=0),xn=!1),ur&&!(ur=!1)&&Tn&&Tn(at),gi&&(Ot(at),gi=!1),oi=0},X0=function(An,Zi,Yt){nl[Yt]+=An,wo[Yt]+=Zi,at._vx.update(An),at._vy.update(Zi),c?oi||(oi=requestAnimationFrame(wh)):wh()},q0=function(An,Zi){Kt&&!Ms&&(at.axis=Ms=Math.abs(An)>Math.abs(Zi)?"x":"y",ur=!0),"y"!==Ms&&(nl[2]+=An,at._vx.update(An,!0)),"x"!==Ms&&(wo[2]+=Zi,at._vy.update(Zi,!0)),c?oi||(oi=requestAnimationFrame(wh)):wh()},zp=function(An){if(!Bs(An,1)){var Zi=(An=u1(An,u)).clientX,Yt=An.clientY,ti=Zi-at.x,Cn=Yt-at.y,ni=at.isDragging;at.x=Zi,at.y=Yt,(ni||(ti||Cn)&&(Math.abs(at.startX-Zi)>=s||Math.abs(at.startY-Yt)>=s))&&($i=ni?2:1,ni||(at.isDragging=!0),q0(ti,Cn))}},dm=at.onPress=function(ai){Bs(ai,1)||ai&&ai.button||(at.axis=Ms=null,ki.pause(),at.isPressed=!0,ai=u1(ai),Hr=la=0,at.startX=at.x=ai.clientX,at.startY=at.y=ai.clientY,at._vx.reset(),at._vy.reset(),Ra(we?a:_r,bu[1],zp,jl,!0),at.deltaX=at.deltaY=0,H&&H(at))},Oi=at.onRelease=function(ai){if(!Bs(ai,1)){ka(we?a:_r,bu[1],zp,!0);var An=!isNaN(at.y-at.startY),Zi=at.isDragging,Yt=Zi&&(Math.abs(at.x-at.startX)>3||Math.abs(at.y-at.startY)>3),ti=u1(ai);!Yt&&An&&(at._vx.reset(),at._vy.reset(),u&&dt&&No.delayedCall(.08,function(){if(l1()-Ch>300&&!ai.defaultPrevented)if(ai.target.click)ai.target.click();else if(_r.createEvent){var Cn=_r.createEvent("MouseEvents");Cn.initMouseEvent("click",!0,!0,Rl,1,ti.screenX,ti.screenY,ti.clientX,ti.clientY,!1,!1,!1,!1,0,null),ai.target.dispatchEvent(Cn)}})),at.isDragging=at.isGesturing=at.isPressed=!1,d&&Zi&&!we&&ki.restart(!0),$i&&wh(),B&&Zi&&B(at),Y&&Y(at,Yt)}},hm=function(An){return An.touches&&An.touches.length>1&&(at.isGesturing=!0)&&et(An,at.isDragging)},Tu=function(){return(at.isGesturing=!1)||Pe(at)},Mu=function(An){if(!Bs(An)){var Zi=Fr(),Yt=Gl();X0((Zi-kc)*pt,(Yt-Su)*pt,1),kc=Zi,Su=Yt,d&&ki.restart(!0)}},xu=function(An){if(!Bs(An)){An=u1(An,u),Ot&&(gi=!0);var Zi=(1===An.deltaMode?l:2===An.deltaMode?Rl.innerHeight:1)*M;X0(An.deltaX*Zi,An.deltaY*Zi,0),d&&!we&&ki.restart(!0)}},pm=function(An){if(!Bs(An)){var Zi=An.clientX,Yt=An.clientY,ti=Zi-at.x,Cn=Yt-at.y;at.x=Zi,at.y=Yt,xn=!0,d&&ki.restart(!0),(ti||Cn)&&q0(ti,Cn)}},K0=function(An){at.event=An,Oe(at)},Sh=function(An){at.event=An,Ge(at)},j1=function(An){return Bs(An)||u1(An,u)&&on(at)};ki=at._dc=No.delayedCall(b||.25,function(){at._vx.reset(),at._vy.reset(),ki.pause(),d&&d(at)}).pause(),at.deltaX=at.deltaY=0,at._vx=ZR(0,50,!0),at._vy=ZR(0,50,!0),at.scrollX=Fr,at.scrollY=Gl,at.isDragging=at.isGesturing=at.isPressed=!1,Q$(this),at.enable=function(ai){return at.isEnabled||(Ra(Nc?_r:a,"scroll",QR),o.indexOf("scroll")>=0&&Ra(Nc?_r:a,"scroll",Mu,jl,ut),o.indexOf("wheel")>=0&&Ra(a,"wheel",xu,jl,ut),(o.indexOf("touch")>=0&&K$||o.indexOf("pointer")>=0)&&(Ra(a,bu[0],dm,jl,ut),Ra(_r,bu[2],Oi),Ra(_r,bu[3],Oi),dt&&Ra(a,"click",H1,!0,!0),on&&Ra(a,"click",j1),et&&Ra(_r,"gesturestart",hm),Pe&&Ra(_r,"gestureend",Tu),Oe&&Ra(a,Pg+"enter",K0),Ge&&Ra(a,Pg+"leave",Sh),Ee&&Ra(a,Pg+"move",pm)),at.isEnabled=!0,at.isDragging=at.isGesturing=at.isPressed=xn=$i=!1,at._vx.reset(),at._vy.reset(),kc=Fr(),Su=Gl(),ai&&ai.type&&dm(ai),gn&&gn(at)),at},at.disable=function(){at.isEnabled&&(M0.filter(function(ai){return ai!==at&&c1(ai.target)}).length||ka(Nc?_r:a,"scroll",QR),at.isPressed&&(at._vx.reset(),at._vy.reset(),ka(we?a:_r,bu[1],zp,!0)),ka(Nc?_r:a,"scroll",Mu,ut),ka(a,"wheel",xu,ut),ka(a,bu[0],dm,ut),ka(_r,bu[2],Oi),ka(_r,bu[3],Oi),ka(a,"click",H1,!0),ka(a,"click",j1),ka(_r,"gesturestart",hm),ka(_r,"gestureend",Tu),ka(a,Pg+"enter",K0),ka(a,Pg+"leave",Sh),ka(a,Pg+"move",pm),at.isEnabled=at.isPressed=at.isDragging=!1,ei&&ei(at))},at.kill=at.revert=function(){at.disable();var ai=M0.indexOf(at);ai>=0&&M0.splice(ai,1),mh===at&&(mh=0)},M0.push(at),we&&c1(a)&&(mh=at),at.enable(I)},function Gxe(n,e,t){e&&q$(n.prototype,e),t&&q$(n,t)}(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();Ts.version="3.12.7",Ts.create=function(n){return new Ts(n)},Ts.register=iW,Ts.getAll=function(){return M0.slice()},Ts.getById=function(n){return M0.filter(function(e){return e.vars.id===n})[0]},Z$()&&No.registerPlugin(Ts);var sn,x0,Ci,Nr,kl,nr,ek,kM,d1,h1,p1,NM,sa,FM,tk,Fa,rW,sW,E0,oW,nk,aW,Ba,ik,lW,cW,Rp,rk,sk,O0,ok,BM,ak,lk,w1,La,EW,T1,LM=1,oa=Date.now,ck=oa(),Mc=0,f1=0,uW=function(e,t,i){var r=Nl(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},dW=function(e,t){return!t||Nl(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},$xe=function n(){return f1&&requestAnimationFrame(n)},hW=function(){return FM=1},pW=function(){return FM=0},yd=function(e){return e},g1=function(e){return Math.round(1e5*e)/1e5||0},fW=function(){return"undefined"!=typeof window},gW=function(){return sn||fW()&&(sn=window.gsap)&&sn.registerPlugin&&sn},Ig=function(e){return!!~ek.indexOf(e)},mW=function(e){return("Height"===e?ok:Ci["inner"+e])||kl["client"+e]||nr["client"+e]},_W=function(e){return Ap(e,"getBoundingClientRect")||(Ig(e)?function(){return JM.width=Ci.innerWidth,JM.height=ok,JM}:function(){return _h(e)})},bd=function(e,t){var i,r=t.d2,s=t.d,o=t.a;return Math.max(0,(i="scroll"+r)&&(o=Ap(e,i))?o()-_W(e)()[s]:Ig(e)?(kl[i]||nr[i])-mW(r):e[i]-e["offset"+r])},UM=function(e,t){for(var i=0;i<E0.length;i+=3)(!t||~t.indexOf(E0[i+1]))&&e(E0[i],E0[i+1],E0[i+2])},Nl=function(e){return"string"==typeof e},aa=function(e){return"function"==typeof e},m1=function(e){return"number"==typeof e},Ag=function(e){return"object"==typeof e},_1=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},uk=function(e,t){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return t(e)}):t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},P0=Math.abs,dk="right",hk="bottom",Dg="width",Rg="height",y1="Right",b1="Left",v1="Top",C1="Bottom",Fs="padding",xc="margin",I0="Width",no="px",Ec=function(e){return Ci.getComputedStyle(e)},vW=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},_h=function(e,t){var i=t&&"matrix(1, 0, 0, 1, 0, 0)"!==Ec(e)[tk]&&sn.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},HM=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},CW=function(e){var s,t=[],i=e.labels,r=e.duration();for(s in i)t.push(i[s]/r);return t},fk=function(e){var t=sn.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return i?function(r,s,o){var a;if(void 0===o&&(o=.001),!s)return t(r);if(s>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,s,o){void 0===o&&(o=.001);var a=t(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:t(s<0?r-e:r+e)}},jM=function(e,t,i,r){return i.split(",").forEach(function(s){return e(t,s,r)})},mo=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},_o=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},GM=function(e,t,i){(i=i&&i.wheelHandler)&&(e(t,"wheel",i),e(t,"touchmove",i))},wW={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},VM={toggleActions:"play",anticipatePin:0},zM={top:0,left:0,center:.5,bottom:1,right:1},$M=function(e,t){if(Nl(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in zM?zM[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},WM=function(e,t,i,r,s,o,a,l){var c=s.startColor,u=s.endColor,d=s.fontSize,b=s.indent,C=s.fontWeight,M=Nr.createElement("div"),I=Ig(i)||"fixed"===Ap(i,"pinType"),k=-1!==e.indexOf("scroller"),B=I?nr:i,L=-1!==e.indexOf("start"),H=L?c:u,Y="border-color:"+H+";font-size:"+d+";color:"+H+";font-weight:"+C+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return Y+="position:"+((k||l)&&I?"fixed;":"absolute;"),(k||l||!I)&&(Y+=(r===to?dk:hk)+":"+(o+parseFloat(b))+"px;"),a&&(Y+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),M._isStart=L,M.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),M.style.cssText=Y,M.innerText=t||0===t?e+"-"+t:e,B.children[0]?B.insertBefore(M,B.children[0]):B.appendChild(M),M._offset=M["offset"+r.op.d2],YM(M,0,r,L),M},YM=function(e,t,i,r){var s={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];e._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+o+I0]=1,s["border"+a+I0]=0,s[i.p]=t+"px",sn.set(e,s)},yi=[],gk={},SW=function(){return oa()-Mc>34&&(w1||(w1=requestAnimationFrame(yh)))},A0=function(){(!Ba||!Ba.isPressed||Ba.startX>nr.clientWidth)&&(vi.cache++,Ba?w1||(w1=requestAnimationFrame(yh)):yh(),Mc||Ng("scrollStart"),Mc=oa())},mk=function(){cW=Ci.innerWidth,lW=Ci.innerHeight},S1=function(e){vi.cache++,(!0===e||!sa&&!aW&&!Nr.fullscreenElement&&!Nr.webkitFullscreenElement&&(!ik||cW!==Ci.innerWidth||Math.abs(Ci.innerHeight-lW)>.25*Ci.innerHeight))&&kM.restart(!0)},kg={},Jxe=[],TW=function n(){return _o(wi,"scrollEnd",n)||Bg(!0)},Ng=function(e){return kg[e]&&kg[e].map(function(t){return t()})||Jxe},Fl=[],MW=function(e){for(var t=0;t<Fl.length;t+=5)(!e||Fl[t+4]&&Fl[t+4].query===e)&&(Fl[t].style.cssText=Fl[t+1],Fl[t].getBBox&&Fl[t].setAttribute("transform",Fl[t+2]||""),Fl[t+3].uncache=1)},_k=function(e,t){var i;for(Fa=0;Fa<yi.length;Fa++)(i=yi[Fa])&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));BM=!0,t&&MW(t),t||Ng("revert")},xW=function(e,t){vi.cache++,(t||!La)&&vi.forEach(function(i){return aa(i)&&i.cacheID++&&(i.rec=0)}),Nl(e)&&(Ci.history.scrollRestoration=sk=e)},Fg=0,OW=function(){nr.appendChild(O0),ok=!Ba&&O0.offsetHeight||Ci.innerHeight,nr.removeChild(O0)},PW=function(e){return d1(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Bg=function(e,t){if(ek=[Ci,Nr,kl=Nr.documentElement,nr=Nr.body],!Mc||e||BM){OW(),La=wi.isRefreshing=!0,vi.forEach(function(r){return aa(r)&&++r.cacheID&&(r.rec=r())});var i=Ng("refreshInit");oW&&wi.sort(),t||_k(),vi.forEach(function(r){aa(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),yi.slice(0).forEach(function(r){return r.refresh()}),BM=!1,yi.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-o),r.refresh()}}),ak=1,PW(!0),yi.forEach(function(r){var s=bd(r.scroller,r._dir),o="max"===r.vars.end||r._endClamp&&r.end>s,a=r._startClamp&&r.start>=s;(o||a)&&r.setPositions(a?s-1:r.start,o?Math.max(a?s:r.start+1,s):r.end,!0)}),PW(!1),ak=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),vi.forEach(function(r){aa(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),xW(sk,1),kM.pause(),Fg++,La=2,yh(2),yi.forEach(function(r){return aa(r.vars.onRefresh)&&r.vars.onRefresh(r)}),La=wi.isRefreshing=!1,Ng("refresh")}else mo(wi,"scrollEnd",TW)},yk=0,XM=1,yh=function(e){if(2===e||!La&&!BM){wi.isUpdating=!0,T1&&T1.update(0);var t=yi.length,i=oa(),r=i-ck>=50,s=t&&yi[0].scroll();if(XM=yk>s?-1:1,La||(yk=s),r&&(Mc&&!FM&&i-Mc>200&&(Mc=0,Ng("scrollEnd")),p1=ck,ck=i),XM<0){for(Fa=t;Fa-- >0;)yi[Fa]&&yi[Fa].update(0,r);XM=1}else for(Fa=0;Fa<t;Fa++)yi[Fa]&&yi[Fa].update(0,r);wi.isUpdating=!1}w1=0},bk=["left","top",hk,dk,xc+C1,xc+y1,xc+v1,xc+b1,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],qM=bk.concat([Dg,Rg,"boxSizing","max"+I0,"maxHeight","position",xc,Fs,Fs+v1,Fs+y1,Fs+C1,Fs+b1]),vk=function(e,t,i,r){if(!e._gsap.swappedIn){for(var l,s=bk.length,o=t.style,a=e.style;s--;)o[l=bk[s]]=i[l];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a[hk]=a[dk]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Dg]=HM(e,Na)+no,o[Rg]=HM(e,to)+no,o[Fs]=a[xc]=a.top=a.left="0",D0(r),a[Dg]=a.maxWidth=i[Dg],a[Rg]=a.maxHeight=i[Rg],a[Fs]=i[Fs],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},eEe=/([A-Z])/g,D0=function(e){if(e){var s,o,t=e.t.style,i=e.length,r=0;for((e.t._gsap||sn.core.getCache(e.t)).uncache=1;r<i;r+=2)s=e[r],(o=e[r+1])?t[s]=o:t[s]&&t.removeProperty(s.replace(eEe,"-$1").toLowerCase())}},KM=function(e){for(var t=qM.length,i=e.style,r=[],s=0;s<t;s++)r.push(qM[s],i[qM[s]]);return r.t=e,r},JM={left:0,top:0},IW=function(e,t,i,r,s,o,a,l,c,u,d,b,C,M){aa(e)&&(e=e(l)),Nl(e)&&"max"===e.substr(0,3)&&(e=b+("="===e.charAt(4)?$M("0"+e.substr(3),i):0));var k,B,L,I=C?C.time():0;if(C&&C.seek(0),isNaN(e)||(e=+e),m1(e))C&&(e=sn.utils.mapRange(C.scrollTrigger.start,C.scrollTrigger.end,0,b,e)),a&&YM(a,i,r,!0);else{aa(t)&&(t=t(l));var Y,se,ue,oe,H=(e||"0").split(" ");L=tl(t,l)||nr,(!(Y=_h(L)||{})||!Y.left&&!Y.top)&&"none"===Ec(L).display&&(oe=L.style.display,L.style.display="block",Y=_h(L),oe?L.style.display=oe:L.style.removeProperty("display")),se=$M(H[0],Y[r.d]),ue=$M(H[1]||"0",i),e=Y[r.p]-c[r.p]-u+se+s-ue,a&&YM(a,ue,r,i-ue<20||a._isStart&&ue>20),i-=i-ue}if(M&&(l[M]=e||-.001,e<0&&(e=0)),o){var de=e+i,ae=o._isStart;k="scroll"+r.d2,YM(o,de,r,ae&&de>20||!ae&&(d?Math.max(nr[k],kl[k]):o.parentNode[k])<=de+1),d&&(c=_h(a),d&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+no))}return C&&L&&(k=_h(L),C.seek(b),B=_h(L),C._caScrollDist=k[r.p]-B[r.p],e=e/C._caScrollDist*b),C&&C.seek(I),C?e:Math.round(e)},nEe=/(webkit|moz|length|cssText|inset)/i,AW=function(e,t,i,r){if(e.parentNode!==t){var o,a,s=e.style;if(t===nr){for(o in e._stOrig=s.cssText,a=Ec(e))!+o&&!nEe.test(o)&&a[o]&&"string"==typeof s[o]&&"0"!==o&&(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=e._stOrig;sn.core.getCache(e).uncache=1,t.appendChild(e)}},DW=function(e,t,i){var r=t,s=r;return function(o){var a=Math.round(e());return a!==r&&a!==s&&Math.abs(a-r)>3&&Math.abs(a-s)>3&&(o=a,i&&i()),s=r,r=Math.round(o)}},QM=function(e,t,i){var r={};r[t.p]="+="+i,sn.set(e,r)},RW=function(e,t){var i=Dp(e,t),r="_scroll"+t.p2,s=function o(a,l,c,u,d){var b=o.tween,C=l.onComplete,M={};c=c||i();var I=DW(i,c,function(){b.kill(),o.tween=0});return d=u&&d||0,u=u||a-c,b&&b.kill(),l[r]=a,l.inherit=!1,l.modifiers=M,M[r]=function(){return I(c+u*b.ratio+d*b.ratio*b.ratio)},l.onUpdate=function(){vi.cache++,o.tween&&yh()},l.onComplete=function(){o.tween=0,C&&C.call(b)},b=o.tween=sn.to(e,l)};return e[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},mo(e,"wheel",i.wheelHandler),wi.isTouch&&mo(e,"touchmove",i.wheelHandler),s},wi=function(){function n(t,i){x0||n.register(sn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),rk(this),this.init(t,i)}return n.prototype.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),f1){var Kt,Tn,oi,ki,$i,xn,gi,ur,Ms,at,Hr,la,jl,Fr,Gl,kc,Su,gs,Nc,_r,nl,wo,Ch,H1,Bs,bx,wh,X0,q0,zp,dm,Oi,hm,Tu,Mu,xu,pm,K0,Sh,o=(i=vW(Nl(i)||m1(i)||i.nodeType?{trigger:i}:i,VM)).onUpdate,a=i.toggleClass,l=i.id,c=i.onToggle,u=i.onRefresh,d=i.scrub,b=i.trigger,C=i.pin,M=i.pinSpacing,I=i.invalidateOnRefresh,k=i.anticipatePin,B=i.onScrubComplete,L=i.onSnapComplete,H=i.once,Y=i.snap,se=i.pinReparent,ue=i.pinSpacer,oe=i.containerAnimation,de=i.fastScrollEnd,ae=i.preventOverlaps,fe=i.horizontal||i.containerAnimation&&!1!==i.horizontal?Na:to,Re=!d&&0!==d,ve=tl(i.scroller||Ci),_e=sn.core.getCache(ve),Oe=Ig(ve),Ge="fixed"===("pinType"in i?i.pinType:Ap(ve,"pinType")||Oe&&"fixed"),Ee=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],ye=Re&&i.toggleActions.split(" "),we="markers"in i?i.markers:VM.markers,et=Oe?0:parseFloat(Ec(ve)["border"+fe.p2+I0])||0,Pe=this,Ot=i.onRefreshInit&&function(){return i.onRefreshInit(Pe)},gn=function(e,t,i){var r=i.d,s=i.d2,o=i.a;return(o=Ap(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?mW(s):e["client"+s])||0}}(ve,Oe,fe),ei=(e=ve,!Oe||~_d.indexOf(e)?_W(e):function(){return JM}),on=0,pt=0,ut=0,dt=Dp(ve,fe);if(Pe._startClamp=Pe._endClamp=!1,Pe._dir=fe,k*=45,Pe.scroller=ve,Pe.scroll=oe?oe.time.bind(oe):dt,ki=dt(),Pe.vars=i,r=r||i.animation,"refreshPriority"in i&&(oW=1,-9999===i.refreshPriority&&(T1=Pe)),_e.tweenScroll=_e.tweenScroll||{top:RW(ve,to),left:RW(ve,Na)},Pe.tweenTo=Kt=_e.tweenScroll[fe.p],Pe.scrubDuration=function(Yt){(hm=m1(Yt)&&Yt)?Oi?Oi.duration(Yt):Oi=sn.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:hm,paused:!0,onComplete:function(){return B&&B(Pe)}}):(Oi&&Oi.progress(1).kill(),Oi=0)},r&&(r.vars.lazy=!1,r._initted&&!Pe.isReverted||!1!==r.vars.immediateRender&&!1!==i.immediateRender&&r.duration()&&r.render(0,!0,!0),Pe.animation=r.pause(),r.scrollTrigger=Pe,Pe.scrubDuration(d),zp=0,l||(l=r.vars.id)),Y&&((!Ag(Y)||Y.push)&&(Y={snapTo:Y}),"scrollBehavior"in nr.style&&sn.set(Oe?[nr,kl]:ve,{scrollBehavior:"auto"}),vi.forEach(function(Yt){return aa(Yt)&&Yt.target===(Oe?Nr.scrollingElement||kl:ve)&&(Yt.smooth=!1)}),oi=aa(Y.snapTo)?Y.snapTo:"labels"===Y.snapTo?function(e){return function(t){return sn.utils.snap(CW(e),t)}}(r):"labelsDirectional"===Y.snapTo?function(e){return function(t,i){return fk(CW(e))(t,i.direction)}}(r):!1!==Y.directional?function(Yt,ti){return fk(Y.snapTo)(Yt,oa()-pt<500?0:ti.direction)}:sn.utils.snap(Y.snapTo),Tu=Ag(Tu=Y.duration||{min:.1,max:2})?h1(Tu.min,Tu.max):h1(Tu,Tu),Mu=sn.delayedCall(Y.delay||hm/2||.1,function(){var Yt=dt(),ti=oa()-pt<500,Cn=Kt.tween;if(!(ti||Math.abs(Pe.getVelocity())<10)||Cn||FM||on===Yt)Pe.isActive&&on!==Yt&&Mu.restart(!0);else{var ms,Kr,ni=(Yt-xn)/Fr,So=r&&!Re?r.totalProgress():ni,Li=ti?0:(So-dm)/(oa()-p1)*1e3||0,xs=sn.utils.clamp(-ni,1-ni,P0(Li/2)*Li/.185),ca=ni+(!1===Y.inertia?0:xs),Eu=Y.onStart,is=Y.onInterrupt,Vl=Y.onComplete;if(ms=oi(ca,Pe),m1(ms)||(ms=ca),Kr=Math.max(0,Math.round(xn+ms*Fr)),Yt<=gi&&Yt>=xn&&Kr!==Yt){if(Cn&&!Cn._initted&&Cn.data<=P0(Kr-Yt))return;!1===Y.inertia&&(xs=ms-ni),Kt(Kr,{duration:Tu(P0(.185*Math.max(P0(ca-So),P0(ms-So))/Li/.05||0)),ease:Y.ease||"power3",data:P0(Kr-Yt),onInterrupt:function(){return Mu.restart(!0)&&is&&is(Pe)},onComplete:function(){Pe.update(),on=dt(),r&&!Re&&(Oi?Oi.resetTo("totalProgress",ms,r._tTime/r._tDur):r.progress(ms)),zp=dm=r&&!Re?r.totalProgress():Pe.progress,L&&L(Pe),Vl&&Vl(Pe)}},Yt,xs*Fr,Kr-Yt-xs*Fr),Eu&&Eu(Pe,Kt.tween)}}}).pause()),l&&(gk[l]=Pe),(Sh=(b=Pe.trigger=tl(b||!0!==C&&C))&&b._gsap&&b._gsap.stRevert)&&(Sh=Sh(Pe)),C=!0===C?b:tl(C),Nl(a)&&(a={targets:b,className:a}),C&&(!1===M||M===xc||(M=!(!M&&C.parentNode&&C.parentNode.style&&"flex"===Ec(C.parentNode).display)&&Fs),Pe.pin=C,(Tn=sn.core.getCache(C)).spacer?Gl=Tn.pinState:(ue&&((ue=tl(ue))&&!ue.nodeType&&(ue=ue.current||ue.nativeElement),Tn.spacerIsNative=!!ue,ue&&(Tn.spacerState=KM(ue))),Tn.spacer=gs=ue||Nr.createElement("div"),gs.classList.add("pin-spacer"),l&&gs.classList.add("pin-spacer-"+l),Tn.pinState=Gl=KM(C)),!1!==i.force3D&&sn.set(C,{force3D:!0}),Pe.spacer=gs=Tn.spacer,q0=Ec(C),H1=q0[M+fe.os2],_r=sn.getProperty(C),nl=sn.quickSetter(C,fe.a,no),vk(C,gs,q0),Su=KM(C)),we){la=Ag(we)?vW(we,wW):wW,at=WM("scroller-start",l,ve,fe,la,0),Hr=WM("scroller-end",l,ve,fe,la,0,at),Nc=at["offset"+fe.op.d2];var j1=tl(Ap(ve,"content")||ve);ur=this.markerStart=WM("start",l,j1,fe,la,Nc,0,oe),Ms=this.markerEnd=WM("end",l,j1,fe,la,Nc,0,oe),oe&&(K0=sn.quickSetter([ur,Ms],fe.a,no)),!Ge&&(!_d.length||!0!==Ap(ve,"fixedMarkers"))&&(function(e){var t=Ec(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(Oe?nr:ve),sn.set([at,Hr],{force3D:!0}),bx=sn.quickSetter(at,fe.a,no),X0=sn.quickSetter(Hr,fe.a,no))}if(oe){var ai=oe.vars.onUpdate,An=oe.vars.onUpdateParams;oe.eventCallback("onUpdate",function(){Pe.update(0,0,1),ai&&ai.apply(oe,An||[])})}if(Pe.previous=function(){return yi[yi.indexOf(Pe)-1]},Pe.next=function(){return yi[yi.indexOf(Pe)+1]},Pe.revert=function(Yt,ti){if(!ti)return Pe.kill(!0);var Cn=!1!==Yt||!Pe.enabled,ni=sa;Cn!==Pe.isReverted&&(Cn&&(xu=Math.max(dt(),Pe.scroll.rec||0),ut=Pe.progress,pm=r&&r.progress()),ur&&[ur,Ms,at,Hr].forEach(function(So){return So.style.display=Cn?"none":"block"}),Cn&&(sa=Pe,Pe.update(Cn)),C&&(!se||!Pe.isActive)&&(Cn?function(e,t,i){D0(i);var r=e._gsap;if(r.spacerIsNative)D0(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1}(C,gs,Gl):vk(C,gs,Ec(C),Bs)),Cn||Pe.update(Cn),sa=ni,Pe.isReverted=Cn)},Pe.refresh=function(Yt,ti,Cn,ni){if(!sa&&Pe.enabled||ti){if(C&&Yt&&Mc)return void mo(n,"scrollEnd",TW);!La&&Ot&&Ot(Pe),sa=Pe,Kt.tween&&!Cn&&(Kt.tween.kill(),Kt.tween=0),Oi&&Oi.pause(),I&&r&&r.revert({kill:!1}).invalidate(),Pe.isReverted||Pe.revert(!0,!0),Pe._subPinOffset=!1;var Lo,ua,fm,vx,da,ro,Cd,Jk,mX,G1,wd,V1,Cx,So=gn(),Li=ei(),xs=oe?oe.duration():bd(ve,fe),ca=Fr<=.01,ms=0,Kr=ni||0,Sr=Ag(Cn)?Cn.end:i.end,Eu=i.endTrigger||b,is=Ag(Cn)?Cn.start:i.start||(0!==i.start&&b?C?"0 0":"0 100%":0),Vl=Pe.pinnedContainer=i.pinnedContainer&&tl(i.pinnedContainer,Pe),vd=b&&Math.max(0,yi.indexOf(Pe))||0,Bo=vd;for(we&&Ag(Cn)&&(V1=sn.getProperty(at,fe.p),Cx=sn.getProperty(Hr,fe.p));Bo-- >0;)(ro=yi[Bo]).end||ro.refresh(0,1)||(sa=Pe),(Cd=ro.pin)&&(Cd===b||Cd===C||Cd===Vl)&&!ro.isReverted&&(G1||(G1=[]),G1.unshift(ro),ro.revert(!0,!0)),ro!==yi[Bo]&&(vd--,Bo--);for(aa(is)&&(is=is(Pe)),is=uW(is,"start",Pe),xn=IW(is,b,So,fe,dt(),ur,at,Pe,Li,et,Ge,xs,oe,Pe._startClamp&&"_startClamp")||(C?-.001:0),aa(Sr)&&(Sr=Sr(Pe)),Nl(Sr)&&!Sr.indexOf("+=")&&(~Sr.indexOf(" ")?Sr=(Nl(is)?is.split(" ")[0]:"")+Sr:(ms=$M(Sr.substr(2),So),Sr=Nl(is)?is:(oe?sn.utils.mapRange(0,oe.duration(),oe.scrollTrigger.start,oe.scrollTrigger.end,xn):xn)+ms,Eu=b)),Sr=uW(Sr,"end",Pe),gi=Math.max(xn,IW(Sr||(Eu?"100% 0":xs),Eu,So,fe,dt()+ms,Ms,Hr,Pe,Li,et,Ge,xs,oe,Pe._endClamp&&"_endClamp"))||-.001,ms=0,Bo=vd;Bo--;)(Cd=(ro=yi[Bo]).pin)&&ro.start-ro._pinPush<=xn&&!oe&&ro.end>0&&(Lo=ro.end-(Pe._startClamp?Math.max(0,ro.start):ro.start),(Cd===b&&ro.start-ro._pinPush<xn||Cd===Vl)&&isNaN(is)&&(ms+=Lo*(1-ro.progress)),Cd===C&&(Kr+=Lo));if(xn+=ms,gi+=ms,Pe._startClamp&&(Pe._startClamp+=ms),Pe._endClamp&&!La&&(Pe._endClamp=gi||-.001,gi=Math.min(gi,bd(ve,fe))),Fr=gi-xn||(xn-=.01)&&.001,ca&&(ut=sn.utils.clamp(0,1,sn.utils.normalize(xn,gi,xu))),Pe._pinPush=Kr,ur&&ms&&((Lo={})[fe.a]="+="+ms,Vl&&(Lo[fe.p]="-="+dt()),sn.set([ur,Ms],Lo)),!C||ak&&Pe.end>=bd(ve,fe)){if(b&&dt()&&!oe)for(ua=b.parentNode;ua&&ua!==nr;)ua._pinOffset&&(xn-=ua._pinOffset,gi-=ua._pinOffset),ua=ua.parentNode}else Lo=Ec(C),vx=fe===to,fm=dt(),wo=parseFloat(_r(fe.a))+Kr,!xs&&gi>1&&(wd={style:wd=(Oe?Nr.scrollingElement||kl:ve).style,value:wd["overflow"+fe.a.toUpperCase()]},Oe&&"scroll"!==Ec(nr)["overflow"+fe.a.toUpperCase()]&&(wd.style["overflow"+fe.a.toUpperCase()]="scroll")),vk(C,gs,Lo),Su=KM(C),ua=_h(C,!0),Jk=Ge&&Dp(ve,vx?Na:to)(),M?((Bs=[M+fe.os2,Fr+Kr+no]).t=gs,(Bo=M===Fs?HM(C,fe)+Fr+Kr:0)&&(Bs.push(fe.d,Bo+no),"auto"!==gs.style.flexBasis&&(gs.style.flexBasis=Bo+no)),D0(Bs),Vl&&yi.forEach(function(z1){z1.pin===Vl&&!1!==z1.vars.pinSpacing&&(z1._subPinOffset=!0)}),Ge&&dt(xu)):(Bo=HM(C,fe))&&"auto"!==gs.style.flexBasis&&(gs.style.flexBasis=Bo+no),Ge&&((da={top:ua.top+(vx?fm-xn:Jk)+no,left:ua.left+(vx?Jk:fm-xn)+no,boxSizing:"border-box",position:"fixed"})[Dg]=da.maxWidth=Math.ceil(ua.width)+no,da[Rg]=da.maxHeight=Math.ceil(ua.height)+no,da[xc]=da[xc+v1]=da[xc+y1]=da[xc+C1]=da[xc+b1]="0",da[Fs]=Lo[Fs],da[Fs+v1]=Lo[Fs+v1],da[Fs+y1]=Lo[Fs+y1],da[Fs+C1]=Lo[Fs+C1],da[Fs+b1]=Lo[Fs+b1],kc=function(e,t,i){for(var a,r=[],s=e.length,o=i?8:0;o<s;o+=2)r.push(a=e[o],a in t?t[a]:e[o+1]);return r.t=e.t,r}(Gl,da,se),La&&dt(0)),r?(mX=r._initted,nk(1),r.render(r.duration(),!0,!0),Ch=_r(fe.a)-wo+Fr+Kr,wh=Math.abs(Fr-Ch)>1,Ge&&wh&&kc.splice(kc.length-2,2),r.render(0,!0,!0),mX||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),nk(0)):Ch=Fr,wd&&(wd.value?wd.style["overflow"+fe.a.toUpperCase()]=wd.value:wd.style.removeProperty("overflow-"+fe.a));G1&&G1.forEach(function(z1){return z1.revert(!1,!0)}),Pe.start=xn,Pe.end=gi,ki=$i=La?xu:dt(),!oe&&!La&&(ki<xu&&dt(xu),Pe.scroll.rec=0),Pe.revert(!1,!0),pt=oa(),Mu&&(on=-1,Mu.restart(!0)),sa=0,r&&Re&&(r._initted||pm)&&r.progress()!==pm&&r.progress(pm||0,!0).render(r.time(),!0,!0),(ca||ut!==Pe.progress||oe||I||r&&!r._initted)&&(r&&!Re&&r.totalProgress(oe&&xn<-.001&&!ut?sn.utils.normalize(xn,gi,0):ut,!0),Pe.progress=ca||(ki-xn)/Fr===ut?0:ut),C&&M&&(gs._pinOffset=Math.round(Pe.progress*Ch)),Oi&&Oi.invalidate(),isNaN(V1)||(V1-=sn.getProperty(at,fe.p),Cx-=sn.getProperty(Hr,fe.p),QM(at,fe,V1),QM(ur,fe,V1-(ni||0)),QM(Hr,fe,Cx),QM(Ms,fe,Cx-(ni||0))),ca&&!La&&Pe.update(),u&&!La&&!jl&&(jl=!0,u(Pe),jl=!1)}},Pe.getVelocity=function(){return(dt()-$i)/(oa()-p1)*1e3||0},Pe.endAnimation=function(){_1(Pe.callbackAnimation),r&&(Oi?Oi.progress(1):r.paused()?Re||_1(r,Pe.direction<0,1):_1(r,r.reversed()))},Pe.labelToScroll=function(Yt){return r&&r.labels&&(xn||Pe.refresh()||xn)+r.labels[Yt]/r.duration()*Fr||0},Pe.getTrailing=function(Yt){var ti=yi.indexOf(Pe),Cn=Pe.direction>0?yi.slice(0,ti).reverse():yi.slice(ti+1);return(Nl(Yt)?Cn.filter(function(ni){return ni.vars.preventOverlaps===Yt}):Cn).filter(function(ni){return Pe.direction>0?ni.end<=xn:ni.start>=gi})},Pe.update=function(Yt,ti,Cn){if(!oe||Cn||Yt){var ca,Kr,Sr,Eu,is,Vl,vd,ni=!0===La?xu:Pe.scroll(),So=Yt?0:(ni-xn)/Fr,Li=So<0?0:So>1?1:So||0,xs=Pe.progress;if(ti&&($i=ki,ki=oe?dt():ni,Y&&(dm=zp,zp=r&&!Re?r.totalProgress():Li)),k&&C&&!sa&&!LM&&Mc&&(!Li&&xn<ni+(ni-$i)/(oa()-p1)*k?Li=1e-4:1===Li&&gi>ni+(ni-$i)/(oa()-p1)*k&&(Li=.9999)),Li!==xs&&Pe.enabled){if(Eu=(is=(ca=Pe.isActive=!!Li&&Li<1)!=(!!xs&&xs<1))||!!Li!=!!xs,Pe.direction=Li>xs?1:-1,Pe.progress=Li,Eu&&!sa&&(Kr=Li&&!xs?0:1===Li?1:1===xs?2:3,Re&&(Sr=!is&&"none"!==ye[Kr+1]&&ye[Kr+1]||ye[Kr],vd=r&&("complete"===Sr||"reset"===Sr||Sr in r))),ae&&(is||vd)&&(vd||d||!r)&&(aa(ae)?ae(Pe):Pe.getTrailing(ae).forEach(function(fm){return fm.endAnimation()})),Re||(!Oi||sa||LM?r&&r.totalProgress(Li,!(!sa||!pt&&!Yt)):(Oi._dp._time-Oi._start!==Oi._time&&Oi.render(Oi._dp._time-Oi._start),Oi.resetTo?Oi.resetTo("totalProgress",Li,r._tTime/r._tDur):(Oi.vars.totalProgress=Li,Oi.invalidate().restart()))),C)if(Yt&&M&&(gs.style[M+fe.os2]=H1),Ge){if(Eu){if(Vl=!Yt&&Li>xs&&gi+1>ni&&ni+1>=bd(ve,fe),se)if(Yt||!ca&&!Vl)AW(C,gs);else{var Bo=_h(C,!0),Lo=ni-xn;AW(C,nr,Bo.top+(fe===to?Lo:0)+no,Bo.left+(fe===to?0:Lo)+no)}D0(ca||Vl?kc:Su),wh&&Li<1&&ca||nl(wo+(1!==Li||Vl?0:Ch))}}else nl(g1(wo+Ch*Li));Y&&!Kt.tween&&!sa&&!LM&&Mu.restart(!0),a&&(is||H&&Li&&(Li<1||!lk))&&d1(a.targets).forEach(function(fm){return fm.classList[ca||H?"add":"remove"](a.className)}),o&&!Re&&!Yt&&o(Pe),Eu&&!sa?(Re&&(vd&&("complete"===Sr?r.pause().totalProgress(1):"reset"===Sr?r.restart(!0).pause():"restart"===Sr?r.restart(!0):r[Sr]()),o&&o(Pe)),(is||!lk)&&(c&&is&&uk(Pe,c),Ee[Kr]&&uk(Pe,Ee[Kr]),H&&(1===Li?Pe.kill(!1,1):Ee[Kr]=0),is||Ee[Kr=1===Li?1:3]&&uk(Pe,Ee[Kr])),de&&!ca&&Math.abs(Pe.getVelocity())>(m1(de)?de:2500)&&(_1(Pe.callbackAnimation),Oi?Oi.progress(1):_1(r,"reverse"===Sr?1:!Li,1))):Re&&o&&!sa&&o(Pe)}if(X0){var ua=oe?ni/oe.duration()*(oe._caScrollDist||0):ni;bx(ua+(at._isFlipped?1:0)),X0(ua)}K0&&K0(-ni/oe.duration()*(oe._caScrollDist||0))}},Pe.enable=function(Yt,ti){Pe.enabled||(Pe.enabled=!0,mo(ve,"resize",S1),Oe||mo(ve,"scroll",A0),Ot&&mo(n,"refreshInit",Ot),!1!==Yt&&(Pe.progress=ut=0,ki=$i=on=dt()),!1!==ti&&Pe.refresh())},Pe.getTween=function(Yt){return Yt&&Kt?Kt.tween:Oi},Pe.setPositions=function(Yt,ti,Cn,ni){if(oe){var So=oe.scrollTrigger,Li=oe.duration(),xs=So.end-So.start;Yt=So.start+xs*Yt/Li,ti=So.start+xs*ti/Li}Pe.refresh(!1,!1,{start:dW(Yt,Cn&&!!Pe._startClamp),end:dW(ti,Cn&&!!Pe._endClamp)},ni),Pe.update()},Pe.adjustPinSpacing=function(Yt){if(Bs&&Yt){var ti=Bs.indexOf(fe.d)+1;Bs[ti]=parseFloat(Bs[ti])+Yt+no,Bs[1]=parseFloat(Bs[1])+Yt+no,D0(Bs)}},Pe.disable=function(Yt,ti){if(Pe.enabled&&(!1!==Yt&&Pe.revert(!0,!0),Pe.enabled=Pe.isActive=!1,ti||Oi&&Oi.pause(),xu=0,Tn&&(Tn.uncache=1),Ot&&_o(n,"refreshInit",Ot),Mu&&(Mu.pause(),Kt.tween&&Kt.tween.kill()&&(Kt.tween=0)),!Oe)){for(var Cn=yi.length;Cn--;)if(yi[Cn].scroller===ve&&yi[Cn]!==Pe)return;_o(ve,"resize",S1),Oe||_o(ve,"scroll",A0)}},Pe.kill=function(Yt,ti){Pe.disable(Yt,ti),Oi&&!ti&&Oi.kill(),l&&delete gk[l];var Cn=yi.indexOf(Pe);Cn>=0&&yi.splice(Cn,1),Cn===Fa&&XM>0&&Fa--,Cn=0,yi.forEach(function(ni){return ni.scroller===Pe.scroller&&(Cn=1)}),Cn||La||(Pe.scroll.rec=0),r&&(r.scrollTrigger=null,Yt&&r.revert({kill:!1}),ti||r.kill()),ur&&[ur,Ms,at,Hr].forEach(function(ni){return ni.parentNode&&ni.parentNode.removeChild(ni)}),T1===Pe&&(T1=0),C&&(Tn&&(Tn.uncache=1),Cn=0,yi.forEach(function(ni){return ni.pin===C&&Cn++}),Cn||(Tn.spacer=0)),i.onKill&&i.onKill(Pe)},yi.push(Pe),Pe.enable(!1,!1),Sh&&Sh(Pe),r&&r.add&&!Fr){var Zi=Pe.update;Pe.update=function(){Pe.update=Zi,vi.cache++,xn||gi||Pe.refresh()},sn.delayedCall(.01,Pe.update),Fr=.01,xn=gi=0}else Pe.refresh();C&&function(){if(EW!==Fg){var e=EW=Fg;requestAnimationFrame(function(){return e===Fg&&Bg(!0)})}}()}else this.update=this.refresh=this.kill=yd;var e},n.register=function(i){return x0||(sn=i||gW(),fW()&&window.document&&n.enable(),x0=f1),x0},n.defaults=function(i){if(i)for(var r in i)VM[r]=i[r];return VM},n.disable=function(i,r){f1=0,yi.forEach(function(o){return o[r?"kill":"disable"](i)}),_o(Ci,"wheel",A0),_o(Nr,"scroll",A0),clearInterval(NM),_o(Nr,"touchcancel",yd),_o(nr,"touchstart",yd),jM(_o,Nr,"pointerdown,touchstart,mousedown",hW),jM(_o,Nr,"pointerup,touchend,mouseup",pW),kM.kill(),UM(_o);for(var s=0;s<vi.length;s+=3)GM(_o,vi[s],vi[s+1]),GM(_o,vi[s],vi[s+2])},n.enable=function(){if(Ci=window,Nr=document,kl=Nr.documentElement,nr=Nr.body,sn&&(d1=sn.utils.toArray,h1=sn.utils.clamp,rk=sn.core.context||yd,nk=sn.core.suppressOverwrites||yd,sk=Ci.history.scrollRestoration||"auto",yk=Ci.pageYOffset||0,sn.core.globals("ScrollTrigger",n),nr)){f1=1,(O0=document.createElement("div")).style.height="100vh",O0.style.position="absolute",OW(),$xe(),Ts.register(sn),n.isTouch=Ts.isTouch,Rp=Ts.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ik=1===Ts.isTouch,mo(Ci,"wheel",A0),ek=[Ci,Nr,kl,nr],sn.matchMedia?(n.matchMedia=function(c){var d,u=sn.matchMedia();for(d in c)u.add(d,c[d]);return u},sn.addEventListener("matchMediaInit",function(){return _k()}),sn.addEventListener("matchMediaRevert",function(){return MW()}),sn.addEventListener("matchMedia",function(){Bg(0,1),Ng("matchMedia")}),sn.matchMedia().add("(orientation: portrait)",function(){return mk(),mk})):console.warn("Requires GSAP 3.11.0 or later"),mk(),mo(Nr,"scroll",A0);var a,l,i=nr.hasAttribute("style"),r=nr.style,s=r.borderTopStyle,o=sn.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",a=_h(nr),to.m=Math.round(a.top+to.sc())||0,Na.m=Math.round(a.left+Na.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),i||(nr.setAttribute("style",""),nr.removeAttribute("style")),NM=setInterval(SW,250),sn.delayedCall(.5,function(){return LM=0}),mo(Nr,"touchcancel",yd),mo(nr,"touchstart",yd),jM(mo,Nr,"pointerdown,touchstart,mousedown",hW),jM(mo,Nr,"pointerup,touchend,mouseup",pW),tk=sn.utils.checkPrefix("transform"),qM.push(tk),x0=oa(),kM=sn.delayedCall(.2,Bg).pause(),E0=[Nr,"visibilitychange",function(){var c=Ci.innerWidth,u=Ci.innerHeight;Nr.hidden?(rW=c,sW=u):(rW!==c||sW!==u)&&S1()},Nr,"DOMContentLoaded",Bg,Ci,"load",Bg,Ci,"resize",S1],UM(mo),yi.forEach(function(c){return c.enable(0,1)}),l=0;l<vi.length;l+=3)GM(_o,vi[l],vi[l+1]),GM(_o,vi[l],vi[l+2])}},n.config=function(i){"limitCallbacks"in i&&(lk=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(NM)||(NM=r)&&setInterval(SW,r),"ignoreMobileResize"in i&&(ik=1===n.isTouch&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(UM(_o)||UM(mo,i.autoRefreshEvents||"none"),aW=-1===(i.autoRefreshEvents+"").indexOf("resize"))},n.scrollerProxy=function(i,r){var s=tl(i),o=vi.indexOf(s),a=Ig(s);~o&&vi.splice(o,a?6:2),r&&(a?_d.unshift(Ci,r,nr,r,kl,r):_d.unshift(s,r))},n.clearMatchMedia=function(i){yi.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},n.isInViewport=function(i,r,s){var o=(Nl(i)?tl(i):i).getBoundingClientRect(),a=o[s?Dg:Rg]*r||0;return s?o.right-a>0&&o.left+a<Ci.innerWidth:o.bottom-a>0&&o.top+a<Ci.innerHeight},n.positionInViewport=function(i,r,s){Nl(i)&&(i=tl(i));var o=i.getBoundingClientRect(),a=o[s?Dg:Rg],l=null==r?a/2:r in zM?zM[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+l)/Ci.innerWidth:(o.top+l)/Ci.innerHeight},n.killAll=function(i){if(yi.slice(0).forEach(function(s){return"ScrollSmoother"!==s.vars.id&&s.kill()}),!0!==i){var r=kg.killAll||[];kg={},r.forEach(function(s){return s()})}},n}();wi.version="3.12.7",wi.saveStyles=function(n){return n?d1(n).forEach(function(e){if(e&&e.style){var t=Fl.indexOf(e);t>=0&&Fl.splice(t,5),Fl.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),sn.core.getCache(e),rk())}}):Fl},wi.revert=function(n,e){return _k(!n,e)},wi.create=function(n,e){return new wi(n,e)},wi.refresh=function(n){return n?S1(!0):(x0||wi.register())&&Bg(!0)},wi.update=function(n){return++vi.cache&&yh(!0===n?2:0)},wi.clearScrollMemory=xW,wi.maxScroll=function(n,e){return bd(n,e?Na:to)},wi.getScrollFunc=function(n,e){return Dp(tl(n),e?Na:to)},wi.getById=function(n){return gk[n]},wi.getAll=function(){return yi.filter(function(n){return"ScrollSmoother"!==n.vars.id})},wi.isScrolling=function(){return!!Mc},wi.snapDirectional=fk,wi.addEventListener=function(n,e){var t=kg[n]||(kg[n]=[]);~t.indexOf(e)||t.push(e)},wi.removeEventListener=function(n,e){var t=kg[n],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)},wi.batch=function(n,e){var a,t=[],i={},r=e.interval||.016,s=e.batchMax||1e9,o=function(c,u){var d=[],b=[],C=sn.delayedCall(r,function(){u(d,b),d=[],b=[]}).pause();return function(M){d.length||C.restart(!0),d.push(M.trigger),b.push(M),s<=d.length&&C.progress(1)}};for(a in e)i[a]="on"===a.substr(0,2)&&aa(e[a])&&"onRefreshInit"!==a?o(0,e[a]):e[a];return aa(s)&&(s=s(),mo(wi,"refresh",function(){return s=e.batchMax()})),d1(n).forEach(function(l){var c={};for(a in i)c[a]=i[a];c.trigger=l,t.push(wi.create(c))}),t};var FW,kW=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},Ck=function n(e,t){!0===t?e.style.removeProperty("touch-action"):e.style.touchAction=!0===t?"auto":t?"pan-"+t+(Ts.isTouch?" pinch-zoom":""):"none",e===kl&&n(nr,t)},ZM={auto:1,scroll:1},iEe=function(e){var l,t=e.event,i=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||sn.core.getCache(s),a=oa();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==nr&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!ZM[(l=Ec(s)).overflowY]&&!ZM[l.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==i&&!Ig(s)&&(ZM[(l=Ec(s)).overflowY]||ZM[l.overflowX]),o._isScrollT=a}(o._isScroll||"x"===r)&&(t.stopPropagation(),t._gsapAllow=!0)},NW=function(e,t,i,r){return Ts.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&iEe,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&mo(Nr,Ts.eventTypes[0],BW,!1,!0)},onDisable:function(){return _o(Nr,Ts.eventTypes[0],BW,!0)}})},rEe=/(input|label|select|textarea)/i,BW=function(e){var t=rEe.test(e.target.tagName);(t||FW)&&(e._gsapAllow=!0,FW=t)};wi.sort=function(n){if(aa(n))return yi.sort(n);var e=Ci.pageYOffset||0;return wi.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Ci.innerHeight}),yi.sort(n||function(t,i){return-1e6*(t.vars.refreshPriority||0)+(t.vars.containerAnimation?1e6:t._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+-1e6*(i.vars.refreshPriority||0))})},wi.observe=function(n){return new Ts(n)},wi.normalizeScroll=function(n){if(void 0===n)return Ba;if(!0===n&&Ba)return Ba.enable();if(!1===n)return Ba&&Ba.kill(),void(Ba=n);var e=n instanceof Ts?n:function(e){Ag(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var a,l,H,Y,ve,_e,Oe,Ge,i=e.normalizeScrollX,r=e.momentum,s=e.allowNestedScroll,o=e.onRelease,c=tl(e.target)||kl,u=sn.core.globals().ScrollSmoother,d=u&&u.get(),b=Rp&&(e.content&&tl(e.content)||d&&!1!==e.content&&!d.smooth()&&d.content()),C=Dp(c,to),M=Dp(c,Na),I=1,k=(Ts.isTouch&&Ci.visualViewport?Ci.visualViewport.scale*Ci.visualViewport.width:Ci.outerWidth)/Ci.innerWidth,B=0,L=aa(r)?function(){return r(a)}:function(){return r||2.8},se=NW(c,e.type,!0,s),ue=function(){return Y=!1},oe=yd,de=yd,ae=function(){l=bd(c,to),de=h1(Rp?1:0,l),i&&(oe=h1(0,bd(c,Na))),H=Fg},fe=function(){b._gsap.y=g1(parseFloat(b._gsap.y)+C.offset)+"px",b.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(b._gsap.y)+", 0, 1)",C.offset=C.cacheID=0},Ee=function(){ae(),ve.isActive()&&ve.vars.scrollY>l&&(C()>l?ve.progress(1)&&C(l):ve.resetTo("scrollY",l))};return b&&sn.set(b,{y:"+=0"}),e.ignoreCheck=function(ye){return Rp&&"touchmove"===ye.type&&function(){if(Y){requestAnimationFrame(ue);var we=g1(a.deltaY/2),et=de(C.v-we);if(b&&et!==C.v+C.offset){C.offset=et-C.v;var Pe=g1((parseFloat(b&&b._gsap.y)||0)-C.offset);b.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Pe+", 0, 1)",b._gsap.y=Pe+"px",C.cacheID=vi.cache,yh()}return!0}C.offset&&fe(),Y=!0}()||I>1.05&&"touchstart"!==ye.type||a.isGesturing||ye.touches&&ye.touches.length>1},e.onPress=function(){Y=!1;var ye=I;I=g1((Ci.visualViewport&&Ci.visualViewport.scale||1)/k),ve.pause(),ye!==I&&Ck(c,I>1.01||!i&&"x"),_e=M(),Oe=C(),ae(),H=Fg},e.onRelease=e.onGestureStart=function(ye,we){if(C.offset&&fe(),we){vi.cache++;var Pe,Ot,et=L();i&&(Pe=M(),et*=kW(M,Pe,Ot=Pe+.05*et*-ye.velocityX/.227,bd(c,Na)),ve.vars.scrollX=oe(Ot)),Pe=C(),et*=kW(C,Pe,Ot=Pe+.05*et*-ye.velocityY/.227,bd(c,to)),ve.vars.scrollY=de(Ot),ve.invalidate().duration(et).play(.01),(Rp&&ve.vars.scrollY>=l||Pe>=l-1)&&sn.to({},{onUpdate:Ee,duration:et})}else Ge.restart(!0);o&&o(ye)},e.onWheel=function(){ve._ts&&ve.pause(),oa()-B>1e3&&(H=0,B=oa())},e.onChange=function(ye,we,et,Pe,Ot){if(Fg!==H&&ae(),we&&i&&M(oe(Pe[2]===we?_e+(ye.startX-ye.x):M()+we-Pe[1])),et){C.offset&&fe();var gn=Ot[2]===et,ei=gn?Oe+ye.startY-ye.y:C()+et-Ot[1],on=de(ei);gn&&ei!==on&&(Oe+=on-ei),C(on)}(et||we)&&yh()},e.onEnable=function(){Ck(c,!i&&"x"),wi.addEventListener("refresh",Ee),mo(Ci,"resize",Ee),C.smooth&&(C.target.style.scrollBehavior="auto",C.smooth=M.smooth=!1),se.enable()},e.onDisable=function(){Ck(c,!0),_o(Ci,"resize",Ee),wi.removeEventListener("refresh",Ee),se.kill()},e.lockAxis=!1!==e.lockAxis,(a=new Ts(e)).iOS=Rp,Rp&&!C()&&C(1),Rp&&sn.ticker.add(yd),Ge=a._dc,ve=sn.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:DW(C,C(),function(){return ve.pause()})},onUpdate:yh,onComplete:Ge.vars.onComplete}),a}(n);return Ba&&Ba.target===e.target&&Ba.kill(),Ig(e.target)&&(Ba=e),e},wi.core={_getVelocityProp:ZR,_inputObserver:NW,_scrollers:vi,_proxies:_d,bridge:{ss:function(){Mc||Ng("scrollStart"),Mc=oa()},ref:function(){return sa}}},gW()&&sn.registerPlugin(wi);const yo="challenges.challengeDetailsMessages.",R0=`${Qi.RACE}.`,k0=`${Qi.MISSION}.`,N0=`${Qi.TOURNAMENT}.`,LW={[Qi.RACE]:{waitForStart:yo+R0+"You have successfully joined the xRace. Wait for the start.",missionPaused:yo+R0+"Oops! The xRace is paused. It will be resumed shortly",prizeClaimed:yo+R0+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:yo+R0+"xRace is over! See you at the next challenge",missionOverFail:yo+R0+"xRace is over! Try harder next time!",minBetError:yo+R0+"Your bet is below the {{amount}} {{currency}} minimum for the xRace! Progress is paused."},[Qi.MISSION]:{waitForStart:yo+k0+"You have successfully joined the xMission. Wait for the start.",missionPaused:yo+k0+"Oops! The xMission is paused. It will be resumed shortly",prizeClaimed:yo+k0+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:yo+k0+"xMission is over! See you at the next challenge",missionOverFail:yo+k0+"xMission is over! Try harder next time!",minBetError:yo+k0+"Your bet is below the {{amount}} {{currency}} minimum for the xMission! Progress is paused."},[Qi.TOURNAMENT]:{waitForStart:yo+N0+"You have successfully joined the xTournament. Wait for the start.",missionPaused:yo+N0+"Oops! The xTournament is paused. It will be resumed shortly",prizeClaimed:yo+N0+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:yo+N0+"xTournament is over! See you at the next challenge",missionOverFail:yo+N0+"xTournament is over! Try harder next time!",minBetError:yo+N0+"Your bet is below the {{amount}} {{currency}} minimum for the xTournament! Progress is paused."}};let M1=(()=>{class n{constructor(t,i){this.challenge=t,this.status=i,this.stakes=new Map([]),this.challengeStatus=kr.Announced,this.playerStatus=cr.None,this.updateSubject=new $n(!1),this.update$=this.updateSubject.asObservable().pipe(zh()),this.status.update$.subscribe(r=>{this.challengeStatus=r.challenge,this.playerStatus=r.player,this.update()})}updateStake(t,i=1){this.stakes.set(i,t),this.update()}update(){const t=Array.from(this.stakes.values()).every(i=>i<this.challenge.config.minBet)&&this.challengeStatus===kr.Active&&this.playerStatus===cr.Joined;this.updateSubject.next(t)}}return n.\u0275fac=function(t){return new(t||n)(We(fo),We(ug))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();var Lg=(()=>(function(n){n.Upcoming="Upcoming",n.Waiting="Waiting",n.Live="Live",n.Paused="Paused",n.Finished="Finished",n.Done="Done",n.MinBet="Min. bet"}(Lg||(Lg={})),Lg))();let wk=(()=>{class n{constructor(){this.ChallengeStatusUI=Lg}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-status-badge"]],inputs:{status:"status"},decls:2,vars:4,template:function(t,i){1&t&&(D(0,"div"),U(1),R()),2&t&&(Ry("badge ",i.status===i.ChallengeStatusUI.MinBet?"error":i.status,""),S(1),ie(" ",i.status,"\n"))},styles:['.badge[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:32px;padding:4px 12px 4px 32px;gap:10px;border-radius:64px;background:rgba(255,255,255,.05);color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;text-transform:uppercase}.badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:4px;width:24px;height:24px;content:""}.badge.Upcoming[_ngcontent-%COMP%]:before{background:url(icon-calendar.12bccc41819bd1c4.svg) no-repeat center center/contain}.badge.Waiting[_ngcontent-%COMP%]:before{background:url(icon-clock.86b9aad31b70a448.svg) no-repeat center center/contain}.badge.Live[_ngcontent-%COMP%]:before{background:url(icon-live.fba3a212e8b0085a.svg) no-repeat center center/contain}.badge.Paused[_ngcontent-%COMP%]:before{background:url(icon-pause.12f2008275ca41b7.svg) no-repeat center center/contain}.badge.Done[_ngcontent-%COMP%]:before{background:url(icon-check.d5a3b64009441dd8.svg) no-repeat center center/contain}.badge.Finished[_ngcontent-%COMP%]:before{background:url(icon-finish.0ee21c90fcf67e59.svg) no-repeat center center/contain}.badge.error[_ngcontent-%COMP%]:before{background:url(icon-error.6f5e522566577a2b.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function oEe(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee(2).ChallengeStatusUI.Upcoming)}function aEe(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee(2).ChallengeStatusUI.Live)}function lEe(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee(2).ChallengeStatusUI.Live)}function cEe(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee(2).ChallengeStatusUI.Waiting)}function uEe(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee(2).ChallengeStatusUI.Paused)}function dEe(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee(2).ChallengeStatusUI.Paused)}function hEe(n,e){if(1&n&&ce(0,"app-challenge-status-badge",4),2&n){const t=ee(2);F("status",t.challengeStatus===t.ChallengeStatus.Paused?t.ChallengeStatusUI.Paused:t.ChallengeStatusUI.Done)}}function pEe(n,e){if(1&n&&ce(0,"app-challenge-status-badge",4),2&n){const t=ee(2);F("status",t.challengeStatus===t.ChallengeStatus.Paused?t.ChallengeStatusUI.Paused:t.ChallengeStatusUI.Finished)}}function fEe(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee(2).ChallengeStatusUI.Finished)}function gEe(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee(2).ChallengeStatusUI.Finished)}function mEe(n,e){if(1&n&&(ft(0),te(1,oEe,1,1,"app-challenge-status-badge",2),te(2,aEe,1,1,"app-challenge-status-badge",2),te(3,lEe,1,1,"app-challenge-status-badge",2),te(4,cEe,1,1,"app-challenge-status-badge",2),te(5,uEe,1,1,"app-challenge-status-badge",2),te(6,dEe,1,1,"app-challenge-status-badge",2),te(7,hEe,1,1,"app-challenge-status-badge",2),te(8,pEe,1,1,"app-challenge-status-badge",2),te(9,fEe,1,1,"app-challenge-status-badge",2),te(10,gEe,1,1,"app-challenge-status-badge",2),gt()),2&n){const t=ee();S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Announced&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Active&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Active&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Announced&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Paused&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Paused&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.playerStatus===t.PlayerStatus.Won),S(1),F("ngIf",t.playerStatus===t.PlayerStatus.Rewarded),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Finished&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Finished&&t.playerStatus===t.PlayerStatus.None)}}function _Ee(n,e){1&n&&ce(0,"app-challenge-status-badge",4),2&n&&F("status",ee().ChallengeStatusUI.MinBet)}let UW=(()=>{class n{constructor(){this.ChallengeStatusUI=Lg,this.ChallengeStatus=kr,this.PlayerStatus=cr}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-header-main"]],inputs:{challengeStatus:"challengeStatus",playerStatus:"playerStatus",userCount:"userCount",isMinBetError:"isMinBetError"},decls:6,vars:6,consts:[[1,"challenge-header-main"],[4,"ngIf"],[3,"status",4,"ngIf"],[1,"user-count-badge"],[3,"status"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,mEe,11,10,"ng-container",1),te(2,_Ee,1,1,"app-challenge-status-badge",2),D(3,"div",3),U(4),G(5,"number"),R()()),2&t&&(S(1),F("ngIf",!i.isMinBetError),S(1),F("ngIf",i.isMinBetError),S(2),nt(Gt(5,3,i.userCount,"1.0-0")))},directives:[At,wk],pipes:[ec],styles:['[_nghost-%COMP%]{width:100%;height:100%}.challenge-header-main[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px;padding:8px}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:32px;max-width:112px;padding:4px 12px 4px 4px;background-color:#ffffff0d;border-radius:64px;color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;letter-spacing:-.3px;text-transform:uppercase}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]:before{content:"";margin-right:4px;width:24px;height:24px;background:url(icon-user.47ea8246ab247e97.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),HW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-header-scrolled"]],inputs:{title:"title"},decls:2,vars:1,template:function(t,i){1&t&&(D(0,"span"),U(1),R()),2&t&&(S(1),nt(i.title))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#1a1a1a;padding:8px 0}"],changeDetection:0}),n})();function Sk(n=0,e=R_){return n<0&&(n=0),Jc(n,n,e)}function yEe(n,e){if(1&n&&(D(0,"div",1)(1,"span",2),U(2),G(3,"number"),R(),U(4,":"),D(5,"span",2),U(6),G(7,"number"),R(),U(8,":"),D(9,"span",2),U(10),G(11,"number"),R()()),2&n){const t=e.ngIf;S(2),nt(Gt(3,3,t.hours,"2.0")),S(4),nt(Gt(7,6,t.minutes,"2.0")),S(4),nt(Gt(11,9,t.seconds,"2.0"))}}let Ug=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=Sk(1e3).pipe(Ef(0),ke(()=>this.calcDateDiff()),kt(this))}calcDateDiff(){const e=new Fi(this.targetDate-Date.now());return e.toNumber()<=0?{seconds:0,minutes:0,hours:0}:{hours:e.div(this.milSecInSec).div(this.minInH).div(this.secInMin).mod(this.hInDay).floor().toNumber(),minutes:e.div(this.milSecInSec).div(this.minInH).mod(this.secInMin).floor().toNumber(),seconds:e.div(this.milSecInSec).mod(this.secInMin).floor().toNumber()}}};function bEe(n,e){if(1&n&&(function kN(){Gn.lFrame.currentNamespace="svg"}(),D(0,"svg",11),ce(1,"circle",12)(2,"circle",13),R()),2&n){const t=ee();Ii("width",t.progressCircleDimension)("height",t.progressCircleDimension)("viewBox","0 0 "+t.progressCircleDimension+" "+t.progressCircleDimension),S(1),Ii("r",t.progressCircleRadius)("cx",t.progressCircleDimension/2)("cy",t.progressCircleDimension/2),S(1),Ii("r",t.progressCircleRadius)("cx",t.progressCircleDimension/2)("cy",t.progressCircleDimension/2)("stroke-dasharray",6.28*t.progressCircleRadius+"px")("stroke-dashoffset",6.28*t.progressCircleRadius*(100-t.progress)/100+"px")}}function vEe(n,e){if(1&n&&(D(0,"span",14),U(1),G(2,"transloco"),G(3,"date"),G(4,"date"),R()),2&n){const t=ee();S(1),e_(" ",q(2,3,"challenges.Start:")," ",Gt(3,5,t.startDate,"d MMM y")," \u2022 ",Gt(4,8,t.startDate,"HH:mm")," ")}}function CEe(n,e){if(1&n&&(D(0,"span",14),U(1),G(2,"transloco"),G(3,"date"),G(4,"date"),R()),2&n){const t=ee();S(1),e_(" ",q(2,3,"challenges.End:")," ",Gt(3,5,t.endDate,"d MMM y")," \u2022 ",Gt(4,8,t.endDate,"HH:mm")," ")}}function wEe(n,e){1&n&&ce(0,"app-challenge-countdown",15),2&n&&F("targetDate",ee().targetDate)}Ug.\u0275fac=function(e){return new(e||Ug)},Ug.\u0275cmp=rt({type:Ug,selectors:[["app-challenge-countdown"]],inputs:{targetDate:"targetDate"},decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"value-part"]],template:function(e,t){1&e&&(te(0,yEe,12,12,"div",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.timeLeft$))},directives:[At],pipes:[Ki,ec],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#7a7a7acc;font-size:24px;font-weight:600;line-height:28px;letter-spacing:-.6px}.container[_ngcontent-%COMP%]   .value-part[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:48px;width:48px;color:#e0e0e0cc;padding:4px;border-radius:8px;background-color:#1f1f1f;margin:0 4px;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),Ug=Ve([_i()],Ug);let jW=(()=>{class n{constructor(){this.challengeTypeUI=Qi,this.progressCircleDimension=80,this.progressCircleRadius=36,this.bgImageNames=[],this.typeImageNames=[]}ngOnChanges(){const t=this.type.toLowerCase();this.bgImageNames=[`${t}-details-${this.backgroundImage}-bg.png`,`${t}-details-${this.backgroundImage}-bg@2x.png`,`${t}-details-${this.backgroundImage}-bg@3x.png`],this.typeImageNames=[`${t}-icon.png`,`${t}-icon@2x.png`,`${t}-icon@3x.png`]}get targetDate(){return this.isChallengeStarted?this.endDate:this.startDate}get shouldDisplayCountdown(){const t=Date.now();return!this.isChallengePaused&&!this.isChallengeFinished&&t<this.targetDate&&this.targetDate-t<864e5}getFullImgPathBg(t){return"assets/images/engagement-tools/"+t}getSrcSetBg(t,i,r){return`${this.getFullImgPathBg(t)}, ${this.getFullImgPathBg(i)} 2x, ${this.getFullImgPathBg(r)} 3x`}getFullImgPathType(t){return"assets/challenges/images/"+t}getSrcSetType(t,i,r){return`${this.getFullImgPathType(t)}, ${this.getFullImgPathType(i)} 2x, ${this.getFullImgPathType(r)} 3x`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-info-main"]],inputs:{name:"name",type:"type",startDate:"startDate",endDate:"endDate",progress:"progress",isProgressEnabled:"isProgressEnabled",isError:"isError",isChallengeStarted:"isChallengeStarted",isChallengePaused:"isChallengePaused",isChallengeFinished:"isChallengeFinished",backgroundImage:"backgroundImage"},features:[Eo],decls:14,vars:18,consts:[[1,"challenge-info-main"],[1,"image-wrapper"],["draggable","false","alt","mission-details-bg",1,"bg-image",3,"srcset","src"],[1,"content"],[1,"challenge-progress"],["class","progress-circle",4,"ngIf"],["draggable","false","alt","challenge-type",3,"srcset","src"],[1,"type"],[1,"name"],["class","schedule",4,"ngIf"],[3,"targetDate",4,"ngIf"],[1,"progress-circle"],["fill","transparent","stroke","var(--progress-bar-bg)","stroke-width","var(--progress-stroke-width)"],["fill","transparent","stroke","var(--progress-color)","stroke-linecap","round","stroke-width","var(--progress-stroke-width)"],[1,"schedule"],[3,"targetDate"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),ce(2,"img",2),R(),D(3,"div",3)(4,"div",4),te(5,bEe,3,11,"svg",5),ce(6,"img",6),R(),D(7,"span",7),U(8),R(),D(9,"span",8),U(10),R(),te(11,vEe,5,11,"span",9),te(12,CEe,5,11,"span",9),te(13,wEe,1,1,"app-challenge-countdown",10),R()()),2&t&&(hl("--progress",i.progress),S(2),F("srcset",i.getSrcSetBg(i.bgImageNames[0],i.bgImageNames[1],i.bgImageNames[2]),an)("src",i.getFullImgPathBg(i.bgImageNames[0]),an),S(2),Et("live",i.isProgressEnabled)("success",i.isProgressEnabled&&100===i.progress)("error",i.isError),S(1),F("ngIf",i.type!==i.challengeTypeUI.TOURNAMENT),S(1),F("srcset",i.getSrcSetType(i.typeImageNames[0],i.typeImageNames[1],i.typeImageNames[2]),an)("src",i.getFullImgPathType(i.typeImageNames[0]),an),S(2),nt(i.type),S(2),nt(i.name),S(1),F("ngIf",!i.isChallengeStarted&&!i.isChallengeFinished),S(1),F("ngIf",i.isChallengeStarted||i.isChallengeFinished),S(1),F("ngIf",i.shouldDisplayCountdown))},directives:[At,Ug],pipes:[$t,za],styles:['.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:absolute;top:-4px;left:0;width:100%;height:248px;overflow:hidden}.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(180deg,rgba(26,26,26,0) 50.25%,#1b1c1d 100%)}.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;transform:translate(-50%);width:auto;height:100%;z-index:0}@media (min-width: 768px){.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{height:295px;top:-24px}}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:64px 32px 16px;z-index:1}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]{--progress-stroke-width: 4px;--progress-bar-bg: rgba(255, 255, 255, .05);--progress-color: rgba(255, 255, 255, .1);position:relative;display:flex;justify-content:center;align-items:center;width:72px;height:72px;border-radius:50%;margin-bottom:12px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transform-origin:center;transform:rotate(-90deg)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.live[_ngcontent-%COMP%]{--progress-color: #ffde5c}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.success[_ngcontent-%COMP%]{--progress-color: #79e279}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.error[_ngcontent-%COMP%]{--progress-color: #f35656}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;padding:8px;background-color:#ffffff1a;border-radius:50%}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#e0e0e0;text-align:center;font-size:12px;font-weight:400;line-height:16px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{color:#a3a3a3;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   app-challenge-countdown[_ngcontent-%COMP%]{margin-top:16px}'],changeDetection:0}),n})(),GW=(()=>{class n{constructor(){this.isError=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-message"]],inputs:{message:"message",isError:"isError"},decls:2,vars:3,consts:[[1,"challenge-message"]],template:function(t,i){1&t&&(D(0,"div",0),U(1),R()),2&t&&(Et("error",i.isError),S(1),ie(" ",i.message,"\n"))},styles:["[_nghost-%COMP%]{z-index:1}.challenge-message[_ngcontent-%COMP%]{width:250px;color:#a3a3a3;background-color:#1f1f1f;padding:8px 16px;border-radius:2px 12px 12px;font-size:12px;font-weight:400;line-height:16px;text-align:center}.challenge-message.error[_ngcontent-%COMP%]{color:#f35656;text-align:left}"],changeDetection:0}),n})();const SEe=["leaderboardContainer"];function TEe(n,e){if(1&n&&(D(0,"span",6),U(1),R()),2&n){const t=ee();S(1),ie(" (Top-",t.topValue,") ")}}function MEe(n,e){1&n&&(D(0,"div",11),ce(1,"app-loader"),R())}function xEe(n,e){1&n&&(D(0,"div",12)(1,"div",13),U(2),G(3,"transloco"),D(4,"p"),U(5),G(6,"transloco"),R()()()),2&n&&(S(2),ie(" ",q(3,2,"challenges.No players yet :(")," "),S(3),ie(" ",q(6,4,"challenges.You can be one of the first!")," "))}const EEe=function(n,e,t,i){return{singleListItem:n,afterActiveUser:e,beforeActiveUser:t,outsideList:i}};function OEe(n,e){if(1&n&&ce(0,"app-leaderboard-item",23),2&n){const t=e.$implicit,i=e.index,r=ee(2).ngIf,s=ee();F("isCurrentUserItem",s.leaderboard.myPosition===i+1)("challengeStatus",r.challenge)("leaderboardIndex",i)("leaderboardItem",t)("ngClass",EO(5,EEe,1===s.leaderboard.items.length,i===s.leaderboard.myPosition,s.leaderboard.myPosition>1&&i+2===s.leaderboard.myPosition,i>=s.maxListLength))}}function PEe(n,e){if(1&n&&(D(0,"div",24),ce(1,"app-leaderboard-item",25),R()),2&n){const t=ee(2).ngIf,i=ee();S(1),F("leaderboardItem",i.leaderboard.myItem)("leaderboardIndex",i.leaderboard.myPosition-1)("challengeStatus",t.challenge)("isCurrentUserItem",!0)}}const IEe=function(n){return{visible:n}};function AEe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",14,15),te(3,OEe,1,10,"app-leaderboard-item",16),R(),D(4,"div",17),ce(5,"div",18),D(6,"div",19)(7,"button",20),Ae("click",function(){return ht(t),ee(2).scrollToTop()}),U(8),G(9,"transloco"),R()(),te(10,PEe,2,4,"div",21),D(11,"div",22),U(12),G(13,"transloco"),G(14,"async"),R()(),gt()}if(2&n){const t=ee().ngIf,i=ee();S(3),F("ngForOf",i.leaderboard.items),S(3),F("ngClass",zn(12,IEe,i.isScrollToTopVisible)),S(2),ie(" ",q(9,6,"challenges.action.Back to top")," "),S(2),F("ngIf",t.player!==i.playerStatus.None),S(2),Xn(" ",q(13,8,"challenges.Total Players")," - ",q(14,10,i.challenge.updateState$).joinCount," ")}}function DEe(n,e){if(1&n&&(D(0,"div",7),te(1,MEe,2,0,"div",8),G(2,"async"),te(3,xEe,7,6,"div",9),G(4,"async"),te(5,AEe,15,14,"ng-container",10),G(6,"async"),R()),2&n){const t=ee();S(1),F("ngIf",!1===q(2,3,t.leaderboard.loaded$)),S(2),F("ngIf",q(4,5,t.leaderboard.loaded$)&&!t.leaderboard.items.length),S(2),F("ngIf",q(6,7,t.leaderboard.loaded$)&&!!t.leaderboard.items.length)}}let Hg=class{constructor(e,t,i,r,s,o){this.activeModal=e,this.cd=t,this.challenge=i,this.status=r,this.leaderboard=s,this.stomp=o,this.maxListLength=this.challenge.config.leaderBoardSize,this.topValue=100,this.isScrollToTopVisible=!1,this.playerStatus=cr,this.LEADERBOARD_ITEM_HEIGHT=40}ngOnInit(){this.challenge.updateState$.pipe(cn(e=>!e.isChallengeAvailable),kt(this)).subscribe(()=>this.close()),this.stomp.request(hs.MetricsLeaderboardModalOpen,{challengeId:this.challenge.config.challengeId})}ngAfterViewInit(){this.onLeaderboardLoaded()}close(){this.activeModal.close()}scrollToTop(){this.leaderboardContainer&&this.leaderboardContainer.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaderboard.items.length||Hi(this.leaderboardContainer.nativeElement,"scroll").pipe(qa(200),cn(e=>this.isScrollToTopVisible!==e.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT),kt(this)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};Hg.\u0275fac=function(e){return new(e||Hg)(W(Dr),W(Fn),W(fo),W(ug),W(jv),W(Rs))},Hg.\u0275cmp=rt({type:Hg,selectors:[["app-leaderboard"]],viewQuery:function(e,t){if(1&e&&Lr(SEe,5),2&e){let i;Kn(i=Jn())&&(t.leaderboardContainer=i.first)}},decls:10,vars:7,consts:[[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body",4,"ngIf"],[1,"top-description"],[1,"modal-body"],["class","loader",4,"ngIf"],["class","no-players",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"no-players"],[1,"no-players-text"],[1,"leaderboard-container"],["leaderboardContainer",""],["class","leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderboardIndex","leaderboardItem","ngClass",4,"ngFor","ngForOf"],[1,"after-list-container"],[1,"blur-block"],[1,"scroll-to-top",3,"ngClass"],[1,"btn",3,"click"],["class","active-user-container",4,"ngIf"],[1,"total-prizes","modal-footer"],[1,"leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderboardIndex","leaderboardItem","ngClass"],[1,"active-user-container"],[1,"active-user-item",3,"leaderboardItem","leaderboardIndex","challengeStatus","isCurrentUserItem"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"div",1)(2,"span"),U(3),G(4,"transloco"),R(),te(5,TEe,2,1,"span",2),D(6,"button",3),Ae("click",function(){return t.close()}),ce(7,"span",4),R()(),te(8,DEe,7,9,"div",5),G(9,"async"),R()),2&e&&(S(3),nt(q(4,3,"challenges.Leaderboard")),S(2),F("ngIf",t.challenge.update.joinCount>=t.topValue),S(3),F("ngIf",q(9,5,t.status.update$)))},directives:[At,gu,di,sR,cs],pipes:[$t,Ki],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]{width:100%;margin:auto 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]{position:relative;width:100%;max-height:764px;overflow-y:auto;flex-grow:1}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.outsideList[_ngcontent-%COMP%]{display:none}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child   .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:not(.afterActiveUser), .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;margin-top:8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.beforeActiveUser[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:0 0 8px 8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.singleListItem[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child.beforeActiveUser, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]{position:relative}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]{position:absolute;visibility:hidden;top:-46px;left:0;display:flex;justify-content:center;width:100%;z-index:100;transition:opacity .3s}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{pointer-events:none;position:absolute;display:flex;top:-72px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{padding-top:16px;border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .total-prizes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:40px;background:inherit;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),Hg=Ve([_i()],Hg);var vu=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets"}(vu||(vu={})),vu))();const REe={[xi.PlayRounds]:vu.PlayRounds,[xi.CatchMultipliers]:vu.CatchX,[xi.WinRounds]:vu.WinRounds,[xi.PlayRoundsMaxReachedMultiplier]:vu.PlayRounds,[xi.WinMoneyInTotal]:vu.WinMoney,[xi.BetInTotal]:vu.MakeBets,[xi.CollectCashOutsMultiplierSum]:vu.CollectCashouts,[xi.CatchHighestMultiplier]:vu.CatchX};var Oc=(()=>(function(n){n.OnlyNumbers="onlyNumbers",n.Currency="currency",n.Multiplier="multiplier"}(Oc||(Oc={})),Oc))();const kEe={[xi.PlayRounds]:Oc.OnlyNumbers,[xi.CatchMultipliers]:Oc.OnlyNumbers,[xi.WinRounds]:Oc.OnlyNumbers,[xi.PlayRoundsMaxReachedMultiplier]:Oc.OnlyNumbers,[xi.WinMoneyInTotal]:Oc.Currency,[xi.BetInTotal]:Oc.Currency,[xi.CollectCashOutsMultiplierSum]:Oc.Multiplier,[xi.CatchHighestMultiplier]:Oc.OnlyNumbers};function NEe(n,e){if(1&n&&(ft(0),D(1,"span",7),U(2),G(3,"number"),R(),U(4),G(5,"number"),gt()),2&n){const t=ee();S(2),nt(Gt(3,2,t.task.progress,"1.0-0")),S(2),ie(" of ",Gt(5,5,t.task.goal,"1.0-0")," ")}}function FEe(n,e){if(1&n&&(ft(0),D(1,"span",7),U(2),G(3,"currencyPrecision"),R(),U(4),G(5,"currencyPrecision"),gt()),2&n){const t=ee();S(2),nt(q(3,3,t.task.progress)),S(2),Xn(" of ",q(5,5,t.task.goal)," ",t.currency," ")}}function BEe(n,e){if(1&n&&(ft(0),D(1,"span",7),U(2),R(),U(3),gt()),2&n){const t=ee();S(2),nt(t.task.progress),S(1),ie("x of ",t.task.goal,"x ")}}let LEe=(()=>{class n{constructor(){this.group=Oc}get currentGroupName(){return kEe[this.task.type]}get currentProgress(){return new Fi(this.task.progress).div(this.task.goal).toNumber()}get percentageCurrentProgress(){return`${new Fi(this.currentProgress).times(100).toDecimalPlaces(2,Fi.ROUND_FLOOR).toFixed(2)}%`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-task-progress"]],inputs:{task:"task",currency:"currency",isEnabled:"isEnabled",isError:"isError"},decls:10,vars:13,consts:[[1,"progress-box","w-100"],[1,"progress-bg","w-100"],[1,"progress-bar"],[1,"progress-footer"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"progress-percent"],[1,"progress-value"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),ce(2,"div",2),R(),D(3,"div",3)(4,"div",4),te(5,NEe,6,8,"ng-container",5),te(6,FEe,6,7,"ng-container",5),te(7,BEe,4,2,"ng-container",5),R(),D(8,"span",6),U(9),R()()()),2&t&&(Et("live",i.isEnabled)("success",i.isEnabled&&1===i.currentProgress)("error",i.isError),S(2),hl("width",100*i.currentProgress+"%"),S(2),F("ngSwitch",i.currentGroupName),S(1),F("ngSwitchCase",i.group.OnlyNumbers),S(1),F("ngSwitchCase",i.group.Currency),S(1),F("ngSwitchCase",i.group.Multiplier),S(2),nt(i.percentageCurrentProgress))},directives:[Va,Zl],pipes:[ec,Zn],styles:[".progress-box[_ngcontent-%COMP%]{position:relative}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]{height:4px;width:100%;background-color:#ffffff0d;border-radius:2px;overflow:hidden;margin-bottom:4px}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#ffffff1a}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#7a7a7a;font-size:10px;font-weight:500;line-height:normal;letter-spacing:-.25px}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#525252}.progress-box.live[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.progress-box.live[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#ffde5c}.progress-box.success[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.progress-box.success[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#79e279}.progress-box.error[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}.progress-box.error[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#f35656}"],changeDetection:0}),n})();function UEe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),ie(". ",Gt(2,1,"challenges.tasks.Min. bet",t.nameParams),"")}}let HEe=(()=>{class n{constructor(t,i,r){this.currencyPrecisionPipe=t,this.multiplierPrecisionPipe=i,this.challenge=r}get iconGroupName(){return REe[this.task.type]}get nameParams(){return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(this.task.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(this.task.targetMinMultiplier),goal:iR.has(this.task.type)?this.currencyPrecisionPipe.transform(this.task.goal):this.task.goal}}}return n.\u0275fac=function(t){return new(t||n)(W(Zn),W(qo),W(fo))},n.\u0275cmp=rt({type:n,selectors:[["app-task"]],inputs:{task:"task",currency:"currency",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:9,vars:10,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[4,"ngIf"],[3,"task","currency","isEnabled","isError"]],template:function(t,i){1&t&&(D(0,"div",0),ce(1,"div",1),D(2,"div",2)(3,"div",3)(4,"span"),U(5),G(6,"transloco"),R(),te(7,UEe,3,4,"span",4),R(),ce(8,"app-task-progress",5),R()()),2&t&&(S(1),F("ngClass",i.iconGroupName),S(4),nt(Gt(6,7,"challenges.tasks."+i.task.type,i.nameParams)),S(2),F("ngIf",!!i.nameParams.minBet),S(1),F("task",i.task)("currency",i.currency)("isEnabled",i.isProgressEnabled)("isError",i.isError))},directives:[cs,At,LEe],pipes:[$t],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:16px}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),n})();function jEe(n,e){if(1&n){const t=_t();D(0,"button",7),Ae("click",function(){return ht(t),ee().showLeaderboard()}),D(1,"span",8),U(2),G(3,"transloco"),R()()}2&n&&(S(2),nt(q(3,1,"challenges.Leaderboard")))}function GEe(n,e){if(1&n&&(D(0,"li",9),ce(1,"app-task",10),R()),2&n){const t=e.$implicit,i=e.index,r=ee();S(1),Ry("task-item-",i,""),F("task",t)("currency",r.currency)("isProgressEnabled",r.challengeStatus===r.ChallengeStatus.Active||r.challengeStatus===r.ChallengeStatus.Finished&&t.progress/t.goal==1)("isError",r.isError)}}let VEe=(()=>{class n{constructor(t){this.modalService=t,this.tasks=[],this.PlayerStatus=cr,this.ChallengeStatus=kr,this.ChallengeTypeUI=Qi}showLeaderboard(){this.modalService.open(Hg)}}return n.\u0275fac=function(t){return new(t||n)(W(vp))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-tasks"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",challengeStatus:"challengeStatus",isError:"isError",challengeType:"challengeType"},decls:9,vars:5,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button","class","btn-link link-how-it-works d-flex align-items-center",3,"click",4,"ngIf"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"click"],[1,"button-text"],[1,"task"],[3,"task","currency","isProgressEnabled","isError"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"span",2),U(3),G(4,"transloco"),R(),te(5,jEe,4,3,"button",3),R(),D(6,"div",4)(7,"ul",5),te(8,GEe,2,7,"li",6),R()()()),2&t&&(S(3),nt(q(4,3,"challenges.Tasks")),S(2),F("ngIf",i.challengeType===i.ChallengeTypeUI.RACE),S(3),F("ngForOf",i.tasks))},directives:[At,di,HEe],pipes:[$t],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})();var Cu=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets",n.CatchHighestX="catch-highest-x"}(Cu||(Cu={})),Cu))();const zEe={[xi.PlayRounds]:Cu.PlayRounds,[xi.CatchMultipliers]:Cu.CatchX,[xi.WinRounds]:Cu.WinRounds,[xi.PlayRoundsMaxReachedMultiplier]:Cu.PlayRounds,[xi.WinMoneyInTotal]:Cu.WinMoney,[xi.BetInTotal]:Cu.MakeBets,[xi.CollectCashOutsMultiplierSum]:Cu.CollectCashouts,[xi.CatchHighestMultiplier]:Cu.CatchHighestX};var Ua=(()=>(function(n){n.Money="money",n.Multiplier="multiplier",n.Default="default"}(Ua||(Ua={})),Ua))();const VW={[xi.WinMoneyInTotal]:Ua.Money,[xi.BetInTotal]:Ua.Money,[xi.CatchMultipliers]:Ua.Multiplier,[xi.CollectCashOutsMultiplierSum]:Ua.Multiplier,[xi.CatchHighestMultiplier]:Ua.Multiplier,[xi.WinRounds]:Ua.Default,[xi.PlayRounds]:Ua.Default,[xi.PlayRoundsMaxReachedMultiplier]:Ua.Default};function $Ee(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee().$implicit,i=ee(2);S(1),ie(" ",Gt(2,1,"challenges.challengeRules.xRace.tasks.The bet should be at least minBet currency.",i.nameParams(t))," ")}}function WEe(n,e){if(1&n&&(ft(0),D(1,"div",14),U(2),G(3,"transloco"),R(),D(4,"div",15),U(5),G(6,"transloco"),te(7,$Ee,3,4,"span",16),R(),gt()),2&n){const t=e.$implicit,i=ee(2);S(2),ie(" ",Gt(3,3,"challenges.tasks."+t.type,i.nameParams(t))," "),S(3),ie(" ",Gt(6,6,"challenges.challengeRules.xRace.tasks."+t.type,i.nameParams(t))," "),S(2),F("ngIf",!!i.nameParams(t).minBet)}}function YEe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",2)(2,"span"),U(3),G(4,"transloco"),R(),D(5,"button",3),Ae("click",function(){return ht(t),ee().close()}),ce(6,"span",4),R()(),D(7,"div",5)(8,"div",6),U(9),G(10,"transloco"),R(),D(11,"section",7)(12,"div",8),U(13),G(14,"transloco"),R(),D(15,"ul",9)(16,"li"),U(17),G(18,"transloco"),R(),D(19,"li"),U(20),G(21,"transloco"),R(),D(22,"li"),U(23),G(24,"transloco"),R(),D(25,"li"),U(26),G(27,"transloco"),R(),D(28,"li"),U(29),G(30,"transloco"),R(),D(31,"li"),U(32),G(33,"transloco"),R(),D(34,"li"),U(35),G(36,"transloco"),R(),D(37,"li"),U(38),G(39,"transloco"),R(),D(40,"li"),U(41),G(42,"transloco"),R(),D(43,"li"),U(44),G(45,"transloco"),R(),D(46,"li"),U(47),G(48,"transloco"),R()()(),D(49,"section",10)(50,"div",8),U(51),G(52,"transloco"),R(),D(53,"div"),U(54),G(55,"transloco"),R(),te(56,WEe,8,9,"ng-container",11),G(57,"async"),D(58,"div",12),U(59),G(60,"transloco"),R()(),D(61,"section",13)(62,"div",8),U(63),G(64,"transloco"),R(),D(65,"ul",9)(66,"li"),U(67),G(68,"transloco"),R(),D(69,"li"),U(70),G(71,"transloco"),R(),D(72,"li"),U(73),G(74,"transloco"),R(),D(75,"li"),U(76),G(77,"transloco"),R(),D(78,"li"),U(79),G(80,"transloco"),R(),D(81,"li"),U(82),G(83,"transloco"),R(),D(84,"li"),U(85),G(86,"transloco"),R(),D(87,"li"),U(88),G(89,"transloco"),R()()()(),gt()}if(2&n){const t=ee();let i;S(3),nt(q(4,27,"challenges.challengeRules.xRace.title")),S(6),ie(" ",q(10,29,"challenges.challengeRules.xRace.stepInto")," "),S(4),ie(" ",q(14,31,"challenges.challengeRules.xRace.rules.title")," "),S(4),ie(" ",q(18,33,"challenges.challengeRules.xRace.rules.point1")," "),S(3),ie(" ",q(21,35,"challenges.challengeRules.xRace.rules.point2")," "),S(3),ie(" ",q(24,37,"challenges.challengeRules.xRace.rules.point3")," "),S(3),ie(" ",q(27,39,"challenges.challengeRules.xRace.rules.point4")," "),S(3),ie(" ",q(30,41,"challenges.challengeRules.xRace.rules.point5")," "),S(3),ie(" ",q(33,43,"challenges.challengeRules.xRace.rules.point6")," "),S(3),ie(" ",q(36,45,"challenges.challengeRules.xRace.rules.point8")," "),S(3),ie(" ",q(39,47,"challenges.challengeRules.xRace.rules.point9")," "),S(3),ie(" ",q(42,49,"challenges.challengeRules.xRace.rules.point10")," "),S(3),ie(" ",q(45,51,"challenges.challengeRules.xRace.rules.point7")," "),S(3),ie(" ",q(48,53,"challenges.challengeRules.xRace.rules.point11")," "),S(4),ie(" ",q(52,55,"challenges.challengeRules.xRace.tasks.title")," "),S(3),ie(" ",q(55,57,"challenges.challengeRules.xRace.tasks.beforeYouBegin")," "),S(2),F("ngForOf",null==(i=q(57,59,t.task.update$))?null:i.tasks),S(3),ie(" ",q(60,61,"challenges.challengeRules.xRace.pleaseNote")," "),S(4),ie(" ",q(64,63,"challenges.challengeRules.xRace.prizes.title")," "),S(4),ie(" ",q(68,65,"challenges.challengeRules.xRace.prizes.point1")," "),S(3),ie(" ",q(71,67,"challenges.challengeRules.xRace.prizes.point2")," "),S(3),ie(" ",q(74,69,"challenges.challengeRules.xRace.prizes.point2-1")," "),S(3),ie(" ",q(77,71,"challenges.challengeRules.xRace.prizes.point3")," "),S(3),ie(" ",q(80,73,"challenges.challengeRules.xRace.prizes.point4")," "),S(3),ie(" ",q(83,75,"challenges.challengeRules.xRace.prizes.point4-1")," "),S(3),ie(" ",q(86,77,"challenges.challengeRules.xRace.prizes.point5")," "),S(3),ie(" ",q(89,79,"challenges.challengeRules.xRace.prizes.point6")," ")}}function XEe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee().$implicit,i=ee(2);S(1),ie(" ",Gt(2,1,"challenges.challengeRules.xMission.tasks.The bet should be at least minBet currency.",i.nameParams(t))," ")}}function qEe(n,e){if(1&n&&(ft(0),D(1,"div",14),U(2),G(3,"transloco"),R(),D(4,"div",15),U(5),G(6,"transloco"),te(7,XEe,3,4,"span",16),R(),gt()),2&n){const t=e.$implicit,i=ee(2);S(2),ie(" ",Gt(3,3,"challenges.tasks."+t.type,i.nameParams(t))," "),S(3),ie(" ",Gt(6,6,"challenges.challengeRules.xMission.tasks."+t.type,i.nameParams(t))," "),S(2),F("ngIf",!!i.nameParams(t).minBet)}}function KEe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",2)(2,"span"),U(3),G(4,"transloco"),R(),D(5,"button",3),Ae("click",function(){return ht(t),ee().close()}),ce(6,"span",4),R()(),D(7,"div",5)(8,"div",6),U(9),G(10,"transloco"),R(),D(11,"section",7)(12,"div",8),U(13),G(14,"transloco"),R(),D(15,"ul",9)(16,"li"),U(17),G(18,"transloco"),R(),D(19,"li"),U(20),G(21,"transloco"),R(),D(22,"li"),U(23),G(24,"transloco"),R(),D(25,"li"),U(26),G(27,"transloco"),R(),D(28,"li"),U(29),G(30,"transloco"),R(),D(31,"li"),U(32),G(33,"transloco"),R(),D(34,"li"),U(35),G(36,"transloco"),R(),D(37,"li"),U(38),G(39,"transloco"),R(),D(40,"li"),U(41),G(42,"transloco"),R(),D(43,"li"),U(44),G(45,"transloco"),R(),D(46,"li"),U(47),G(48,"transloco"),R()()(),D(49,"section",10)(50,"div",8),U(51),G(52,"transloco"),R(),D(53,"div"),U(54),G(55,"transloco"),R(),te(56,qEe,8,9,"ng-container",11),G(57,"async"),D(58,"div",12),U(59),G(60,"transloco"),R()(),D(61,"section",13)(62,"div",8),U(63),G(64,"transloco"),R(),D(65,"ul",9)(66,"li"),U(67),G(68,"transloco"),R(),D(69,"li"),U(70),G(71,"transloco"),R(),D(72,"li"),U(73),G(74,"transloco"),R(),D(75,"li"),U(76),G(77,"transloco"),R(),D(78,"li"),U(79),G(80,"transloco"),R(),D(81,"li"),U(82),G(83,"transloco"),R()()()(),gt()}if(2&n){const t=ee();let i;S(3),nt(q(4,25,"challenges.challengeRules.xMission.title")),S(6),ie(" ",q(10,27,"challenges.challengeRules.xMission.stepInto")," "),S(4),ie(" ",q(14,29,"challenges.challengeRules.xMission.rules.title")," "),S(4),ie(" ",q(18,31,"challenges.challengeRules.xMission.rules.point1")," "),S(3),ie(" ",q(21,33,"challenges.challengeRules.xMission.rules.point2")," "),S(3),ie(" ",q(24,35,"challenges.challengeRules.xMission.rules.point3")," "),S(3),ie(" ",q(27,37,"challenges.challengeRules.xMission.rules.point4")," "),S(3),ie(" ",q(30,39,"challenges.challengeRules.xMission.rules.point5")," "),S(3),ie(" ",q(33,41,"challenges.challengeRules.xMission.rules.point6")," "),S(3),ie(" ",q(36,43,"challenges.challengeRules.xMission.rules.point8")," "),S(3),ie(" ",q(39,45,"challenges.challengeRules.xMission.rules.point9")," "),S(3),ie(" ",q(42,47,"challenges.challengeRules.xMission.rules.point10")," "),S(3),ie(" ",q(45,49,"challenges.challengeRules.xMission.rules.point7")," "),S(3),ie(" ",q(48,51,"challenges.challengeRules.xMission.rules.point11")," "),S(4),ie(" ",q(52,53,"challenges.challengeRules.xMission.tasks.title")," "),S(3),ie(" ",q(55,55,"challenges.challengeRules.xMission.tasks.beforeYouBegin")," "),S(2),F("ngForOf",null==(i=q(57,57,t.task.update$))?null:i.tasks),S(3),ie(" ",q(60,59,"challenges.challengeRules.xMission.pleaseNote")," "),S(4),ie(" ",q(64,61,"challenges.challengeRules.xMission.prizes.title")," "),S(4),ie(" ",q(68,63,"challenges.challengeRules.xMission.prizes.point1")," "),S(3),ie(" ",q(71,65,"challenges.challengeRules.xMission.prizes.point2")," "),S(3),ie(" ",q(74,67,"challenges.challengeRules.xMission.prizes.point2-1")," "),S(3),ie(" ",q(77,69,"challenges.challengeRules.xMission.prizes.point3")," "),S(3),ie(" ",q(80,71,"challenges.challengeRules.xMission.prizes.point3-1")," "),S(3),ie(" ",q(83,73,"challenges.challengeRules.xMission.prizes.point4")," ")}}function JEe(n,e){if(1&n&&(ft(0),D(1,"div",14),U(2),G(3,"transloco"),R(),D(4,"div",15),U(5),G(6,"transloco"),R(),gt()),2&n){const t=e.$implicit,i=ee(2);S(2),ie(" ",Gt(3,2,"challenges.tasks.xTournament."+t.type+".name",i.nameParams(t))," "),S(3),ie(" ",Gt(6,5,"challenges.challengeRules.xTournament.tasks."+t.type,i.nameParams(t))," ")}}function QEe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",2)(2,"span"),U(3),G(4,"transloco"),R(),D(5,"button",3),Ae("click",function(){return ht(t),ee().close()}),ce(6,"span",4),R()(),D(7,"div",5)(8,"div",6),U(9),G(10,"transloco"),R(),D(11,"section",7)(12,"div",8),U(13),G(14,"transloco"),R(),D(15,"ul",9)(16,"li"),U(17),G(18,"transloco"),R(),D(19,"li"),U(20),G(21,"transloco"),R(),D(22,"li"),U(23),G(24,"transloco"),R(),D(25,"li"),U(26),G(27,"transloco"),R(),D(28,"li"),U(29),G(30,"transloco"),R(),D(31,"li"),U(32),G(33,"transloco"),R(),D(34,"li"),U(35),G(36,"transloco"),R(),D(37,"li"),U(38),G(39,"transloco"),R()()(),D(40,"section",10)(41,"div",8),U(42),G(43,"transloco"),R(),D(44,"div"),U(45),G(46,"transloco"),R(),te(47,JEe,7,8,"ng-container",11),G(48,"async"),D(49,"div",12),U(50),G(51,"transloco"),R()(),D(52,"section",13)(53,"div",8),U(54),G(55,"transloco"),R(),D(56,"ul",9)(57,"li"),U(58),G(59,"transloco"),R(),D(60,"li"),U(61),G(62,"transloco"),R(),D(63,"li"),U(64),G(65,"transloco"),R(),D(66,"li"),U(67),G(68,"transloco"),R(),D(69,"li"),U(70),G(71,"transloco"),R(),D(72,"li"),U(73),G(74,"transloco"),R()()()(),gt()}if(2&n){const t=ee();let i;S(3),nt(q(4,22,"challenges.challengeRules.xTournament.title")),S(6),ie(" ",q(10,24,"challenges.challengeRules.xTournament.stepInto")," "),S(4),ie(" ",q(14,26,"challenges.challengeRules.xTournament.rules.title")," "),S(4),ie(" ",q(18,28,"challenges.challengeRules.xTournament.rules.point1")," "),S(3),ie(" ",q(21,30,"challenges.challengeRules.xTournament.rules.point2")," "),S(3),ie(" ",q(24,32,"challenges.challengeRules.xTournament.rules.point3")," "),S(3),ie(" ",q(27,34,"challenges.challengeRules.xTournament.rules.point4")," "),S(3),ie(" ",q(30,36,"challenges.challengeRules.xTournament.rules.point5")," "),S(3),ie(" ",q(33,38,"challenges.challengeRules.xTournament.rules.point6")," "),S(3),ie(" ",q(36,40,"challenges.challengeRules.xTournament.rules.point7")," "),S(3),ie(" ",q(39,42,"challenges.challengeRules.xTournament.rules.point8")," "),S(4),ie(" ",q(43,44,"challenges.challengeRules.xTournament.tasks.title")," "),S(3),ie(" ",q(46,46,"challenges.challengeRules.xTournament.tasks.beforeYouBegin")," "),S(2),F("ngForOf",null==(i=q(48,48,t.task.update$))?null:i.tasks),S(3),ie(" ",q(51,50,"challenges.challengeRules.xTournament.pleaseNote")," "),S(4),ie(" ",q(55,52,"challenges.challengeRules.xTournament.prizes.title")," "),S(4),ie(" ",q(59,54,"challenges.challengeRules.xTournament.prizes.point1")," "),S(3),ie(" ",q(62,56,"challenges.challengeRules.xTournament.prizes.point2")," "),S(3),ie(" ",q(65,58,"challenges.challengeRules.xTournament.prizes.point2-1")," "),S(3),ie(" ",q(68,60,"challenges.challengeRules.xTournament.prizes.point3")," "),S(3),ie(" ",q(71,62,"challenges.challengeRules.xTournament.prizes.point3-1")," "),S(3),ie(" ",q(74,64,"challenges.challengeRules.xTournament.prizes.point4")," ")}}let kp=class{constructor(e,t,i,r,s){this.activeModal=e,this.task=t,this.currencyPrecisionPipe=i,this.multiplierPrecisionPipe=r,this.challenge=s,this.ChallengeTypeUI=Qi}ngOnInit(){this.challenge.updateState$.pipe(cn(e=>!e.isChallengeAvailable),kt(this)).subscribe(()=>this.close())}nameParams(e){var t,i;return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(e.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(e.targetMinMultiplier),goal:iR.has(e.type)?this.currencyPrecisionPipe.transform(e.goal):e.goal,pointsConversionFactor:this.formattedPointsConversionFactor(e.type,null!==(t=e.pointsConversionFactor)&&void 0!==t?t:1),targetTimes:null!==(i=e.targetTimes)&&void 0!==i?i:null}}close(){this.activeModal.close()}get challengeConfig(){return this.challenge.config}formattedPointsConversionFactor(e,t){switch(VW[e]){case Ua.Money:return this.currencyPrecisionPipe.transform(t);case Ua.Multiplier:return this.multiplierPrecisionPipe.transform(t);default:return t}}};function ZEe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",2)(2,"span"),U(3),G(4,"transloco"),R(),D(5,"button",3),Ae("click",function(){return ht(t),ee().close()}),ce(6,"span",4),R()(),D(7,"div",5)(8,"div",6),U(9),G(10,"transloco"),R(),D(11,"div",7),U(12),G(13,"transloco"),R(),D(14,"ol",8),ce(15,"img",9),D(16,"li"),U(17),G(18,"transloco"),R(),D(19,"div",10),U(20),G(21,"transloco"),R(),ce(22,"img",11),D(23,"li"),U(24),G(25,"transloco"),R(),D(26,"div",10),U(27),G(28,"transloco"),R(),ce(29,"img",12),D(30,"li"),U(31),G(32,"transloco"),R(),D(33,"div",10),U(34),G(35,"transloco"),R(),ce(36,"img",13),D(37,"li"),U(38),G(39,"transloco"),R(),D(40,"div",10),U(41),G(42,"transloco"),R()(),D(43,"div",14),U(44),G(45,"transloco"),R(),D(46,"div",15),Ae("click",function(){return ht(t),ee().showMissionRules()}),U(47),G(48,"transloco"),R()(),gt()}if(2&n){const t=ee();S(3),nt(q(4,21,"challenges.howToPlay.xRace.title")),S(6),ie(" ",q(10,23,"challenges.howToPlay.xRace.Welcome")," "),S(3),ie(" ",q(13,25,"challenges.howToPlay.xRace.Here\u2019s how it works:")," "),S(3),F("srcset",t.getSrcSet("join.png","join@2x.png","join@3x.png"),an)("src",t.getFullImgPath("join.png"),an),S(2),ie(" ",q(18,27,"challenges.howToPlay.xRace.joinTheChallenge.title")," "),S(3),ie(" ",q(21,29,"challenges.howToPlay.xRace.joinTheChallenge.text")," "),S(2),F("srcset",t.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),an)("src",t.getFullImgPath("progress.png"),an),S(2),ie(" ",q(25,31,"challenges.howToPlay.xRace.taskProgress.title")," "),S(3),ie(" ",q(28,33,"challenges.howToPlay.xRace.taskProgress.text")," "),S(2),F("srcset",t.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),an)("src",t.getFullImgPath("big-prize.png"),an),S(2),ie(" ",q(32,35,"challenges.howToPlay.xRace.fightForYourPrize.title")," "),S(3),ie(" ",q(35,37,"challenges.howToPlay.xRace.fightForYourPrize.text")," "),S(2),F("srcset",t.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),an)("src",t.getFullImgPath("mission-completion.png"),an),S(2),ie(" ",q(39,39,"challenges.howToPlay.xRace.challengeCompletion.title")," "),S(3),ie(" ",q(42,41,"challenges.howToPlay.xRace.challengeCompletion.text")," "),S(3),ie(" ",q(45,43,"challenges.howToPlay.xRace.Join the xRace, play your best, and aim to be one of the winners. Good luck on your xRace!")," "),S(3),ie(" ",q(48,45,"challenges.howToPlay.xRace.Detailed rules")," ")}}function eOe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",2)(2,"span"),U(3),G(4,"transloco"),R(),D(5,"button",3),Ae("click",function(){return ht(t),ee().close()}),ce(6,"span",4),R()(),D(7,"div",5)(8,"div",6),U(9),G(10,"transloco"),R(),D(11,"div",7),U(12),G(13,"transloco"),R(),D(14,"ol",8),ce(15,"img",9),D(16,"li"),U(17),G(18,"transloco"),R(),D(19,"div",10),U(20),G(21,"transloco"),R(),ce(22,"img",11),D(23,"li"),U(24),G(25,"transloco"),R(),D(26,"div",10),U(27),G(28,"transloco"),R(),ce(29,"img",12),D(30,"li"),U(31),G(32,"transloco"),R(),D(33,"div",10),U(34),G(35,"transloco"),R(),ce(36,"img",13),D(37,"li"),U(38),G(39,"transloco"),R(),D(40,"div",10),U(41),G(42,"transloco"),R()(),D(43,"div",14),U(44),G(45,"transloco"),R(),D(46,"div",15),Ae("click",function(){return ht(t),ee().showMissionRules()}),U(47),G(48,"transloco"),R()(),gt()}if(2&n){const t=ee();S(3),nt(q(4,21,"challenges.howToPlay.xMission.title")),S(6),ie(" ",q(10,23,"challenges.howToPlay.xMission.Welcome")," "),S(3),ie(" ",q(13,25,"challenges.howToPlay.xMission.Here\u2019s how it works:")," "),S(3),F("srcset",t.getSrcSet("join.png","join@2x.png","join@3x.png"),an)("src",t.getFullImgPath("join.png"),an),S(2),ie(" ",q(18,27,"challenges.howToPlay.xMission.joinTheChallenge.title")," "),S(3),ie(" ",q(21,29,"challenges.howToPlay.xMission.joinTheChallenge.text")," "),S(2),F("srcset",t.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),an)("src",t.getFullImgPath("progress.png"),an),S(2),ie(" ",q(25,31,"challenges.howToPlay.xMission.taskProgress.title")," "),S(3),ie(" ",q(28,33,"challenges.howToPlay.xMission.taskProgress.text")," "),S(2),F("srcset",t.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),an)("src",t.getFullImgPath("big-prize.png"),an),S(2),ie(" ",q(32,35,"challenges.howToPlay.xMission.fightForYourPrize.title")," "),S(3),ie(" ",q(35,37,"challenges.howToPlay.xMission.fightForYourPrize.text")," "),S(2),F("srcset",t.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),an)("src",t.getFullImgPath("mission-completion.png"),an),S(2),ie(" ",q(39,39,"challenges.howToPlay.xMission.challengeCompletion.title")," "),S(3),ie(" ",q(42,41,"challenges.howToPlay.xMission.challengeCompletion.text")," "),S(3),ie(" ",q(45,43,"challenges.howToPlay.xMission.Join the xMission, play your best, and aim to be one of the winners. Good luck on your xMission!")," "),S(3),ie(" ",q(48,45,"challenges.howToPlay.xMission.Detailed rules")," ")}}function tOe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",2)(2,"span"),U(3),G(4,"transloco"),R(),D(5,"button",3),Ae("click",function(){return ht(t),ee().close()}),ce(6,"span",4),R()(),D(7,"div",5)(8,"div",6),U(9),G(10,"transloco"),R(),D(11,"div",7),U(12),G(13,"transloco"),R(),D(14,"ol",8),ce(15,"img",9),D(16,"li"),U(17),G(18,"transloco"),R(),D(19,"div",10),U(20),G(21,"transloco"),R(),ce(22,"img",11),D(23,"li"),U(24),G(25,"transloco"),R(),D(26,"div",10),U(27),G(28,"transloco"),R(),ce(29,"img",12),D(30,"li"),U(31),G(32,"transloco"),R(),D(33,"div",10),U(34),G(35,"transloco"),R(),ce(36,"img",13),D(37,"li"),U(38),G(39,"transloco"),R(),D(40,"div",10),U(41),G(42,"transloco"),R()(),D(43,"div",14),U(44),G(45,"transloco"),R(),D(46,"div",15),Ae("click",function(){return ht(t),ee().showMissionRules()}),U(47),G(48,"transloco"),R()(),gt()}if(2&n){const t=ee();S(3),nt(q(4,21,"challenges.howToPlay.xTournament.title")),S(6),ie(" ",q(10,23,"challenges.howToPlay.xTournament.Welcome")," "),S(3),ie(" ",q(13,25,"challenges.howToPlay.xTournament.Here\u2019s how it works:")," "),S(3),F("srcset",t.getSrcSet("join.png","join@2x.png","join@3x.png"),an)("src",t.getFullImgPath("join.png"),an),S(2),ie(" ",q(18,27,"challenges.howToPlay.xTournament.joinTheChallenge.title")," "),S(3),ie(" ",q(21,29,"challenges.howToPlay.xTournament.joinTheChallenge.text")," "),S(2),F("srcset",t.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),an)("src",t.getFullImgPath("progress.png"),an),S(2),ie(" ",q(25,31,"challenges.howToPlay.xTournament.taskProgress.title")," "),S(3),ie(" ",q(28,33,"challenges.howToPlay.xTournament.taskProgress.text")," "),S(2),F("srcset",t.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),an)("src",t.getFullImgPath("big-prize.png"),an),S(2),ie(" ",q(32,35,"challenges.howToPlay.xTournament.fightForYourPrize.title")," "),S(3),ie(" ",q(35,37,"challenges.howToPlay.xTournament.fightForYourPrize.text")," "),S(2),F("srcset",t.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),an)("src",t.getFullImgPath("mission-completion.png"),an),S(2),ie(" ",q(39,39,"challenges.howToPlay.xTournament.challengeCompletion.title")," "),S(3),ie(" ",q(42,41,"challenges.howToPlay.xTournament.challengeCompletion.text")," "),S(3),ie(" ",q(45,43,"challenges.howToPlay.xTournament.Join the xTournament, play your best, and aim to be one of the winners. Good luck on your xTournament!")," "),S(3),ie(" ",q(48,45,"challenges.howToPlay.xTournament.Detailed rules")," ")}}kp.\u0275fac=function(e){return new(e||kp)(W(Dr),W(cg),W(Zn),W(qo),W(fo))},kp.\u0275cmp=rt({type:kp,selectors:[["app-mission-rules"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"rules"],[1,"title"],[1,"p-0","m-0","pl-3"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"task-note"],[1,"prizes"],[1,"task-name"],[1,"task-description"],[4,"ngIf"]],template:function(e,t){1&e&&(ft(0,0),te(1,YEe,90,81,"ng-container",1),te(2,KEe,84,75,"ng-container",1),te(3,QEe,75,66,"ng-container",1),gt()),2&e&&(F("ngSwitch",t.challengeConfig.typeUi),S(1),F("ngSwitchCase",t.ChallengeTypeUI.RACE),S(1),F("ngSwitchCase",t.ChallengeTypeUI.MISSION),S(1),F("ngSwitchCase",t.ChallengeTypeUI.TOURNAMENT))},directives:[Va,Zl,di,At],pipes:[$t,Ki],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:24px 8px 0}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;padding-bottom:16px;font-size:20px;font-weight:500;line-height:24px}.modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;padding-bottom:0}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{color:#ffde5c;font-weight:600;padding-top:16px;padding-bottom:8px}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-weight:400}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-note[_ngcontent-%COMP%]{font-weight:400;padding-top:16px}"],changeDetection:0}),kp=Ve([_i()],kp);let jg=class{constructor(e,t,i){this.activeModal=e,this.modal=t,this.challenge=i,this.ChallengeTypeUI=Qi}ngOnInit(){this.challenge.updateState$.pipe(cn(e=>!e.isChallengeAvailable),kt(this)).subscribe(()=>this.close())}getFullImgPath(e){return"assets/images/engagement-tools/"+e}getSrcSet(e,t,i){return`${this.getFullImgPath(e)}, ${this.getFullImgPath(t)} 2x, ${this.getFullImgPath(i)} 3x`}showMissionRules(){this.modal.open(kp)}close(){this.activeModal.close()}get challengeConfig(){return this.challenge.config}};jg.\u0275fac=function(e){return new(e||jg)(W(Dr),W(vp),W(fo))},jg.\u0275cmp=rt({type:jg,selectors:[["app-how-it-works"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"title"],[1,"d-flex","flex-column","justify-content-center","align-items-start"],["draggable","false","alt","join",1,"img","img-join",3,"srcset","src"],[1,"step-description"],["draggable","false","alt","progress",1,"img","img-progress",3,"srcset","src"],["draggable","false","alt","big-prize",1,"img","img-prize",3,"srcset","src"],["draggable","false","alt","mission-completion",1,"img","img-mission-completion",3,"srcset","src"],[1,"outro"],[1,"btn-link","text-center",3,"click"]],template:function(e,t){1&e&&(ft(0,0),te(1,ZEe,49,47,"ng-container",1),te(2,eOe,49,47,"ng-container",1),te(3,tOe,49,47,"ng-container",1),gt()),2&e&&(F("ngSwitch",t.challengeConfig.typeUi),S(1),F("ngSwitchCase",t.ChallengeTypeUI.RACE),S(1),F("ngSwitchCase",t.ChallengeTypeUI.MISSION),S(1),F("ngSwitchCase",t.ChallengeTypeUI.TOURNAMENT))},directives:[Va,Zl],pipes:[$t],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-style:normal;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   .outro[_ngcontent-%COMP%]{padding:8px 8px 24px}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;padding:24px 8px 16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding:0}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{font-weight:400;padding:0 8px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:28px;margin-bottom:8px;color:#ffde5c;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:12px;font-weight:600;line-height:normal;color:#ffde5c;cursor:pointer}"]}),jg=Ve([_i()],jg);let zW=(()=>{class n{constructor(t){this.modalService=t}openHowToPlayModal(){this.modalService.open(jg)}}return n.\u0275fac=function(t){return new(t||n)(W(vp))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-get-more-info"]],decls:8,vars:6,consts:[[1,"challenge-get-more-info"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div"),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return i.openHowToPlayModal()}),D(5,"span",2),U(6),G(7,"transloco"),R()()()),2&t&&(S(2),ie(" ",q(3,2,"challenges.Get more information on participating:")," "),S(4),nt(q(7,4,"challenges.How to play")))},pipes:[$t],styles:["[_nghost-%COMP%]{width:100%}.challenge-get-more-info[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function nOe(n,e){1&n&&ce(0,"img",14)}function iOe(n,e){1&n&&ce(0,"img",15)}function rOe(n,e){if(1&n&&(D(0,"span",16)(1,"span",17),U(2),G(3,"number"),R(),U(4),G(5,"transloco"),R()),2&n){const t=ee().$implicit,i=ee().ngIf;let r;S(2),ie(" ",Gt(3,2,null!==(r=i.prizeUpdate.left)&&void 0!==r?r:t.left,"1.0-1")," "),S(2),ie(" ",q(5,5,"challenges.Left")," ")}}function sOe(n,e){if(1&n&&(ft(0),U(1),gt()),2&n){const t=ee().$implicit;S(1),ie(" ",t.name," ")}}function oOe(n,e){1&n&&(ft(0),U(1),G(2,"transloco"),gt()),2&n&&(S(1),ie(" ",q(2,1,"challenges.Freebet")," "))}function aOe(n,e){if(1&n&&(ft(0),U(1),gt()),2&n){const t=ee().$implicit;S(1),ie(" ",t.description," ")}}function lOe(n,e){if(1&n&&(ft(0),U(1),G(2,"currencyPrecision"),gt()),2&n){const t=ee().$implicit,i=ee(2);S(1),Xn(" ",q(2,2,t.cost)," ",i.currency," ")}}function cOe(n,e){if(1&n&&(D(0,"div",6),te(1,nOe,1,0,"img",7),te(2,iOe,1,0,"img",8),D(3,"div",9),te(4,rOe,6,7,"span",10),D(5,"span",11),te(6,sOe,2,1,"ng-container",12),te(7,oOe,3,3,"ng-container",12),R(),D(8,"span",13),te(9,aOe,2,1,"ng-container",12),te(10,lOe,3,4,"ng-container",12),R()()()),2&n){const t=e.$implicit,i=ee(2);S(1),F("ngIf",t.type===i.PrizeType.FreeBet),S(1),F("ngIf",t.type===i.PrizeType.Special),S(2),F("ngIf",i.challengeType===i.ChallengeTypeUI.RACE),S(2),F("ngIf",t.type===i.PrizeType.Special),S(1),F("ngIf",t.type===i.PrizeType.FreeBet),S(2),F("ngIf",t.type===i.PrizeType.Special),S(1),F("ngIf",t.type===i.PrizeType.FreeBet)}}function uOe(n,e){if(1&n&&(D(0,"div",1)(1,"div",2)(2,"span",3),U(3),G(4,"transloco"),R()(),D(5,"div",4),te(6,cOe,11,7,"div",5),R()()),2&n){const t=e.ngIf;S(3),nt(q(4,2,"challenges.Prizes")),S(3),F("ngForOf",t.prizeItemsUpdate)}}let dOe=(()=>{class n{constructor(t){this.prize=t,this.challengeType=Qi.RACE,this.isNetwork=!1,this.data$=lc({prizeUpdate:this.prize.update$,prizeItemsUpdate:this.prize.updateItems$}),this.PrizeType=Cc,this.ChallengeTypeUI=Qi}}return n.\u0275fac=function(t){return new(t||n)(W(Gv))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-prizes"]],inputs:{currency:"currency",challengeType:"challengeType",isNetwork:"isNetwork"},decls:2,vars:3,consts:[["class","challenge-prizes",4,"ngIf"],[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["class","prize-card",4,"ngFor","ngForOf"],[1,"prize-card"],["draggable","false","class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",4,"ngIf"],["draggable","false","class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",4,"ngIf"],[1,"card-content"],["class","badge-left",4,"ngIf"],[1,"card-title"],[4,"ngIf"],[1,"card-description"],["draggable","false","srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",1,"card-bg-image"],["draggable","false","srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",1,"card-bg-image"],[1,"badge-left"],[1,"amount"]],template:function(t,i){1&t&&(te(0,uOe,7,4,"div",0),G(1,"async")),2&t&&F("ngIf",q(1,1,i.data$))},directives:[At,di],pipes:[Ki,$t,ec,Zn],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px;height:160px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);height:100%;z-index:0;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;height:32px;padding:4px 12px;border-radius:64px;background-color:#ffffff0d;color:#fff;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:10px;font-weight:400;line-height:normal;padding:0 4px;width:100%;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),n})();const $W=function(n){return{challenge:n}};let WW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-info-other"]],inputs:{type:"type",startDate:"startDate",endDate:"endDate",minBet:"minBet",currency:"currency",currencyPrecision:"currencyPrecision"},decls:29,vars:38,consts:[[1,"challenge-info-other"],[1,"info-header"],[1,"title"],[1,"info-body"],[1,"info-row","row-start"],[1,"info-row-title"],[1,"info-row-value"],[1,"info-row","row-end"],[1,"info-row","row-min-bet"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"span",2),U(3),G(4,"transloco"),R()(),D(5,"div",3)(6,"div",4)(7,"span",5),U(8),G(9,"transloco"),R(),D(10,"span",6),U(11),G(12,"date"),G(13,"date"),R()(),D(14,"div",7)(15,"span",5),U(16),G(17,"transloco"),R(),D(18,"span",6),U(19),G(20,"date"),G(21,"date"),R()(),D(22,"div",8)(23,"span",5),U(24),G(25,"transloco"),R(),D(26,"span",6),U(27),G(28,"currencyPrecision"),R()()()()),2&t&&(S(3),nt(q(4,10,"challenges.Other Information")),S(5),nt(Gt(9,12,"challenges.challenge starts:",zn(34,$W,i.type))),S(3),Xn("",Gt(12,15,i.startDate,"HH:mm"),", ",Gt(13,18,i.startDate,"dd.MM.yy"),""),S(5),nt(Gt(17,21,"challenges.challenge ends:",zn(36,$W,i.type))),S(3),Xn("",Gt(20,24,i.endDate,"HH:mm"),", ",Gt(21,27,i.endDate,"dd.MM.yy"),""),S(5),nt(q(25,30,"challenges.Min. Bet:")),S(3),Xn("",q(28,32,i.minBet)," ",i.currency,""))},pipes:[$t,za,Zn],styles:['[_nghost-%COMP%]{width:100%}.challenge-info-other[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;height:40px;padding:8px;border-bottom:1px solid #242424}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400;line-height:normal;padding-left:32px;padding-right:10px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{display:block;position:absolute;top:8px;left:8px;width:24px;height:24px;content:""}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:14px;font-weight:500;line-height:normal}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-start[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-calendar-yellow.7f1faa1091045c98.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-end[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-finish-yellow.732b6280285c8694.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-min-bet[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-coin-yellow.b00af567e5f6fc2c.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),YW=(()=>{class n{constructor(t){this.modalService=t}openRulesModal(){this.modalService.open(kp)}}return n.\u0275fac=function(t){return new(t||n)(W(vp))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-disclaimer"]],decls:8,vars:6,consts:[[1,"challenge-disclaimer"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div"),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return i.openRulesModal()}),D(5,"span",2),U(6),G(7,"transloco"),R()()()),2&t&&(S(2),ie(" ",q(3,2,"challenges.By joining the event, you are agreeing to the:")," "),S(4),nt(q(7,4,"challenges.Detailed rules")))},pipes:[$t],styles:["[_nghost-%COMP%]{width:100%}.challenge-disclaimer[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function hOe(n,e){if(1&n&&(ce(0,"app-challenge-message",17),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].waitForStart))}}function pOe(n,e){if(1&n&&(ce(0,"app-challenge-message",17),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].missionPaused))}}function fOe(n,e){if(1&n&&(ce(0,"app-challenge-message",17),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].prizeClaimed))}}function gOe(n,e){if(1&n&&(ce(0,"app-challenge-message",17),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].missionOverSuccess))}}function mOe(n,e){if(1&n&&(ce(0,"app-challenge-message",17),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].missionOverFail))}}function _Oe(n,e){if(1&n&&(ce(0,"app-challenge-message",18),G(1,"transloco")),2&n){const t=ee(2);F("message",Gt(1,2,t.challengeMessages[t.challengeConfig.typeUi].minBetError,t.nameParams))("isError",!0)}}function yOe(n,e){if(1&n){const t=_t();D(0,"button",19),Ae("click",function(){return ht(t),ee(2).joinToMission()}),D(1,"span"),U(2),G(3,"transloco"),R()()}if(2&n){const t=ee(2);Et("no-ticket-blocked",t.challengeConfig.isTicketBased&&!t.ticketsService.hasActiveTicket(t.challengeConfig.challengeId)),F("disabled",t.waitingForResponse.join),S(2),ie(" ",q(3,4,"challenges.action.Join"),"")}}function bOe(n,e){1&n&&(D(0,"div",20),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"challenges.Joining the Challenge requires Ticket")," "))}function vOe(n,e){if(1&n){const t=_t();D(0,"button",21),Ae("click",function(){return ht(t),ee(2).takePrize()}),ce(1,"span",22),U(2),G(3,"transloco"),R()}2&n&&(F("disabled",ee(2).waitingForResponse.takePrize),S(2),ie(" ",q(3,2,"challenges.action.Take my Prize")," "))}function COe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",1),ce(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),D(4,"button",4),Ae("click",function(){return ht(t),ee().close()}),ce(5,"span",5),R()(),D(6,"div",6),ce(7,"app-challenge-info-main",7),te(8,hOe,2,3,"app-challenge-message",8),te(9,pOe,2,3,"app-challenge-message",8),te(10,fOe,2,3,"app-challenge-message",8),te(11,gOe,2,3,"app-challenge-message",8),te(12,mOe,2,3,"app-challenge-message",8),te(13,_Oe,2,5,"app-challenge-message",9),D(14,"div",10),te(15,yOe,4,6,"button",11),te(16,bOe,3,3,"div",12),te(17,vOe,4,4,"button",13),R(),ce(18,"app-challenge-tasks",14)(19,"app-challenge-get-more-info")(20,"app-challenge-prizes",15)(21,"app-challenge-info-other",16)(22,"app-challenge-disclaimer"),R(),gt()}if(2&n){const t=e.ngIf,i=ee();S(2),F("challengeStatus",t.statusUpdate.challenge)("playerStatus",t.statusUpdate.player)("userCount",t.challengeStateUpdate.joinCount)("isMinBetError",t.hasMinBetError),S(1),F("title",i.challengeConfig.name),S(4),F("type",i.challengeConfig.typeUi)("name",i.challengeConfig.name)("startDate",i.challengeConfig.startDate)("endDate",t.statusUpdate.finishDate)("progress",t.taskUpdate.totalProgress)("isChallengeStarted",t.statusUpdate.challenge===i.ChallengeStatus.Active||t.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengePaused",t.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengeFinished",t.statusUpdate.challenge===i.ChallengeStatus.Finished)("isProgressEnabled",t.statusUpdate.challenge===i.ChallengeStatus.Active||t.statusUpdate.challenge===i.ChallengeStatus.Finished&&(t.statusUpdate.player===i.playerStatus.Won||t.statusUpdate.player===i.playerStatus.Rewarded))("isError",t.hasMinBetError)("backgroundImage",i.challengeConfig.backgroundImage),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Joined&&t.statusUpdate.challenge===i.ChallengeStatus.Announced),S(1),F("ngIf",t.statusUpdate.challenge===i.ChallengeStatus.Paused&&t.statusUpdate.player!==i.playerStatus.Rewarded&&t.statusUpdate.player!==i.playerStatus.Won),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Rewarded&&t.statusUpdate.challenge!==i.ChallengeStatus.Finished),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Rewarded&&t.statusUpdate.challenge===i.ChallengeStatus.Finished),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Joined&&t.statusUpdate.challenge===i.ChallengeStatus.Finished),S(1),F("ngIf",t.hasMinBetError),S(2),F("ngIf",t.statusUpdate.player===i.playerStatus.None&&(t.statusUpdate.challenge===i.ChallengeStatus.Announced||t.statusUpdate.challenge===i.ChallengeStatus.Active)),S(1),F("ngIf",i.challengeConfig.isTicketBased&&t.statusUpdate.player===i.playerStatus.None),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Won&&t.statusUpdate.challenge!==i.ChallengeStatus.Paused),S(1),F("challengeType",i.challengeConfig.typeUi)("tasks",t.taskUpdate.tasks)("currency",i.challengeConfig.currency)("playerStatus",t.statusUpdate.player)("challengeStatus",t.statusUpdate.challenge)("isError",t.hasMinBetError),S(2),F("currency",i.challengeConfig.currency)("challengeType",i.challengeConfig.typeUi)("isNetwork",i.challengeConfig.isNetwork),S(1),F("type",i.challengeConfig.typeUi)("startDate",i.challengeConfig.startDate)("endDate",t.statusUpdate.finishDate)("minBet",i.challengeConfig.minBet)("currency",i.challengeConfig.currency)("currencyPrecision",i.challengeConfig.currencyPrecision)}}let Gg=class{constructor(e,t,i,r,s,o,a,l,c,u,d){this.stomp=e,this.activeModal=t,this.cd=i,this.status=r,this.task=s,this.prize=o,this.challenge=a,this.minBetError=l,this.leaderboard=c,this.currencyPrecisionPipe=u,this.ticketsService=d,this.data$=lc({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,hasMinBetError:this.minBetError.update$}),this.challengeMessages=LW,this.ChallengeStatus=kr,this.playerStatus=cr,this.PrizeType=Cc,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(e=>e.type===Cc.FreeBet)}get challengeConfig(){return this.challenge.config}ngOnInit(){this.nameParams={amount:this.currencyPrecisionPipe.transform(this.challenge.config.minBet),currency:this.challenge.config.currency},this.challenge.config.type===ch.RACE&&this.leaderboard.sendRequestLeaderboard(),this.challenge.updateState$.pipe(cn(e=>!e.isChallengeAvailable),kt(this)).subscribe(()=>this.close()),this.stomp.response(es.TakePrize).pipe(cn(e=>200!==e.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(es.Join).pipe(cn(e=>200!==e.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){ko.registerPlugin(wi),ko.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),ko.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(hs.Join,{challengeId:this.challenge.config.challengeId})}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(hs.TakePrize,{challengeId:this.challenge.config.challengeId})}};function wOe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),ie(". ",Gt(2,1,"challenges.tasks.xTournament.Min. bet",t.nameParams),"")}}Gg.\u0275fac=function(e){return new(e||Gg)(W(Rs),W(Dr),W(Fn),W(ug),W(cg),W(Gv),W(fo),W(M1),W(jv),W(Zn),W(Hv))},Gg.\u0275cmp=rt({type:Gg,selectors:[["app-mission-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"challengeStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","progress","isChallengeStarted","isChallengePaused","isChallengeFinished","isProgressEnabled","isError","backgroundImage"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"no-ticket-blocked","disabled","click",4,"ngIf"],["class","text",4,"ngIf"],["type","button","class","btn btn-get-prize",3,"disabled","click",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","challengeStatus","isError"],[3,"currency","challengeType","isNetwork"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"],[1,"text"],["type","button",1,"btn","btn-get-prize",3,"disabled","click"],[1,"prize-icon"]],template:function(e,t){1&e&&(te(0,COe,23,40,"ng-container",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.data$))},directives:[At,UW,HW,jW,GW,VEe,zW,dOe,WW,YW],pipes:[Ki,$t],styles:['[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;--modal-header-border-bottom: transparent;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-shrink:0;max-width:100%;z-index:1;margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;min-width:160px;max-width:100%;height:48px;min-height:48px;border-radius:64px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:inline-block;margin-right:4px;width:12px;height:16px;background:url(lock.80791627cb026754.svg) no-repeat center;background-size:contain}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#a3a3a3;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;line-height:16px;padding-top:10px}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}'],changeDetection:0}),Gg=Ve([_i()],Gg);let SOe=(()=>{class n{constructor(t,i,r){this.currencyPrecisionPipe=t,this.multiplierPrecisionPipe=i,this.challenge=r}get iconGroupName(){return zEe[this.task.type]}get pointsConversionGroup(){return VW[this.task.type]}get nameParams(){var t;return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(this.task.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(this.task.targetMinMultiplier),pointsConversionFactor:this.formattedPointsConversionFactor(null!==(t=this.task.pointsConversionFactor)&&void 0!==t?t:1)}}formattedPointsConversionFactor(t){switch(this.pointsConversionGroup){case Ua.Money:return this.currencyPrecisionPipe.transform(t);case Ua.Multiplier:return this.multiplierPrecisionPipe.transform(t);default:return t}}}return n.\u0275fac=function(t){return new(t||n)(W(Zn),W(qo),W(fo))},n.\u0275cmp=rt({type:n,selectors:[["app-task-tournament"]],inputs:{task:"task",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:12,vars:10,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[4,"ngIf"],[1,"task-description"]],template:function(t,i){1&t&&(D(0,"div",0),ce(1,"div",1),D(2,"div",2)(3,"div",3)(4,"span"),U(5),G(6,"transloco"),R(),te(7,wOe,3,4,"span",4),R(),D(8,"div",5)(9,"span"),U(10),G(11,"transloco"),R()()()()),2&t&&(S(1),F("ngClass",i.iconGroupName),S(4),ie(" ",Gt(6,4,"challenges.tasks.xTournament."+i.task.type+".name",i.nameParams),""),S(2),F("ngIf",!!i.nameParams.minBet),S(3),ie(" ",Gt(11,7,"challenges.tasks.xTournament."+i.task.type+".description",i.nameParams),""))},directives:[cs,At],pipes:[$t],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .catch-highest-x[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:normal;font-style:normal}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{color:#e0e0e0;font-size:13px;font-weight:400;margin-bottom:4px}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{color:#7a7a7a;font-size:10px;font-weight:500}"],changeDetection:0}),n})();function TOe(n,e){if(1&n&&(D(0,"li",9),ce(1,"app-task-tournament",10),R()),2&n){const t=e.$implicit,i=e.index,r=ee();S(1),Ry("task-item-",i,""),F("task",t)("isProgressEnabled",r.challengeStatus===r.ChallengeStatus.Active||r.challengeStatus===r.ChallengeStatus.Finished&&t.progress/t.goal==1)("isError",r.isError)}}function MOe(n,e){if(1&n&&ce(0,"app-tournament-statistics",11),2&n){const t=ee();F("position",t.position)("isLeaderboardLoaded",t.isLeaderboardLoaded)("playerStatus",t.playerStatus)("pointsScored",t.pointsScored)}}let xOe=(()=>{class n{constructor(t){this.modalService=t,this.tasks=[],this.isLeaderboardLoaded=!1,this.PlayerStatus=cr,this.ChallengeStatus=kr,this.ChallengeTypeUI=Qi}get visiblePosition(){return this.challengeStatus===kr.Announced?"-":this.position}showLeaderboard(){this.modalService.open(dd,yu.Players)}}return n.\u0275fac=function(t){return new(t||n)(W(vp))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-tasks-tournament"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",challengeStatus:"challengeStatus",isError:"isError",challengeType:"challengeType",isLeaderboardLoaded:"isLeaderboardLoaded",pointsScored:"pointsScored",position:"position"},decls:13,vars:9,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"disabled","click"],[1,"button-text"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],[3,"position","isLeaderboardLoaded","playerStatus","pointsScored",4,"ngIf"],[1,"task"],[3,"task","isProgressEnabled","isError"],[3,"position","isLeaderboardLoaded","playerStatus","pointsScored"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"span",2),U(3),G(4,"transloco"),R(),D(5,"button",3),Ae("click",function(){return i.showLeaderboard()}),D(6,"span",4),U(7),G(8,"transloco"),R()()(),D(9,"div",5)(10,"ul",6),te(11,TOe,2,6,"li",7),R(),te(12,MOe,1,4,"app-tournament-statistics",8),R()()),2&t&&(S(3),nt(q(4,5,"challenges.Tasks")),S(2),F("disabled",!i.isLeaderboardLoaded),S(2),nt(q(8,7,"challenges.Leaderboard")),S(4),F("ngForOf",i.tasks),S(1),F("ngIf",i.playerStatus===i.PlayerStatus.Joined||i.playerStatus===i.PlayerStatus.Won||i.playerStatus===i.PlayerStatus.Rewarded))},directives:[di,SOe,At,hz],pipes:[$t],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[disabled][_ngcontent-%COMP%]{opacity:.7}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})(),XW=(()=>{class n{constructor(t){this.el=t,this.config={}}ngAfterViewInit(){Object.assign(this.el.nativeElement,this.config),this.el.nativeElement.initialize()}}return n.\u0275fac=function(t){return new(t||n)(W(ji))},n.\u0275dir=Ht({type:n,selectors:[["","appSwiper",""]],inputs:{config:"config"}}),n})();function EOe(n,e){if(1&n&&(D(0,"div",14),ce(1,"span"),D(2,"span"),U(3),G(4,"transloco"),R()()),2&n){const t=ee().index;S(1),Ry("icon-place icon-place-",t+1,""),S(2),nt(q(4,4,"challenges.Place"))}}function OOe(n,e){if(1&n&&(ft(0),U(1),gt()),2&n){const t=ee().$implicit;S(1),ie(" ",t.name," ")}}function POe(n,e){1&n&&(ft(0),U(1),G(2,"transloco"),gt()),2&n&&(S(1),ie(" ",q(2,1,"challenges.Freebet")," "))}function IOe(n,e){if(1&n&&(ft(0),U(1),gt()),2&n){const t=ee().$implicit;S(1),ie(" ",t.description," ")}}function AOe(n,e){if(1&n&&(ft(0),U(1),G(2,"currencyPrecision"),gt()),2&n){const t=ee().$implicit,i=ee();S(1),Xn(" ",q(2,2,t.cost)," ",i.currency," ")}}function DOe(n,e){if(1&n&&(D(0,"swiper-slide")(1,"div",8),ce(2,"img",9),D(3,"div",10),te(4,EOe,5,6,"div",11),D(5,"span",12),te(6,OOe,2,1,"ng-container",7),te(7,POe,3,3,"ng-container",7),R(),D(8,"span",13),te(9,IOe,2,1,"ng-container",7),te(10,AOe,3,4,"ng-container",7),R()()()()),2&n){const t=e.$implicit,i=e.index,r=ee();S(2),F("src",r.getPrizeImgSrc(i,t.type),an),Ii("srcset",r.getPrizeImgSrcSet(i,t.type),an),S(2),F("ngIf",i<3),S(2),F("ngIf",t.type===r.PrizeType.Special),S(1),F("ngIf",t.type===r.PrizeType.FreeBet),S(2),F("ngIf",t.type===r.PrizeType.Special),S(1),F("ngIf",t.type===r.PrizeType.FreeBet)}}function ROe(n,e){if(1&n){const t=_t();D(0,"swiper-slide")(1,"div",15)(2,"span",2),U(3),G(4,"transloco"),R(),D(5,"button",16),Ae("click",function(){return ht(t),ee().showAllPrizes()}),U(6),G(7,"transloco"),R()()()}if(2&n){const t=ee();S(3),nt(q(4,3,"challenges.Prize pool")),S(2),F("disabled",!t.isLeaderboardLoaded),S(1),ie(" ",q(7,5,"challenges.Show all")," ")}}let NOe=(()=>{class n{constructor(t){this.modalService=t,this.isLeaderboardLoaded=!1,this.items=[],this.PrizeType=Cc}get swiperConfig(){return{slidesPerView:this.visiblePrizeItems.length>1?1.27:1,spaceBetween:8,injectStyles:["\n          :host {\n            --swiper-pagination-color: #FFDE5C;\n            --swiper-pagination-bullet-inactive-color: #242424;\n            --swiper-pagination-bullet-inactive-opacity: 1;\n            --swiper-pagination-bullet-horizontal-gap: 4px;\n          }\n\n          .swiper-pagination {\n            position: static;\n            height: 24px;\n          }\n        "],pagination:!0}}get visiblePrizeItems(){return this.items.slice(0,Math.min(this.items.length,3))}showAllPrizes(){this.modalService.open(dd,yu.Prizes)}getPrizeImgSrcSet(t,i){const r=this.getPrizeImgBase(t,i);return`${r}.png, ${r}@2x.png 2x, ${r}@3x.png 3x`}getPrizeImgSrc(t,i){return`${this.getPrizeImgBase(t,i)}.png`}getPrizeImgBase(t,i){return`assets/images/engagement-tools/prize-bg-${i===Cc.FreeBet?"freebet":"special"}-${t+1}`}}return n.\u0275fac=function(t){return new(t||n)(W(vp))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-prizes-tournament"]],inputs:{isLeaderboardLoaded:"isLeaderboardLoaded",items:"items",currency:"currency"},decls:10,vars:6,consts:[[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["appSwiper","","init","false",1,"swiper-prizes",3,"config"],["swiper",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"prize-card"],["draggable","false","alt","prize-bg",1,"card-bg-image",3,"src"],[1,"card-content"],["class","badge-place",4,"ngIf"],[1,"card-title"],[1,"card-description"],[1,"badge-place"],[1,"prize-card-pool"],[1,"btn-link",3,"disabled","click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"span",2),U(3),G(4,"transloco"),R()(),D(5,"div",3)(6,"swiper-container",4,5),te(8,DOe,11,7,"swiper-slide",6),te(9,ROe,8,7,"swiper-slide",7),R()()()),2&t&&(S(3),nt(q(4,4,"challenges.Prizes")),S(3),F("config",i.swiperConfig),S(2),F("ngForOf",i.visiblePrizeItems),S(1),F("ngIf",i.visiblePrizeItems.length<i.items.length))},directives:[XW,di,At],pipes:[$t,Zn],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;transform:translateY(-50%);height:100%;width:100%;z-index:0;border-radius:8px;-o-object-fit:cover;object-fit:cover;-o-object-position:right center;object-position:right center}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;height:32px;padding:4px 12px 4px 4px;border-radius:64px;background-color:#ffffff0d;color:#1f1f1f;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;min-width:24px;min-height:24px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-1[_ngcontent-%COMP%]{background-image:url(icon-place-1.223a4457cda4aa61.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-2[_ngcontent-%COMP%]{background-image:url(icon-place-2.c0e6c17ec93632e2.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-3[_ngcontent-%COMP%]{background-image:url(icon-place-3.e64054e966403194.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#000;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:10px;font-weight:400;line-height:normal;color:#000;padding:0 4px;width:100%;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:160px;padding:12px;background:#1f1f1f;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[disabled][_ngcontent-%COMP%]{opacity:.7}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),n})();function FOe(n,e){if(1&n&&(ce(0,"app-challenge-message",16),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].waitForStart))}}function BOe(n,e){if(1&n&&(ce(0,"app-challenge-message",16),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].missionPaused))}}function LOe(n,e){if(1&n&&(ce(0,"app-challenge-message",16),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].prizeClaimed))}}function UOe(n,e){if(1&n&&(ce(0,"app-challenge-message",16),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].missionOverSuccess))}}function HOe(n,e){if(1&n&&(ce(0,"app-challenge-message",16),G(1,"transloco")),2&n){const t=ee(2);F("message",q(1,1,t.challengeMessages[t.challengeConfig.typeUi].missionOverFail))}}function jOe(n,e){if(1&n&&(ce(0,"app-challenge-message",17),G(1,"transloco")),2&n){const t=ee(2);F("message",Gt(1,2,t.challengeMessages[t.challengeConfig.typeUi].minBetError,t.nameParams))("isError",!0)}}function GOe(n,e){if(1&n){const t=_t();D(0,"button",18),Ae("click",function(){return ht(t),ee(2).joinToMission()}),D(1,"span"),U(2),G(3,"transloco"),R()()}if(2&n){const t=ee(2);Et("no-ticket-blocked",t.challengeConfig.isTicketBased&&!t.ticketsService.hasActiveTicket(t.challengeConfig.challengeId)),F("disabled",t.waitingForResponse.join),S(2),ie(" ",q(3,4,"challenges.action.Join"),"")}}function VOe(n,e){1&n&&(D(0,"div",19),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"challenges.Joining the Challenge requires Ticket")," "))}function zOe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",1),ce(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),D(4,"button",4),Ae("click",function(){return ht(t),ee().close()}),ce(5,"span",5),R()(),D(6,"div",6),ce(7,"app-challenge-info-main",7),te(8,FOe,2,3,"app-challenge-message",8),te(9,BOe,2,3,"app-challenge-message",8),te(10,LOe,2,3,"app-challenge-message",8),te(11,UOe,2,3,"app-challenge-message",8),te(12,HOe,2,3,"app-challenge-message",8),te(13,jOe,2,5,"app-challenge-message",9),D(14,"div",10),te(15,GOe,4,6,"button",11),te(16,VOe,3,3,"div",12),R(),ce(17,"app-challenge-tasks-tournament",13)(18,"app-challenge-get-more-info")(19,"app-challenge-prizes-tournament",14)(20,"app-challenge-info-other",15)(21,"app-challenge-disclaimer"),R(),gt()}if(2&n){const t=e.ngIf,i=ee();let r;S(2),F("challengeStatus",t.statusUpdate.challenge)("playerStatus",t.statusUpdate.player)("userCount",t.challengeStateUpdate.joinCount)("isMinBetError",t.hasMinBetError),S(1),F("title",i.challengeConfig.name),S(4),F("type",i.challengeConfig.typeUi)("name",i.challengeConfig.name)("startDate",i.challengeConfig.startDate)("endDate",t.statusUpdate.finishDate)("isChallengeStarted",t.statusUpdate.challenge===i.ChallengeStatus.Active||t.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengeFinished",t.statusUpdate.challenge===i.ChallengeStatus.Finished)("isChallengePaused",t.statusUpdate.challenge===i.ChallengeStatus.Paused)("isProgressEnabled",t.statusUpdate.challenge===i.ChallengeStatus.Active||t.statusUpdate.challenge===i.ChallengeStatus.Finished&&(t.statusUpdate.player===i.playerStatus.Won||t.statusUpdate.player===i.playerStatus.Rewarded))("isError",t.hasMinBetError)("backgroundImage",i.challengeConfig.backgroundImage),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Joined&&t.statusUpdate.challenge===i.ChallengeStatus.Announced),S(1),F("ngIf",t.statusUpdate.challenge===i.ChallengeStatus.Paused&&t.statusUpdate.player!==i.playerStatus.Rewarded&&t.statusUpdate.player!==i.playerStatus.Won),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Rewarded&&t.statusUpdate.challenge!==i.ChallengeStatus.Finished),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Rewarded&&t.statusUpdate.challenge===i.ChallengeStatus.Finished),S(1),F("ngIf",t.statusUpdate.player===i.playerStatus.Joined&&t.statusUpdate.challenge===i.ChallengeStatus.Finished),S(1),F("ngIf",t.hasMinBetError),S(2),F("ngIf",t.statusUpdate.player===i.playerStatus.None&&(t.statusUpdate.challenge===i.ChallengeStatus.Announced||t.statusUpdate.challenge===i.ChallengeStatus.Active)),S(1),F("ngIf",i.challengeConfig.isTicketBased&&t.statusUpdate.player===i.playerStatus.None),S(1),F("challengeType",i.challengeConfig.typeUi)("tasks",t.taskUpdate.tasks)("currency",i.challengeConfig.currency)("playerStatus",t.statusUpdate.player)("challengeStatus",t.statusUpdate.challenge)("isLeaderboardLoaded",t.isLeaderboardLoaded)("pointsScored",null!==(r=null==i.leaderboard.myItem?null:i.leaderboard.myItem.progress)&&void 0!==r?r:0)("position",i.leaderboard.myPosition)("isError",t.hasMinBetError),S(2),F("items",i.prizeItems)("currency",i.challengeConfig.currency)("isLeaderboardLoaded",t.isLeaderboardLoaded),S(1),F("type",i.challengeConfig.typeUi)("startDate",i.challengeConfig.startDate)("endDate",t.statusUpdate.finishDate)("minBet",i.challengeConfig.minBet)("currency",i.challengeConfig.currency)("currencyPrecision",i.challengeConfig.currencyPrecision)}}let Vg=class{constructor(e,t,i,r,s,o,a,l,c,u,d,b){this.app=e,this.stomp=t,this.activeModal=i,this.cd=r,this.status=s,this.task=o,this.prize=a,this.challenge=l,this.minBetError=c,this.leaderboard=u,this.currencyPrecisionPipe=d,this.ticketsService=b,this.data$=lc({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,prizeUpdate:this.prize.update$,hasMinBetError:this.minBetError.update$,isLeaderboardLoaded:this.leaderboard.loaded$}),this.challengeMessages=LW,this.ChallengeStatus=kr,this.playerStatus=cr,this.PrizeType=Cc,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(e=>e.type===Cc.FreeBet)}get challengeConfig(){return this.challenge.config}get prizeItems(){return this.prize.items}ngOnInit(){this.nameParams={amount:this.currencyPrecisionPipe.transform(this.challenge.config.minBet),currency:this.challenge.config.currency},this.leaderboard.sendRequestLeaderboard(),this.challenge.updateState$.pipe(cn(e=>!e.isChallengeAvailable),kt(this)).subscribe(()=>this.close()),this.stomp.response(es.TakePrize).pipe(cn(e=>200!==e.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(es.Join).pipe(cn(e=>200!==e.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){ko.registerPlugin(wi),ko.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),ko.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(hs.Join,{challengeId:this.challenge.config.challengeId})}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(hs.TakePrize,{challengeId:this.challenge.config.challengeId})}};function $Oe(n,e){if(1&n&&(ft(0),D(1,"span",2),U(2),G(3,"number"),G(4,"number"),G(5,"number"),R(),gt()),2&n){const t=e.ngIf;S(2),e_(" ",Gt(3,3,t.hours,"2.0"),":",Gt(4,6,t.minutes,"2.0"),":",Gt(5,9,t.seconds,"2.0")," ")}}Vg.\u0275fac=function(e){return new(e||Vg)(W(gr),W(Rs),W(Dr),W(Fn),W(ug),W(cg),W(Gv),W(fo),W(M1),W(jv),W(Zn),W(Hv))},Vg.\u0275cmp=rt({type:Vg,selectors:[["app-mission-details-tournament"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"challengeStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","isChallengeStarted","isChallengeFinished","isChallengePaused","isProgressEnabled","isError","backgroundImage"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"no-ticket-blocked","disabled","click",4,"ngIf"],["class","text",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","challengeStatus","isLeaderboardLoaded","pointsScored","position","isError"],[3,"items","currency","isLeaderboardLoaded"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"],[1,"text"]],template:function(e,t){1&e&&(te(0,zOe,22,41,"ng-container",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.data$))},directives:[At,UW,HW,jW,GW,xOe,zW,NOe,WW,YW],pipes:[Ki,$t],styles:['[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;--modal-header-border-bottom: transparent;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-shrink:0;max-width:100%;margin-bottom:24px;z-index:1}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;min-width:160px;max-width:100%;height:48px;min-height:48px;border-radius:64px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:inline-block;margin-right:4px;width:12px;height:16px;background:url(lock.80791627cb026754.svg) no-repeat center;background-size:contain}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#a3a3a3;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;line-height:16px;padding-top:10px}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks-tournament[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes-tournament[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}'],changeDetection:0}),Vg=Ve([_i()],Vg);let Np=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=Sk(1e3).pipe(Ef(0),ke(()=>this.calcDateDiff()),kt(this))}calcDateDiff(){const e=new Fi(this.startDate).minus(Date.now());if(e.lte(0))return{seconds:0,minutes:0,hours:0};const t=e.div(this.milSecInSec);return{hours:t.div(this.minInH*this.secInMin).mod(this.hInDay).floor().toNumber(),minutes:t.div(this.secInMin).mod(this.minInH).floor().toNumber(),seconds:t.mod(this.secInMin).floor().toNumber()}}};function WOe(n,e){1&n&&Gs(0)}function YOe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,WOe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(7);S(1),F("status",t.ChallengeStatusUI.Upcoming),S(1),F("ngTemplateOutlet",i)}}function XOe(n,e){1&n&&Gs(0)}function qOe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,XOe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(7);S(1),F("status",t.ChallengeStatusUI.Live),S(1),F("ngTemplateOutlet",i)}}function KOe(n,e){1&n&&Gs(0)}function JOe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,KOe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.ChallengeStatusUI.Live),S(1),F("ngTemplateOutlet",i)}}function QOe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5)(2,"app-upcoming-timer",7),gt()),2&n){const t=ee(2);S(1),F("status",t.ChallengeStatusUI.Waiting),S(1),F("startDate",t.startDate)}}function ZOe(n,e){1&n&&Gs(0)}function ePe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,ZOe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(7);S(1),F("status",t.ChallengeStatusUI.Paused),S(1),F("ngTemplateOutlet",i)}}function tPe(n,e){1&n&&Gs(0)}function nPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,tPe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.ChallengeStatusUI.Paused),S(1),F("ngTemplateOutlet",i)}}function iPe(n,e){1&n&&Gs(0)}function rPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,iPe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.challengeStatus===t.ChallengeStatus.Paused?t.ChallengeStatusUI.Paused:t.ChallengeStatusUI.Done),S(1),F("ngTemplateOutlet",i)}}function sPe(n,e){1&n&&Gs(0)}function oPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,sPe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.challengeStatus===t.ChallengeStatus.Paused?t.ChallengeStatusUI.Paused:t.ChallengeStatusUI.Finished),S(1),F("ngTemplateOutlet",i)}}function aPe(n,e){1&n&&Gs(0)}function lPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,aPe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.ChallengeStatusUI.Finished),S(1),F("ngTemplateOutlet",i)}}function cPe(n,e){1&n&&Gs(0)}function uPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,cPe,1,0,"ng-container",6),gt()),2&n){const t=ee(2),i=er(7);S(1),F("status",t.ChallengeStatusUI.Finished),S(1),F("ngTemplateOutlet",i)}}function dPe(n,e){if(1&n&&(ft(0),te(1,YOe,3,2,"ng-container",1),te(2,qOe,3,2,"ng-container",1),te(3,JOe,3,2,"ng-container",1),te(4,QOe,3,2,"ng-container",1),te(5,ePe,3,2,"ng-container",1),te(6,nPe,3,2,"ng-container",1),te(7,rPe,3,2,"ng-container",1),te(8,oPe,3,2,"ng-container",1),te(9,lPe,3,2,"ng-container",1),te(10,uPe,3,2,"ng-container",1),gt()),2&n){const t=ee();S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Announced&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Active&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Active&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Announced&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Paused&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Paused&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.playerStatus===t.PlayerStatus.Won),S(1),F("ngIf",t.playerStatus===t.PlayerStatus.Rewarded),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Finished&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Finished&&t.playerStatus===t.PlayerStatus.None)}}function hPe(n,e){1&n&&Gs(0)}function pPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",5),te(2,hPe,1,0,"ng-container",6),gt()),2&n){const t=ee(),i=er(5);S(1),F("status",t.ChallengeStatusUI.MinBet),S(1),F("ngTemplateOutlet",i)}}function fPe(n,e){if(1&n&&(D(0,"div",8)(1,"span",9),U(2),G(3,"currencyPrecision"),R(),D(4,"span",10),U(5),G(6,"transloco"),R()()),2&n){const t=ee();S(2),nt(Gt(3,2,t.totalProgress,2)),S(3),nt(q(6,5,"challenges.Scored"))}}function gPe(n,e){if(1&n&&(D(0,"div",8)(1,"span",9),U(2),R(),D(3,"span",10),U(4),R()()),2&n){const t=ee();S(2),ie("",t.ChallengeTypeUI.TOURNAMENT,":"),S(2),nt(t.challengeName)}}Np.\u0275fac=function(e){return new(e||Np)},Np.\u0275cmp=rt({type:Np,selectors:[["app-upcoming-timer"]],inputs:{startDate:"startDate"},decls:3,vars:3,consts:[[1,"timer-container"],[4,"ngIf"],[1,"timer-value"]],template:function(e,t){1&e&&(D(0,"div",0),te(1,$Oe,6,12,"ng-container",1),G(2,"async"),R()),2&e&&(S(1),F("ngIf",q(2,1,t.timeLeft$)))},directives:[At],pipes:[Ki,ec],styles:[".timer-container[_ngcontent-%COMP%]{display:flex;align-items:center}.timer-container[_ngcontent-%COMP%]   .timer-value[_ngcontent-%COMP%]{opacity:.8;text-align:center;font-size:14px;font-weight:500;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),Np=Ve([_i()],Np);let mPe=(()=>{class n{constructor(){this.challengeName="",this.challengeStatus=kr.Announced,this.playerStatus=cr.None,this.hasMinBetError=!1,this.startDate=0,this.totalProgress=0,this.PlayerStatus=cr,this.ChallengeTypeUI=Qi,this.ChallengeStatusUI=Lg,this.ChallengeStatus=kr}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-tournament-progress"]],inputs:{challengeName:"challengeName",challengeStatus:"challengeStatus",playerStatus:"playerStatus",hasMinBetError:"hasMinBetError",startDate:"startDate",totalProgress:"totalProgress"},decls:8,vars:2,consts:[[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["tournamentProgress",""],["tournamentName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"startDate"],[1,"mission"],[1,"description-start"],[1,"description-end"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,dPe,11,10,"ng-container",1),te(2,pPe,3,2,"ng-container",1),ce(3,"div",2),te(4,fPe,7,7,"ng-template",null,3,Wo),te(6,gPe,5,2,"ng-template",null,4,Wo),R()),2&t&&(S(1),F("ngIf",!i.hasMinBetError),S(1),F("ngIf",i.hasMinBetError))},directives:[At,wk,Fh,Np],pipes:[Zn,$t],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500;overflow:hidden}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-start[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-end[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#fec223;min-width:32px;height:32px;border-radius:50%;box-shadow:4px 4px 25px #f6bc2080}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.2c74ba745c045ebf.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),_Pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-progress-bar"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:2,vars:8,consts:[[1,"bar-holder"],[1,"bar-fill"]],template:function(t,i){1&t&&(D(0,"div",0),ce(1,"div",1),R()),2&t&&(S(1),hl("width",i.currentProgress+"%"),Et("error",i.isError)("success",i.isSuccess)("live",i.isLive&&!i.isSuccess))},styles:["[_nghost-%COMP%]{width:100%}.bar-holder[_ngcontent-%COMP%]{background-color:#ffffff0d;border-radius:10px;height:8px;overflow:hidden}.bar-holder[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:8px;background:rgba(255,255,255,.1);transition:width linear .6s}.bar-holder[_ngcontent-%COMP%]   .bar-fill.success[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.live[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.error[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}"],changeDetection:0}),n})(),yPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-progress-counter"]],inputs:{currentProgress:"currentProgress"},decls:3,vars:1,consts:[[1,"progress-count","d-flex","align-items-center"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span"),U(2),R()()),2&t&&(S(2),ie("",i.currentProgress.toFixed(2),"%"))},styles:["[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:normal;letter-spacing:-.35px;color:#e0e0e0;opacity:.8}"],changeDetection:0}),n})(),bPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-progress-indicator"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:3,vars:5,consts:[[1,"progress-indicator","d-flex","align-items-center","justify-content-between"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"currentProgress"]],template:function(t,i){1&t&&(D(0,"div",0),ce(1,"app-progress-bar",1)(2,"app-progress-counter",2),R()),2&t&&(S(1),F("currentProgress",i.currentProgress)("isSuccess",i.isSuccess)("isError",i.isError)("isLive",i.isLive),S(1),F("currentProgress",i.currentProgress))},directives:[_Pe,yPe],styles:["[_nghost-%COMP%]{flex-grow:1}.progress-indicator[_ngcontent-%COMP%]{padding:7px 21px 7px 16px;gap:13px;position:relative}"],changeDetection:0}),n})();function vPe(n,e){1&n&&Gs(0)}function CPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4),te(2,vPe,1,0,"ng-container",5),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.ChallengeStatusUI.Upcoming),S(1),F("ngTemplateOutlet",i)}}function wPe(n,e){1&n&&Gs(0)}function SPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4),te(2,wPe,1,0,"ng-container",5),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.ChallengeStatusUI.Live),S(1),F("ngTemplateOutlet",i)}}function TPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),gt()),2&n){const t=ee(2);S(1),F("status",t.ChallengeStatusUI.Live),S(1),F("currentProgress",t.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!0)}}function MPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4)(2,"app-upcoming-timer",7),gt()),2&n){const t=ee(2);S(1),F("status",t.ChallengeStatusUI.Waiting),S(1),F("startDate",t.startDate)}}function xPe(n,e){1&n&&Gs(0)}function EPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4),te(2,xPe,1,0,"ng-container",5),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.ChallengeStatusUI.Paused),S(1),F("ngTemplateOutlet",i)}}function OPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),gt()),2&n){const t=ee(2);S(1),F("status",t.ChallengeStatusUI.Paused),S(1),F("currentProgress",t.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function PPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),gt()),2&n){const t=ee(2);S(1),F("status",t.challengeStatus===t.ChallengeStatus.Paused?t.ChallengeStatusUI.Paused:t.ChallengeStatusUI.Done),S(1),F("currentProgress",t.totalProgress)("isSuccess",t.challengeStatus!==t.ChallengeStatus.Paused)("isError",!1)("isLive",!1)}}function IPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),gt()),2&n){const t=ee(2);S(1),F("status",t.challengeStatus===t.ChallengeStatus.Paused?t.ChallengeStatusUI.Paused:t.ChallengeStatusUI.Finished),S(1),F("currentProgress",t.totalProgress)("isSuccess",t.challengeStatus!==t.ChallengeStatus.Paused)("isError",!1)("isLive",!1)}}function APe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),gt()),2&n){const t=ee(2);S(1),F("status",t.ChallengeStatusUI.Finished),S(1),F("currentProgress",t.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function DPe(n,e){1&n&&Gs(0)}function RPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4),te(2,DPe,1,0,"ng-container",5),gt()),2&n){const t=ee(2),i=er(5);S(1),F("status",t.ChallengeStatusUI.Finished),S(1),F("ngTemplateOutlet",i)}}function kPe(n,e){if(1&n&&(ft(0),te(1,CPe,3,2,"ng-container",1),te(2,SPe,3,2,"ng-container",1),te(3,TPe,3,5,"ng-container",1),te(4,MPe,3,2,"ng-container",1),te(5,EPe,3,2,"ng-container",1),te(6,OPe,3,5,"ng-container",1),te(7,PPe,3,5,"ng-container",1),te(8,IPe,3,5,"ng-container",1),te(9,APe,3,5,"ng-container",1),te(10,RPe,3,2,"ng-container",1),gt()),2&n){const t=ee();S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Announced&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Active&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Active&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Announced&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Paused&&t.playerStatus===t.PlayerStatus.None),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Paused&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.playerStatus===t.PlayerStatus.Won),S(1),F("ngIf",t.playerStatus===t.PlayerStatus.Rewarded),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Finished&&t.playerStatus===t.PlayerStatus.Joined),S(1),F("ngIf",t.challengeStatus===t.ChallengeStatus.Finished&&t.playerStatus===t.PlayerStatus.None)}}function NPe(n,e){if(1&n&&(ft(0),ce(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),gt()),2&n){const t=ee();S(1),F("status",t.ChallengeStatusUI.MinBet),S(1),F("currentProgress",t.totalProgress)("isSuccess",!1)("isError",!0)("isLive",!1)}}function FPe(n,e){if(1&n&&(D(0,"div",8)(1,"span",9),U(2),R(),D(3,"span",10),U(4),R()()),2&n){const t=ee();S(2),ie("",t.challengeType,":"),S(2),nt(t.challengeName)}}let BPe=(()=>{class n{constructor(){this.challengeStatus=kr.Announced,this.challengeType=Qi.RACE,this.playerStatus=cr.None,this.challengeName="",this.hasMinBetError=!1,this.startDate=0,this.totalProgress=0,this.PlayerStatus=cr,this.ChallengeTypeUI=Qi,this.ChallengeStatusUI=Lg,this.ChallengeStatus=kr}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-progress"]],inputs:{challengeStatus:"challengeStatus",challengeType:"challengeType",playerStatus:"playerStatus",challengeName:"challengeName",hasMinBetError:"hasMinBetError",startDate:"startDate",totalProgress:"totalProgress"},decls:6,vars:2,consts:[[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["missionName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"startDate"],[1,"mission"],[1,"description-start"],[1,"description-end"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,kPe,11,10,"ng-container",1),te(2,NPe,3,5,"ng-container",1),ce(3,"div",2),te(4,FPe,5,2,"ng-template",null,3,Wo),R()),2&t&&(S(1),F("ngIf",!i.hasMinBetError),S(1),F("ngIf",i.hasMinBetError))},directives:[At,wk,Fh,bPe,Np],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500;overflow:hidden}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-start[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-end[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#fec223;min-width:32px;height:32px;border-radius:50%;box-shadow:4px 4px 25px #f6bc2080}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.2c74ba745c045ebf.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function LPe(n,e){if(1&n&&ce(0,"app-tournament-progress",3),2&n){const t=ee().ngIf,i=ee();F("hasMinBetError",t.hasMinBetError)("challengeStatus",t.statusUpdate.challenge)("playerStatus",t.statusUpdate.player)("totalProgress",t.taskUpdate.totalProgress)("challengeName",i.challenge.config.name)("startDate",i.challenge.config.startDate)}}function UPe(n,e){if(1&n&&ce(0,"app-challenge-progress",4),2&n){const t=ee().ngIf,i=ee();F("challengeType",i.challengeConfig.typeUi)("hasMinBetError",t.hasMinBetError)("challengeStatus",t.statusUpdate.challenge)("playerStatus",t.statusUpdate.player)("totalProgress",t.taskUpdate.totalProgress)("challengeName",i.challenge.config.name)("startDate",i.challenge.config.startDate)}}function HPe(n,e){if(1&n&&(ft(0),te(1,LPe,1,6,"app-tournament-progress",1),te(2,UPe,1,7,"app-challenge-progress",2),gt()),2&n){const t=ee();S(1),F("ngIf",t.challengeConfig.typeUi===t.challengeTypeUI.TOURNAMENT),S(1),F("ngIf",t.challengeConfig.typeUi!==t.challengeTypeUI.TOURNAMENT)}}let jPe=(()=>{class n{constructor(t,i,r,s){this.task=t,this.minBetError=i,this.status=r,this.challenge=s,this.challengeTypeUI=Qi,this.data$=lc([this.task.update$,this.minBetError.update$,this.status.update$]).pipe(ke(([o,a,l])=>({taskUpdate:o,hasMinBetError:a,statusUpdate:l})))}get challengeConfig(){return this.challenge.config}}return n.\u0275fac=function(t){return new(t||n)(W(cg),W(M1),W(ug),W(fo))},n.\u0275cmp=rt({type:n,selectors:[["app-mission-progress"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate",4,"ngIf"],[3,"challengeType","hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate",4,"ngIf"],[3,"hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate"],[3,"challengeType","hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate"]],template:function(t,i){1&t&&(te(0,HPe,3,2,"ng-container",0),G(1,"async")),2&t&&F("ngIf",q(1,1,i.data$))},directives:[At,mPe,BPe],pipes:[Ki],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})();const GPe=["missionsContainerBorder"];let VPe=(()=>{class n{constructor(t,i,r,s){this.window=t,this.modalService=i,this.challenge=r,this.stomp=s,this.borderAnimation=ko.timeline({repeat:-1,repeatDelay:2,yoyo:!0})}ngOnInit(){this.window.manualEmitResizeEvent()}ngAfterViewInit(){this.startBorderAnimation()}showMissionDetails(){this.modalService.open(this.challenge.config.typeUi===Qi.TOURNAMENT?Vg:Gg),this.stomp.request(hs.MetricsChallengesModalOpen,{challengeId:this.challenge.config.challengeId})}startBorderAnimation(){this.borderAnimation.to(this.border.nativeElement,{opacity:1,duration:2,ease:"power2.inOut"})}ngOnDestroy(){this.borderAnimation.kill()}}return n.\u0275fac=function(t){return new(t||n)(W(Nv),W(vp),W(fo),W(Rs))},n.\u0275cmp=rt({type:n,selectors:[["app-mission"]],viewQuery:function(t,i){if(1&t&&Lr(GPe,5),2&t){let r;Kn(r=Jn())&&(i.border=r.first)}},decls:5,vars:0,consts:[[1,"d-flex","align-items-center"],[1,"missions-container"],[1,"missions-container-border"],["missionsContainerBorder",""],[3,"click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),ce(2,"div",2,3),D(4,"app-mission-progress",4),Ae("click",function(){return i.showMissionDetails()}),R()()())},directives:[jPe],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}[_nghost-%COMP%]{display:block}.missions-container[_ngcontent-%COMP%]{position:relative;flex-grow:1;max-width:100%;border-radius:64px;padding:2px;overflow:hidden;isolation:isolate}.missions-container-border[_ngcontent-%COMP%]{position:absolute;top:-4px;left:0;height:56px;width:100%;border-radius:64px;background:linear-gradient(89.17deg,#da612d 2.96%,#de224e 25.65%,#8535b3 51.19%,#6847f0 76.53%,#34b4ff 97.53%);opacity:0}"],changeDetection:0}),n})();function zPe(n,e){1&n&&ce(0,"app-mission",1)}let zg=class{constructor(e,t,i,r,s,o,a,l,c,u,d,b){this.app=e,this.stomp=t,this.urlParams=i,this.cd=r,this.challengeService=s,this.chatFeatureService=o,this.userService=a,this.ifc=l,this.configService=c,this.gameConfig=u,this.ticketsService=d,this.translate=b,this.connectorState=_u,this.isChallengeInited=!1}ngOnInit(){this.stomp.response(o0.Init).pipe(kt(this)).subscribe(t=>{var i;this.configService.init(t),this.isChallengeInited=!1,this.configService.isChallengesEnabled&&(this.stomp.registerResponseListeners(Object.values(es)),this.ticketsService.init(),this.stomp.request(hs.ChallengeInit,null)),(null===(i=this.gameConfig.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)&&this.configService.isChatEnabled&&(this.stomp.registerResponseListeners(Object.values(ps)),this.chatFeatureService.enableChat(),this.stomp.request(hs.ChatInit,null)),!this.configService.isChallengesEnabled&&!this.configService.isChatEnabled&&this.stomp.stompClient.deactivate(),this.cd.detectChanges()}),this.stomp.response(es.ChallengesInit).pipe(cn(t=>200===t.code),kt(this)).subscribe(t=>{this.isChallengeInited=t.challenges.length>0,this.cd.detectChanges()}),this.stomp.response(es.ChallengesAnnounce).pipe(kt(this)).subscribe(t=>{this.isChallengeInited=!!t,this.cd.detectChanges()}),this.stomp.response(o0.BalanceUpdate).pipe(kt(this)).subscribe(t=>{this.userService.balance=t.balance,this.ifc.send(Di.UpdateBalance,{amount:this.userService.balance})});const e={currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier,gameZone:this.app.clientConfig.ws.zone,lang:this.translate.getActiveLang()};this.urlParams.jurisdiction&&(e.jurisdiction=this.urlParams.jurisdiction),this.stomp.init(this.engagementTools.host+"/api/v1/public/et-player-stomp",e,Object.values(o0))}};function WPe(n,e){if(1&n){const t=_t();D(0,"div",5),Ae("click",function(){const s=ht(t).$implicit;return ee().mainService.checkFairness(s.roundId)}),U(1),G(2,"multiplierPrecision"),R()}if(2&n){const t=e.$implicit;S(1),ie(" ",q(2,1,t.maxMultiplier),"x ")}}zg.\u0275fac=function(e){return new(e||zg)(W(gr),W(Rs),W(ac),W(Fn),W(fo),W(Tl),W(fu),W(Xo),W(fz),W(Hn),W(Hv),W(sd))},zg.\u0275cmp=rt({type:zg,selectors:[["app-engagement-tool"]],inputs:{engagementTools:"engagementTools",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[["class","my-1",4,"ngIf"],[1,"my-1"]],template:function(e,t){1&e&&(te(0,zPe,1,0,"app-mission",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.challengeService.updateState$).isChallengeAvailable&&t.isChallengeInited)},directives:[At,VPe],pipes:[Ki],encapsulation:2,changeDetection:0}),zg=Ve([_i()],zg);let YPe=(()=>{class n{constructor(t){this.mainService=t}}return n.\u0275fac=function(t){return new(t||n)(W(Zr))},n.\u0275cmp=rt({type:n,selectors:[["app-stats-dropdown"]],inputs:{history:"history"},decls:7,vars:4,consts:[[1,"wrapper"],[1,"header"],[1,"text"],[1,"payouts-block"],["class","payout","appColoredMultiplier","",3,"click",4,"ngFor","ngForOf"],["appColoredMultiplier","",1,"payout",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"div",2),U(3),G(4,"transloco"),R()(),D(5,"div",3),te(6,WPe,3,3,"div",4),R()()),2&t&&(S(3),ie(" ",q(4,2,"shared.round_history")," "),S(3),F("ngForOf",i.history))},directives:[di,sh],pipes:[$t,qo],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:16px;background:#1b1c1d;box-shadow:0 0 4px #141414e0,0 0 0 2px #2c2d3066;margin:0 4px;padding:4px;width:100%}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;font-size:14px;padding:4px 8px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#a3a3a3;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;font-style:normal;font-weight:500;line-height:normal;letter-spacing:-.18px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;font-size:12px;padding:2px 4px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:inline-block;height:100%;padding:2px 4px;margin-right:4px;margin-top:4px;cursor:pointer}"],changeDetection:0}),n})();const XPe=["payoutsBlock"];function qPe(n,e){if(1&n){const t=_t();ft(0),D(1,"div",9),Ae("click",function(){const s=ht(t).$implicit;return ee().mainService.checkFairness(s.roundId)}),U(2),G(3,"multiplierPrecision"),R(),gt()}if(2&n){const t=e.$implicit;S(2),ie(" ",q(3,1,t.maxMultiplier),"x ")}}let $g=class{constructor(e,t,i,r,s,o){this.statsService=e,this.mainService=t,this.connector=i,this.builder=r,this.cd=s,this.ifcGameService=o,this.history=[]}ngOnInit(){this.history=this.statsService.history,this.connector.response(In.RoundChartInfo,200).pipe(kt(this)).subscribe(e=>{this.history=[e,...this.history.slice(0,59)],this.animate()}),this.ifcGameService.receive$(Ir.AviaPortToggleGameMenu).pipe(kt(this)).subscribe(()=>{this.dropdown.close()})}animate(){var e,t;null===(e=this.playerPayout)||void 0===e||e.destroy(),null===(t=this.playerContainer)||void 0===t||t.destroy(),this.cd.detectChanges();const i=this.payoutsBlock.nativeElement.firstElementChild.clientWidth,r=this.builder.build([Kc({transform:"scale(2)"}),I_("1s ease-in-out",Kc({transform:"scale(1)"}))]),s=this.builder.build([Kc({transform:`translateX(-${i}px)`}),I_("1s ease-in-out",Kc({transform:"translate(0)"}))]);this.playerPayout=r.create(this.payoutsBlock.nativeElement.firstElementChild),this.playerContainer=s.create(this.payoutsBlock.nativeElement),this.playerPayout.play(),this.playerContainer.play()}trackById(e,t){return t.roundId}ngOnDestroy(){var e,t;null===(e=this.playerPayout)||void 0===e||e.destroy(),null===(t=this.playerContainer)||void 0===t||t.destroy()}};function KPe(n,e){if(1&n&&(D(0,"div",14)(1,"div",6),U(2),G(3,"transloco"),R(),D(4,"div",7)(5,"div",15),U(6),R(),D(7,"div",16)(8,"div"),U(9," ("),D(10,"span"),U(11),G(12,"currencyPrecision"),R(),D(13,"span",17),U(14),R(),U(15,") "),R()()()()),2&n){const t=ee(2);S(2),ie(" ",q(3,4,"shared.ui-components.free-bet.Free bets available:")," "),S(4),ie(" ",t.freeBets.activeFreeBet.freeBetsLeft," "),S(5),nt(q(12,6,t.freeBets.activeFreeBet.freeBetsBetAmount)),S(3),nt(t.gameConfig.currency)}}function JPe(n,e){if(1&n){const t=_t();D(0,"div",18)(1,"div",19),U(2),G(3,"transloco"),R(),D(4,"div",20),Ae("click",function(){return ht(t),ee(2).onFinishFreeBets()}),U(5),G(6,"transloco"),R()()}if(2&n){const t=ee(2);S(2),ie(" ",q(3,4,"shared.ui-components.free-bet.All free bets spent!")," "),S(2),Et("disabled",t.uiDisabled),S(1),ie(" ",q(6,6,"shared.claim")," ")}}function QPe(n,e){if(1&n&&(ft(0),D(1,"span",6),U(2),G(3,"transloco"),R(),D(4,"span",21),U(5),G(6,"multiplierPrecision"),R(),gt()),2&n){const t=ee(2);S(2),ie(" ",q(3,2,"shared.ui-components.free-bet.Minimum cashout multiplier:")," "),S(3),ie(" ",q(6,4,t.freeBets.activeFreeBet.freeBetsMinCashOut)," X ")}}function ZPe(n,e){if(1&n){const t=_t();D(0,"div",1)(1,"div",2),te(2,KPe,16,8,"div",3),te(3,JPe,7,8,"div",4),D(4,"div",5)(5,"div",6)(6,"span"),U(7),G(8,"transloco"),R(),D(9,"span"),U(10),R()(),D(11,"div",7)(12,"span"),U(13),G(14,"currencyPrecision"),R()()()(),D(15,"div",8)(16,"div",9)(17,"div",10),te(18,QPe,7,6,"ng-container",11),R(),D(19,"div",12),Ae("click",function(){return ht(t),ee().onManagementClick()}),G(20,"async"),D(21,"span"),U(22),G(23,"transloco"),R(),ce(24,"div",13),R()()()()}if(2&n){const t=ee();S(2),F("ngIf",!t.isSpent),S(1),F("ngIf",t.isSpent),S(4),nt(q(8,9,"shared.win")),S(3),ie(" ",t.gameConfig.currency,""),S(3),ie(" ",q(14,11,t.freeBets.activeFreeBet.freeBetsWinSum)," "),S(5),F("ngIf",t.isShowMinCashOut),S(1),Et("disabled",q(20,13,t.betControl.betSetted$)||t.uiDisabled),S(3),nt(q(23,15,"shared.ui-components.free-bet.Manage"))}}$g.\u0275fac=function(e){return new(e||$g)(W(nz),W(Zr),W(tr),W(xI),W(Fn),W(Xo))},$g.\u0275cmp=rt({type:$g,selectors:[["app-stats-widget"]],viewQuery:function(e,t){if(1&e&&(Lr(XPe,7),Lr(tp,5)),2&e){let i;Kn(i=Jn())&&(t.payoutsBlock=i.first),Kn(i=Jn())&&(t.dropdown=i.first)}},decls:9,vars:3,consts:[["ngbDropdown","","placement","bottom-right",1,"stats"],[1,"payouts-wrapper"],[1,"payouts-block"],["payoutsBlock",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"button-block"],["ngbDropdownToggle","",1,"button"],[1,"button-icon"],["ngbDropdownMenu","",3,"history"],["appColoredMultiplier","",1,"payout",3,"click"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"div",1)(2,"div",2,3),te(4,qPe,4,3,"ng-container",4),R()(),D(5,"div",5)(6,"div",6),ce(7,"div",7),R()(),ce(8,"app-stats-dropdown",8),R()),2&e&&(S(4),F("ngForOf",t.history)("ngForTrackBy",t.trackById),S(4),F("history",t.history))},directives:[tp,di,sh,$2,YPe,QS],pipes:[qo],styles:["[_nghost-%COMP%]{width:100%;height:inherit}.stats[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;height:32px;width:100%;padding:4px;border-radius:16px}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%;padding:0 4px;overflow:hidden}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;margin-right:4px;padding:2px 4px;position:relative;z-index:1;cursor:pointer;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;font-weight:500;letter-spacing:-.18px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{margin:0 4px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;height:16px;padding:0 4px;border-radius:32px;background:#2c2d30;z-index:1;cursor:pointer;box-shadow:-4px 0 10px 10px #0e0e0e}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:16px;height:16px;background:url(show-more-icon.fdfdd113d7f9573e.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{z-index:1001;box-shadow:unset}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{background:url(close-icon.877b06e232871c85.svg) no-repeat center center/contain}.dropdown-menu.show[_ngcontent-%COMP%]{width:100%;background-color:transparent;background-color:initial;color:inherit;border:unset;margin:-24px 0 0 4px;padding:0;overflow:visible}"],changeDetection:0}),$g=Ve([_i()],$g);let Wg=class{constructor(e,t,i,r,s,o){this.gameConfig=e,this.mainService=t,this.freeBets=i,this.betControl=r,this.cd=s,this.audioService=o,this.uiDisabled=!1,this.freeBets.onActivate$.pipe(kt(this)).subscribe(()=>{this.uiDisabled=!1,this.cd.markForCheck()}),this.freeBets.onUpdate$.pipe(kt(this)).subscribe(()=>{this.cd.markForCheck()})}get isSpent(){var e,t;return void 0===(null===(e=this.freeBets.activeFreeBet)||void 0===e?void 0:e.canClaim)?0===(null===(t=this.freeBets.activeFreeBet)||void 0===t?void 0:t.freeBetsLeft):0===this.freeBets.activeFreeBet.freeBetsLeft&&this.freeBets.activeFreeBet.canClaim}onManagementClick(){!1===this.betControl.isBetSetted&&this.freeBets.onManage()}onFinishFreeBets(){this.audioService.play(ta.Sound,Ao.FreeBet),this.uiDisabled=!0,this.freeBets.onClaim()}get isShowMinCashOut(){const e=this.freeBets.activeFreeBet;return!!e&&e.freeBetsMinCashOut>1.01}};Wg.\u0275fac=function(e){return new(e||Wg)(W(Hn),W(Zr),W(od),W(ad),W(Fn),W(qh))},Wg.\u0275cmp=rt({type:Wg,selectors:[["app-free-bet"]],decls:1,vars:1,consts:[["class","free-bet-wrapper",4,"ngIf"],[1,"free-bet-wrapper"],[1,"free-bet"],["class","bets",4,"ngIf"],["class","bets bets-spent",4,"ngIf"],[1,"win"],[1,"label"],[1,"value"],[1,"min-cashout"],[1,"content"],[1,"info"],[4,"ngIf"],[1,"manage",3,"click"],[1,"manage-i"],[1,"bets"],[1,"amount"],[1,"bet"],[1,"currency"],[1,"bets","bets-spent"],[1,"label","font-weight-bold"],[1,"btn","btn-success","btn-continue","text-uppercase",3,"click"],[1,"value","font-weight-bold"]],template:function(e,t){1&e&&te(0,ZPe,25,17,"div",0),2&e&&F("ngIf",t.freeBets.activeFreeBet)},directives:[At],pipes:[$t,Zn,qo,Ki],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.free-bet-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;top:-20px;left:50%;width:100%;max-width:350px;transform:translate(-50%)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]{z-index:1;position:relative;display:flex;align-items:center;justify-content:space-between;background-image:linear-gradient(80deg,#e50539,#df0000);height:62px;width:100%;border-radius:26px;padding:0 5px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{font-weight:700;display:flex;width:calc(100% - 140px);justify-content:space-between}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px;max-width:150px;font-size:14px;line-height:14px;text-align:center;display:flex;align-items:center;word-break:break-word}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:24px;line-height:24px;display:flex;justify-content:center;align-items:center;margin:0 5px 0 10px;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{font-size:12px;line-height:12px;display:flex;align-items:center;white-space:nowrap}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px;margin-left:4px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:unset;margin-bottom:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;line-height:15px;cursor:pointer;border-radius:10px;min-width:120px;height:20px;text-shadow:0 1px 2px rgba(0,0,0,.5);border:0;box-shadow:0 10px 15px -10px #28a909,inset 0 1px 1px #ffffff80;display:flex;flex-direction:column;justify-content:center;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{color:#fff}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.disabled):active{transform:translateY(2px)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;height:46px;border-radius:22.5px;display:flex;align-items:center;overflow:hidden;width:140px;justify-content:center;background-size:cover;background:url(free-bet-win-bg.99e164c2610ba4ce.svg) no-repeat;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:16px;line-height:16px;font-weight:700}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(40%);width:100%;display:flex;justify-content:center;align-items:flex-end;background-color:#3e4149;height:76px;border-radius:16px;left:0;padding-bottom:6px;font-size:14px;line-height:14px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:20px;width:100%;display:flex;align-items:center;padding:2px 6px 0 12px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{height:20px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#d2d2d2;font-size:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;text-shadow:none;margin-left:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]{margin-left:auto;width:auto;color:#d2d2d2;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]   .manage-i[_ngcontent-%COMP%]{margin-left:5px;width:20px;height:20px;border-radius:50%;background:#1d1f25 url(manage.b3ac02b635f537c6.svg) no-repeat center center}@media (min-width: 576px){.free-bet-wrapper[_ngcontent-%COMP%]{top:0}}"],changeDetection:0}),Wg=Ve([_i()],Wg);var Fp,ex,qW,Pc,E1,KW,Tk,Mk,ix,O1,x1=(()=>(function(n){n.onLockBets="onLockBets",n.onAddChatMsg="onAddChatMsg"}(x1||(x1={})),x1))(),JW=function(){return"undefined"!=typeof window},QW=function(){return Fp||JW()&&(Fp=window.gsap)&&Fp.registerPlugin&&Fp},xk=function(e){return"function"==typeof e},ZW=function(e){return console.warn(e)},eIe=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Ic=.212671,Ac=.71516,Dc=.072169,eY=function(e){return xk(Pc[e])?Pc[e]:Pc.filters[e]},tx=function(e,t){var o,a,i=[],r=0;for(o=0;o<4;o++){for(a=0;a<5;a++)i[r+a]=e[r]*t[a]+e[r+1]*t[a+5]+e[r+2]*t[a+10]+e[r+3]*t[a+15]+(4===a?e[r+4]:0);r+=5}return i},tY=function(e,t){var i=1-t,r=i*Ic,s=i*Ac,o=i*Dc;return tx([r+t,s,o,0,0,r,s+t,o,0,0,r,s,o+t,0,0,0,0,0,1,0],e)},nY=function(e,t,i){var r=ex(t),s=r[0]/255,o=r[1]/255,a=r[2]/255,l=1-i;return tx([l+i*s*Ic,i*s*Ac,i*s*Dc,0,0,i*o*Ic,l+i*o*Ac,i*o*Dc,0,0,i*a*Ic,i*a*Ac,l+i*a*Dc,0,0,0,0,0,1,0],e)},iY=function(e,t){t*=Math.PI/180;var i=Math.cos(t),r=Math.sin(t);return tx([Ic+i*(1-Ic)+r*-Ic,Ac+i*-Ac+r*-Ac,Dc+i*-Dc+r*(1-Dc),0,0,Ic+i*-Ic+.143*r,Ac+i*(1-Ac)+.14*r,Dc+i*-Dc+-.283*r,0,0,Ic+i*-Ic+r*-(1-Ic),Ac+i*-Ac+r*Ac,Dc+i*(1-Dc)+r*Dc,0,0,0,0,0,1,0,0,0,0,0,1],e)},rY=function(e,t){return tx([t,0,0,0,.5*(1-t),0,t,0,0,.5*(1-t),0,0,t,0,.5*(1-t),0,0,0,1,0],e)},sY=function(e,t){var o,i=eY(t),r=e.filters||[],s=r.length;for(i||ZW(t+" not found. PixiPlugin.registerPIXI(PIXI)");--s>-1;)if(r[s]instanceof i)return r[s];return o=new i,"BlurFilter"===t&&(o.blur=0),r.push(o),e.filters=r,o},bo=function(e,t,i,r){t.add(i,e,i[e],r[e]),t._props.push(e)},oY=function(e,t){var r=new(eY("ColorMatrixFilter"));return r.matrix=t,r.brightness(e,!0),r.matrix},Bl={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},nIe=function(e,t,i){var a,l,c,r=sY(e,"ColorMatrixFilter"),s=e._gsColorMatrixFilter=e._gsColorMatrixFilter||function(e){var i,t={};for(i in e)t[i]=e[i];return t}(Bl),o=t.combineCMF&&!("colorMatrixFilter"in t&&!t.colorMatrixFilter);for((c=r.matrix,t.resolution&&(r.resolution=t.resolution),t.matrix&&t.matrix.length===c.length?(l=t.matrix,1!==s.contrast&&bo("contrast",i,s,Bl),s.hue&&bo("hue",i,s,Bl),1!==s.brightness&&bo("brightness",i,s,Bl),s.colorizeAmount&&(bo("colorize",i,s,Bl),bo("colorizeAmount",i,s,Bl)),1!==s.saturation&&bo("saturation",i,s,Bl)):(l=eIe.slice(),null!=t.contrast?(l=rY(l,+t.contrast),bo("contrast",i,s,t)):1!==s.contrast&&(o?l=rY(l,s.contrast):bo("contrast",i,s,Bl)),null!=t.hue?(l=iY(l,+t.hue),bo("hue",i,s,t)):s.hue&&(o?l=iY(l,s.hue):bo("hue",i,s,Bl)),null!=t.brightness?(l=oY(+t.brightness,l),bo("brightness",i,s,t)):1!==s.brightness&&(o?l=oY(s.brightness,l):bo("brightness",i,s,Bl)),null!=t.colorize?(t.colorizeAmount="colorizeAmount"in t?+t.colorizeAmount:1,l=nY(l,t.colorize,t.colorizeAmount),bo("colorize",i,s,t),bo("colorizeAmount",i,s,t)):s.colorizeAmount&&(o?l=nY(l,s.colorize,s.colorizeAmount):(bo("colorize",i,s,Bl),bo("colorizeAmount",i,s,Bl))),null!=t.saturation?(l=tY(l,+t.saturation),bo("saturation",i,s,t)):1!==s.saturation&&(o?l=tY(l,s.saturation):bo("saturation",i,s,Bl))),a=l.length);--a>-1;)l[a]!==c[a]&&i.add(c,a,c[a],l[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},iIe=function(e,t){var s=t.color;(0,t.set)(t.t,t.p,s[0]<<16|s[1]<<8|s[2])},rIe=function(e,t){var i=t.g;Mk?(i.fill(),i.stroke()):i&&(i.dirty++,i.clearDirty++)},sIe=function(e,t){t.t.visible=!!t.t.alpha},aY=function(e,t,i,r){var s=e[t],o=ex(xk(s)?e[t.indexOf("set")||!xk(e["get"+t.substr(3)])?t:"get"+t.substr(3)]():s),a=ex(i);r._pt=new E1(r._pt,e,t,0,0,iIe,{t:e,p:t,color:o,set:KW(e,t)}),r.add(o,0,o[0],a[0]),r.add(o,1,o[1],a[1]),r.add(o,2,o[2],a[2])},oIe={tint:1,lineColor:1,fillColor:1,strokeColor:1},lY="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),Ek={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},aIe={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},nx=Math.PI/180,cY=function(e){return"string"==typeof e},lIe=function(e){return cY(e)&&"="===e.charAt(1)?e.substr(0,2)+parseFloat(e.substr(2))*nx:e*nx},cIe=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e5*(t.s+t.c*e))/1e5,t)},uIe=function(e,t,i,r,s,o){var C,M,a=360*(o?nx:1),l=cY(s),c=l&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0,u=parseFloat(c?s.substr(2):s)*(o?nx:1),d=c?u*c:u-r,b=r+d;return l&&("short"===(C=s.split("_")[1])&&(d%=a)!=d%(a/2)&&(d+=d<0?a:-a),"cw"===C&&d<0?d=(d+1e10*a)%a-~~(d/a)*a:"ccw"===C&&d>0&&(d=(d-1e10*a)%a-~~(d/a)*a)),e._pt=M=new E1(e._pt,t,i,r,d,cIe),M.e=b,M},uY=function(){if(!qW){Fp=QW();var e=(Pc=qW=Pc||JW()&&window.PIXI)&&Pc.VERSION&&parseFloat(Pc.VERSION.split(".")[0])||0;Tk=4===e,Mk=e>=8,ex=function(i){return Fp.utils.splitColor("0x"===(i+"").substr(0,2)?"#"+i.substr(2):i)}}};for(ix=0;ix<lY.length;ix++)Ek[(O1=lY[ix])+"X"]=O1,Ek[O1+"Y"]=O1;var Ok={version:"3.12.7",name:"pixi",register:function(e,t,i){Fp=e,E1=i,KW=t.getSetter,uY()},headless:!0,registerPIXI:function(e){Pc=e},init:function(e,t,i,r,s){if(Pc||uY(),!Pc)return ZW("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,a,l,c,u,d,b,C,M,I;for(d in t){if(l=t[d],o=Ek[d])a=~d.charAt(d.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],a,e[o][a],"skew"===o?lIe(l):l,0,0,0,0,0,1);else if("scale"===d||"anchor"===d||"pivot"===d||"tileScale"===d)this.add(e[d],"x",e[d].x,l),this.add(e[d],"y",e[d].y,l);else if("rotation"===d||"angle"===d)uIe(this,e,d,e[d],l,"rotation"===d);else if(aIe[d])c||(nIe(e,t.colorMatrixFilter||t,this),c=!0);else if("blur"===d||"blurX"===d||"blurY"===d||"blurPadding"===d){if(u=sY(e,"BlurFilter"),this.add(u,d,u[d],l),0!==t.blurPadding)for(b=t.blurPadding||2*Math.max(u[d],l),C=e.filters.length;--C>-1;)e.filters[C].padding=Math.max(e.filters[C].padding,b)}else if(oIe[d])if(("lineColor"===d||"fillColor"===d||"strokeColor"===d)&&e instanceof Pc.Graphics)for((M="fillStyle"in e?[e]:(e.geometry||e).graphicsData,I=d.substr(0,d.length-5),Mk&&"line"===I&&(I="stroke"),this._pt=new E1(this._pt,e,d,0,0,rIe,{g:e.geometry||e}),C=M.length);--C>-1;)aY(Tk?M[C]:M[C][I+"Style"],Tk?d:"color",l,this);else aY(e,d,l,this);else"autoAlpha"===d?(this._pt=new E1(this._pt,e,"visible",0,0,sIe),this.add(e,"alpha",e.alpha,l),this._props.push("alpha","visible")):"resolution"!==d&&this.add(e,d,"get",l);this._props.push(d)}}};QW()&&Fp.registerPlugin(Ok);var wu=(()=>(function(n){n.None="none",n.Power1_easeOut="Power1.easeOut",n.Power1_easeInOut="Power1.easeInOut"}(wu||(wu={})),wu))();let vo=(()=>{class n{static init(){ko.registerPlugin(Ok),Ok.registerPIXI(E)}static isTweening(t){return ko.isTweening(t)}static killTweensOf(t){ko.killTweensOf(t)}}return n.gsap=ko,n})();class rx{constructor(e,t,i=60){this.zone=e,this.resolution=devicePixelRatio||1,this.__render=()=>{this.app.ticker.update()},this.app?this.restoreApp(t,i):this.createApp(t,i)}restoreApp(e,t){this.app.renderer.resolution=this.resolution,this.app.stage=new vr,this.app.resizeTo=e,this.zone.runOutsideAngular(()=>{vo.gsap.ticker.fps(t),vo.gsap.ticker.add(this.__render)})}createApp(e,t){vo.init();const i={antialias:!0,autoDensity:!0,resolution:this.resolution},r=Lt.WHITE.baseTexture.resource.source.getContext("2d");null==r||r.fillRect(0,0,1,1),this.zone.runOutsideAngular(()=>{rx._app=new yD(Object.assign(Object.assign({},i),{resizeTo:e})),this.app.ticker.stop(),vo.gsap.ticker.fps(t),vo.gsap.ticker.add(this.__render)})}get app(){return rx._app}get stage(){return this.app.stage}get view(){return this.app.view}get appWidth(){return this.app.view.width/this.resolution}get appHeight(){return this.app.view.height/this.resolution}destroy(){vo.gsap.ticker.remove(this.__render),this.app.resizeTo=null,this.stage.destroy({children:!0})}}class dIe extends vr{constructor(){super(),this.isAnimation=!0,this.circle=new Ds(Lt.from("bg")),this.circle.anchor.set(.5),this.addChild(this.circle),this.tween=ko.to(this.circle,{duration:36,angle:360,repeat:-1,ease:wu.None}),this.tween.pause()}resize(){this.y=Wn.appHeight,this.x=0,this.circle.width=this.circle.height=this.getSizeOfOriginCenteredCircle()}getSizeOfOriginCenteredCircle(){return 2*this.getDiameterOfCircumcircleOfRectangle(Wn.appWidth,Wn.appHeight)}getDiameterOfCircumcircleOfRectangle(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}onRunningState(e=!0){if(e){if(!this.isAnimation)return;this.tween.resume()}else this.tween.pause()}onEndingState(){this.onRunningState(!1)}setAnimation(e,t){this.isAnimation=e,this.onRunningState(e&&t)}destroy(){vo.killTweensOf(this.circle),super.destroy()}}class hIe extends vr{constructor(){super(),this.curve=new mc,this.gradient=new mc,this.PLANE_MARGIN_LEFT=21,this.PLANE_MARGIN_BOTTOM=7,this.CURVE_WIDTH=4,this.CURVE_COLOR=_c("#f00b3e"),this.GRADIENT_COLOR=_c("#d0021b"),this.MOUNT_TIME=8,this.GLIDE_TIME=4,this.CONTROL_POINT_X_PERCENT=.5,this.MOUNT_POINT_OFFSET_PLANE_SCALE={x:1.5,y:1},this.GLIDE_POINT_OFFSET_PLANE_SCALE={x:1,y:3},this.startPoint={x:0,y:0},this.controlPoint={x:0,y:0},this.endPoint={x:0,y:0},this.mountPoint={x:0,y:0},this.glidePoint={x:0,y:0},this.draw=()=>{this.plane.x=this.endPoint.x,this.plane.y=this.endPoint.y,this.controlPoint.x=this.CONTROL_POINT_X_PERCENT*this.endPoint.x,this.curve.clear().lineStyle(this.CURVE_WIDTH,this.CURVE_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y),this.gradient.clear().beginFill(this.GRADIENT_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y).lineTo(this.endPoint.x,this.startPoint.y).lineTo(this.startPoint.x,this.startPoint.y)},this.timeLineMount=vo.gsap.timeline({onUpdate:this.draw}),this.timeLineMain=vo.gsap.timeline();const e=[];for(let t=0;t<4;t++)e.push(Lt.from(`plane-${t}`));this.plane=new Sv(e),this.plane.animationSpeed=.125,this.plane.play(),this.plane.anchor.x=.14,this.plane.anchor.y=.9,this.plane.visible=!1,this.calculatePlaneScale(),this.resize(),this.gradient.alpha=.5,this.addChild(this.gradient,this.curve,this.plane)}get initialPlaneX(){return this.PLANE_MARGIN_LEFT}get initialPlaneY(){return Wn.appHeight-this.PLANE_MARGIN_BOTTOM}onRunningState(e){this.playTimeLine(e)}onBettingState(){this.reset(),this.calculatePlaneScale(),this.plane.visible=!0}onEndingState(){vo.killTweensOf(this.plane),this.clearShape();const e={duration:.5,x:Wn.appWidth+this.plane.getLocalBounds().width,y:this.plane.y-200,ease:wu.None};ko.to(this.plane,e).then(()=>{this.plane.visible=!1})}calculatePlaneScale(){let e=Wn.appWidth/900;e<1?e=Math.max(.65,e):e>1&&(e=Math.min(1,e)),this.plane.width=this.plane.getLocalBounds().width*e,this.plane.height=this.plane.getLocalBounds().height*e}playTimeLine(e){const t=e?e/1e3:this.timeLineMain.time();this.reset(),this.plane.visible=!0,this.timeLineMount.clear().to(this.endPoint,{x:this.mountPoint.x,ease:wu.Power1_easeOut,duration:this.MOUNT_TIME},0).to(this.endPoint,{y:this.mountPoint.y,ease:wu.Power1_easeInOut,duration:this.MOUNT_TIME},0),this.timeLineMain.clear().add(this.timeLineMount).to(this.endPoint,{x:this.glidePoint.x,y:this.glidePoint.y,ease:wu.Power1_easeInOut,repeat:-1,yoyo:!0,duration:this.GLIDE_TIME,onUpdate:this.draw}).time(t)}resize(){this.calculatePlaneScale(),this.startPoint.y=Wn.appHeight,this.endPoint.x=this.plane.x=this.initialPlaneX,this.endPoint.y=this.plane.y=this.initialPlaneY,this.controlPoint.y=this.startPoint.y,this.mountPoint.x=Math.max(Wn.appWidth-this.MOUNT_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.mountPoint.y=Math.min(this.MOUNT_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.glidePoint.x=Math.max(Wn.appWidth-this.GLIDE_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.glidePoint.y=Math.min(this.GLIDE_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.timeLineMain.isActive()?this.playTimeLine():this.clearShape()}clearShape(){this.curve.clear(),this.gradient.clear(),this.timeLineMain.clear(),this.endPoint.x=this.initialPlaneX,this.endPoint.y=this.initialPlaneY}reset(){this.plane.x=this.initialPlaneX,this.plane.y=this.initialPlaneY,this.plane.visible=!1,vo.killTweensOf(this.plane),this.clearShape()}destroy(){this.reset(),super.destroy()}}function dY(n,e){const i=Object.assign(Object.assign({},{fontFamily:"Inter",fontSize:12,fill:16777215,align:"center"}),e);return new dv(n,i)}var bh=(()=>(function(n){n.General="general",n.Multiplier="multiplier"}(bh||(bh={})),bh))();class pIe extends vr{constructor(e){super(),this.translate=e,this.COEFFICIENT_DEFAULT_COLOR=_c("#ffffff"),this.COEFFICIENT_END_COLOR=_c("#d0021b"),this.COEFFICIENT_SIZE={[Ri.sm]:68,[Ri.md]:78,[Ri.lg]:100},this.FLEW_AWAY_SIZE={[Ri.sm]:20,[Ri.md]:26,[Ri.lg]:36},this.coefficient=new xv("1.00x",{fontName:bh.Multiplier,fontSize:this.COEFFICIENT_SIZE[Wn.breakpoint]}),this.coefficient.roundPixels=!0,this.addChild(this.coefficient),this.flewAway=dY(this.translate.translate("canvas.flew_away"),{fontSize:this.FLEW_AWAY_SIZE[Wn.breakpoint],fontFamily:th.Base,padding:2}),this.flewAway.visible=!1,this.flewAway.roundPixels=!0,this.addChild(this.flewAway),this.visible=!1,this.resize()}onRunningState(e){this.coefficient.tint=this.COEFFICIENT_DEFAULT_COLOR,this.flewAway.visible=!1,this.visible=!0,this.updateMultiplier(e)}onBettingState(){this.flewAway.visible=!1,this.visible=!1}onEndingState(){this.flewAway.visible=!0,this.coefficient.tint=this.COEFFICIENT_END_COLOR}updateMultiplier(e){const t=dw(e,"en_US","1.2-2");this.coefficient.text=t+"x",this.coefficient.x=Wn.appWidth/2-this.coefficient.width/2}resize(){this.coefficient.fontSize=this.COEFFICIENT_SIZE[Wn.breakpoint],this.coefficient.x=Wn.appWidth/2-this.coefficient.width/2,this.coefficient.y=Wn.appHeight/2-this.coefficient.height/2,this.flewAway.style.fontSize=this.FLEW_AWAY_SIZE[Wn.breakpoint],this.flewAway.x=Wn.appWidth/2-this.flewAway.width/2,this.flewAway.y=this.coefficient.y-this.flewAway.height}destroy(e){super.destroy(e)}}class Bp extends vr{constructor(){super(),this.interval=100,this.icon=new Ds(Lt.from("icon-login-timer")),this.icon.width=12,this.icon.height=14,this.addChild(this.icon),this.time=new xv("00:00:00",{fontName:bh.General,tint:_c("#929294")}),this.time.x=15,this.time.y=-1,this.addChild(this.time),this.timerRunner(),this.intervalRef=window.setInterval(()=>this.timerRunner(),this.interval)}timerRunner(){const e=Math.floor(Date.now());Bp.startTime||(Bp.startTime=e,Bp.previousTimeStamp=e,this.time.text=this.msToTime(0)),e-Bp.previousTimeStamp>=1e3&&(this.time.text=this.msToTime(e-Bp.startTime),Bp.previousTimeStamp=e)}msToTime(e){const t=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),r=Math.floor(e/36e5);return(r<10?`0${r}:`:`${r}:`)+(i<10?`0${i}:`:`${i}:`)+(t<10?`0${t}`:`${t}`)}destroy(){super.destroy(),clearInterval(this.intervalRef)}}class fIe extends vr{constructor(){super(),this.interval=1e3,this.icon=new Ds(Lt.from("icon-clock")),this.icon.width=this.icon.height=14,this.addChild(this.icon),this.time=new xv(this.getTime(new Date),{fontName:bh.General,tint:_c("#929294")}),this.time.x=17,this.time.y=-1,this.addChild(this.time),Sk(this.interval).pipe(kt(this,"destroy")).subscribe(()=>this.time.text=this.getTime(new Date))}getTime(e){const t=e.getHours(),i=e.getMinutes();return`${t<10?`0${t}`:`${t}`}:${i<10?`0${i}`:`${i}`}`}destroy(){super.destroy()}}class gIe extends vr{constructor(e){super(),this.multiplier=e,this.blur=new Ds(Lt.from("multiplier-bg-blur")),this.blur.tint=this.multiplier.levelColor.getHex(ld.Low),vo.gsap.to(this.blur,{alpha:0}),this.addChild(this.blur)}onBettingState(){vo.gsap.to(this.blur,{alpha:0})}onRunningState(e){this.blur.tint=this.multiplier.levelColor.getHex(e),vo.gsap.to(this.blur,{alpha:1,duration:1})}onMultiplierChange(e){this.isTweenNeeded(e)&&vo.gsap.to(this.blur,.5,{pixi:{tint:this.multiplier.levelColor.getHex(e)}})}isTweenNeeded(e){return!vo.isTweening(this.blur)&&this.isColorChangeNeeded(e)}isColorChangeNeeded(e){return this.blur.tint!==this.multiplier.levelColor.getHex(e)}onEndingState(){vo.gsap.to(this.blur,{alpha:0,duration:1})}resize(){this.scale.x=Wn.appWidth/this.blur.getLocalBounds().width,this.scale.y=Wn.appHeight/this.blur.getLocalBounds().height}destroy(e){super.destroy(e),vo.killTweensOf(this.blur)}}class mIe extends vr{constructor(e,t,i){super(),this.netSessionService=e,this.gameConfig=t,this.currencyPrecisionPipe=i,this.icon=new Ds(Lt.from("icon-up-down")),this.icon.width=13,this.icon.height=14,this.addChild(this.icon),this.amount=new xv("",{fontName:bh.General,tint:_c("#929294")}),this.amount.x=this.icon.width+3,this.amount.y=-1,this.addChild(this.amount),this.netSessionService.changed.pipe(kt(this,"destroy")).subscribe(r=>this.onChangeNet(r))}onChangeNet(e){this.amount.text=`${this.getSign(e)}${this.currencyPrecisionPipe.transform(e)} ${this.gameConfig.currency}`}getSign(e){return e>0?"+":""}destroy(){super.destroy()}}class _Ie extends vr{constructor(){super(),this.centerContainer=new vr,this.timerContainer=new vr,this.PARTNERS_LOGO_HEIGHT={[Ri.sm]:59,[Ri.md]:59,[Ri.lg]:118},this.PARTNERS_LOGO_WIDTH={[Ri.sm]:150,[Ri.md]:150,[Ri.lg]:300},this.OFFICIAL_HEIGHT=74,this.OFFICIAL_WIDTH=106,this.OFFICIAL_MARGIN_TOP={[Ri.sm]:8,[Ri.md]:8,[Ri.lg]:16},this.timeoutRef=0,this.TIMER_HEIGHT=4,this.TIMER_WIDTH=200,this.TIMER_RADIUS=4,this.TIMER_COLOR=_c("#262830"),this.TIMER_BAR_COLOR=_c("#e50539"),this.TIMER_MARGIN_TOP={[Ri.sm]:8,[Ri.md]:8,[Ri.lg]:16},this.visible=!1,this.addChild(this.centerContainer),this.partnersLogo=new Ds(Lt.from("partners-logo")),this.partnersLogo.anchor.x=.5,this.centerContainer.addChild(this.partnersLogo),this.centerContainer.addChild(this.timerContainer),this.timer=new mc,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.timerContainer.addChild(this.timer),this.timerBar=new mc,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.timerContainer.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.timerBar.mask=this.timerBarMask,this.timerBarTween=ko.to(this.timerBar,{duration:0,x:()=>`-=${this.TIMER_WIDTH}`,ease:wu.None}),this.timerContainer.addChild(this.timerBarMask),this.official=new Ds(Lt.from("official")),this.official.anchor.x=.5,this.official.width=this.OFFICIAL_WIDTH,this.official.height=this.OFFICIAL_HEIGHT,this.centerContainer.addChild(this.official),this.resize()}onBettingState(e,t){return clearTimeout(this.timeoutRef),this.visible=!0,this.timerBarTween.pause((t-e)/1e3).duration(t/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},e)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.timerBarTween.pause(0)}resize(){this.partnersLogo.width=this.PARTNERS_LOGO_WIDTH[Wn.breakpoint],this.partnersLogo.height=this.PARTNERS_LOGO_HEIGHT[Wn.breakpoint],this.timer.x=this.timerBar.x=this.timerBarMask.x=0,this.timer.y=this.timerBar.y=this.timerBarMask.y=this.partnersLogo.y+this.partnersLogo.height+this.TIMER_MARGIN_TOP[Wn.breakpoint],this.timerContainer.pivot.x=this.timerContainer.width/2,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play(),this.official.y=this.timer.y+this.timer.height+this.OFFICIAL_MARGIN_TOP[Wn.breakpoint],this.centerContainer.x=Wn.appWidth/2,this.centerContainer.y=Wn.appHeight/2-this.centerContainer.height/2}destroy(){clearTimeout(this.timeoutRef),this.timerBarTween.kill(),super.destroy()}}class yIe extends vr{constructor(e){super(),this.translate=e,this.PROP_SIZE={[Ri.sm]:50,[Ri.md]:90,[Ri.lg]:120},this.TEXT_WAITING_MARGIN_TOP=10,this.TEXT_WAITING_SIZE={[Ri.sm]:20,[Ri.md]:26,[Ri.lg]:36},this.timeoutRef=0,this.TIMER_MARGIN_TOP=16,this.TIMER_HEIGHT={[Ri.sm]:4,[Ri.md]:6,[Ri.lg]:8},this.TIMER_WIDTH={[Ri.sm]:100,[Ri.md]:150,[Ri.lg]:200},this.TIMER_RADIUS=4,this.TIMER_COLOR=_c("#262830"),this.TIMER_BAR_COLOR=_c("#e50539"),this.visible=!1,this.prop=new Ds(Lt.from("prop")),this.prop.anchor.set(.5),this.addChild(this.prop),this.propTween=ko.to(this.prop,{duration:1.4,angle:360,repeat:-1,ease:wu.None}),this.propTween.pause(),this.textWaiting=dY(this.translate.translate("shared.WAITING_FOR_NEXT_ROUND"),{fontSize:this.TEXT_WAITING_SIZE[Wn.breakpoint],fontFamily:th.Base,padding:2}),this.textWaiting.roundPixels=!0,this.addChild(this.textWaiting),this.timer=new mc,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[Wn.breakpoint],this.TIMER_HEIGHT[Wn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timer),this.timerBar=new mc,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[Wn.breakpoint],this.TIMER_HEIGHT[Wn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.addChild(this.timerBarMask),this.timerBar.mask=this.timerBarMask,this.timerBarTween=ko.to(this.timerBar,{duration:0,x:()=>`-=${this.TIMER_WIDTH[Wn.breakpoint]}`,ease:wu.None}),this.resize()}onBettingState(e,t){return clearTimeout(this.timeoutRef),this.visible=!0,this.propTween.resume(),this.timerBarTween.pause((t-e)/1e3).duration(t/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},e)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.propTween.pause(),this.timerBarTween.pause(0)}resize(){this.prop.width=this.prop.height=this.PROP_SIZE[Wn.breakpoint],this.timer.width=this.timerBar.width=this.timerBarMask.width=this.TIMER_WIDTH[Wn.breakpoint],this.timer.height=this.timerBar.height=this.timerBarMask.height=this.TIMER_HEIGHT[Wn.breakpoint],this.textWaiting.style.fontSize=this.TEXT_WAITING_SIZE[Wn.breakpoint],this.prop.x=Wn.appWidth/2,this.prop.y=Wn.appHeight/2-(this.TEXT_WAITING_MARGIN_TOP+this.textWaiting.height+this.TIMER_MARGIN_TOP+this.timer.height)/2,this.textWaiting.x=Wn.appWidth/2-this.textWaiting.width/2,this.textWaiting.y=this.prop.y+this.prop.height/2+this.TEXT_WAITING_MARGIN_TOP;const t=this.textWaiting.y+this.textWaiting.height+this.TIMER_MARGIN_TOP;this.timer.x=this.timerBar.x=this.timerBarMask.x=Wn.appWidth/2-this.timer.width/2,this.timer.y=this.timerBar.y=this.timerBarMask.y=t,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play()}destroy(){clearTimeout(this.timeoutRef),this.propTween.kill(),this.timerBarTween.kill(),super.destroy()}}class bIe extends rx{constructor(e,t,i,r,s,o,a){super(t,e),this.el=e,this.zone=t,this.gameConfig=i,this.multiplierService=r,this.translateService=s,this.netSessionService=o,this.currencyPrecisionPipe=a,Wn.updateSize(this.appWidth,this.appHeight),this.setupBitmapFonts(),this.background=new dIe,this.background.y=Wn.appHeight,this.background.x=0,this.background.resize(),this.stage.addChild(this.background),this.multiplierBackground=new gIe(this.multiplierService),this.stage.addChild(this.multiplierBackground),this.graph=new hIe,this.stage.addChild(this.graph),this.betTimer=this.gameConfig.isBetTimerBranded?new _Ie:new yIe(this.translateService),this.stage.addChild(this.betTimer),this.multiplier=new pIe(this.translateService),this.stage.addChild(this.multiplier),this.gameConfig.isLoginTimer&&(this.loginTimer=new Bp,this.stage.addChild(this.loginTimer)),this.gameConfig.isClockVisible&&(this.clock=new fIe,this.stage.addChild(this.clock)),this.gameConfig.isNetSessionEnabled&&(this.netSession=new mIe(this.netSessionService,this.gameConfig,this.currencyPrecisionPipe),this.stage.addChild(this.netSession))}setupBitmapFonts(){du.from(bh.General,{fontSize:12,fontWeight:"400",fill:16777215,fontFamily:th.Base},{chars:[["0","9"],["A","Z"]," +-.:"],resolution:this.resolution});try{this.setupMultiplierFont(100)}catch(e){this.setupMultiplierFont(80,1024)}}setupMultiplierFont(e,t=512){du.from(bh.Multiplier,{fontSize:e,fontWeight:"700",fill:16777215,fontFamily:th.Base},{chars:"0123456789,.x",resolution:this.resolution,textureHeight:t})}onBettingState(e,t){return this.multiplierBackground.onBettingState(),this.multiplier.onBettingState(),this.graph.onBettingState(),this.betTimer.onBettingState(e,t)}onRunningState(e){this.multiplierBackground.onRunningState(e),this.multiplier.onRunningState(e),this.betTimer.onRunningState(),this.graph.onRunningState(e),this.background.onRunningState()}onEndingState(){this.multiplierBackground.onEndingState(),this.multiplier.onEndingState(),this.graph.onEndingState(),this.background.onEndingState()}updateMultiplier(e){this.multiplierBackground.onMultiplierChange(e),this.multiplier.updateMultiplier(e)}toggleAnimation(e,t){this.graph.visible=e,this.background.setAnimation(e,t)}resize(){this.app.resize(),Wn.updateSize(this.appWidth,this.appHeight),this.background.resize(),this.multiplierBackground.resize(),this.multiplier.resize(),this.betTimer.resize(),this.graph.resize(),this.loginTimer&&(this.loginTimer.y=6,this.loginTimer.x=10),this.netSession&&(this.netSession.x=Wn.appWidth/2-this.netSession.width/2,this.netSession.y=6),this.clock&&(this.clock.y=6,this.clock.x=Wn.appWidth-this.clock.width-10)}destroy(){super.destroy()}}let hY=(()=>{class n{constructor(){this.amount=0,this.changedSubject=new $n(this.amount),this.changed=this.changedSubject.asObservable()}plus(t){this.amount=new Fi(this.amount).plus(t).toNumber(),this.changedSubject.next(this.amount)}minus(t){this.amount=new Fi(this.amount).minus(t).toNumber(),this.changedSubject.next(this.amount)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ct({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vIe(n,e){if(1&n&&(D(0,"div",2),ce(1,"app-top-player-avatars",3),D(2,"div",4),U(3),G(4,"number"),R()()),2&n){const t=ee().ngIf;S(1),F("topPlayerProfileImages",t.topPlayerProfileImages),S(2),ie(" ",Gt(4,2,t.activePlayersCount,"1.0-0")," ")}}function CIe(n,e){if(1&n&&(ft(0),te(1,vIe,5,5,"div",1),gt()),2&n){const t=e.ngIf;S(1),F("ngIf",t.activePlayersCount>0)}}let wIe=(()=>{class n{constructor(t,i){this.app=t,this.playersActivityService=i}}return n.\u0275fac=function(t){return new(t||n)(W(gr),W(_z))},n.\u0275cmp=rt({type:n,selectors:[["app-active-players-widget"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","wrapper",4,"ngIf"],[1,"wrapper"],[3,"topPlayerProfileImages"],[1,"player-count"]],template:function(t,i){1&t&&(te(0,CIe,2,1,"ng-container",0),G(1,"async")),2&t&&F("ngIf",q(1,1,i.playersActivityService.activePlayersCounter$))},directives:[At,yz],pipes:[Ki,ec],styles:[".wrapper[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;right:8px;bottom:8px;height:32px;border-radius:16px;padding:4px;background:#29292980}.wrapper[_ngcontent-%COMP%]   .player-count[_ngcontent-%COMP%]{font-weight:500;font-size:12px;padding-left:8px;padding-right:4px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums}"],changeDetection:0}),n})();const SIe=["stageCanvas"];function TIe(n,e){1&n&&(D(0,"div",6),U(1,"FUN MODE"),R())}function MIe(n,e){1&n&&ce(0,"app-active-players-widget")}let Yg=class{constructor(e,t,i,r,s,o,a,l,c,u,d){this.zone=e,this.app=t,this.gameConfig=i,this.user=r,this.mainService=s,this.multiplier=o,this.translate=a,this.netSessionService=l,this.renderer=c,this.window=u,this.currencyPrecisionPipe=d,this.webglContextRestored=new _n}ngAfterViewInit(){this.canvasId=Date.now(),function a1e(n){lo({type:"canvas",level:"debug",data:{action:"canvas.init",canvasId:n}})}(this.canvasId),this.canvas=new bIe(this.stageCanvasRef.nativeElement,this.zone,this.gameConfig,this.multiplier,this.translate,this.netSessionService,this.currencyPrecisionPipe),this.renderer.appendChild(this.stageCanvasRef.nativeElement,this.canvas.view),this.window.onResize$.pipe(qa(50),kt(this)).subscribe(()=>this.onResize()),this.mainService.getState().pipe(kt(this)).subscribe(()=>this.onChangeState()),this.user.settings.animation$.pipe(kt(this)).subscribe(e=>this.canvas.toggleAnimation(e,this.mainService.isRunningState)),this.multiplier.data$.pipe(kt(this)).subscribe(e=>{this.canvas.updateMultiplier(e.currentMultiplier)}),this.subscribeToCanvasWebGlContextRestored()}onChangeState(){this.zone.runOutsideAngular(()=>{this.mainService.isBettingState?this.canvas.onBettingState(this.mainService.timeLeft,this.gameConfig.fullBetTime).then(()=>{this.mainService.emitEvent(x1.onLockBets,!0)}):this.mainService.isRunningState?this.canvas.onRunningState(this.multiplier.startingValue):this.mainService.isEndingState&&this.canvas.onEndingState()})}ngOnDestroy(){var e;(function c1e(n){lo({type:"canvas",level:"debug",data:{action:"canvas.destroy",canvasId:n}})})(this.canvasId),null===(e=this.canvas)||void 0===e||e.destroy()}subscribeToCanvasWebGlContextRestored(){Hi(this.canvas.view,"webglcontextrestored").pipe(kt(this)).subscribe(()=>{this.webglContextRestored.emit()})}onResize(){!function l1e(n){lo({type:"canvas",level:"debug",data:{action:"canvas.resize",canvasId:n}})}(this.canvasId);try{this.canvas.resize()}catch(e){!function u1e(n,e){Rw(new Error("Canvas resizing error"),{level:"error",extra:{originalError:n,data:{canvasId:e}}})}(e,this.canvasId)}}};Yg.\u0275fac=function(e){return new(e||Yg)(W(Ti),W(gr),W(Hn),W(fu),W(Zr),W(sM),W(sd),W(hY),W(ja),W(Nv),W(Zn))},Yg.\u0275cmp=rt({type:Yg,selectors:[["app-play-board"]],viewQuery:function(e,t){if(1&e&&Lr(SIe,5),2&e){let i;Kn(i=Jn())&&(t.stageCanvasRef=i.first)}},outputs:{webglContextRestored:"webglContextRestored"},decls:6,vars:2,consts:[[1,"play-board-wrapper"],[1,"stage-canvas"],["stageCanvas",""],[1,"dom-container"],["class","fun-mode",4,"ngIf"],[4,"ngIf"],[1,"fun-mode"]],template:function(e,t){1&e&&(D(0,"div",0),ce(1,"div",1,2),D(3,"div",3),te(4,TIe,2,0,"div",4),R()(),te(5,MIe,1,0,"app-active-players-widget",5)),2&e&&(S(4),F("ngIf",t.app.isFunMode),S(1),F("ngIf",t.gameConfig.isShowActivePlayersWidget))},directives:[At,wIe],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.play-board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0}.play-board-wrapper[_ngcontent-%COMP%]   .stage-canvas[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:20px;border:1px solid #2a2b2e;overflow:hidden}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]   .fun-mode[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(229,148,7,.8);text-align:center;font-size:14px;font-weight:700;width:100%;border-radius:20px 20px 0 0;border:1px solid #e59407}"],changeDetection:0}),Yg=Ve([_i()],Yg);var F0=(()=>(function(n){n.YouHaveCashedOut="You have cashed out!",n.BetBetIdHasBeenCashedOut="Bet {{betId}} has been cashed out!",n.MaximumWinReached="You have reached the Maximum Win amount!"}(F0||(F0={})),F0))();function xIe(n,e){if(1&n&&(D(0,"div",7),U(1),G(2,"number"),R()),2&n){const t=ee();S(1),ie(" ",Gt(2,1,t.multiplier,"1.2-2"),"x ")}}let EIe=(()=>{class n{constructor(t,i,r,s){this.toastService=t,this.betControls=i,this.translate=r,this.gameConfigService=s}get isWinCelebrated(){return this.betControls.isWinCelebrated(this.winAmount,this.betAmount)}getTranslation(){const t="shared.ui-components.toastr.toastr-message.";return this.isMaxWinAutoCashOut?this.translate.translate(t+F0.MaximumWinReached):this.gameConfigService.isShowBetControlNumber?this.translate.translate(t+F0.BetBetIdHasBeenCashedOut,{betId:this.betId}):this.translate.translate(t+F0.YouHaveCashedOut)}onCloseIconClick(t){t.preventDefault(),this.toastService.remove(this.id)}}return n.\u0275fac=function(t){return new(t||n)(W(Io),W(ad),W(sd),W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-toast-win"]],decls:19,vars:13,consts:[[1,"win-toast"],[1,"multiplier"],[1,"label"],["class","value",4,"ngIf"],[1,"win"],[1,"label","no-wrap"],[1,"currency"],[1,"value"],["type","button",1,"close",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"div",2),U(3),R(),te(4,xIe,3,4,"div",3),R(),D(5,"div",4)(6,"div",5)(7,"span"),U(8),G(9,"transloco"),R(),D(10,"span",6),U(11),R()(),D(12,"div",7)(13,"span"),U(14),G(15,"currencyPrecision"),R()()(),D(16,"button",8),Ae("click",function(s){return i.onCloseIconClick(s)}),D(17,"span"),U(18,"\xd7"),R()()()),2&t&&(Et("celebrated",i.isWinCelebrated),S(3),ie(" ",i.getTranslation()," "),S(1),F("ngIf",!i.isMaxWinAutoCashOut),S(1),Et("celebrated",i.isWinCelebrated),S(3),nt(q(9,9,"shared.win")),S(3),ie(" ",i.gameConfigService.currency,""),S(3),nt(q(15,11,i.winAmount)))},directives:[At],pipes:[ec,$t,Zn],styles:['[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.win-toast[_ngcontent-%COMP%]{position:relative;justify-content:space-around;border-radius:26px;background-color:#383a3e;text-align:center;display:flex;height:56px;align-items:center;padding-top:5px;padding-bottom:5px;margin-bottom:1rem;box-shadow:0 0 8px #0000004d;border:1px solid #2c2d30}.win-toast.celebrated[_ngcontent-%COMP%]{background-color:#123405;border:1px solid #427f00}.win-toast[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0 8px;color:#d2d2d2}.win-toast[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 10px}.win-toast[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3}.win-toast[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;line-height:20px;display:flex;justify-content:center;margin-top:3px}.win-toast[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;border-radius:23px;background-color:#2c2d30;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;min-width:120px;margin-left:auto;height:100%;flex-direction:column}.win-toast[_ngcontent-%COMP%]   .win.celebrated[_ngcontent-%COMP%]{background-color:#4eaf11;width:100%;padding:0 26px}.win-toast[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:after{content:" ";position:absolute;background:url(win-icon.2e1ac1503318fc63.svg) no-repeat;width:31px;height:31px;right:0;opacity:.5}.win-toast[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:before{content:" ";position:absolute;background:url(win-icon-copy.6a5f7c6a70530963.svg) no-repeat;width:31px;height:31px;left:0;opacity:.5}.win-toast[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;line-height:14px;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.win-toast[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.win-toast[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:2px;min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:20px;line-height:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}'],changeDetection:0}),n})();var Lp=(()=>(function(n){n.bet="bet",n.auto="auto"}(Lp||(Lp={})),Lp))();const OIe=["inputfield"],PIe=function(n){return{minus:!0,"ui-state-disabled":n}};function IIe(n,e){if(1&n){const t=_t();D(0,"button",8),Ae("mousedown",function(){return ht(t),ee().startSpinTimer(-1)})("mouseleave",function(){return ht(t),ee().clearSpinTimer()})("mouseup",function(){return ht(t),ee().clearSpinTimer()}),R()}if(2&n){const t=ee();F("ngClass",zn(3,PIe,t.disabled))("disabled",t.disabled),Ii("readonly",t.readonly)}}function AIe(n,e){1&n&&ce(0,"div",9),2&n&&Et("disabled",ee().disabled)}const DIe=function(n){return{plus:!0,"ui-state-disabled":n}};function RIe(n,e){if(1&n){const t=_t();D(0,"button",10),Ae("mousedown",function(){return ht(t),ee().startSpinTimer(1)})("mouseleave",function(){return ht(t),ee().clearSpinTimer()})("mouseup",function(){return ht(t),ee().clearSpinTimer()}),R()}if(2&n){const t=ee();F("ngClass",zn(3,DIe,t.disabled))("disabled",t.disabled),Ii("readonly",t.readonly)}}const kIe=function(n){return{"full-width":n}};let Pk=(()=>{class n{constructor(t){this.gameConfig=t,this.step=1,this.type="text",this.enableButtons=!0,this.showX=!1,this.size="big",this.decimalSeparator=".",this.thousandSeparator=",",this.value=0,this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.precision=2}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(t,i){let r=null!=i?i:500;this.clearTimer(),this.timer$=Jc(r).subscribe(()=>this.repeat(t,40)),this.spin(t)}spin(t){var i,r;let o=this.value||0;this.value=new Fi(o+this.step*t).clamp(null!==(i=this.min)&&void 0!==i?i:0,null!==(r=this.max)&&void 0!==r?r:this.gameConfig.maxUserWin).toDecimalPlaces(this.precision).toNumber(),void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=o),this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}startSpinTimer(t){this.disabled||this.repeat(t)}clearSpinTimer(){this.disabled||this.clearTimer()}onInputKeydown(t){38==t.which?(this.spin(1),t.preventDefault()):40==t.which&&(this.spin(-1),t.preventDefault())}onInput(t){const i=t,r=i.target,s=r.selectionEnd?r.selectionEnd:r.value.length;let o=r.value;if("insertText"===i.inputType){if(("."===i.data||","===i.data)&&(this.valueAsString.includes(".")||","===o[s-2]||","===o[s]))return r.value=this.valueAsString,void r.setSelectionRange(s-1,s-1);const a=/[\d\.]/;if(i.data&&!a.test(i.data)){if(","!==i.data)return r.value=this.valueAsString,void r.setSelectionRange(s-1,s-1);o=o.split("").map((l,c)=>c===s-1?".":l).join("")}}else o=this.getValidStringInput(o);r.value=o,r.setSelectionRange(s,s),this.valueAsString=o,this.onModelChange(this.value)}getValidStringInput(t){return t=this.removeNonDecimalNumericCharacters(t),t=this.replaceMultipleDotsInARowWithOne(t),t=this.replaceMultipleCommasInARowWithOne(t),t=this.removeExtraDots(t),this.replaceSingleCommaWithDot(t)}removeNonDecimalNumericCharacters(t){const i=/[\d\.,]/;return t.split("").filter(r=>i.test(r)).join("")}replaceMultipleDotsInARowWithOne(t){return t.replace(/\.{2,}/g,".")}replaceMultipleCommasInARowWithOne(t){return t.replace(/,{2,}/g,",")}removeExtraDots(t){const i=t.split(".");return i.length>1&&(i[0]+="."),i.join("")}replaceCommasWithDot(t){return t.replace(/,/g,".")}replaceSingleCommaWithDot(t){const i=(t.match(/,/g)||[]).length,r=(t.match(/[.]/g)||[]).length;return 1===i&&0===r?this.replaceCommasWithDot(t):t}onInputBlur(){this.onModelTouched(),this.setFormattedValuesFrom(this.valueAsString),this.onModelChange(this.value)}parseNumericValue(t){if(!(t=t.split(this.thousandSeparator).join("").trim()))return 0;let i=this.precision?parseFloat(t.replace(",",".")):parseInt(t);return isNaN(i)?0:i}setFormattedValuesFrom(t){var i,r,s,o;if(null==t)return;let a=t;"string"==typeof t&&(a=null!==(r=null!==(i=this.parseNumericValue(t))&&void 0!==i?i:this.min)&&void 0!==r?r:0);try{this.value=new Fi(a).clamp(null!==(s=this.min)&&void 0!==s?s:0,null!==(o=this.max)&&void 0!==o?o:this.gameConfig.maxUserWin).toDP(this.precision).toNumber()}catch(u){Rw(new Error("An error occurred in setFormattedValuesFrom while formatting the numeric value"),{level:"error",extra:{originalError:u.message,problematicValue:{max:this.max,min:this.min,maxUserWin:this.gameConfig.maxUserWin,value:a,precision:this.precision}}})}let l=new Fi(this.value).toFixed(this.precision).replace(".",this.decimalSeparator);const c=l.split(this.decimalSeparator);c[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),l=c.join(this.decimalSeparator),this.valueAsString=l,this.inputfieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(t){"object"==typeof t&&null!==t||(this.value=t,this.setFormattedValuesFrom(this.value),this.onModelChange(this.value))}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-spinner"]],viewQuery:function(t,i){if(1&t&&Lr(OIe,7),2&t){let r;Kn(r=Jn())&&(i.inputfieldViewChild=r.first)}},inputs:{step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",placeholder:"placeholder",inputId:"inputId",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",type:"type",required:"required",enableButtons:"enableButtons",showX:"showX",formatPrecision:"formatPrecision",size:"size"},features:[qn([{provide:Ks,useExisting:Un(()=>n),multi:!0}])],decls:9,vars:17,consts:[[1,"spinner",3,"ngClass"],[1,"buttons"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup",4,"ngIf"],[1,"input",3,"ngClass"],["inputmode","decimal",3,"value","disabled","input","keydown","blur"],["inputfield",""],["class","text icon-x",3,"disabled",4,"ngIf"],["tabindex","-1","type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup",4,"ngIf"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup"],[1,"text","icon-x"],["tabindex","-1","type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),te(2,IIe,1,5,"button",2),R(),D(3,"div",3)(4,"input",4,5),Ae("input",function(s){return i.onInput(s)})("keydown",function(s){return i.onInputKeydown(s)})("blur",function(){return i.onInputBlur()}),R()(),te(6,AIe,1,2,"div",6),D(7,"div",1),te(8,RIe,1,5,"button",7),R()()),2&t&&(F("ngClass",i.size),S(2),F("ngIf",i.enableButtons),S(1),F("ngClass",zn(15,kIe,!i.enableButtons)),S(1),F("value",i.valueAsString)("disabled",i.disabled),Ii("type",i.type)("id",i.inputId)("size",i.inputSize)("maxlength",i.maxlength)("tabindex",i.tabindex)("placeholder",i.placeholder)("readonly",i.readonly)("required",i.required),S(2),F("ngIf",i.showX),S(2),F("ngIf",i.enableButtons))},directives:[cs,At],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;transition:opacity .1s;border-radius:32px;background-color:#141516;font-weight:600;font-size:inherit;line-height:1;padding:4px}.spinner.small[_ngcontent-%COMP%]{padding:0}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 35px);height:100%}.spinner[_ngcontent-%COMP%]   .input.full-width[_ngcontent-%COMP%]{width:calc(100% - 10px)}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;color:#ccc;text-align:center;padding:0;font-weight:600;letter-spacing:inherit}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.spinner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:9px;line-height:1;color:#fff;padding-top:5px}.spinner[_ngcontent-%COMP%]   .text.icon-x[_ngcontent-%COMP%]{width:24px;height:24px;background:url(x.ac037e32dac19981.svg) no-repeat center right}.spinner[_ngcontent-%COMP%]   .text.icon-x.disabled[_ngcontent-%COMP%]{opacity:.5}.spinner[_ngcontent-%COMP%]   .text.currency[_ngcontent-%COMP%]{margin-right:4px;padding:0}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0;background:#ffffff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;min-width:24px;min-height:24px;color:#000000b3;text-align:center;line-height:16px;font-weight:600}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background:#2c2d30 url(plus-grey.5bf167adc606b769.svg) no-repeat center center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background:#2c2d30 url(minus-grey.337d79958d035ae8.svg) no-repeat center center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default!important}"]}),n})();function NIe(n,e){if(1&n){const t=_t();D(0,"div",19),U(1),G(2,"transloco"),D(3,"button",20),Ae("click",function(){return ht(t),ee().hideErrorMessage()}),D(4,"span"),U(5,"\xd7"),R()()()}if(2&n){const t=ee();S(1),ie(" ",q(2,1,"shared.ui-components.toastr.toastr-message."+t.errorMessage)," ")}}function FIe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",21),Ae("click",function(){const s=ht(t).$implicit;return ee().activeBetsAmount=s}),U(2),R(),gt()}if(2&n){const t=e.$implicit,i=ee();S(1),Et("active",i.activeBetsAmount===t),S(1),ie(" ",t," ")}}let BIe=(()=>{class n{constructor(t,i,r){this.gameConfig=t,this.activeModal=i,this.cd=r,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.activeBetsAmount=0}closeModal(t=!1){var i;let r;if(this.hideErrorMessage(),t){if(this.cd.detectChanges(),!this.activeBetsAmount)return void this.showErrorMessage("Please, set number of rounds");if(this.checkIncorrectStopPoint())return void this.showErrorMessage("Can't set 0.00 as stop point");if((null===(i=this.gameConfig.autoBetOptions)||void 0===i?void 0:i.decreaseOrExceedStopPointReq)&&!this.decreaseStopPoint.value&&!this.exceedStopPoint.value)return void this.showErrorMessage("Please, specify decrease or exceed stop point");r={decreaseBalanceStopPoint:this.decreaseStopPoint.value,increaseBalanceStopPoint:this.increaseStopPoint.value,autoBetsAmount:this.activeBetsAmount,exceedStopPoint:this.exceedStopPoint.value}}this.activeModal.close(r)}checkIncorrectStopPoint(){return this.decreaseStopPoint.active&&!this.decreaseStopPoint.value||this.increaseStopPoint.active&&!this.increaseStopPoint.value||this.exceedStopPoint.active&&!this.exceedStopPoint.value}showErrorMessage(t){this.errorMessage=t}hideErrorMessage(){this.errorMessage=void 0}reset(){this.activeBetsAmount=void 0,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.hideErrorMessage()}}return n.\u0275fac=function(t){return new(t||n)(W(Hn),W(Dr),W(Fn))},n.\u0275cmp=rt({type:n,selectors:[["app-auto-play"]],decls:49,vars:65,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"content-wrapper"],[1,"content"],[1,"content-part","content-part-1"],[1,"rounds-wrap","mt-2"],[4,"ngFor","ngForOf"],[1,"content-part"],[3,"ngModel","ngModelChange","toggle"],[1,"title","text-left","pl-1","mr-auto"],[1,"spinner","ml-auto",3,"disabled","ngModel","step","min","enableButtons","formatPrecision","ngModelChange"],[1,"ml-1"],[1,"title","text-left","pl-1","mr-auto","text-break"],[1,"modal-footer"],[1,"btns-wrapper"],[1,"btn","btn-sm","btn-warning","reset-btn",3,"click"],[1,"btn","btn-lg","btn-success","start-btn",3,"click"],[1,"alert","alert-danger"],["type","button",1,"close",3,"click"],[1,"btn","btn-secondary","btn-sm","rounds-amount",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"span"),U(2),G(3,"transloco"),R(),D(4,"button",1),Ae("click",function(){return i.closeModal()}),D(5,"span"),U(6,"\xd7"),R()()(),D(7,"div",2),te(8,NIe,6,3,"div",3),D(9,"div",4)(10,"div",5)(11,"div",6)(12,"span"),U(13),G(14,"transloco"),R(),D(15,"div",7),te(16,FIe,3,3,"ng-container",8),R()(),D(17,"div",9)(18,"app-ui-switcher",10),Ae("ngModelChange",function(s){return i.decreaseStopPoint.active=s})("toggle",function(){return i.decreaseStopPoint.value=0}),R(),D(19,"span",11),U(20),G(21,"transloco"),R(),D(22,"app-spinner",12),Ae("ngModelChange",function(s){return i.decreaseStopPoint.value=s}),R(),D(23,"span",13),U(24),R()(),D(25,"div",9)(26,"app-ui-switcher",10),Ae("ngModelChange",function(s){return i.increaseStopPoint.active=s})("toggle",function(){return i.increaseStopPoint.value=0}),R(),D(27,"span",11),U(28),G(29,"transloco"),R(),D(30,"app-spinner",12),Ae("ngModelChange",function(s){return i.increaseStopPoint.value=s}),R(),D(31,"span",13),U(32),R()(),D(33,"div",9)(34,"app-ui-switcher",10),Ae("ngModelChange",function(s){return i.exceedStopPoint.active=s})("toggle",function(){return i.exceedStopPoint.value=0}),R(),D(35,"span",14),U(36),G(37,"transloco"),R(),D(38,"app-spinner",12),Ae("ngModelChange",function(s){return i.exceedStopPoint.value=s}),R(),D(39,"span",13),U(40),R()()()()(),D(41,"div",15)(42,"div",16)(43,"button",17),Ae("click",function(){return i.reset()}),U(44),G(45,"transloco"),R(),D(46,"button",18),Ae("click",function(){return i.closeModal(!0)}),U(47),G(48,"transloco"),R()()()),2&t&&(S(2),nt(q(3,51,"game.bet-controls.auto-play.Auto play options")),S(6),F("ngIf",i.errorMessage),S(5),nt(q(14,53,"game.bet-controls.auto-play.Number of Rounds:")),S(3),F("ngForOf",null==i.gameConfig.autoBetOptions?null:i.gameConfig.autoBetOptions.numberOfRounds),S(2),F("ngModel",i.decreaseStopPoint.active),S(1),Et("disabled",!i.decreaseStopPoint.active),S(1),ie(" ",q(21,55,"game.bet-controls.auto-play.Stop if cash decreases by")," "),S(2),Et("long-precision",i.gameConfig.isLongPrecision),F("disabled",!i.decreaseStopPoint.active)("ngModel",i.decreaseStopPoint.value)("step",i.gameConfig.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.gameConfig.betPrecision),S(1),Et("disabled",!i.decreaseStopPoint.active),S(1),ie(" ",i.gameConfig.currency," "),S(2),F("ngModel",i.increaseStopPoint.active),S(1),Et("disabled",!i.increaseStopPoint.active),S(1),ie(" ",q(29,57,"game.bet-controls.auto-play.Stop if cash increases by")," "),S(2),Et("long-precision",i.gameConfig.isLongPrecision),F("disabled",!i.increaseStopPoint.active)("ngModel",i.increaseStopPoint.value)("step",i.gameConfig.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.gameConfig.betPrecision),S(1),Et("disabled",!i.increaseStopPoint.active),S(1),ie(" ",i.gameConfig.currency," "),S(2),F("ngModel",i.exceedStopPoint.active),S(1),Et("disabled",!i.exceedStopPoint.active),S(1),ie(" ",q(37,59,"game.bet-controls.auto-play.Stop if single win exceeds")," "),S(2),Et("long-precision",i.gameConfig.isLongPrecision),F("disabled",!i.exceedStopPoint.active)("ngModel",i.exceedStopPoint.value)("step",i.gameConfig.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.gameConfig.betPrecision),S(1),Et("disabled",!i.exceedStopPoint.active),S(1),ie(" ",i.gameConfig.currency," "),S(4),ie(" ",q(45,61,"game.bet-controls.auto-play.Reset")," "),S(3),ie(" ",q(48,63,"game.bet-controls.auto-play.Start")," "))},directives:[At,di,Uv,Jo,Ma,Pk],pipes:[$t],styles:[".modal-body[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{background-color:#2c2d30;border-radius:10px;padding:15px 10px;display:flex;font-size:14px;line-height:14px;margin-bottom:5px;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding-bottom:12px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]{width:100%;max-width:290px;display:flex;justify-content:space-evenly}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]{width:58px;margin-left:3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]:first-child{margin-left:0}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount.active[_ngcontent-%COMP%]{border:solid 1px #60ae05;box-shadow:none}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:unset}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:16px;min-width:130px;width:130px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:12px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#d2d2d2;text-align:center;padding:0 3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.modal-body[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{min-width:80px;height:22px;padding:0;margin-right:7.5px}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{width:160px;height:30px;padding:0;margin-left:7.5px}"]}),n})();const LIe=["winAmount"],UIe=["autoBetSwitcher"],HIe=["betSwitcher"],jIe=["betControlSource"];function GIe(n,e){if(1&n){const t=_t();D(0,"div",24),Ae("click",function(){return ht(t),ee().secHandBtn.emit()}),R()}}function VIe(n,e){if(1&n){const t=_t();D(0,"div",25),Ae("click",function(){return ht(t),ee().secHandBtn.emit()}),R()}2&n&&Et("disabled",ee().isSecHandCloseBtnDisabled)}function zIe(n,e){if(1&n){const t=_t();ft(0),D(1,"app-navigation-switcher",26,27),Ae("ngModelChange",function(r){return ht(t),ee().activeTab=r}),R(),gt()}if(2&n){const t=ee();S(1),F("disabled",!!t.autoBetOpt.autoBetsAmount||t.autoCashOutEnabled)("ngModel",t.activeTab)("translatePath","shared")("tabs",t.betControlNavigationList)}}function $Ie(n,e){if(1&n){const t=_t();D(0,"button",28),Ae("click",function(){const s=ht(t).$implicit;return ee().onSetBetOpt(s)}),D(1,"span"),U(2),G(3,"number"),R()()}if(2&n){const t=e.$implicit,i=ee();Et("disabled",i.betSaved||i.freeBetAvailable)("long-precision",i.gameConfig.isLongPrecision),F("disabled",i.betSaved||i.freeBetAvailable),S(2),ie(" ",function LL(n,e,t,i,r){const s=n+20,o=Tt(),a=wm(o,s);return jy(o,s)?NL(o,ya(),e,a.transform,t,i,r,a):a.transform(t,i,r)}(3,6,t,i.betOptionFormat,"en-US")," ")}}const WIe=function(n){return{betId:n}};function YIe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",29),Ae("click",function(){return ht(t),ee().bet()}),D(2,"span",30)(3,"label",31),U(4),G(5,"transloco"),G(6,"transloco"),R(),D(7,"label",32)(8,"span"),U(9),G(10,"currencyPrecision"),R(),D(11,"span",33),U(12),R()()()(),gt()}if(2&n){const t=ee();S(1),Et("disabled",t.waitingForResponse),F("disabled",t.waitingForResponse),S(3),ie(" ",t.gameConfig.isShowBetControlNumber?Gt(5,6,"action.Bet {{betId}}",zn(13,WIe,t.betId)):q(6,9,"shared.bet")," "),S(5),nt(q(10,11,t.betValue)),S(3),ie(" ",t.gameConfig.currency,"")}}function XIe(n,e){1&n&&(D(0,"span",36),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.waiting_for_next_round")," "))}function qIe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",34),Ae("click",function(){return ht(t),ee().cancel()}),D(2,"label",31),U(3),G(4,"transloco"),R(),te(5,XIe,3,3,"span",35),R(),gt()}if(2&n){const t=ee();S(1),Et("disabled",t.waitingForResponse),F("disabled",t.waitingForResponse),S(2),ie(" ",q(4,5,"shared.cancel")," "),S(2),F("ngIf",t.isPreBet)}}function KIe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",37),Ae("click",function(){return ht(t),ee().onCashOut()}),D(2,"span",30)(3,"label"),U(4),G(5,"transloco"),R(),D(6,"label",32)(7,"span",null,38),U(9,"0"),R(),D(10,"span",33),U(11),R()()()(),gt()}if(2&n){const t=ee();S(1),Et("disabled",t.waitingForResponse||t.cashOutDisabled),F("disabled",t.waitingForResponse||t.cashOutDisabled),S(3),ie(" ",q(5,5,"action.Cash Out")," "),S(7),ie(" ",t.gameConfig.currency,"")}}function JIe(n,e){if(1&n){const t=_t();ft(0),D(1,"label"),U(2),G(3,"transloco"),R(),D(4,"app-ui-switcher",39,40),Ae("ngModelChange",function(r){return ht(t),ee().endlessAutoBetEnabled=r})("toggle",function(){return ht(t),ee().onAutoBetSwitch()}),R(),gt()}if(2&n){const t=ee();S(2),nt(q(3,5,"game.bet-controls.bet-control.Auto bet")),S(2),Et("disabled",t.waitingForResponse||t.freeBetAvailable),F("disabled",t.waitingForResponse||t.freeBetAvailable)("ngModel",t.endlessAutoBetEnabled)}}function QIe(n,e){if(1&n){const t=_t();D(0,"button",43),Ae("click",function(){return ht(t),ee(2).onSetAutoPlayOptions(!0)}),U(1),G(2,"transloco"),R()}if(2&n){const t=ee(2);Et("disabled",t.waitingForResponse||t.freeBetAvailable),F("disabled",t.waitingForResponse||t.freeBetAvailable),S(1),ie(" ",q(2,4,"game.bet-controls.bet-control.Auto Play")," ")}}function ZIe(n,e){if(1&n&&(D(0,"span"),U(1),R()),2&n){const t=ee(3);S(1),ie(" (",t.autoBetOpt.autoBetsAmount,") ")}}function e2e(n,e){if(1&n){const t=_t();D(0,"button",44),Ae("click",function(){return ht(t),ee(2).onSetAutoPlayOptions(!1)}),U(1),G(2,"transloco"),te(3,ZIe,2,1,"span",6),R()}if(2&n){const t=ee(2);Et("disabled",t.waitingForResponse||t.freeBetAvailable),F("disabled",t.waitingForResponse||t.freeBetAvailable),S(1),ie(" ",q(2,5,"shared.stop")," "),S(2),F("ngIf",t.autoBetOpt.autoBetsAmount)}}function t2e(n,e){if(1&n&&(ft(0),te(1,QIe,3,6,"button",41),te(2,e2e,4,7,"button",42),gt()),2&n){const t=ee();S(1),F("ngIf",void 0===t.autoBetOpt.autoBetsAmount),S(1),F("ngIf",void 0!==t.autoBetOpt.autoBetsAmount)}}let Xg=class{constructor(e,t,i,r,s,o,a,l,c,u,d,b,C,M,I,k,B){this.gameConfig=e,this.mainService=t,this.connector=i,this.betService=r,this.audioService=s,this.toastService=o,this.user=a,this.freeBets=l,this.frontEndProxyService=c,this.ifc=u,this.cd=d,this.ngbModal=b,this.netSession=C,this.multiplier=M,this.minBetError=I,this.currencyPrecisionPipe=k,this.rules=B,this.secHandBtn=new _n,this.showToastWin=new _n,this.removeToastsWin=new _n,this.activeTab=Lp.bet,this.betControlNavigationList=Object.values(Lp),this.betValue=0,this.autoCashOutValue=this.gameConfig.autoCashOut.defaultValue,this.autoCashOutEnabled=!1,this.cashOutDisabled=!0,this.waitingForResponse=!1,this.isBetIncluded=!0,this.limits={},this.betOptionFormat=`1.0-${this.gameConfig.betPrecision}`,this._endlessAutoBetEnabled=!1,this.autoBetOpt={autoBetsAmount:void 0,increaseBalanceStopPoint:void 0,decreaseBalanceStopPoint:void 0,exceedStopPoint:void 0},this.isLockUI=!1}get endlessAutoBetEnabled(){return this._endlessAutoBetEnabled}set endlessAutoBetEnabled(e){this._endlessAutoBetEnabled=e,this.ifc.send(Di.Autoplay,{id:this.betId,value:this.endlessAutoBetEnabled})}get maxMultiplier(){return this.gameConfig.maxUserMultiplier?this.gameConfig.maxUserMultiplier:this.gameConfig.autoCashOut.maxValue}ngOnInit(){this.mainService.getState(lr.Bet).pipe(kt(this)).subscribe(()=>this.setBetStateHandler()),this.mainService.getState(lr.End).pipe(kt(this)).subscribe(()=>this.setEndGameStateHandler()),this.mainService.getState(lr.Run).pipe(kt(this)).subscribe(()=>{this.cashOutDisabled=!0,this.cd.detectChanges()}),this.connector.response(In.CashOut).pipe(kt(this)).subscribe(t=>this.cashOutResponse(t)),this.connector.response(In.CancelBet).pipe(cn(t=>this.isMyAction(t)),kt(this)).subscribe(t=>this.cancelBetResponse(t)),this.connector.response(In.Bet).pipe(cn(t=>this.isMyAction(t)),kt(this)).subscribe(t=>this.betResponse(t)),this.connector.response(In.CancelFreeBet,200).pipe(kt(this)).subscribe(t=>this.onCancelFreeBet(t)),this.multiplier.data$.pipe(kt(this)).subscribe(t=>{this.setCurrentMultiplier(t.currentMultiplier)}),this.freeBets.onActivate$.pipe(kt(this)).subscribe(()=>this.updateValues()),this.frontEndProxyService.stopAutoBet$.pipe(kt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.ifc.receive$(Ir.StopAutoplay).pipe(kt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.updateValues();const e=this.betService.getBet(this.betId);e&&("isFreeBet"in e.data&&this.freeBets.activate(e.data.isFreeBet?e.data.freeBetId:void 0),this.betValue=e.data.bet,"isAutoCashOutEnabled"in e.data&&e.data.isAutoCashOutEnabled&&(this.autoCashOutEnabled=!0,this.autoCashOutValue=e.data.autoCashOut,this.activeTab=Lp.auto),this.cd.detectChanges()),this.ifc.receive$(Ir.LockUI).pipe(bl(t=>this.isLockUI=t.value),cn(t=>t.value),kt(this)).subscribe(()=>this.onLockUI()),this.betService.cancelBets$.pipe(kt(this)).subscribe(()=>this.onCancelBets())}ngAfterViewInit(){this.createAndSendClonedBetControlNode()}createAndSendClonedBetControlNode(){var e;if((null===(e=this.betControlSource)||void 0===e?void 0:e.nativeElement)&&1===this.betId){const t=this.betControlSource.nativeElement.cloneNode(!0);this.rules.sendClonedBetControlNode(t)}}onCancelFreeBet(e){var t;const i=null===(t=this.betService.getBet(this.betId))||void 0===t?void 0:t.data;if(!i)return;let r=null;"freeBetsId"in i&&(r=i.freeBetsId),"freeBetId"in i&&(r=i.freeBetId),r&&e.freeBets.includes(r)&&(this.betService.removeBet(this.betId),this.ifc.send(Di.CancelBetComplete,{id:this.betId,code:e.code}),this.cd.detectChanges())}onLockUI(){this.gameConfig.onLockUIActions===e0.CancelBet&&this.displayCancelBtn&&!1===this.isPreBet&&this.cancel()}onCancelBets(){this.displayCancelBtn&&(this.cancel(),this.cd.detectChanges())}updateValues(){const e=this.freeBets.activeFreeBet;if(e)this.limits.minBet=e.freeBetsBetAmount,this.limits.maxBet=e.freeBetsBetAmount,this.betValue=e.freeBetsBetAmount,this.limits.minCashout=e.freeBetsMinCashOut,this.isBetIncluded=e.isBetIncluded,this.autoCashOutValue<this.limits.minCashout&&(this.autoCashOutValue=this.limits.minCashout);else{this.limits.minBet=this.gameConfig.minBet,this.limits.maxBet=this.gameConfig.maxBet;const t=this.gameConfig.defaultBetValue;this.betValue=t&&t>0?t:this.gameConfig.minBet,this.limits.minCashout=this.gameConfig.autoCashOut.minValue,this.autoCashOutValue=this.gameConfig.autoCashOut.defaultValue,this.isBetIncluded=!0}this.cd.detectChanges()}setBetStateHandler(){const e=this.betService.getBet(this.betId);(null==e?void 0:e.preBet)&&"clientSeed"in e.data&&(this.sendBet(e.data),this.cd.detectChanges())}setEndGameStateHandler(){var e;this.cashOutDisabled=!1,!1===(null===(e=this.betService.getBet(this.betId))||void 0===e?void 0:e.preBet)&&this.betService.removeBet(this.betId),(void 0!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&void 0===this.betService.getBet(this.betId)&&this.autoBet(),this.cd.detectChanges()}setCurrentMultiplier(e){if(this.winAmountRef&&!this.waitingForResponse){let t=new Fi(this.betValue).times(e);this.isBetIncluded||(t=t.minus(this.betValue)),this.winAmountRef.nativeElement.textContent=this.currencyPrecisionPipe.transform(t.toNumber())}this.cashOutDisabled&&e>=this.limits.minCashout&&(this.cashOutDisabled=!1,this.cd.detectChanges())}onCashOut(){this.audioService.play(ta.Sound,Ao.Bet),this.waitingForResponse=!0,this.connector.request(mr.CashOut,{betId:this.betId,currentTimestamp:Date.now()}),this.ifc.send(Di.Cashout,{id:this.betId})}cashOutResponse(e){e.cashouts.forEach(t=>{this.user.id===t.player_id&&this.betId===t.betId&&(this.waitingForResponse=!1,200===e.code&&(this.betService.removeBet(this.betId),void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint+=t.winAmount),void 0!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint-=t.winAmount),void 0!==this.autoBetOpt.exceedStopPoint&&t.winAmount>this.autoBetOpt.exceedStopPoint&&this.stopAutoGame(),(void 0!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&this.autoBet(),this.showToastWin.emit({props:{betId:t.betId,winAmount:t.winAmount,betAmount:t.betAmount,multiplier:e.multiplier,isMaxWinAutoCashOut:t.isMaxWinAutoCashOut},options:{duration:this.gameConfig.isShowWinAmountUntilNextRound?36e5:2e3}}),this.ifc.send(Di.WinInfo,{id:t.betId,amount:t.winAmount}),this.betService.isWinCelebrated(t.winAmount,t.betAmount)&&this.audioService.play(ta.Sound,Ao.Win),this.freeBets.activeFreeBet||this.netSession.plus(t.winAmount)),this.ifc.send(Di.CashoutComplete,{id:this.betId,code:e.code,errorMessage:e.errorMessage,additionalOperatorData:t.additionalOperatorData}))}),this.cd.detectChanges()}onSetBetOpt(e){this.betSaved||this.freeBets.activeFreeBet||(this.settedBetOpt===e?this.betValue+=e:(this.settedBetOpt=e,this.betValue=e))}onAutoBetSwitch(){this.displayBetBtn&&this.endlessAutoBetEnabled?this.autoBet():this.displayCancelBtn&&!this.endlessAutoBetEnabled&&this.cancel()}autoBet(){this.isOutOffAutoBetLimits?this.stopAutoGame():this.bet()}bet(){this.audioService.play(ta.Sound,Ao.Bet);const e={bet:this.betValue,clientSeed:this.user.clientSeed,betId:this.betId,freeBet:!1},t=this.freeBets.activeFreeBet;t&&(e.freeBet=!0,e.freeBetsId=t.freeBetsId),this.autoCashOutEnabled&&(e.autoCashOut=this.autoCashOutValue),this.isBalanceValid(e)?(this.betService.setBet({betId:this.betId,preBet:!0,data:e}),this.mainService.state===lr.Bet&&this.sendBet(e)):this.handleInvalidBalance()}isBalanceValid(e){var t;return!(this.gameConfig.isBalanceValidationEnabled&&!e.freeBet)||((null===(t=this.betService.getBets()[0])||void 0===t?void 0:t.preBet)?new Fi(this.user.balance).minus(this.betService.getBets()[0].data.bet).toNumber():this.user.balance)>=e.bet}handleInvalidBalance(){void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.endlessAutoBetEnabled&&this.autoBetSwitcher.onClick(),this.toastService.show(yc,{message:nh.NotEnoughBalance,type:na.Danger})}sendBet(e){this.gameConfig.isShowWinAmountUntilNextRound&&this.removeToastsWin.emit(),this.isLockUI&&this.gameConfig.onLockUIActions===e0.CancelBet?this.betService.removeBet(this.betId):(this.waitingForResponse=!0,this.connector.request(mr.Bet,e),this.ifc.send(Di.MakeBet,{id:this.betId,amount:e.bet}))}betResponse(e){this.waitingForResponse=!1,e.code===eg.Success?(this.betService.setBet({betId:this.betId,preBet:!1,data:e}),this.autoBetOpt.autoBetsAmount&&this.autoBetOpt.autoBetsAmount--,void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint-=e.bet),void 0!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint+=e.bet),this.freeBets.activeFreeBet||this.netSession.minus(e.bet)):(this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame()),this.ifc.send(Di.MakeBetComplete,{id:this.betId,code:e.code,errorMessage:e.errorMessage,additionalOperatorData:e.additionalOperatorData}),this.cd.detectChanges()}cancel(){!1===this.isPreBet?(this.waitingForResponse=!0,this.connector.request(mr.CancelBet,{betId:this.betId}),this.ifc.send(Di.CancelBet,{id:this.betId})):!0===this.isPreBet&&this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.audioService.play(ta.Sound,Ao.Bet)}cancelBetResponse(e){var t;if(this.waitingForResponse=!1,200===e.code){const i=null===(t=this.betService.getBet(this.betId))||void 0===t?void 0:t.data;!this.freeBets.activeFreeBet&&i&&this.netSession.plus(i.bet),this.betService.removeBet(this.betId)}this.ifc.send(Di.CancelBetComplete,{id:this.betId,code:e.code,errorMessage:e.errorMessage,additionalOperatorData:e.additionalOperatorData}),this.cd.detectChanges()}onBetValueChange(e){this.betValue=e,this.minBetError.updateStake(e,this.betId),this.ifc.send(Di.UpdateStake,{id:this.betId,amount:e})}onSetAutoPlayOptions(e){e?this.ngbModal.open(BIe).result.then(t=>{t?(this.autoBetOpt.autoBetsAmount=t.autoBetsAmount,this.autoBetOpt.decreaseBalanceStopPoint=t.decreaseBalanceStopPoint?t.decreaseBalanceStopPoint:void 0,this.autoBetOpt.increaseBalanceStopPoint=t.increaseBalanceStopPoint?t.increaseBalanceStopPoint:void 0,this.autoBetOpt.exceedStopPoint=t.exceedStopPoint?t.exceedStopPoint:void 0,this.ifc.send(Di.Autoplay,{id:this.betId,value:!0}),this.displayBetBtn&&this.autoBet()):this.stopAutoGame(),this.cd.detectChanges()},()=>{}):this.displayCancelBtn?this.cancel():this.stopAutoGame()}stopAutoGame(){this.autoBetOpt.autoBetsAmount=void 0,this.autoBetOpt.decreaseBalanceStopPoint=void 0,this.autoBetOpt.increaseBalanceStopPoint=void 0,this.autoBetOpt.exceedStopPoint=void 0,this._endlessAutoBetEnabled=!1,this.ifc.send(Di.Autoplay,{id:this.betId,value:!1}),this.gameConfig.autoBetOptions&&(this.autoCashOutEnabled=!1,this.cd.detectChanges(),this.betSwitcher.onClickTab(Lp.bet))}isMyAction(e){return this.user.id===e.player_id&&this.betId===e.betId}get betSaved(){return!!this.betService.getBet(this.betId)}get isSecHandCloseBtnDisabled(){var e;return!1===(null===(e=this.betService.getBet(2))||void 0===e?void 0:e.preBet)}get isAutoShown(){return this.activeTab===Lp.auto}get freeBetAvailable(){return void 0!==this.freeBets.activeFreeBet}get displayBetBtn(){return!this.displayCashOutBtn&&void 0===this.betService.getBet(this.betId)}get displayCancelBtn(){return!this.displayCashOutBtn&&void 0!==this.betService.getBet(this.betId)}get displayCashOutBtn(){var e;return this.mainService.state===lr.Run&&!1===(null===(e=this.betService.getBet(this.betId))||void 0===e?void 0:e.preBet)}get isOutOffAutoBetLimits(){return 0===this.autoBetOpt.autoBetsAmount||void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&this.autoBetOpt.decreaseBalanceStopPoint<=0||void 0!==this.autoBetOpt.increaseBalanceStopPoint&&this.autoBetOpt.increaseBalanceStopPoint<=0}get isPreBet(){var e;return!!(null===(e=this.betService.getBet(this.betId))||void 0===e?void 0:e.preBet)}get betOptions(){return this.gameConfig.betOptions.slice(0,this.gameConfig.isLongPrecision?3:6)}ngOnDestroy(){this.betService.removeBet(this.betId),this.ifc.send(Di.UpdateStake,{id:this.betId,amount:0}),this.minBetError.updateStake(0,this.betId)}};Xg.\u0275fac=function(e){return new(e||Xg)(W(Hn),W(Zr),W(tr),W(ad),W(qh),W(Io),W(fu),W(od),W(rM),W(Xo),W(Fn),W(kb),W(hY),W(sM),W(M1),W(Zn),W(sz))},Xg.\u0275cmp=rt({type:Xg,selectors:[["app-bet-control"]],viewQuery:function(e,t){if(1&e&&(Lr(LIe,5),Lr(UIe,5,Uv),Lr(HIe,5,oR),Lr(jIe,5)),2&e){let i;Kn(i=Jn())&&(t.winAmountRef=i.first),Kn(i=Jn())&&(t.autoBetSwitcher=i.first),Kn(i=Jn())&&(t.betSwitcher=i.first),Kn(i=Jn())&&(t.betControlSource=i.first)}},inputs:{betId:"betId",secondBet:"secondBet"},outputs:{secHandBtn:"secHandBtn",showToastWin:"showToastWin",removeToastsWin:"removeToastsWin"},features:[qn([Zn])],decls:32,vars:48,consts:[[1,"controls"],["betControlSource",""],[1,"controls-content-top"],["class","sec-hand-btn add",3,"click",4,"ngIf"],["class","sec-hand-btn remove",3,"disabled","click",4,"ngIf"],[1,"navigation-wrapper"],[4,"ngIf"],[1,"first-row"],[1,"bet-block"],[1,"spinner",3,"disabled","ngModel","step","min","max","formatPrecision","tabindex","placeholder","ngModelChange"],[1,"bets-opt-list"],["class","btn btn-secondary btn-sm bet-opt",3,"disabled","long-precision","click",4,"ngFor","ngForOf"],[1,"buttons-block"],[1,"w-100","border-line"],[1,"controls-content-bottom"],[1,"second-row"],[1,"auto-bet-wrapper"],[1,"auto-bet"],[1,"cashout-block"],[1,"cash-out-switcher"],[3,"ngModel","disabled","ngModelChange"],[1,"cashout-spinner-wrapper"],[1,"cashout-spinner"],[3,"disabled","ngModel","enableButtons","min","max","formatPrecision","showX","size","ngModelChange"],[1,"sec-hand-btn","add",3,"click"],[1,"sec-hand-btn","remove",3,"click"],[1,"navigation",3,"disabled","ngModel","translatePath","tabs","ngModelChange"],["betSwitcher",""],[1,"btn","btn-secondary","btn-sm","bet-opt",3,"disabled","click"],["tabindex","-1",1,"btn","btn-success","bet",3,"disabled","click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"label"],[1,"amount"],[1,"currency"],["tabindex","-1",1,"btn","btn-danger","bet",3,"disabled","click"],["class","btn-tooltip",4,"ngIf"],[1,"btn-tooltip"],["tabindex","-1",1,"btn","btn-warning","cashout",3,"disabled","click"],["winAmount",""],[3,"disabled","ngModel","ngModelChange","toggle"],["autoBetSwitcher",""],["class","btn btn-sm btn-primary auto-play-btn",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger auto-play-btn",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","auto-play-btn",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","auto-play-btn",3,"disabled","click"]],template:function(e,t){1&e&&(D(0,"div",0,1)(2,"div",2),te(3,GIe,1,0,"div",3),te(4,VIe,1,2,"div",4),D(5,"div",5),te(6,zIe,3,4,"ng-container",6),R(),D(7,"div",7)(8,"div",8)(9,"app-spinner",9),Ae("ngModelChange",function(r){return t.onBetValueChange(r)}),R(),D(10,"div",10),te(11,$Ie,4,10,"button",11),R()(),D(12,"div",12),te(13,YIe,13,15,"ng-container",6),te(14,qIe,6,7,"ng-container",6),te(15,KIe,12,7,"ng-container",6),R()()(),ce(16,"div",13),D(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17),te(21,JIe,6,7,"ng-container",6),te(22,t2e,3,2,"ng-container",6),R()(),D(23,"div",18)(24,"div",19)(25,"label"),U(26),G(27,"transloco"),R(),D(28,"app-ui-switcher",20),Ae("ngModelChange",function(r){return t.autoCashOutEnabled=r}),R()(),D(29,"div",21)(30,"div",22)(31,"app-spinner",23),Ae("ngModelChange",function(r){return t.autoCashOutValue=r}),R()()()()()()()),2&e&&(Et("disabled",t.waitingForResponse),S(3),F("ngIf",!t.secondBet&&t.gameConfig.isMultipleBetsEnabled),S(1),F("ngIf",t.secondBet&&2===t.betId),S(2),F("ngIf",t.gameConfig.isAutoBetFeatureEnabled),S(1),Et("bet-game",!t.isAutoShown)("auto-game-feature",t.gameConfig.isAutoBetFeatureEnabled),S(2),Et("long-precision",t.gameConfig.isLongPrecision)("disabled",t.betSaved||t.freeBetAvailable),F("disabled",t.betSaved||t.freeBetAvailable)("ngModel",t.betValue)("step",t.gameConfig.betInputStep)("min",t.limits.minBet)("max",t.limits.maxBet)("formatPrecision",t.gameConfig.betPrecision)("tabindex",-1)("placeholder",null==t.limits.minBet?null:t.limits.minBet.toString()),S(2),F("ngForOf",t.betOptions),S(2),F("ngIf",t.displayBetBtn),S(1),F("ngIf",t.displayCancelBtn),S(1),F("ngIf",t.displayCashOutBtn),S(1),Et("d-none",!t.isAutoShown),S(2),Et("d-none",!t.isAutoShown),S(3),F("ngIf",!t.gameConfig.autoBetOptions),S(1),F("ngIf",t.gameConfig.autoBetOptions),S(3),Et("disabled",t.betSaved),S(1),ie(" ",q(27,46,"game.bet-controls.bet-control.auto cashout")," "),S(2),F("ngModel",t.autoCashOutEnabled)("disabled",t.betSaved),S(2),Et("disabled",!t.autoCashOutEnabled),S(1),F("disabled",!t.autoCashOutEnabled||t.betSaved)("ngModel",t.autoCashOutValue)("enableButtons",!1)("min",t.limits.minCashout)("max",t.maxMultiplier)("formatPrecision",t.gameConfig.multiplierPrecision)("showX",!0)("size","small"))},directives:[At,oR,Jo,Ma,Pk,di,Uv],pipes:[ec,$t,Zn],styles:["[_nghost-%COMP%]{width:100%}[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:100%;justify-content:center;align-items:center;border-radius:20px;background-color:#1b1c1d;height:100%;margin:0 auto}.controls.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]{position:relative;display:flex;height:100%;max-height:184px;max-height:var(--betControlsHeightRow);width:100%;max-width:384px;flex-direction:column;justify-content:flex-start;align-items:center;padding:8px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;width:32px;height:32px;cursor:pointer;border-radius:50%;border:solid 4px #141516;background:#2c2d30 url(plus.9a1101bb17808f90.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .sec-hand-btn.disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .sec-hand-btn.remove[_ngcontent-%COMP%]{background:#2c2d30 url(remove.aeeca15ffd0d871e.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .navigation-wrapper[_ngcontent-%COMP%]{height:32px;width:208px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .navigation-wrapper[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{font-size:12px;margin-bottom:8px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:100%;max-width:390px;display:flex;justify-content:center;padding-top:8px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row.bet-game[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row.auto-game-feature[_ngcontent-%COMP%]{margin:auto}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;width:140px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:32px;font-size:16px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:14px;letter-spacing:-.1em}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;font-size:14px;color:#9ea0a3;width:100%}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]{font-size:14px;width:68px;height:24px;margin-top:4px;line-height:1;padding:0;background:#141516;border:none}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(even){margin-left:4px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt.long-precision[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:132px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]{width:calc(100% - 148px);margin-left:7px;display:flex;justify-content:center;align-items:center;flex-direction:column;border-radius:16px;border:solid 4px #141516}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fafafa;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;height:100%;min-height:80px;font-size:22px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;margin:0;cursor:pointer;line-height:27px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]{letter-spacing:-.33px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:18px;margin-left:4px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .btn-tooltip[_ngcontent-%COMP%]{margin-top:2px;color:#fafafacc;text-align:center;font-size:14px;font-style:normal;font-weight:600;line-height:normal;letter-spacing:-.21px}.controls[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{height:1px;background:#141516}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]{display:flex;width:100%;max-width:384px;flex-direction:column;justify-content:center;align-items:center}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{display:flex;width:100%;max-width:390px;justify-content:space-between;align-items:center;height:39px;color:#ccc;padding:0 8px}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]{margin-left:5px}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]{font-size:12px;text-align:center;display:flex;align-items:center}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   .auto-play-btn[_ngcontent-%COMP%]{height:24px;width:auto;padding:0 8px;font-size:12px;font-weight:500}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 5px 0 0;display:block}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 5px}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0 5px 0 0;text-align:center}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]{height:50%;display:flex;justify-content:center;align-items:center;margin-left:5px}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]   .cashout-spinner[_ngcontent-%COMP%]{width:80px;display:flex;font-size:12px;font-weight:500}"],changeDetection:0}),Xg=Ve([_i()],Xg);const i2e=["controls"];function r2e(n,e){if(1&n){const t=_t();D(0,"app-bet-control",4),Ae("secHandBtn",function(){return ht(t),ee().setSecondBet()})("showToastWin",function(r){return ht(t),ee().showToastWin(r)})("removeToastsWin",function(){return ht(t),ee().removeToastsWin()}),R()}if(2&n){const t=ee();Et("locked",t.lockBets)("auto-game-feature-disabled",!t.gameConfig.isAutoBetFeatureEnabled)("bet-options-three-rows",t.hasThreeRowsBetOptions),F("secondBet",t.user.settings.secondBet)("betId",2)}}let qg=class{constructor(e,t,i,r,s,o,a,l){this.gameConfig=e,this.mainService=t,this.cd=i,this.user=r,this.betService=s,this.ifc=o,this.window=a,this.toastService=l,this.lockBets=!1,this.controlsWrap=!1,this.hasThreeRowsBetOptions=!1,this.toastIds=[]}ngOnInit(){this.betService.getBet(2)&&(this.user.settings.secondBet=!0),this.mainService.state===lr.Bet&&this.mainService.timeLeft<=0&&this.onLockBets(!0),this.mainService.getState(lr.Run).pipe(kt(this)).subscribe(()=>{this.onLockBets(!1),this.sendEventStartRound(this.betService.getBets())}),this.mainService.event(x1.onLockBets).pipe(kt(this)).subscribe(t=>this.onLockBets(t.data));const e=this.gameConfig.betOptions.length;this.hasThreeRowsBetOptions=this.gameConfig.isLongPrecision?e>2:e>4}ngAfterViewInit(){this.window.onResize$.pipe(kt(this)).subscribe(()=>{setTimeout(()=>this.checkBetControlsStyle())})}onLockBets(e){this.lockBets!==e&&(this.lockBets=e,this.cd.detectChanges())}setSecondBet(){this.user.settings.secondBet=!this.user.settings.secondBet,this.window.manualEmitResizeEvent()}showToastWin({props:e,options:t}){const i=this.toastService.show(EIe,e,t);this.toastIds.push(i)}removeToastsWin(){this.toastIds.forEach(e=>{this.toastService.safeRemove(e)}),this.toastIds=[]}checkBetControlsStyle(){const e=this.user.settings.secondBet&&this.gameConfig.isMultipleBetsEnabled;this.controlsWrap=!1,e&&(this.controlsWrap=this.controlsRef.nativeElement.offsetWidth<620),this.cd.detectChanges()}sendEventStartRound(e){const t=[];e&&Array.isArray(e)&&e.forEach(i=>{t.push({id:i.betId,amount:i.data.bet})}),this.ifc.send(Di.StartRound,{bets:t})}};qg.\u0275fac=function(e){return new(e||qg)(W(Hn),W(Zr),W(Fn),W(fu),W(ad),W(Xo),W(Nv),W(Io))},qg.\u0275cmp=rt({type:qg,selectors:[["app-bet-controls"]],viewQuery:function(e,t){if(1&e&&Lr(i2e,7),2&e){let i;Kn(i=Jn())&&(t.controlsRef=i.first)}},decls:4,vars:13,consts:[[1,"controls"],["controls",""],[1,"bet-control",3,"betId","secondBet","secHandBtn","showToastWin","removeToastsWin"],["class","bet-control double-bet",3,"locked","auto-game-feature-disabled","bet-options-three-rows","secondBet","betId","secHandBtn","showToastWin","removeToastsWin",4,"ngIf"],[1,"bet-control","double-bet",3,"secondBet","betId","secHandBtn","showToastWin","removeToastsWin"]],template:function(e,t){1&e&&(D(0,"div",0,1)(2,"app-bet-control",2),Ae("secHandBtn",function(){return t.setSecondBet()})("showToastWin",function(r){return t.showToastWin(r)})("removeToastsWin",function(){return t.removeToastsWin()}),R(),te(3,r2e,1,8,"app-bet-control",3),R()),2&e&&(Et("controls-wrap",t.controlsWrap),S(2),Et("double-bet",t.user.settings.secondBet&&t.gameConfig.isMultipleBetsEnabled)("locked",t.lockBets)("auto-game-feature-disabled",!t.gameConfig.isAutoBetFeatureEnabled)("bet-options-three-rows",t.hasThreeRowsBetOptions),F("betId",1)("secondBet",t.user.settings.secondBet),S(1),F("ngIf",t.user.settings.secondBet&&t.gameConfig.isMultipleBetsEnabled))},directives:[Xg,At],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.controls.controls-wrap[_ngcontent-%COMP%]{min-height:292px;min-height:var(--betControlsHeightColumn);flex-wrap:wrap}.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:4px;margin-bottom:var(--paddingSmall)}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:2px;padding-right:calc(var(--paddingSmall) / 2)}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:2px;padding-left:calc(var(--paddingSmall) / 2)}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{width:100%;height:184px;min-width:310px;border-radius:20px}.controls[_ngcontent-%COMP%]   .bet-control.auto-game-feature-disabled[_ngcontent-%COMP%]{height:164px}.controls[_ngcontent-%COMP%]   .bet-control.bet-options-three-rows[_ngcontent-%COMP%]{height:212px}.controls[_ngcontent-%COMP%]   .bet-control.auto-game-feature-disabled.bet-options-three-rows[_ngcontent-%COMP%]{height:184px}.controls[_ngcontent-%COMP%]   .locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 991.98px){.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:4px;margin-bottom:var(--paddingSmall)}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:2px;padding-right:calc(var(--paddingSmall) / 2)}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:2px;padding-left:calc(var(--paddingSmall) / 2)}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{height:auto!important;min-height:128px}}"],changeDetection:0}),qg=Ve([_i()],qg);let B0=(()=>{class n{constructor(t){this.stomp=t,this.isChatInitedSubject=new $n(!1),this.isChatInited$=this.isChatInitedSubject.asObservable(),this.topGifs=[],this.tagUserSubject=new Ze,this.tagUser$=this.tagUserSubject.asObservable(),this.onlinePlayersSubject=new $n(0),this.onlinePlayers$=this.onlinePlayersSubject.asObservable(),this.stomp.response(ps.ChatInit).pipe(cn(i=>200===i.code)).subscribe(i=>this.init(i)),this.stomp.response(ps.PlayersOnline).subscribe(i=>{this.onlinePlayersSubject.next(i.count)})}init(t){var i;this.isChatInitedSubject.next(!0),this.onlinePlayersSubject.next(t.onlinePlayers),this.topGifs=null!==(i=t.config.topGifs)&&void 0!==i?i:[]}tagUser(t){this.tagUserSubject.next(`@${t} `)}get top10Gifs(){return this.topGifs}}return n.\u0275fac=function(t){return new(t||n)(We(Rs))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();function s2e(n,e){if(1&n){const t=_t();D(0,"button",8),Ae("click",function(){return ht(t),ee(3).openChatRulesModal()}),ce(1,"svg-icon",9),G(2,"versionedUrl"),R()}2&n&&(S(1),F("src",q(2,1,"assets/chat/icons/rules-icon.svg")))}function o2e(n,e){if(1&n&&(D(0,"div",10),U(1),D(2,"span",11),U(3),R()()),2&n){const t=ee().ngIf,i=ee().$implicit;S(1),ie(" ",i("game.chat-widget.Online:")," "),S(2),nt(t.onlinePlayers)}}function a2e(n,e){if(1&n){const t=_t();D(0,"div",2)(1,"div",3),te(2,s2e,3,3,"button",4),te(3,o2e,4,2,"div",5),D(4,"button",6),Ae("click",function(){return ht(t),ee(2).onCloseClick()}),ce(5,"svg-icon",7),G(6,"versionedUrl"),R()()()}if(2&n){const t=e.ngIf,i=ee(2);S(2),F("ngIf",t.isChatInited),S(1),F("ngIf",!i.isChatOnlineCounterHidden),S(2),F("src",q(6,3,"assets/chat/icons/close-icon.svg"))}}function l2e(n,e){if(1&n&&(ft(0),te(1,a2e,7,5,"div",1),G(2,"async"),gt()),2&n){const t=ee();S(1),F("ngIf",q(2,1,t.data$))}}let c2e=(()=>{class n{constructor(t,i,r,s){this.chatFeatureService=t,this.chatService=i,this.modal=r,this.chatConfigService=s,this.data$=lc({isChatInited:this.chatService.isChatInited$,onlinePlayers:this.chatService.onlinePlayers$})}get isChatOnlineCounterHidden(){return this.chatConfigService.hideChatOnlineCounter}openChatRulesModal(){this.modal.open(hi.chatRules)}onCloseClick(){this.chatFeatureService.isOpen=!1}}return n.\u0275fac=function(t){return new(t||n)(W(Tl),W(B0),W(Pa),W(bp))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-header"]],decls:1,vars:0,consts:[[4,"transloco"],["class","chat-header",4,"ngIf"],[1,"chat-header"],[1,"chat-header-row"],["type","button","class","btn chat-header-button disabled-on-game-focused","aria-label","Chat rules",3,"click",4,"ngIf"],["class","chat-header-online-wrapper",4,"ngIf"],["type","button","aria-label","Close",1,"btn","chat-header-button",3,"click"],["aria-label","Close chat icon",1,"close-icon",3,"src"],["type","button","aria-label","Chat rules",1,"btn","chat-header-button","disabled-on-game-focused",3,"click"],["aria-label","Chat rules icon",3,"src"],[1,"chat-header-online-wrapper"],[1,"count"]],template:function(t,i){1&t&&te(0,l2e,3,3,"ng-container",0)},directives:[hu,At,np],pipes:[Ki,Vd],styles:["[_nghost-%COMP%]{padding:8px 8px 0}.chat-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:8px;border-radius:16px;border:1px solid #ffffff1a;background:#242424;box-shadow:0 0 4px #141414e0}.chat-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:32px;width:100%}.chat-header-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:32px;height:32px;padding:0;border-radius:100px;background:#2e2e2e}.chat-header-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .chat-header-button[_ngcontent-%COMP%]:focus-visible   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff;transition:fill .18s}.chat-header-online-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;color:#8f8f8f;font-size:14px;font-style:normal;font-weight:400;line-height:21px}.chat-header-online-wrapper[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-left:4px;color:#60e572;font-weight:600}.chat-header-pin-button[_ngcontent-%COMP%]{padding:6px 4px 4px}.chat-header-pin-button[_ngcontent-%COMP%]   .pin-button-info[_ngcontent-%COMP%]{padding:0;color:#d9d9d9;font-size:14px;font-weight:400;line-height:20px}.chat-header-pin-button[_ngcontent-%COMP%]   .pin-button-info[_ngcontent-%COMP%]   .pin-icon[_ngcontent-%COMP%]{height:20px;width:20px;margin-right:8px;flex-shrink:0}.chat-header-pin-button[_ngcontent-%COMP%]   .pin-button-info[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}"],changeDetection:0}),n})();function u2e(n,e){1&n&&(D(0,"div",5),U(1," Admin "),R())}function d2e(n,e){1&n&&(D(0,"div",6),U(1," Bot "),R())}let pY=(()=>{class n{constructor(){this.senderType=oh.Player}get avatarSrc(){return qs(Qs.avatarPath+this.senderAvatar)}get isModeratorSenderType(){return this.senderType===oh.Moderator}get isBotSenderType(){return this.senderType===oh.Bot}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-user-avatar"]],inputs:{senderAvatar:"senderAvatar",senderType:"senderType"},decls:5,vars:3,consts:[[1,"chat-user-avatar"],[1,"chat-user-avatar-wrapper"],["loading","lazy","draggable","false","alt","Avatar",1,"avatar-img",3,"src"],["class","chat-user-avatar-badge admin-badge",4,"ngIf"],["class","chat-user-avatar-badge bot-badge",4,"ngIf"],[1,"chat-user-avatar-badge","admin-badge"],[1,"chat-user-avatar-badge","bot-badge"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),ce(2,"img",2),te(3,u2e,2,0,"div",3),te(4,d2e,2,0,"div",4),R()()),2&t&&(S(2),F("src",i.avatarSrc,an),S(1),F("ngIf",i.isModeratorSenderType),S(1),F("ngIf",i.isBotSenderType))},directives:[At],styles:[".chat-user-avatar[_ngcontent-%COMP%]{display:flex;height:100%;width:36px;align-items:flex-end}.chat-user-avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:36px;height:36px}.chat-user-avatar-wrapper[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{height:100%;width:100%}.chat-user-avatar-badge[_ngcontent-%COMP%]{position:absolute;bottom:-6px;left:0;width:39px;height:15px;border-radius:100px;color:#fff;text-align:center;font-size:10px;font-weight:500;line-height:15px}.chat-user-avatar[_ngcontent-%COMP%]   .admin-badge[_ngcontent-%COMP%]{background:#ff4747}.chat-user-avatar[_ngcontent-%COMP%]   .bot-badge[_ngcontent-%COMP%]{background:#25a708}"],changeDetection:0}),n})();const fY=["#FF4747","#FFC247","#C2FF47","#47FF47","#47FFC2","#4785FF","#8547FF","#FF47FF","#FF8547","#FFFF47","#85FF47","#47FF85","#47C2FF","#4747FF","#C247FF","#FF47C2","#FFFFFF"];let h2e=(()=>{class n{transform(t){const i=this.hashString(t),r=Math.abs(i)%fY.length;return fY[r]}hashString(t){let i=0;for(let r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r),i|=0;return i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=ss({name:"usernameColor",type:n,pure:!0}),n})();const p2e=function(n){return{color:n}};function f2e(n,e){if(1&n){const t=_t();D(0,"span",3),Ae("click",function(){return ht(t),ee().onTagUser()}),G(1,"usernameColor"),U(2),R()}if(2&n){const t=ee();F("ngStyle",zn(4,p2e,q(1,2,t.username))),S(2),nt(t.formatedUsername)}}function g2e(n,e){if(1&n&&(D(0,"span",4),U(1),G(2,"date"),R()),2&n){const t=ee();S(1),ie(" ",Gt(2,1,t.createDate,"HH:mm:ss")," ")}}let P1=(()=>{class n{constructor(t,i){this.chatService=t,this.maskedUsernamePipe=i,this.username=""}get isModerator(){return this.senderType===oh.Moderator}get formatedUsername(){return this.senderType===oh.Bot?this.username:this.isModerator?"":this.maskedUsernamePipe.transform(this.username)}onTagUser(){this.chatService.tagUser(this.formatedUsername)}}return n.\u0275fac=function(t){return new(t||n)(W(B0),W(Ya))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-header"]],inputs:{username:"username",createDate:"createDate",senderType:"senderType"},features:[qn([Ya])],decls:3,vars:2,consts:[[1,"chat-message-header"],["class","chat-message-header-username",3,"ngStyle","click",4,"ngIf"],["class","chat-message-header-date",4,"ngIf"],[1,"chat-message-header-username",3,"ngStyle","click"],[1,"chat-message-header-date"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,f2e,3,6,"span",1),te(2,g2e,3,4,"span",2),R()),2&t&&(S(1),F("ngIf",!i.isModerator),S(1),F("ngIf",i.createDate))},directives:[At,Dd],pipes:[h2e,za],styles:[".chat-message-header[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:nowrap;font-size:12px;font-style:normal;line-height:18px}.chat-message-header-username[_ngcontent-%COMP%]{margin-right:12px;font-weight:500;cursor:pointer}.chat-message-header-date[_ngcontent-%COMP%]{color:#ffffff4d;font-weight:400}"],changeDetection:0}),n})(),m2e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message"},decls:3,vars:4,consts:[[1,"user-message-card-header",3,"senderType","username","createDate"],[1,"message"]],template:function(t,i){1&t&&(ce(0,"app-chat-message-header",0),D(1,"div",1),U(2),R()),2&t&&(F("senderType",i.message.senderType)("username",i.message.senderName)("createDate",i.message.createDate),S(2),nt(i.message.text))},directives:[P1],styles:[".message[_ngcontent-%COMP%]{font-size:14px;word-break:break-word;white-space:pre-line}"],changeDetection:0}),n})();var sx=(()=>(function(n){n.HIGH="#491849",n.MEDIUM="#2D1C50",n.LOW="#26265B"}(sx||(sx={})),sx))(),ox=(()=>(function(n){n.HIGH="#350935",n.MEDIUM="#201537",n.LOW="#080841"}(ox||(ox={})),ox))();let gY=(()=>{class n{constructor(){this.cashOutMultiplier=void 0,this.mode="default",this.bgColor=null}get colors(){return"default"===this.mode?sx:ox}ngOnInit(){const t=this.cashOutMultiplier;!t||(t>=ld.High?this.bgColor=this.colors.HIGH:t>=ld.Medium?this.bgColor=this.colors.MEDIUM:t>=ld.Low&&(this.bgColor=this.colors.LOW))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ht({type:n,selectors:[["","appShareBetBgColor",""]],hostVars:2,hostBindings:function(t,i){2&t&&hl("background",i.bgColor)},inputs:{cashOutMultiplier:["appShareBetBgColor","cashOutMultiplier"],mode:"mode"}}),n})();function _2e(n,e){if(1&n&&(D(0,"div",18),U(1),R()),2&n){const t=ee();S(1),nt(t.text)}}function y2e(n,e){if(1&n&&(D(0,"span"),U(1),R()),2&n){const t=ee();S(1),ie(" ",t.gameConfig.currency," ")}}let b2e=(()=>{class n{constructor(t,i,r,s){this.app=t,this.gameConfig=i,this.main=r,this.translate=s,this.text=""}get betInfo(){return this.message.betInfo}ngOnInit(){this.text=this.getTranslatedText()}getTranslatedText(){return this.message.text?this.translate.translate(`game.chat-widget.chat-message.${this.message.text}`)||this.message.text:""}}return n.\u0275fac=function(t){return new(t||n)(W(gr),W(Hn),W(Zr),W(sd))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-share-bet"]],inputs:{message:"message"},decls:49,vars:40,consts:[[1,"user-message-card-header",3,"senderType","username","createDate"],["class","text-message",4,"ngIf"],["mode","dark",1,"share-bet",3,"appShareBetBgColor"],[1,"user-info"],[3,"senderAvatar"],[1,"user-info-username"],["type","button",1,"btn","disabled-on-game-focused","check-fairness",3,"click"],[3,"src"],[1,"info"],[1,"info-block"],[1,"info-block-title"],["appColoredMultiplier","",1,"font-weight-bold"],[1,"info-block-win","font-weight-bold"],[1,"separator"],[1,"separator-line"],[1,"separator-icon",3,"src"],[1,"bet-amount",3,"isFreeBet","amount"],[4,"ngIf"],[1,"text-message"]],template:function(t,i){if(1&t&&(ce(0,"app-chat-message-header",0),te(1,_2e,2,1,"div",1),D(2,"div",2)(3,"div",3),ce(4,"app-chat-user-avatar",4),D(5,"span",5),U(6),G(7,"maskedUsername"),R(),D(8,"button",6),Ae("click",function(){return i.main.checkFairness(i.betInfo.roundId)}),ce(9,"svg-icon",7),G(10,"versionedUrl"),R()(),D(11,"div",8)(12,"div",9)(13,"div",10),U(14),G(15,"transloco"),R(),D(16,"div",11),U(17),G(18,"multiplierPrecision"),R()(),D(19,"div",9)(20,"div",10),U(21),G(22,"transloco"),R(),D(23,"div",12)(24,"span"),U(25),G(26,"currencyPrecision"),R(),D(27,"span"),U(28),R()()()(),D(29,"div",13),ce(30,"div",14)(31,"svg-icon",15),G(32,"versionedUrl"),ce(33,"div",14),R(),D(34,"div",8)(35,"div",9)(36,"div",10),U(37),G(38,"transloco"),R(),D(39,"div"),U(40),G(41,"multiplierPrecision"),R()(),D(42,"div",9)(43,"div",10),U(44),G(45,"transloco"),R(),D(46,"div"),ce(47,"app-bet-amount",16),te(48,y2e,2,1,"span",17),R()()()()),2&t){let r,s,o;F("senderType",i.message.senderType)("username",i.message.senderName)("createDate",i.message.createDate),S(1),F("ngIf",i.text),S(1),F("appShareBetBgColor",i.betInfo.cashOutMultiplier),S(2),F("senderAvatar",i.betInfo.playerAvatar),S(2),nt(q(7,20,i.betInfo.playerName)),S(3),F("src",q(10,22,"assets/chat/icons/shield-icon.svg")),S(5),ie("",q(15,24,"shared.cashed_out"),":"),S(3),ie(" ",q(18,26,null!==(r=i.betInfo.cashOutMultiplier)&&void 0!==r?r:0),"x "),S(4),ie("",q(22,28,"shared.win"),":"),S(4),nt(q(26,30,null!==(s=i.betInfo.winAmount)&&void 0!==s?s:0)),S(3),ie(" ",i.gameConfig.currency," "),S(3),F("src",q(32,32,"assets/chat/icons/aviator-icon.svg")),S(6),ie("",q(38,34,"shared.round"),":"),S(3),ie("",q(41,36,i.betInfo.roundMaxMultiplier),"x"),S(4),ie("",q(45,38,"shared.bet"),":"),S(3),F("isFreeBet",null!==(o=i.betInfo.isFreeBet)&&void 0!==o&&o)("amount",i.betInfo.betAmount),S(1),F("ngIf",!i.betInfo.isFreeBet)}},directives:[P1,At,gY,pY,np,sh,Lv],pipes:[Ya,Vd,$t,qo,Zn],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative;overflow:hidden;font-size:14px}[_nghost-%COMP%]:before, [_nghost-%COMP%]:after{content:"";position:absolute;bottom:54px;width:16px;height:16px;background:inherit;border-radius:50%;transform:translateY(-50%);z-index:2}[_nghost-%COMP%]:before{left:-2px}[_nghost-%COMP%]:after{right:-2px}.text[_ngcontent-%COMP%], .share-bet[_ngcontent-%COMP%]{margin-top:4px}.share-bet[_ngcontent-%COMP%]{padding:8px;border-radius:12px;display:block}.share-bet[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.share-bet[_ngcontent-%COMP%]   .user-info-username[_ngcontent-%COMP%]{margin-left:8px}.share-bet[_ngcontent-%COMP%]   .check-fairness[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;margin-left:auto}.share-bet[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;width:100%}.share-bet[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{flex-basis:100%;font-size:12px}.share-bet[_ngcontent-%COMP%]   .info-block-title[_ngcontent-%COMP%]{color:#fff6}.share-bet[_ngcontent-%COMP%]   .info-block-win[_ngcontent-%COMP%]{color:#60e572}.share-bet[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;width:100%}.share-bet[_ngcontent-%COMP%]   .separator-line[_ngcontent-%COMP%]{display:inline-flex;height:1px;width:100%;background:#ffffff33;margin:0 8px}.share-bet[_ngcontent-%COMP%]   .bet-amount[_ngcontent-%COMP%]{display:inline-block}.btn[_ngcontent-%COMP%]{padding:0}'],changeDetection:0}),n})();var Kg=(()=>(function(n){n.Claimed="CLAIMED",n.Free="FREE",n.Canceled="CANCELED"}(Kg||(Kg={})),Kg))(),io=(()=>(function(n){n.Claim="Claim",n.ClaimDisabled="ClaimDisabled",n.Claimed="Claimed",n.Distributed="Distributed",n.Expired="Expired"}(io||(io={})),io))();let mY=(()=>{class n{constructor(t,i,r){this.stomp=t,this.chatMessageService=i,this.audioService=r,this.stomp.response(ps.RainClaim).subscribe(s=>this.onRainClaimResponse(s)),this.stomp.response(ps.RainExpire).subscribe(s=>this.onRainExpireResponse(s))}claimRain(t){const i=Object.assign({},t.rainInfo),r=this.findMessageIndexByRainId(i.id),s=Object.assign(Object.assign({},t),{rainInfo:i,waitingForResponse:!0});this.chatMessageService.updateMessageByIndex(r,s),this.stomp.request(hs.RainClaim,{rainId:i.id})}onRainClaimResponse(t){var i,r,s;const o=null!==(i=t.rainId)&&void 0!==i?i:null===(r=t.errorMessageParams)||void 0===r?void 0:r.rainId;if(!o)return;const a=this.findMessageIndexByRainId(o);if(-1===a)return;const l=this.chatMessageService.messages[a],c=Object.assign({},l.rainInfo);if(t.code!==cd.Success&&(c.isCanClaim=!0),t.code===cd.Success){t.isMe&&this.audioService.play(ta.Sound,Ao.FreeBet);const d=[...c.placesInfo];d[t.place-1]=Object.assign(Object.assign({},d[t.place-1]),{playerName:t.playerName,playerAvatar:t.playerAvatar,isMe:null!==(s=t.isMe)&&void 0!==s&&s,status:Kg.Claimed}),c.placesInfo=d}const u=Object.assign(Object.assign({},l),{rainInfo:c,waitingForResponse:!1});this.chatMessageService.updateMessageByIndex(a,u)}onRainExpireResponse(t){const i=this.findMessageIndexByRainId(t.id);if(-1===i)return;const r=this.chatMessageService.messages[i],s=r.rainInfo.placesInfo.map(a=>Object.assign(Object.assign({},a),{status:Kg.Canceled})),o=Object.assign(Object.assign({},r),{rainInfo:Object.assign(Object.assign({},r.rainInfo),{placesInfo:s,isCanClaim:!1})});this.chatMessageService.updateMessageByIndex(i,o)}findMessageIndexByRainId(t){return this.chatMessageService.messages.findIndex(i=>{var r;return(null===(r=i.rainInfo)||void 0===r?void 0:r.id)===t})}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(lh),We(qh))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();const v2e=function(n,e){return{width:n,background:e}};let _Y=(()=>{class n{constructor(){this.value=0,this.total=0}get progress(){return 0===this.total?0:this.value/this.total*100}get progressBgColor(){return this.claimStatus===io.Expired?"#FFFFFF1A":this.progress>50?"#60E572":this.progress>25?"#FF8547":"#FF4747"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-progress-bar"]],inputs:{value:"value",total:"total",claimStatus:"claimStatus"},decls:3,vars:4,consts:[[1,"chat-progress-bar"],[1,"chat-progress-bar-bg"],[1,"chat-progress-bar-fill",3,"ngStyle"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),ce(2,"div",2),R()()),2&t&&(S(2),F("ngStyle",wa(1,v2e,i.progress+"%",i.progressBgColor)))},directives:[Dd],styles:[".chat-progress-bar[_ngcontent-%COMP%]{width:100%;height:10px;margin:2px 0}.chat-progress-bar-bg[_ngcontent-%COMP%]{width:100%;height:100%;padding:2px;display:flex;align-items:center;overflow:hidden;border-radius:100px;background:rgba(255,255,255,.1)}.chat-progress-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:100px;transition:width .3s}"],changeDetection:0}),n})();function C2e(n,e){if(1&n&&ce(0,"img",3),2&n){const t=e.$implicit;F("src",ee().getAvatarUrl(t),an)}}function w2e(n,e){if(1&n&&(D(0,"div",4),U(1),R()),2&n){const t=ee();S(1),ie(" +",t.avatarsRemainsCount," ")}}let S2e=(()=>{class n{constructor(){this.avatars=[],this.maxAvatarsToShow=13}getAvatarUrl(t){return qs(Qs.avatarPath+t)}get avatarsToShow(){return this.avatars.slice(0,this.maxAvatarsToShow)}get avatarsRemainsCount(){return this.avatars.length-this.maxAvatarsToShow}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-avatars-block"]],inputs:{avatars:"avatars",maxAvatarsToShow:"maxAvatarsToShow"},decls:3,vars:2,consts:[[1,"chat-avatars-block"],["class","avatar","height","20","width","20","draggable","false","alt","Avatar",3,"src",4,"ngFor","ngForOf"],["class","avatar avatars-left",4,"ngIf"],["height","20","width","20","draggable","false","alt","Avatar",1,"avatar",3,"src"],[1,"avatar","avatars-left"]],template:function(t,i){1&t&&(D(0,"div",0),te(1,C2e,1,1,"img",1),te(2,w2e,2,1,"div",2),R()),2&t&&(S(1),F("ngForOf",i.avatarsToShow),S(1),F("ngIf",i.avatarsRemainsCount>0))},directives:[di,At],styles:[".chat-avatars-block[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-bottom:8px}.chat-avatars-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:20px;height:20px;aspect-ratio:1/1;border-radius:100%;border:1px solid #ffffffcc;box-shadow:0 0 4px #141414e0}.chat-avatars-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-4px}.chat-avatars-block[_ngcontent-%COMP%]   .avatars-left[_ngcontent-%COMP%]{padding:2px;display:flex;align-items:center;justify-content:center;background:#525252;color:#fff;font-weight:600;font-size:9px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;letter-spacing:-.18px}"],changeDetection:0}),n})();function T2e(n,e){if(1&n){const t=_t();D(0,"button",3),Ae("click",function(){return ht(t),ee(2).claim.emit()}),U(1),R()}if(2&n){const t=ee().$implicit;F("disabled",ee().isClaimButtonDisabled),S(1),ie(" ",t("game.chat-widget.Claim")," ")}}function M2e(n,e){if(1&n&&(D(0,"div",4),ce(1,"svg-icon",5),G(2,"versionedUrl"),D(3,"span"),U(4),R()()),2&n){const t=ee().$implicit,i=ee();S(1),F("src",q(2,2,"/assets/chat/icons/"+i.iconName+"-icon.svg")),S(3),nt(t("game.chat-widget."+i.claimStatus))}}function x2e(n,e){if(1&n&&(ft(0),te(1,T2e,2,2,"button",1),te(2,M2e,5,4,"div",2),gt()),2&n){const t=ee();S(1),F("ngIf",t.showClaimButton),S(1),F("ngIf",!t.showClaimButton)}}let yY=(()=>{class n{constructor(){this.claim=new _n}get showClaimButton(){return this.claimStatus===io.Claim||this.claimStatus===io.ClaimDisabled}get isClaimButtonDisabled(){return this.claimStatus===io.ClaimDisabled}get iconName(){if(this.claimStatus!==io.Claim)return this.claimStatus===io.Expired?"clock":"mark"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-claim"]],inputs:{claimStatus:"claimStatus"},outputs:{claim:"claim"},decls:1,vars:0,consts:[[4,"transloco"],["class","btn claim-btn",3,"disabled","click",4,"ngIf"],["class","claim-message",4,"ngIf"],[1,"btn","claim-btn",3,"disabled","click"],[1,"claim-message"],[3,"src"]],template:function(t,i){1&t&&te(0,x2e,3,2,"ng-container",0)},directives:[hu,At,np],pipes:[Vd],styles:[".claim-btn[_ngcontent-%COMP%]{display:flex;height:36px;width:100%;padding:8px;justify-content:center;align-items:center;border-radius:100px;background:#60e572;color:#000;font-size:14px;font-weight:600;line-height:21px}.claim-btn[_ngcontent-%COMP%]:hover, .claim-btn[_ngcontent-%COMP%]:focus-visible{background:#50c866}.claim-btn[_ngcontent-%COMP%]:active{background:#46b35a}.claim-message[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:4px;height:36px;color:#fff9;font-size:12px}"],changeDetection:0}),n})();function E2e(n,e){if(1&n){const t=_t();D(0,"div",1),ce(1,"app-chat-message-header",2),D(2,"div",3)(3,"div",4),ce(4,"img",5),D(5,"span"),U(6),R(),ce(7,"img",6),D(8,"span",7),U(9),G(10,"currencyPrecision"),R()(),D(11,"div",8)(12,"span"),U(13),R(),D(14,"span",7),U(15),G(16,"number"),G(17,"number"),R()(),ce(18,"app-chat-progress-bar",9)(19,"app-chat-avatars-block",10),D(20,"app-chat-message-claim",11),Ae("claim",function(){return ht(t),ee().onClaimRain()}),R()(),D(21,"div",12)(22,"span",13),U(23),R(),D(24,"span",7),U(25),G(26,"currencyPrecision"),R()()()}if(2&n){const t=e.$implicit,i=ee();S(1),F("senderType",i.message.senderType)("username",i.message.senderName)("createDate",i.message.createDate),S(3),F("src",i.getImgSrc("rain-icon"),an)("srcset",i.getSrcSet("rain-icon"),an),S(2),nt(t("game.chat-widget.Rain")),S(1),F("src",i.getImgSrc("coin-icon"),an)("srcset",i.getSrcSet("coin-icon"),an),S(2),Xn(" ",q(10,21,i.rainInfo.amountPerPlayer)," ",i.gameConfig.currency," "),S(4),nt(t("game.chat-widget.Quantity:")),S(2),Xn("",Gt(16,23,i.availablePlacesAmount,"2.0-0")," / ",Gt(17,26,i.totalPlacesAmount,"2.0-0"),""),S(3),F("claimStatus",i.claimStatus)("value",i.availablePlacesAmount)("total",i.totalPlacesAmount),S(1),F("avatars",i.avatars),S(1),F("claimStatus",i.claimStatus),S(3),nt(t("game.chat-widget.Total:")),S(2),Xn("",q(26,29,i.fullAmount)," ",i.gameConfig.currency,"")}}const ax="assets/chat/img/";let O2e=(()=>{class n{constructor(t,i){this.gameConfig=t,this.chatRainService=i,this.isCurrentUserMessage=!1}get rainInfo(){return this.message.rainInfo}get fullAmount(){return new Fi(this.rainInfo.amountPerPlayer).times(this.rainInfo.placesInfo.length).toNumber()}get totalPlacesAmount(){return this.rainInfo.placesInfo.length}get availablePlacesAmount(){return this.rainInfo.placesInfo.reduce((t,i)=>i.status!==Kg.Claimed?++t:t,0)}get isMeClaimed(){return this.rainInfo.placesInfo.some(t=>t.isMe)}get isExpired(){return this.rainInfo.placesInfo.some(t=>t.status===Kg.Canceled)}get avatars(){return this.rainInfo.placesInfo.reduce((t,i)=>i.playerAvatar?[...t,i.playerAvatar]:t,[])}get claimStatus(){return this.isMeClaimed?io.Claimed:0===this.availablePlacesAmount?io.Distributed:this.isExpired?io.Expired:this.isCurrentUserMessage||this.message.waitingForResponse?io.ClaimDisabled:io.Claim}getSrcSet(t){return`${ax}${t}.png, ${ax}${t}@2x.png 2x, ${ax}${t}@3x.png 3x`}getImgSrc(t){return`${ax}${t}.png`}onClaimRain(){this.chatRainService.claimRain(this.message)}}return n.\u0275fac=function(t){return new(t||n)(W(Hn),W(mY))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-rain"]],inputs:{message:"message",isCurrentUserMessage:"isCurrentUserMessage"},decls:1,vars:0,consts:[["class","chat-message-rain",4,"transloco"],[1,"chat-message-rain"],[1,"chat-message-rain-header",3,"senderType","username","createDate"],[1,"chat-message-rain-wrapper"],[1,"chat-message-rain-description"],["draggable","false","width","32","height","32","alt","Rain icon",1,"rain-icon",3,"src","srcset"],["draggable","false","width","24","height","24","alt","Coin icon",1,"coin-icon",3,"src","srcset"],[1,"amount"],[1,"chat-message-rain-quantity"],[1,"chat-message-rain-progress-bar",3,"claimStatus","value","total"],[1,"avatars",3,"avatars"],[3,"claimStatus","claim"],[1,"chat-message-rain-footer"],[1,"total"]],template:function(t,i){1&t&&te(0,E2e,27,31,"div",0)},directives:[hu,P1,_Y,S2e,yY],pipes:[Zn,ec],styles:[".chat-message-rain[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chat-message-rain-header[_ngcontent-%COMP%]{margin-bottom:4px}.chat-message-rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:8px;border-radius:12px;background:rgba(0,0,0,.4)}.chat-message-rain-description[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;width:100%;margin-bottom:2px;color:#fff;font-size:14px;font-weight:400;line-height:21px}.chat-message-rain-description[_ngcontent-%COMP%]   .rain-icon[_ngcontent-%COMP%]{margin-right:4px}.chat-message-rain-description[_ngcontent-%COMP%]   .coin-icon[_ngcontent-%COMP%]{margin:0 4px 0 auto}.chat-message-rain-description[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:right;font-weight:700}.chat-message-rain-quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2px;font-size:12px;line-height:18px;color:#fff9;font-weight:400}.chat-message-rain-quantity[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff;text-align:right;font-weight:500}.chat-message-rain-progress-bar[_ngcontent-%COMP%]{margin:2px 0}.chat-message-rain-avatars[_ngcontent-%COMP%]{margin-bottom:8px}.chat-message-rain-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;justify-content:center;margin-top:4px;font-size:12px;font-style:normal;line-height:18px;color:#fff9;font-weight:400}.chat-message-rain-footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:2px;color:#fff;font-weight:600}"],changeDetection:0}),n})(),bY=(()=>{class n{constructor(t,i){this.stomp=t,this.chatMessageService=i,this.stomp.response(ps.TicketRainClaim).subscribe(r=>this.onTicketRainClaimResponse(r)),this.stomp.response(ps.RainExpire).subscribe(r=>this.onTicketRainExpireResponse(r))}claimTicketRain(t){const i=Object.assign({},t.ticketRainInfo),r=this.findMessageIndexByTicketRainId(i.id);i.isCanClaim=!1;const s=Object.assign(Object.assign({},t),{ticketRainInfo:i,waitingForResponse:!0});this.chatMessageService.updateMessageByIndex(r,s),this.stomp.request(hs.RainClaim,{rainId:i.id})}onTicketRainClaimResponse(t){var i,r;if(!t.id)return;const o=this.findMessageIndexByTicketRainId(t.id);if(-1===o)return;const a=this.chatMessageService.messages[o];let l=Object.assign({},a.ticketRainInfo);t.code!==cd.Success&&(l.isCanClaim=t.code===cd.ChallengeTicketExists,l.isMeClaimed=!1),t.code===cd.Success&&(l=Object.assign(Object.assign({},l),{isCanClaim:null!==(i=t.isCanClaim)&&void 0!==i&&i,isMeClaimed:null!==(r=t.isMeClaimed)&&void 0!==r&&r,available:t.available}));const c=Object.assign(Object.assign({},a),{ticketRainInfo:l,waitingForResponse:!1});this.chatMessageService.updateMessageByIndex(o,c)}onTicketRainExpireResponse(t){const i=this.findMessageIndexByTicketRainId(t.id);if(-1===i)return;const r=this.chatMessageService.messages[i],s=Object.assign(Object.assign({},r),{ticketRainInfo:Object.assign(Object.assign({},r.ticketRainInfo),{isCanClaim:!1})});this.chatMessageService.updateMessageByIndex(i,s)}findMessageIndexByTicketRainId(t){return this.chatMessageService.messages.findIndex(i=>{var r;return(null===(r=i.ticketRainInfo)||void 0===r?void 0:r.id)===t})}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(lh))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();function P2e(n,e){if(1&n){const t=_t();D(0,"div",1),ce(1,"app-chat-message-header",2),D(2,"div",3)(3,"div",4),ce(4,"img",5),D(5,"span"),U(6),R()(),D(7,"div",6)(8,"span"),U(9),R(),D(10,"span",7),U(11),G(12,"number"),G(13,"number"),R()(),ce(14,"app-chat-progress-bar",8),D(15,"app-chat-message-claim",9),Ae("claim",function(){return ht(t),ee().onClaimTicket()}),R()(),D(16,"div",10),U(17),R()()}if(2&n){const t=e.$implicit,i=ee();S(1),F("senderType",i.message.senderType)("username",i.message.senderName)("createDate",i.message.createDate),S(3),F("src",i.getImgSrc("ticket-icon"),an)("srcset",i.getSrcSet("ticket-icon"),an),S(2),nt(t("game.chat-widget.Tickets")),S(3),nt(t("game.chat-widget.Quantity:")),S(2),Xn("",Gt(12,14,i.ticketRainInfo.available,"2.0-0")," / ",Gt(13,17,i.ticketRainInfo.total,"2.0-0"),""),S(3),F("claimStatus",i.claimStatus)("value",i.ticketRainInfo.available)("total",i.ticketRainInfo.total),S(1),F("claimStatus",i.claimStatus),S(2),ie(" ",i.ticketRainInfo.challengeInfo.name," ")}}const lx="assets/chat/img/";let I2e=(()=>{class n{constructor(t){this.chatTicketRainService=t,this.isCurrentUserMessage=!1}get ticketRainInfo(){return this.message.ticketRainInfo}get claimStatus(){return this.ticketRainInfo.isMeClaimed?io.Claimed:0===this.ticketRainInfo.available?io.Distributed:this.isCurrentUserMessage||this.message.waitingForResponse?io.ClaimDisabled:this.ticketRainInfo.isCanClaim?io.Claim:io.Expired}getSrcSet(t){return`${lx}${t}.png, ${lx}${t}@2x.png 2x, ${lx}${t}@3x.png 3x`}getImgSrc(t){return`${lx}${t}.png`}onClaimTicket(){this.chatTicketRainService.claimTicketRain(this.message)}}return n.\u0275fac=function(t){return new(t||n)(W(bY))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-ticket-rain"]],inputs:{message:"message",isCurrentUserMessage:"isCurrentUserMessage"},decls:1,vars:0,consts:[["class","chat-message-ticket-rain",4,"transloco"],[1,"chat-message-ticket-rain"],[1,"chat-message-ticket-rain-header",3,"senderType","username","createDate"],[1,"chat-message-ticket-rain-wrapper"],[1,"chat-message-ticket-rain-description"],["draggable","false","width","32","height","32","alt","Ticket icon",1,"ticket-rain-icon",3,"src","srcset"],[1,"chat-message-ticket-rain-quantity"],[1,"amount"],[1,"chat-message-ticket-rain-progress-bar",3,"claimStatus","value","total"],[1,"chat-message-ticket-rain-claim",3,"claimStatus","claim"],[1,"chat-message-ticket-rain-footer"]],template:function(t,i){1&t&&te(0,P2e,18,20,"div",0)},directives:[hu,P1,_Y,yY],pipes:[ec],styles:[".chat-message-ticket-rain[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chat-message-ticket-rain-header[_ngcontent-%COMP%]{margin-bottom:4px}.chat-message-ticket-rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:8px;border-radius:12px;background:rgba(0,0,0,.4)}.chat-message-ticket-rain-description[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;width:100%;margin-bottom:2px;color:#fff;font-size:14px;font-style:normal;font-weight:400;line-height:21px}.chat-message-ticket-rain-description[_ngcontent-%COMP%]   .ticket-rain-icon[_ngcontent-%COMP%]{margin-right:4px}.chat-message-ticket-rain-quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2px;font-size:12px;line-height:18px;color:#fff9;font-weight:400}.chat-message-ticket-rain-quantity[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff;text-align:right;font-weight:500}.chat-message-ticket-rain-progress-bar[_ngcontent-%COMP%]{margin:2px 0}.chat-message-ticket-rain-avatars[_ngcontent-%COMP%]{margin-bottom:8px}.chat-message-ticket-rain-claim[_ngcontent-%COMP%]{margin-top:8px}.chat-message-ticket-rain-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;justify-content:center;margin-top:4px;color:#fff;text-align:center;font-size:12px;font-weight:600;line-height:18px}"],changeDetection:0}),n})();const A2e=function(n,e){return{width:n,height:e}};let D2e=(()=>{class n{constructor(){this.gifWidth=0,this.gifHeight=0,this.gifMaxWidth=180,this.messageTypes=mu}ngOnInit(){this.isGifShown&&(this.gifInfo=this.message.gifInfo,this.getGifSizes())}getGifSizes(){const t=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=t>=i;this.gifWidth=r?this.gifMaxWidth:t/(i/this.gifMaxWidth),this.gifHeight=r?i/(t/this.gifMaxWidth):this.gifMaxWidth}get isGifShown(){return this.message.type===this.messageTypes.Gif&&!!this.message.gifInfo}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-gif"]],inputs:{message:"message"},decls:4,vars:8,consts:[[1,"user-message-card-header",3,"senderType","username","createDate"],[1,"chat-message-gif"],[1,"img-container",3,"ngStyle"],["loading","lazy","draggable","false","alt","gif",1,"img",3,"src"]],template:function(t,i){1&t&&(ce(0,"app-chat-message-header",0),D(1,"div",1)(2,"div",2),ce(3,"img",3),R()()),2&t&&(F("senderType",i.message.senderType)("username",i.message.senderName)("createDate",i.message.createDate),S(2),F("ngStyle",wa(5,A2e,i.gifWidth+"px",i.gifHeight+"px")),S(1),F("src",null==i.gifInfo?null:i.gifInfo.url,an))},directives:[P1,Dd],styles:[".chat-message-gif[_ngcontent-%COMP%]{margin-top:4px}.chat-message-gif[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden}.chat-message-gif[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),n})(),vY=(()=>{class n{constructor(t,i){this.stomp=t,this.chatMessageService=i,this.stomp.response(ps.MessageLike).subscribe(r=>this.onMessageLikeResponse(r)),this.stomp.response(ps.MessageUnlike).subscribe(r=>this.onMessageLikeResponse(r))}likeMessage(t){this.optimisticLikesCountUpdate(t,1),this.stomp.request(hs.MessageLike,{messageId:t.id})}unlikeMessage(t){this.optimisticLikesCountUpdate(t,-1),this.stomp.request(hs.MessageUnlike,{messageId:t.id})}onMessageLikeResponse(t){const i=this.findMessageIndexByMessageId(t.messageId);if(-1===i)return;const r=this.chatMessageService.messages[i],s=Object.assign({},r.likesInfo);t.code===cd.Success&&(s.likesNumber=t.likesNumber);const o=Object.assign(Object.assign({},r),{likesInfo:s,waitingForResponse:!1});this.chatMessageService.updateMessageByIndex(i,o)}optimisticLikesCountUpdate(t,i){const r=Object.assign({},t.likesInfo),s=this.findMessageIndexByMessageId(t.id);r.likesNumber=r.likesNumber+i,r.isMe=!r.isMe;const o=Object.assign(Object.assign({},t),{likesInfo:r,waitingForResponse:!0});this.chatMessageService.updateMessageByIndex(s,o)}findMessageIndexByMessageId(t){return this.chatMessageService.messages.findIndex(i=>i.id===t)}}return n.\u0275fac=function(t){return new(t||n)(We(Rs),We(lh))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})();function R2e(n,e){if(1&n&&(D(0,"div",5),U(1),R()),2&n){const t=ee();S(1),ie(" ",null==t.message.likesInfo?null:t.message.likesInfo.likesNumber," ")}}let k2e=(()=>{class n{constructor(t){this.chatLikeService=t}onLike(){var t;this.message.waitingForResponse||((null===(t=this.message.likesInfo)||void 0===t?void 0:t.isMe)?this.chatLikeService.unlikeMessage(this.message):this.chatLikeService.likeMessage(this.message))}get hasLikes(){var t;return!!(null===(t=this.message.likesInfo)||void 0===t?void 0:t.likesNumber)}get isMeLiked(){var t,i;return null!==(i=!!(null===(t=this.message.likesInfo)||void 0===t?void 0:t.isMe))&&void 0!==i&&i}}return n.\u0275fac=function(t){return new(t||n)(W(vY))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-like"]],inputs:{message:"message"},decls:6,vars:6,consts:[[1,"chat-message-like"],[1,"chat-message-like-wrapper"],[1,"btn","chat-message-like-btn",3,"click"],[1,"chat-message-like-icon",3,"src"],["class","chat-message-like-likesNumber",4,"ngIf"],[1,"chat-message-like-likesNumber"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"button",2),Ae("click",function(){return i.onLike()}),ce(3,"svg-icon",3),G(4,"versionedUrl"),R(),te(5,R2e,2,1,"div",4),R()()),2&t&&(Et("active",i.isMeLiked),S(3),F("src",q(4,4,"assets/chat/icons/like-icon.svg")),S(2),F("ngIf",i.hasLikes))},directives:[np,At],pipes:[Vd],styles:[".chat-message-like[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:24px}.chat-message-like-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.chat-message-like-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:24px;width:24px;padding:0}.chat-message-like-likesNumber[_ngcontent-%COMP%]{color:#525252;text-align:center;font-size:12px;font-weight:500;line-height:18px}.chat-message-like.active[_ngcontent-%COMP%]   .chat-message-like-likesNumber[_ngcontent-%COMP%]{color:#ff4747}.chat-message-like.active[_ngcontent-%COMP%]   .chat-message-like-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#ff4747}"],changeDetection:0}),n})();function N2e(n,e){if(1&n&&(D(0,"span",5),U(1),G(2,"maskedUsername"),R()),2&n){const t=ee();S(1),ie(" ",q(2,1,t.banInfo.playerName)," ")}}function F2e(n,e){1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.you")," "))}function B2e(n,e){1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.has been")," "))}function L2e(n,e){1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.have been")," "))}function U2e(n,e){1&n&&(D(0,"span",6),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-other")," "))}function H2e(n,e){1&n&&(D(0,"span",6),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-me")," "))}function j2e(n,e){1&n&&(ft(0),D(1,"span"),U(2),G(3,"transloco"),R(),gt()),2&n&&(S(2),nt(q(3,1,"game.chat-widget.chat-message.chat-message-ban.from chat")))}function G2e(n,e){if(1&n&&(ft(0),D(1,"span"),U(2),G(3,"transloco"),R(),D(4,"span",7),U(5),G(6,"date"),R(),gt()),2&n){const t=ee();S(2),ie(" ",q(3,2,"game.chat-widget.chat-message.chat-message-ban.from chat until")," "),S(3),ie(" ",Gt(6,4,t.banInfo.endDate,"dd.MM.yy, HH:mm")," ")}}function V2e(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban."+t.banInfo.reason)," ")}}function z2e(n,e){if(1&n&&(D(0,"span"),U(1),R()),2&n){const t=ee();S(1),nt(t.banInfo.reason)}}let $2e=(()=>{class n{constructor(){this.isReasonOther=!1}ngOnInit(){this.setBanReasonShown()}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:16,vars:13,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],[4,"ngIf"],["class","banned",4,"ngIf"],[1,"player-name"],[1,"banned"],[1,"end-date"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),te(2,N2e,3,3,"span",2),te(3,F2e,3,3,"span",3),te(4,B2e,3,3,"span",3),te(5,L2e,3,3,"span",3),te(6,U2e,3,3,"span",4),te(7,H2e,3,3,"span",4),te(8,j2e,4,3,"ng-container",3),te(9,G2e,7,7,"ng-container",3),D(10,"div")(11,"span"),U(12),G(13,"transloco"),R(),te(14,V2e,3,3,"span",3),te(15,z2e,2,1,"span",3),R()()()),2&t&&(S(2),F("ngIf",!i.banInfo.isMe),S(1),F("ngIf",i.banInfo.isMe),S(1),F("ngIf",!i.banInfo.isMe),S(1),F("ngIf",i.banInfo.isMe),S(1),F("ngIf",!i.banInfo.isMe),S(1),F("ngIf",i.banInfo.isMe),S(1),F("ngIf",!i.banInfo.endDate),S(1),F("ngIf",i.banInfo.endDate),S(3),ie(" ",q(13,11,"game.chat-widget.chat-message.chat-message-ban.Reason:")," "),S(2),F("ngIf",!i.isReasonOther),S(1),F("ngIf",i.isReasonOther))},directives:[At],pipes:[Ya,$t,za],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.message-ban[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;text-align:center;padding:8px;font-size:12px;color:#525252}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;line-height:150%;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#ff8547}.message-ban[_ngcontent-%COMP%]   .banned[_ngcontent-%COMP%]{color:#ff4747}.message-ban[_ngcontent-%COMP%]   .end-date[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center}"],changeDetection:0}),n})(),W2e=(()=>{class n{constructor(t,i,r){this.translate=t,this.datePipe=i,this.gameConfig=r,this.defaultBanReasons=["strong language","spam"]}get translatedMessage(){const t=`game.chat-widget.chat-message.chat-message-restriction.${this.restrictionMessage.text}`;if(this.translate.translate(t)){const r=Object.assign({},this.restrictionMessage.params);return r.date&&(r.date=this.formatDate(r.date)),r.reason&&(r.reason=this.translateReason(r.reason)),r.currency&&(r.currency=this.formatCurrency(r.currency)),this.translate.translate(t,r)}return this.restrictionMessage.text}formatDate(t){return this.datePipe.transform(t,"dd.MM.yy, HH:mm")||""}translateReason(t){return this.defaultBanReasons.includes(t)?this.translate.translate(`game.chat-widget.chat-message.chat-message-ban.${t}`):t}formatCurrency(t){return this.gameConfig.isCurrencyNameHidden?"":t}}return n.\u0275fac=function(t){return new(t||n)(W(sd),W(za),W(Hn))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-restriction"]],inputs:{restrictionMessage:"restrictionMessage"},features:[qn([za])],decls:4,vars:1,consts:[[1,"message-restriction"],[1,"text","canSelect"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"span"),U(3),R()()()),2&t&&(S(3),ie(" ",i.translatedMessage," "))},styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.message-restriction[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;padding:8px;font-size:12px;color:#525252}.message-restriction[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;line-height:150%;word-break:break-word}"],changeDetection:0}),n})();function Y2e(n,e){1&n&&ce(0,"app-chat-message-text",12),2&n&&F("message",ee(2).message)}function X2e(n,e){if(1&n&&ce(0,"app-chat-message-share-bet",13),2&n){const t=ee(2);F("appShareBetBgColor",null==t.message.betInfo?null:t.message.betInfo.cashOutMultiplier)("message",t.message)}}function q2e(n,e){if(1&n&&ce(0,"app-chat-message-rain",14),2&n){const t=ee(2);F("message",t.message)("isCurrentUserMessage",t.isCurrentUserMessage)}}function K2e(n,e){if(1&n&&ce(0,"app-chat-message-ticket-rain",15),2&n){const t=ee(2);F("message",t.message)("isCurrentUserMessage",t.isCurrentUserMessage)}}function J2e(n,e){1&n&&ce(0,"app-chat-message-gif",16),2&n&&F("message",ee(2).message)}const Q2e=function(n){return{isMe:n}};function Z2e(n,e){if(1&n&&(D(0,"div",3),ce(1,"app-chat-user-avatar",4),D(2,"div",5),te(3,Y2e,1,1,"app-chat-message-text",6),te(4,X2e,1,2,"app-chat-message-share-bet",7),te(5,q2e,1,2,"app-chat-message-rain",8),te(6,K2e,1,2,"app-chat-message-ticket-rain",9),te(7,J2e,1,1,"app-chat-message-gif",10),R(),ce(8,"app-chat-message-like",11),R()),2&n){const t=ee();F("ngClass",zn(9,Q2e,t.isCurrentUserMessage)),S(1),F("senderAvatar",t.message.senderAvatar)("senderType",t.message.senderType),S(2),F("ngIf",t.messageType===t.messageTypes.Text),S(1),F("ngIf",t.messageType===t.messageTypes.ShareBet),S(1),F("ngIf",t.messageType===t.messageTypes.Rain),S(1),F("ngIf",t.messageType===t.messageTypes.TicketRain),S(1),F("ngIf",t.messageType===t.messageTypes.Gif),S(1),F("message",t.message)}}function eAe(n,e){1&n&&ce(0,"app-chat-message-ban",17),2&n&&F("banInfo",ee().message.banInfo)}function tAe(n,e){1&n&&ce(0,"app-chat-message-restriction",18),2&n&&F("restrictionMessage",ee().message)}let nAe=(()=>{class n{constructor(){this.messageTypes=mu}get messageType(){return this.message.type}get isCurrentUserMessage(){return this.message.senderPlayerId===this.currentUserId}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message"]],inputs:{message:"message",currentUserId:"currentUserId"},decls:3,vars:3,consts:[["class","user-message-wrapper",3,"ngClass",4,"ngIf"],[3,"banInfo",4,"ngIf"],[3,"restrictionMessage",4,"ngIf"],[1,"user-message-wrapper",3,"ngClass"],[1,"user-message-avatar",3,"senderAvatar","senderType"],[1,"user-message-body"],["class","user-message-card text-message",3,"message",4,"ngIf"],["class","user-message-card share-bet-message",3,"appShareBetBgColor","message",4,"ngIf"],["class","user-message-card rain-message",3,"message","isCurrentUserMessage",4,"ngIf"],["class","user-message-card ticket-rain-message",3,"message","isCurrentUserMessage",4,"ngIf"],["class","user-message-card",3,"message",4,"ngIf"],[1,"user-message-like",3,"message"],[1,"user-message-card","text-message",3,"message"],[1,"user-message-card","share-bet-message",3,"appShareBetBgColor","message"],[1,"user-message-card","rain-message",3,"message","isCurrentUserMessage"],[1,"user-message-card","ticket-rain-message",3,"message","isCurrentUserMessage"],[1,"user-message-card",3,"message"],[3,"banInfo"],[3,"restrictionMessage"]],template:function(t,i){1&t&&(te(0,Z2e,9,11,"div",0),te(1,eAe,1,1,"app-chat-message-ban",1),te(2,tAe,1,1,"app-chat-message-restriction",2)),2&t&&(F("ngIf",i.messageType!==i.messageTypes.Ban&&i.message.type!==i.messageTypes.Restricted),S(1),F("ngIf",i.message.type===i.messageTypes.Ban),S(1),F("ngIf",i.message.type===i.messageTypes.Restricted))},directives:[At,cs,pY,m2e,b2e,gY,O2e,I2e,D2e,k2e,$2e,W2e],styles:["[_nghost-%COMP%]{margin-top:8px}.user-message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:nowrap}.user-message-wrapper.isMe[_ngcontent-%COMP%]{flex-direction:row-reverse}.user-message-wrapper.isMe[_ngcontent-%COMP%]   .user-message-card[_ngcontent-%COMP%]{border-radius:16px 16px 0}.user-message-wrapper.isMe[_ngcontent-%COMP%]   .user-message-card.text-message[_ngcontent-%COMP%]{max-width:100%}.user-message-wrapper.isMe[_ngcontent-%COMP%]   .user-message-body[_ngcontent-%COMP%]{justify-content:flex-end}.user-message-wrapper.isMe[_ngcontent-%COMP%]   .user-message-like[_ngcontent-%COMP%]{padding:0 6px}.user-message-card[_ngcontent-%COMP%]{padding:8px;border-radius:16px 16px 16px 0;background:#242424}.user-message-card.text-message[_ngcontent-%COMP%]{max-width:88%}.user-message-card.rain-message[_ngcontent-%COMP%], .user-message-card.ticket-rain-message[_ngcontent-%COMP%], .user-message-card.share-bet-message[_ngcontent-%COMP%]{width:100%;min-width:240px;max-width:268px}.user-message-card.rain-message[_ngcontent-%COMP%]{background:linear-gradient(145deg,#2b3224 15.68%,#386013 84.67%)}.user-message-card.ticket-rain-message[_ngcontent-%COMP%]{background:linear-gradient(145deg,#641d2d 15.68%,#85414e 84.67%)}.user-message-body[_ngcontent-%COMP%]{display:flex;width:100%;margin:0 8px}"],changeDetection:0}),n})();function iAe(n,e){if(1&n){const t=_t();D(0,"div",1)(1,"p",2),U(2),G(3,"transloco"),R(),D(4,"div",3)(5,"div",4),Ae("animationend",function(){return ht(t),ee().onAnimationEnd()}),R()()()}if(2&n){const t=ee();S(2),ie(" ",q(3,3,"game.chat-widget.Spam Filter...")," "),S(3),hl("animation-duration",t.chatConfigService.sendMessageDelay,"ms")}}let rAe=(()=>{class n{constructor(t,i){this.antiSpamService=t,this.chatConfigService=i}onAnimationEnd(){this.antiSpamService.isMessageSendingBlocked=!1}}return n.\u0275fac=function(t){return new(t||n)(W(_p),W(bp))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-spam-filter"]],decls:2,vars:3,consts:[["class","chat-spam-filter",4,"ngIf"],[1,"chat-spam-filter"],[1,"chat-spam-filter-title"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"]],template:function(t,i){1&t&&(te(0,iAe,6,5,"div",0),G(1,"async")),2&t&&F("ngIf",q(1,1,i.antiSpamService.isMessageSendingBlocked$))},directives:[At],pipes:[Ki,$t],styles:[".chat-spam-filter[_ngcontent-%COMP%]{display:flex;border-radius:12px;flex-direction:column;align-items:center;background:rgba(36,36,36,.7);width:170px;padding:8px;pointer-events:none}.chat-spam-filter-title[_ngcontent-%COMP%]{margin-bottom:4px;color:#a8a8a8;text-align:center;font-size:14px;font-style:normal;font-weight:400;line-height:21px}.chat-spam-filter[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:10px;width:154px;padding:2px;border-radius:100px;background:#ffffff1a;overflow:hidden}.chat-spam-filter[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:100px;background:#60e572;transform:translate(-154px);animation:chat-input-loading;animation-timing-function:linear}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-154px)}}"],changeDetection:0}),n})();function sAe(n,e){if(1&n){const t=_t();D(0,"button",1),Ae("click",function(){return ht(t),ee().scrollService.onScrollToBottom()}),D(1,"div",2),U(2),G(3,"transloco"),ce(4,"svg-icon",3),G(5,"versionedUrl"),R()()}2&n&&(S(2),ie(" ",q(3,2,"game.chat-widget.New messages")," "),S(2),F("src",q(5,4,"assets/chat/icons/bottom-arrow-icon.svg")))}let oAe=(()=>{class n{constructor(t){this.scrollService=t}}return n.\u0275fac=function(t){return new(t||n)(W(a0))},n.\u0275cmp=rt({type:n,selectors:[["app-scroll-to-bottom-btn"]],decls:2,vars:3,consts:[["class","btn scroll-to-bottom",3,"click",4,"ngIf"],[1,"btn","scroll-to-bottom",3,"click"],[1,"scroll-to-bottom-content"],["aria-label","Scroll to bottom icon",1,"scroll-to-bottom-icon",3,"src"]],template:function(t,i){1&t&&(te(0,sAe,6,6,"button",0),G(1,"async")),2&t&&F("ngIf",q(1,1,i.scrollService.newMessagesAdded$))},directives:[At,np],pipes:[Ki,$t,Vd],styles:[".scroll-to-bottom[_ngcontent-%COMP%]{height:36px;padding:8px 12px;border-radius:100px;background:#60e572}.scroll-to-bottom[_ngcontent-%COMP%]:hover{background:#50c866}.scroll-to-bottom-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:21px;color:#000;font-size:14px;font-style:normal;font-weight:600;line-height:21px}.scroll-to-bottom-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:8px}"],changeDetection:0}),n})();const aAe=["scrollContainer"];function lAe(n,e){if(1&n&&ce(0,"app-chat-message",6),2&n){const t=e.$implicit;F("currentUserId",ee().currentPlayerId)("message",t)}}let cAe=(()=>{class n{constructor(t,i){this.messageService=t,this.scrollService=i,this.trackById=(r,s)=>s.trackById}ngAfterViewInit(){this.scrollService.setScrollNativeElement(this.scrollContainer.nativeElement),this.scrollService.scrollToBottom()}get currentPlayerId(){return this.messageService.currentPlayerId}}return n.\u0275fac=function(t){return new(t||n)(W(lh),W(a0))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-messages-list"]],viewQuery:function(t,i){if(1&t&&Lr(aAe,5),2&t){let r;Kn(r=Jn())&&(i.scrollContainer=r.first)}},decls:7,vars:4,consts:[[1,"chat-messages-list","scroll-y"],["scrollContainer",""],[1,"messages-container"],[3,"currentUserId","message",4,"ngFor","ngForOf","ngForTrackBy"],[1,"spam-filter"],[1,"scroll-to-bottom-btn"],[3,"currentUserId","message"]],template:function(t,i){1&t&&(D(0,"div",0,1)(2,"div",2),te(3,lAe,1,2,"app-chat-message",3),G(4,"async"),R()(),ce(5,"app-chat-spam-filter",4)(6,"app-scroll-to-bottom-btn",5)),2&t&&(S(3),F("ngForOf",q(4,2,i.messageService.messages$))("ngForTrackBy",i.trackById))},directives:[di,nAe,rAe,oAe],pipes:[Ki],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%], .chat-messages-list[_ngcontent-%COMP%]{min-height:0;height:100%}.messages-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:0 auto;overflow-x:hidden;padding:0 8px 8px}.spam-filter[_ngcontent-%COMP%], .scroll-to-bottom-btn[_ngcontent-%COMP%]{position:absolute;bottom:8px;z-index:109;width:100%;display:flex;justify-content:center}"],changeDetection:0}),n})();var L0=(()=>(function(n){n.TEXT="TEXT",n.EMOJI="EMOJI",n.GIF="GIF",n.RAIN="RAIN"}(L0||(L0={})),L0))();const uAe={rainDefaultNumOfPlayers:0,rainMinAmountPerUser:0,betPrecision:0,maxMessageLength:0};let U0=(()=>{class n{constructor(t){this.chatMessageService=t,this.config=uAe,this.rainFormGroup=new HS({}),this.textareaControl=new Eb("",[]),this.activeInputToolSubject=new $n(L0.TEXT),this.activeInputTool$=this.activeInputToolSubject.asObservable(),this.symbolsLeftSubject=new $n(0),this.symbolsLeft$=this.symbolsLeftSubject.asObservable()}init(t){this.config=t,this.rainFormGroup.addControl("numberOfUsers",new Eb(this.config.rainDefaultNumOfPlayers)),this.rainFormGroup.addControl("amountPerUser",new Eb(this.config.rainMinAmountPerUser)),this.textareaControl.setValidators([h2.required,h2.maxLength(this.config.maxMessageLength),h2.minLength(1)]),this.textareaControl.updateValueAndValidity({emitEvent:!1}),this.symbolsLeftSubject.next(this.config.maxMessageLength),this.textareaControl.valueChanges.subscribe(i=>{var r;this.symbolsLeftSubject.next(this.config.maxMessageLength-(null!==(r=null==i?void 0:i.length)&&void 0!==r?r:0))})}sendTextMessage(){const t=oM(this.textareaControl.value);!t||(this.textareaControl.setValue(""),this.chatMessageService.sendMessage({type:mu.Text,text:t}))}sendRainMessage(){const t=new Fi(this.rainFormGroup.value.amountPerUser).toDP(this.config.betPrecision,Fi.ROUND_DOWN).toNumber();this.chatMessageService.sendMessage({type:mu.Rain,text:"",freeBetAmount:t,places:this.rainFormGroup.value.numberOfUsers})}senGifMessage(t){this.chatMessageService.sendMessage({type:mu.Gif,text:"",gifId:t})}addToInput(t,i=!1){const r=this.textareaControl.value||"";t.length<=this.symbolsLeftSubject.getValue()&&this.textareaControl.setValue(i?t:r+t)}switchInputTool(t){this.activeInputToolSubject.next(t)}}return n.\u0275fac=function(t){return new(t||n)(We(lh))},n.\u0275prov=Ct({token:n,factory:n.\u0275fac}),n})(),dAe=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._platform=i,this._ngZone=r,this._destroyed=new Ze,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=o=>{this._hasFocus="focus"===o.type},this._document=s,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=u0(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=u0(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=bz(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(t){this._cachedPlaceholderHeight=void 0,t?this._textareaElement.setAttribute("placeholder",t):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Hi(this._getWindow(),"resize").pipe(qa(16),$r(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,t.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const t=this._textareaElement,i=t.style.marginBottom||"",r=this._platform.FIREFOX,s=r&&this._hasFocus,o=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";s&&(t.style.marginBottom=`${t.clientHeight}px`),t.classList.add(o);const a=t.scrollHeight-4;return t.classList.remove(o),s&&(t.style.marginBottom=i),a}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const t=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=t}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!t&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const s=this._measureScrollHeight(),o=Math.max(s,this._cachedPlaceholderHeight||0);i.style.height=`${o}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:i,selectionEnd:r}=t;!this._destroyed.isStopped&&this._hasFocus&&t.setSelectionRange(i,r)}}return n.\u0275fac=function(t){return new(t||n)(W(ji),W(cR),W(Ti),W(Or,8))},n.\u0275dir=Ht({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,i){1&t&&Ae("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),hAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})();var Ik;const pAe=["textarea"],fAe=["autosize"];let Jg=Ik=class{constructor(e,t){this.cd=e,this._ngZone=t,this.maxMessageLength=0,this.placeholder="",this.enterPressed=new _n,this.value="",this.disabled=!1,this.minCharsForResizeReset=5,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){Hi(this.textareaRef.nativeElement,"keydown").pipe(cn(e=>"Enter"===e.key&&!e.shiftKey&&!this.disabled),kt(this)).subscribe(e=>{e.preventDefault(),this.enterPressed.emit()})}writeValue(e){var t;this.value=e||"",(null===(t=this.textareaRef)||void 0===t?void 0:t.nativeElement)&&(this.textareaRef.nativeElement.value=this.value),this.triggerResize(),this.cd.markForCheck()}onInput(){this.value=this.textareaRef.nativeElement.value,this.onChange(this.value),this.onTouched(),this.triggerResize()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){var t;this.disabled=e,(null===(t=this.textareaRef)||void 0===t?void 0:t.nativeElement)&&(this.textareaRef.nativeElement.disabled=e),this.cd.markForCheck()}setFocusedState(){this.textareaRef.nativeElement.focus()}triggerResize(){this._ngZone.onStable.pipe(sr(1)).subscribe(()=>{this.value.length<this.minCharsForResizeReset&&this.autosize.reset(),this.autosize.resizeToFitContent(!0)})}};function gAe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",11),Ae("click",function(){ht(t);const r=ee(3);return r.onInputToolChanged(r.chatInputTool.TEXT)}),ce(2,"svg-icon",12),G(3,"versionedUrl"),R(),ce(4,"div",13),gt()}2&n&&(S(2),F("src",q(3,1,"assets/chat/icons/chevron-left-icon.svg")))}Jg.\u0275fac=function(e){return new(e||Jg)(W(Fn),W(Ti))},Jg.\u0275cmp=rt({type:Jg,selectors:[["app-chat-input-textarea"]],viewQuery:function(e,t){if(1&e&&(Lr(pAe,7),Lr(fAe,7)),2&e){let i;Kn(i=Jn())&&(t.textareaRef=i.first),Kn(i=Jn())&&(t.autosize=i.first)}},inputs:{maxMessageLength:"maxMessageLength",placeholder:"placeholder"},outputs:{enterPressed:"enterPressed"},features:[qn([{provide:Ks,useExisting:Un(()=>Ik),multi:!0}])],decls:3,vars:4,consts:[["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5","minlength","1",1,"chat-input-textarea",3,"value","placeholder","disabled","input"],["autosize","cdkTextareaAutosize","textarea",""]],template:function(e,t){1&e&&(D(0,"textarea",0,1),Ae("input",function(){return t.onInput()}),R()),2&e&&(F("value",t.value)("placeholder",t.placeholder)("disabled",t.disabled),Ii("maxlength",t.maxMessageLength))},directives:[dAe],styles:[".chat-input-textarea[_ngcontent-%COMP%]{width:100%;padding:4px;color:#fff;font-size:14px;font-weight:400;line-height:21px;background:unset;resize:none;border:none;min-height:21px;max-height:105px;overflow:hidden}.chat-input-textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#8f8f8f}.chat-input-textarea[_ngcontent-%COMP%]::placeholder{color:#8f8f8f}.chat-input-textarea[_ngcontent-%COMP%]:disabled{opacity:.5}"],changeDetection:0}),Jg=Ik=Ve([_i()],Jg);const Ak=function(n){return{active:n}};function mAe(n,e){if(1&n){const t=_t();D(0,"button",14),Ae("click",function(){ht(t);const r=ee(3);return r.onInputToolChanged(r.chatInputTool.EMOJI)}),ce(1,"svg-icon",12),G(2,"versionedUrl"),R()}if(2&n){const t=ee().ngIf,i=ee(2);F("ngClass",zn(4,Ak,t.activeInputTool===i.chatInputTool.EMOJI)),S(1),F("src",q(2,2,"assets/chat/icons/emoji-icon.svg"))}}function _Ae(n,e){if(1&n){const t=_t();D(0,"button",15),Ae("click",function(){ht(t);const r=ee(3);return r.onInputToolChanged(r.chatInputTool.GIF)}),ce(1,"svg-icon",12),G(2,"versionedUrl"),R()}if(2&n){const t=ee().ngIf,i=ee(2);F("ngClass",zn(4,Ak,t.activeInputTool===i.chatInputTool.GIF)),S(1),F("src",q(2,2,"assets/chat/icons/gif-icon.svg"))}}function yAe(n,e){if(1&n){const t=_t();D(0,"button",16),Ae("click",function(){ht(t);const r=ee(3);return r.onInputToolChanged(r.chatInputTool.RAIN)}),ce(1,"svg-icon",12),G(2,"versionedUrl"),R()}if(2&n){const t=ee().ngIf,i=ee(2);F("ngClass",zn(4,Ak,t.activeInputTool===i.chatInputTool.RAIN)),S(1),F("src",q(2,2,"assets/chat/icons/rain-icon.svg"))}}const bAe=function(n){return{low:n}};function vAe(n,e){if(1&n&&(D(0,"div",17),ce(1,"svg-icon",18),G(2,"versionedUrl"),U(3),R()),2&n){const t=ee().ngIf,i=ee(2);F("ngClass",zn(5,bAe,t.symbolsLeftCounter<=i.minSymbolsWarningThreshold)),S(1),F("src",q(2,3,"assets/chat/icons/letters-icon.svg")),S(2),ie(" ",t.symbolsLeftCounter," ")}}const CAe=function(n,e){return{active:n,empty:e}};function wAe(n,e){if(1&n){const t=_t();D(0,"button",19),Ae("click",function(){return ht(t),ee(3).onSendTextMessageClick()}),ce(1,"svg-icon",12),G(2,"versionedUrl"),R()}if(2&n){const t=ee().ngIf,i=ee(2);F("ngClass",wa(5,CAe,t.symbolsLeftCounter!==i.maxMessageLength,t.symbolsLeftCounter===i.maxMessageLength&&!t.isMessageSendingBlocked))("disabled",t.isMessageSendingBlocked||t.symbolsLeftCounter===i.maxMessageLength),S(1),F("src",q(2,3,"assets/chat/icons/send-icon.svg"))}}function SAe(n,e){if(1&n){const t=_t();D(0,"button",20),Ae("click",function(){return ht(t),ee(3).onSendRainMessageClick()}),U(1),R()}if(2&n){const t=ee().ngIf,i=ee().$implicit;F("disabled",t.isMessageSendingBlocked),S(1),ie(" ",i("game.chat-widget.Send Rain")," ")}}function TAe(n,e){if(1&n&&(D(0,"div",2)(1,"div",3),te(2,gAe,5,3,"ng-container",4),te(3,mAe,3,6,"button",5),te(4,_Ae,3,6,"button",6),te(5,yAe,3,6,"button",7),R(),te(6,vAe,4,7,"div",8),te(7,wAe,3,8,"button",9),te(8,SAe,2,2,"button",10),R()),2&n){const t=e.ngIf,i=ee(2);S(2),F("ngIf",t.activeInputTool!==i.chatInputTool.TEXT),S(1),F("ngIf",i.isDesktop),S(1),F("ngIf",i.isGifActive),S(1),F("ngIf",i.isRainActive),S(1),F("ngIf",t.activeInputTool===i.chatInputTool.TEXT||t.activeInputTool===i.chatInputTool.EMOJI),S(1),F("ngIf",t.activeInputTool===i.chatInputTool.TEXT||t.activeInputTool===i.chatInputTool.EMOJI),S(1),F("ngIf",t.activeInputTool===i.chatInputTool.RAIN)}}function MAe(n,e){if(1&n&&(ft(0),te(1,TAe,9,7,"div",1),G(2,"async"),gt()),2&n){const t=ee();S(1),F("ngIf",q(2,1,t.data$))}}let xAe=(()=>{class n{constructor(t,i,r,s,o){this.chatInputService=t,this.app=i,this.chatConfig=r,this.chatScrollService=s,this.antiSpamService=o,this.data$=lc({activeInputTool:this.chatInputService.activeInputTool$,symbolsLeftCounter:this.chatInputService.symbolsLeft$,isMessageSendingBlocked:this.antiSpamService.isMessageSendingBlocked$}),this.minSymbolsWarningThreshold=5,this.chatInputTool=L0}get maxMessageLength(){return this.chatConfig.maxMessageLength}get isDesktop(){return this.app.isDesktop}get isGifActive(){return!!this.chatConfig.topGifs}get isRainActive(){return this.chatConfig.rainConfig&&this.chatConfig.isFreeBetsEnabled}onInputToolChanged(t){this.chatInputService.switchInputTool(t),this.chatScrollService.onInputToolChanged()}onSendTextMessageClick(){this.chatInputService.sendTextMessage()}onSendRainMessageClick(){this.chatInputService.sendRainMessage()}}return n.\u0275fac=function(t){return new(t||n)(W(U0),W(gr),W(bp),W(a0),W(_p))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tools-panel"]],decls:1,vars:0,consts:[[4,"transloco"],["class","input-tools-panel",4,"ngIf"],[1,"input-tools-panel"],[1,"input-tools-panel-options-wrapper"],[4,"ngIf"],["class","btn input-tools-panel-option-btn","aria-label","Emoji button",3,"ngClass","click",4,"ngIf"],["class","btn input-tools-panel-option-btn","aria-label","Gif button",3,"ngClass","click",4,"ngIf"],["class","btn input-tools-panel-option-btn","aria-label","Rain button",3,"ngClass","click",4,"ngIf"],["class","input-tools-panel-letters-counter",3,"ngClass",4,"ngIf"],["class","btn input-tools-panel-option-btn send-btn","aria-label","Send text message button",3,"ngClass","disabled","click",4,"ngIf"],["class","btn send-rain-btn","aria-label","Send Rain button",3,"disabled","click",4,"ngIf"],["aria-label","Back button",1,"btn","input-tools-panel-option-btn",3,"click"],[3,"src"],[1,"divider"],["aria-label","Emoji button",1,"btn","input-tools-panel-option-btn",3,"ngClass","click"],["aria-label","Gif button",1,"btn","input-tools-panel-option-btn",3,"ngClass","click"],["aria-label","Rain button",1,"btn","input-tools-panel-option-btn",3,"ngClass","click"],[1,"input-tools-panel-letters-counter",3,"ngClass"],["aria-label","Letters icon",1,"letters-icon",3,"src"],["aria-label","Send text message button",1,"btn","input-tools-panel-option-btn","send-btn",3,"ngClass","disabled","click"],["aria-label","Send Rain button",1,"btn","send-rain-btn",3,"disabled","click"]],template:function(t,i){1&t&&te(0,MAe,3,3,"ng-container",0)},directives:[hu,At,np,cs],pipes:[Ki,Vd],styles:[".input-tools-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between;width:100%}.input-tools-panel-options-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;max-width:140px}.input-tools-panel-options-wrapper[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:block;width:2px;height:20px;flex-shrink:0;background:#8f8f8f;margin:0 6px 0 4px}.input-tools-panel-option-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:32px;height:32px;padding:4px;margin-right:2px}.input-tools-panel-option-btn[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.input-tools-panel-option-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#60e572;transition:fill .18s}.input-tools-panel-option-btn[_ngcontent-%COMP%]:hover:not(.active):not(:disabled)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#8f8f8f66;transition:fill .18s}.input-tools-panel-option-btn[_ngcontent-%COMP%]:disabled, .input-tools-panel-option-btn.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.input-tools-panel-option-btn[_ngcontent-%COMP%]:disabled   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .input-tools-panel-option-btn.disabled[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#8f8f8f66}.input-tools-panel-option-btn[_ngcontent-%COMP%]:disabled.empty{cursor:not-allowed}.input-tools-panel-option-btn[_ngcontent-%COMP%]:disabled.empty   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#8f8f8f}.input-tools-panel-letters-counter[_ngcontent-%COMP%]{display:flex;align-items:center;color:#8f8f8f;font-size:14px;font-weight:500;line-height:21px;margin-right:auto;padding-left:8px}.input-tools-panel-letters-counter.low[_ngcontent-%COMP%]{color:#ff4747}.input-tools-panel-letters-counter[_ngcontent-%COMP%]   .letters-icon[_ngcontent-%COMP%]{width:17px;height:11px;flex-shrink:0;margin-right:4px}.input-tools-panel[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .input-tools-panel[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:focus-visible:not(:disabled)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .input-tools-panel[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:active:not(:disabled)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#60e572}.input-tools-panel[_ngcontent-%COMP%]   .send-rain-btn[_ngcontent-%COMP%]{display:flex;height:32px;padding:8px;justify-content:center;align-items:center;border-radius:100px;background:#60e572;color:#000;text-align:center;font-size:12px;font-weight:600;line-height:18px}.input-tools-panel[_ngcontent-%COMP%]   .send-rain-btn[_ngcontent-%COMP%]:hover:not(:disabled), .input-tools-panel[_ngcontent-%COMP%]   .send-rain-btn[_ngcontent-%COMP%]:focus-visible:not(:disabled){background:#50c866}.input-tools-panel[_ngcontent-%COMP%]   .send-rain-btn[_ngcontent-%COMP%]:active:not(:disabled){background:#46b35a}.input-tools-panel[_ngcontent-%COMP%]   .send-rain-btn[_ngcontent-%COMP%]:disabled, .input-tools-panel[_ngcontent-%COMP%]   .send-rain-btn.disabled[_ngcontent-%COMP%]{background:#60e57266;cursor:not-allowed;box-shadow:none}"],changeDetection:0}),n})();const Up=JSON.parse('[{"no":1,"title":"face with tears of joy","category":"Favorites","pic":"\u{1f602}"},{"no":2,"title":"smiling face with heart-eyes","category":"Favorites","pic":"\u{1f60d}"},{"no":3,"title":"smiling face with smiling eyes","category":"Favorites","pic":"\u{1f60a}"},{"no":4,"title":"confused face","category":"Favorites","pic":"\u{1f615}"},{"no":5,"title":"OK hand","category":"Favorites","pic":"\u{1f44c}"},{"no":6,"title":"rocket","category":"Favorites","pic":"\u{1f680}"},{"no":7,"title":"trophy","category":"Favorites","pic":"\u{1f3c6}"},{"no":8,"title":"beer mug","category":"Favorites","pic":"\u{1f37a}"},{"no":9,"title":"red heart","category":"Favorites","pic":"\u2764\ufe0f"},{"no":10,"title":"grinning face with smiling eyes","category":"People","pic":"\u{1f604}"},{"no":11,"title":"grinning face with big eyes","category":"People","pic":"\u{1f603}"},{"no":12,"title":"grinning face","category":"People","pic":"\u{1f600}"},{"no":13,"title":"smiling face with smiling eyes","category":"People","pic":"\u{1f60a}"},{"no":14,"title":"winking face","category":"People","pic":"\u{1f609}"},{"no":15,"title":"smiling face with heart-eyes","category":"People","pic":"\u{1f60d}"},{"no":16,"title":"face blowing a kiss","category":"People","pic":"\u{1f618}"},{"no":17,"title":"kissing face with closed eyes","category":"People","pic":"\u{1f61a}"},{"no":18,"title":"kissing face","category":"People","pic":"\u{1f617}"},{"no":19,"title":"kissing face with smiling eyes","category":"People","pic":"\u{1f619}"},{"no":20,"title":"winking face with tongue","category":"People","pic":"\u{1f61c}"},{"no":21,"title":"squinting face with tongue","category":"People","pic":"\u{1f61d}"},{"no":22,"title":"face with tongue","category":"People","pic":"\u{1f61b}"},{"no":23,"title":"flushed face","category":"People","pic":"\u{1f633}"},{"no":24,"title":"beaming face with smiling eyes","category":"People","pic":"\u{1f601}"},{"no":25,"title":"pensive face","category":"People","pic":"\u{1f614}"},{"no":26,"title":"relieved face","category":"People","pic":"\u{1f60c}"},{"no":27,"title":"unamused face","category":"People","pic":"\u{1f612}"},{"no":28,"title":"disappointed face","category":"People","pic":"\u{1f61e}"},{"no":29,"title":"persevering face","category":"People","pic":"\u{1f623}"},{"no":30,"title":"crying face","category":"People","pic":"\u{1f622}"},{"no":31,"title":"face with tears of joy","category":"People","pic":"\u{1f602}"},{"no":32,"title":"loudly crying face","category":"People","pic":"\u{1f62d}"},{"no":33,"title":"sleepy face","category":"People","pic":"\u{1f62a}"},{"no":34,"title":"sad but relieved face","category":"People","pic":"\u{1f625}"},{"no":35,"title":"anxious face with sweat","category":"People","pic":"\u{1f630}"},{"no":36,"title":"grinning face with sweat","category":"People","pic":"\u{1f605}"},{"no":37,"title":"downcast face with sweat","category":"People","pic":"\u{1f613}"},{"no":38,"title":"weary face","category":"People","pic":"\u{1f629}"},{"no":39,"title":"tired face","category":"People","pic":"\u{1f62b}"},{"no":40,"title":"fearful face","category":"People","pic":"\u{1f628}"},{"no":41,"title":"face screaming in fear","category":"People","pic":"\u{1f631}"},{"no":42,"title":"angry face","category":"People","pic":"\u{1f620}"},{"no":43,"title":"pouting face","category":"People","pic":"\u{1f621}"},{"no":44,"title":"face with steam from nose","category":"People","pic":"\u{1f624}"},{"no":45,"title":"confounded face","category":"People","pic":"\u{1f616}"},{"no":46,"title":"grinning squinting face","category":"People","pic":"\u{1f606}"},{"no":47,"title":"face savoring food","category":"People","pic":"\u{1f60b}"},{"no":48,"title":"face with medical mask","category":"People","pic":"\u{1f637}"},{"no":49,"title":"smiling face with sunglasses","category":"People","pic":"\u{1f60e}"},{"no":50,"title":"sleeping face","category":"People","pic":"\u{1f634}"},{"no":51,"title":"dizzy face","category":"People","pic":"\u{1f635}"},{"no":52,"title":"astonished face","category":"People","pic":"\u{1f632}"},{"no":53,"title":"worried face","category":"People","pic":"\u{1f61f}"},{"no":54,"title":"frowning face with open mouth","category":"People","pic":"\u{1f626}"},{"no":55,"title":"anguished face","category":"People","pic":"\u{1f627}"},{"no":56,"title":"angry face with horns","category":"People","pic":"\u{1f47f}"},{"no":57,"title":"face with open mouth","category":"People","pic":"\u{1f62e}"},{"no":58,"title":"grimacing face","category":"People","pic":"\u{1f62c}"},{"no":59,"title":"neutral face","category":"People","pic":"\u{1f610}"},{"no":60,"title":"confused face","category":"People","pic":"\u{1f615}"},{"no":61,"title":"hushed face","category":"People","pic":"\u{1f62f}"},{"no":62,"title":"smirking face","category":"People","pic":"\u{1f60f}"},{"no":63,"title":"expressionless face","category":"People","pic":"\u{1f611}"},{"no":64,"title":"slightly frowning face","category":"People","pic":"\u{1f641}"},{"no":65,"title":"face with rolling eyes","category":"People","pic":"\u{1f644}"},{"no":66,"title":"thinking face","category":"People","pic":"\u{1f914}"},{"no":67,"title":"zipper-mouth face","category":"People","pic":"\u{1f910}"},{"no":68,"title":"face with thermometer","category":"People","pic":"\u{1f912}"},{"no":69,"title":"face with head-bandage","category":"People","pic":"\u{1f915}"},{"no":70,"title":"slightly smiling face","category":"People","pic":"\u{1f642}"},{"no":71,"title":"upside-down face","category":"People","pic":"\u{1f643}"},{"no":72,"title":"money-mouth face","category":"People","pic":"\u{1f911}"},{"no":73,"title":"hugging face","category":"People","pic":"\u{1f917}"},{"no":74,"title":"nerd face","category":"People","pic":"\u{1f913}"},{"no":75,"title":"princess","category":"People","pic":"\u{1f478}"},{"no":76,"title":"ogre","category":"People","pic":"\u{1f479}"},{"no":77,"title":"goblin","category":"People","pic":"\u{1f47a}"},{"no":78,"title":"see-no-evil monkey","category":"People","pic":"\u{1f648}"},{"no":79,"title":"hear-no-evil monkey","category":"People","pic":"\u{1f649}"},{"no":80,"title":"speak-no-evil monkey","category":"People","pic":"\u{1f64a}"},{"no":81,"title":"skull","category":"People","pic":"\u{1f480}"},{"no":82,"title":"alien","category":"People","pic":"\u{1f47d}"},{"no":83,"title":"pile of poo","category":"People","pic":"\u{1f4a9}"},{"no":84,"title":"fire","category":"People","pic":"\u{1f525}"},{"no":85,"title":"sparkles","category":"People","pic":"\u2728"},{"no":86,"title":"glowing star","category":"People","pic":"\u{1f31f}"},{"no":87,"title":"collision","category":"People","pic":"\u{1f4a5}"},{"no":88,"title":"sweat droplets","category":"People","pic":"\u{1f4a6}"},{"no":89,"title":"droplet","category":"People","pic":"\u{1f4a7}"},{"no":90,"title":"zzz","category":"People","pic":"\u{1f4a4}"},{"no":91,"title":"dashing away","category":"People","pic":"\u{1f4a8}"},{"no":92,"title":"ear","category":"People","pic":"\u{1f442}"},{"no":93,"title":"eyes","category":"People","pic":"\u{1f440}"},{"no":94,"title":"nose","category":"People","pic":"\u{1f443}"},{"no":95,"title":"tongue","category":"People","pic":"\u{1f445}"},{"no":96,"title":"mouth","category":"People","pic":"\u{1f444}"},{"no":97,"title":"thumbs up","category":"People","pic":"\u{1f44d}"},{"no":98,"title":"thumbs down","category":"People","pic":"\u{1f44e}"},{"no":99,"title":"OK hand","category":"People","pic":"\u{1f44c}"},{"no":100,"title":"oncoming fist","category":"People","pic":"\u{1f44a}"},{"no":101,"title":"raised fist","category":"People","pic":"\u270a"},{"no":102,"title":"waving hand","category":"People","pic":"\u{1f44b}"},{"no":103,"title":"raised hand","category":"People","pic":"\u270b"},{"no":104,"title":"open hands","category":"People","pic":"\u{1f450}"},{"no":105,"title":"backhand index pointing up","category":"People","pic":"\u{1f446}"},{"no":106,"title":"backhand index pointing down","category":"People","pic":"\u{1f447}"},{"no":107,"title":"backhand index pointing right","category":"People","pic":"\u{1f449}"},{"no":108,"title":"backhand index pointing left","category":"People","pic":"\u{1f448}"},{"no":109,"title":"sign of the horns","category":"People","pic":"\u{1f918}"},{"no":110,"title":"hand with fingers splayed","category":"People","pic":"\u{1f590}"},{"no":111,"title":"vulcan salute","category":"People","pic":"\u{1f596}"},{"no":112,"title":"middle finger","category":"People","pic":"\u{1f595}"},{"no":113,"title":"raising hands","category":"People","pic":"\u{1f64c}"},{"no":114,"title":"folded hands","category":"People","pic":"\u{1f64f}"},{"no":115,"title":"clapping hands","category":"People","pic":"\u{1f44f}"},{"no":116,"title":"flexed biceps","category":"People","pic":"\u{1f4aa}"},{"no":117,"title":"woman dancing","category":"People","pic":"\u{1f483}"},{"no":118,"title":"woman and man holding hands","category":"People","pic":"\u{1f46b}"},{"no":119,"title":"family","category":"People","pic":"\u{1f46a}"},{"no":120,"title":"kiss","category":"People","pic":"\u{1f48f}"},{"no":121,"title":"person gesturing OK","category":"People","pic":"\u{1f646}"},{"no":122,"title":"person gesturing NO","category":"People","pic":"\u{1f645}"},{"no":123,"title":"person tipping hand","category":"People","pic":"\u{1f481}"},{"no":124,"title":"person raising hand","category":"People","pic":"\u{1f64b}"},{"no":125,"title":"person getting massage","category":"People","pic":"\u{1f486}"},{"no":126,"title":"person getting haircut","category":"People","pic":"\u{1f487}"},{"no":127,"title":"nail polish","category":"People","pic":"\u{1f485}"},{"no":128,"title":"bride with veil","category":"People","pic":"\u{1f470}"},{"no":129,"title":"person pouting","category":"People","pic":"\u{1f64e}"},{"no":130,"title":"person frowning","category":"People","pic":"\u{1f64d}"},{"no":131,"title":"person bowing","category":"People","pic":"\u{1f647}"},{"no":132,"title":"top hat","category":"People","pic":"\u{1f3a9}"},{"no":133,"title":"crown","category":"People","pic":"\u{1f451}"},{"no":134,"title":"red heart","category":"People","pic":"\u2764\ufe0f"},{"no":135,"title":"yellow heart","category":"People","pic":"\u{1f49b}"},{"no":136,"title":"blue heart","category":"People","pic":"\u{1f499}"},{"no":137,"title":"purple heart","category":"People","pic":"\u{1f49c}"},{"no":138,"title":"green heart","category":"People","pic":"\u{1f49a}"},{"no":139,"title":"broken heart","category":"People","pic":"\u{1f494}"},{"no":140,"title":"growing heart","category":"People","pic":"\u{1f497}"},{"no":141,"title":"beating heart","category":"People","pic":"\u{1f493}"},{"no":142,"title":"two hearts","category":"People","pic":"\u{1f495}"},{"no":143,"title":"sparkling heart","category":"People","pic":"\u{1f496}"},{"no":144,"title":"revolving hearts","category":"People","pic":"\u{1f49e}"},{"no":145,"title":"heart with arrow","category":"People","pic":"\u{1f498}"},{"no":146,"title":"love letter","category":"People","pic":"\u{1f48c}"},{"no":147,"title":"kiss mark","category":"People","pic":"\u{1f48b}"},{"no":148,"title":"ring","category":"People","pic":"\u{1f48d}"},{"no":149,"title":"gem stone","category":"People","pic":"\u{1f48e}"},{"no":150,"title":"robot","category":"People","pic":"\u{1f916}"},{"no":151,"title":"dog face","category":"Nature","pic":"\u{1f436}"},{"no":152,"title":"wolf","category":"Nature","pic":"\u{1f43a}"},{"no":153,"title":"cat face","category":"Nature","pic":"\u{1f431}"},{"no":154,"title":"mouse face","category":"Nature","pic":"\u{1f42d}"},{"no":155,"title":"hamster","category":"Nature","pic":"\u{1f439}"},{"no":156,"title":"rabbit face","category":"Nature","pic":"\u{1f430}"},{"no":157,"title":"frog","category":"Nature","pic":"\u{1f438}"},{"no":158,"title":"tiger face","category":"Nature","pic":"\u{1f42f}"},{"no":159,"title":"koala","category":"Nature","pic":"\u{1f428}"},{"no":160,"title":"bear","category":"Nature","pic":"\u{1f43b}"},{"no":161,"title":"pig face","category":"Nature","pic":"\u{1f437}"},{"no":162,"title":"pig nose","category":"Nature","pic":"\u{1f43d}"},{"no":163,"title":"cow face","category":"Nature","pic":"\u{1f42e}"},{"no":164,"title":"boar","category":"Nature","pic":"\u{1f417}"},{"no":165,"title":"monkey face","category":"Nature","pic":"\u{1f435}"},{"no":166,"title":"monkey","category":"Nature","pic":"\u{1f412}"},{"no":167,"title":"horse face","category":"Nature","pic":"\u{1f434}"},{"no":168,"title":"ewe","category":"Nature","pic":"\u{1f411}"},{"no":169,"title":"elephant","category":"Nature","pic":"\u{1f418}"},{"no":170,"title":"panda","category":"Nature","pic":"\u{1f43c}"},{"no":171,"title":"penguin","category":"Nature","pic":"\u{1f427}"},{"no":172,"title":"bird","category":"Nature","pic":"\u{1f426}"},{"no":173,"title":"baby chick","category":"Nature","pic":"\u{1f424}"},{"no":174,"title":"front-facing baby chick","category":"Nature","pic":"\u{1f425}"},{"no":175,"title":"hatching chick","category":"Nature","pic":"\u{1f423}"},{"no":176,"title":"chicken","category":"Nature","pic":"\u{1f414}"},{"no":177,"title":"snake","category":"Nature","pic":"\u{1f40d}"},{"no":178,"title":"turtle","category":"Nature","pic":"\u{1f422}"},{"no":179,"title":"bug","category":"Nature","pic":"\u{1f41b}"},{"no":180,"title":"honeybee","category":"Nature","pic":"\u{1f41d}"},{"no":181,"title":"ant","category":"Nature","pic":"\u{1f41c}"},{"no":182,"title":"lady beetle","category":"Nature","pic":"\u{1f41e}"},{"no":183,"title":"snail","category":"Nature","pic":"\u{1f40c}"},{"no":184,"title":"lion","category":"Nature","pic":"\u{1f981}"},{"no":185,"title":"unicorn","category":"Nature","pic":"\u{1f984}"},{"no":186,"title":"spider","category":"Nature","pic":"\u{1f577}"},{"no":187,"title":"spider web","category":"Nature","pic":"\u{1f578}"},{"no":188,"title":"scorpion","category":"Nature","pic":"\u{1f982}"},{"no":189,"title":"crab","category":"Nature","pic":"\u{1f980}"},{"no":190,"title":"turkey","category":"Nature","pic":"\u{1f983}"},{"no":191,"title":"dove","category":"Nature","pic":"\u{1f54a}"},{"no":192,"title":"chipmunk","category":"Nature","pic":"\u{1f43f}"},{"no":193,"title":"octopus","category":"Nature","pic":"\u{1f419}"},{"no":194,"title":"spiral shell","category":"Nature","pic":"\u{1f41a}"},{"no":195,"title":"tropical fish","category":"Nature","pic":"\u{1f420}"},{"no":196,"title":"fish","category":"Nature","pic":"\u{1f41f}"},{"no":197,"title":"dolphin","category":"Nature","pic":"\u{1f42c}"},{"no":198,"title":"spouting whale","category":"Nature","pic":"\u{1f433}"},{"no":199,"title":"horse","category":"Nature","pic":"\u{1f40e}"},{"no":200,"title":"dragon face","category":"Nature","pic":"\u{1f432}"},{"no":201,"title":"blowfish","category":"Nature","pic":"\u{1f421}"},{"no":202,"title":"two-hump camel","category":"Nature","pic":"\u{1f42b}"},{"no":203,"title":"poodle","category":"Nature","pic":"\u{1f429}"},{"no":204,"title":"bouquet","category":"Nature","pic":"\u{1f490}"},{"no":205,"title":"rose","category":"Nature","pic":"\u{1f339}"},{"no":206,"title":"sunflower","category":"Nature","pic":"\u{1f33b}"},{"no":207,"title":"mushroom","category":"Nature","pic":"\u{1f344}"},{"no":208,"title":"cactus","category":"Nature","pic":"\u{1f335}"},{"no":209,"title":"new moon","category":"Nature","pic":"\u{1f311}"},{"no":210,"title":"first quarter moon","category":"Nature","pic":"\u{1f313}"},{"no":211,"title":"waxing gibbous moon","category":"Nature","pic":"\u{1f314}"},{"no":212,"title":"full moon","category":"Nature","pic":"\u{1f315}"},{"no":213,"title":"first quarter moon face","category":"Nature","pic":"\u{1f31b}"},{"no":214,"title":"crescent moon","category":"Nature","pic":"\u{1f319}"},{"no":215,"title":"globe showing Asia-Australia","category":"Nature","pic":"\u{1f30f}"},{"no":216,"title":"sun behind cloud","category":"Nature","pic":"\u26c5"},{"no":217,"title":"snowman without snow","category":"Nature","pic":"\u26c4"},{"no":218,"title":"water wave","category":"Nature","pic":"\u{1f30a}"},{"no":219,"title":"sun behind small cloud","category":"Nature","pic":"\u{1f324}"},{"no":220,"title":"sun behind large cloud","category":"Nature","pic":"\u{1f325}"},{"no":221,"title":"sun behind rain cloud","category":"Nature","pic":"\u{1f326}"},{"no":222,"title":"cloud with rain","category":"Nature","pic":"\u{1f327}"},{"no":223,"title":"cloud with lightning","category":"Nature","pic":"\u{1f329}"},{"no":224,"title":"cloud with snow","category":"Nature","pic":"\u{1f328}"},{"no":225,"title":"wind face","category":"Nature","pic":"\u{1f32c}"},{"no":226,"title":"tornado","category":"Nature","pic":"\u{1f32a}"},{"no":227,"title":"graduation cap","category":"Objects","pic":"\u{1f393}"},{"no":228,"title":"fireworks","category":"Objects","pic":"\u{1f386}"},{"no":229,"title":"sparkler","category":"Objects","pic":"\u{1f387}"},{"no":230,"title":"jack-o-lantern","category":"Objects","pic":"\u{1f383}"},{"no":231,"title":"ghost","category":"Objects","pic":"\u{1f47b}"},{"no":232,"title":"Santa Claus","category":"Objects","pic":"\u{1f385}"},{"no":233,"title":"Christmas tree","category":"Objects","pic":"\u{1f384}"},{"no":234,"title":"wrapped gift","category":"Objects","pic":"\u{1f381}"},{"no":235,"title":"party popper","category":"Objects","pic":"\u{1f389}"},{"no":236,"title":"confetti ball","category":"Objects","pic":"\u{1f38a}"},{"no":237,"title":"balloon","category":"Objects","pic":"\u{1f388}"},{"no":238,"title":"light bulb","category":"Objects","pic":"\u{1f4a1}"},{"no":239,"title":"toilet","category":"Objects","pic":"\u{1f6bd}"},{"no":240,"title":"wrench","category":"Objects","pic":"\u{1f527}"},{"no":241,"title":"nut and bolt","category":"Objects","pic":"\u{1f529}"},{"no":242,"title":"hammer","category":"Objects","pic":"\u{1f528}"},{"no":243,"title":"cigarette","category":"Objects","pic":"\u{1f6ac}"},{"no":244,"title":"bomb","category":"Objects","pic":"\u{1f4a3}"},{"no":245,"title":"pistol","category":"Objects","pic":"\u{1f52b}"},{"no":246,"title":"kitchen knife","category":"Objects","pic":"\u{1f52a}"},{"no":247,"title":"pill","category":"Objects","pic":"\u{1f48a}"},{"no":248,"title":"syringe","category":"Objects","pic":"\u{1f489}"},{"no":249,"title":"money bag","category":"Objects","pic":"\u{1f4b0}"},{"no":250,"title":"yen banknote","category":"Objects","pic":"\u{1f4b4}"},{"no":251,"title":"dollar banknote","category":"Objects","pic":"\u{1f4b5}"},{"no":252,"title":"credit card","category":"Objects","pic":"\u{1f4b3}"},{"no":253,"title":"money with wings","category":"Objects","pic":"\u{1f4b8}"},{"no":254,"title":"clapper board","category":"Objects","pic":"\u{1f3ac}"},{"no":255,"title":"microphone","category":"Objects","pic":"\u{1f3a4}"},{"no":256,"title":"alien monster","category":"Objects","pic":"\u{1f47e}"},{"no":257,"title":"video game","category":"Objects","pic":"\u{1f3ae}"},{"no":258,"title":"joker","category":"Objects","pic":"\u{1f0cf}"},{"no":259,"title":"mahjong red dragon","category":"Objects","pic":"\u{1f004}"},{"no":260,"title":"game die","category":"Objects","pic":"\u{1f3b2}"},{"no":261,"title":"direct hit","category":"Objects","pic":"\u{1f3af}"},{"no":262,"title":"pool 8 ball","category":"Objects","pic":"\u{1f3b1}"},{"no":263,"title":"chequered flag","category":"Objects","pic":"\u{1f3c1}"},{"no":264,"title":"trophy","category":"Objects","pic":"\u{1f3c6}"},{"no":265,"title":"beer mug","category":"Objects","pic":"\u{1f37a}"},{"no":266,"title":"cocktail glass","category":"Objects","pic":"\u{1f378}"},{"no":267,"title":"tropical drink","category":"Objects","pic":"\u{1f379}"},{"no":268,"title":"wine glass","category":"Objects","pic":"\u{1f377}"},{"no":269,"title":"fork and knife","category":"Objects","pic":"\u{1f374}"},{"no":270,"title":"pizza","category":"Objects","pic":"\u{1f355}"},{"no":271,"title":"hamburger","category":"Objects","pic":"\u{1f354}"},{"no":272,"title":"french fries","category":"Objects","pic":"\u{1f35f}"},{"no":273,"title":"poultry leg","category":"Objects","pic":"\u{1f357}"},{"no":274,"title":"spaghetti","category":"Objects","pic":"\u{1f35d}"},{"no":275,"title":"bento box","category":"Objects","pic":"\u{1f371}"},{"no":276,"title":"steaming bowl","category":"Objects","pic":"\u{1f35c}"},{"no":277,"title":"cooking","category":"Objects","pic":"\u{1f373}"},{"no":278,"title":"bread","category":"Objects","pic":"\u{1f35e}"},{"no":279,"title":"doughnut","category":"Objects","pic":"\u{1f369}"},{"no":280,"title":"soft ice cream","category":"Objects","pic":"\u{1f366}"},{"no":281,"title":"birthday cake","category":"Objects","pic":"\u{1f382}"},{"no":282,"title":"shortcake","category":"Objects","pic":"\u{1f370}"},{"no":283,"title":"cookie","category":"Objects","pic":"\u{1f36a}"},{"no":284,"title":"chocolate bar","category":"Objects","pic":"\u{1f36b}"},{"no":285,"title":"lollipop","category":"Objects","pic":"\u{1f36d}"},{"no":286,"title":"honey pot","category":"Objects","pic":"\u{1f36f}"},{"no":287,"title":"red apple","category":"Objects","pic":"\u{1f34e}"},{"no":288,"title":"cherries","category":"Objects","pic":"\u{1f352}"},{"no":289,"title":"strawberry","category":"Objects","pic":"\u{1f353}"},{"no":290,"title":"peach","category":"Objects","pic":"\u{1f351}"},{"no":291,"title":"banana","category":"Objects","pic":"\u{1f34c}"},{"no":292,"title":"pineapple","category":"Objects","pic":"\u{1f34d}"},{"no":293,"title":"eggplant","category":"Objects","pic":"\u{1f346}"},{"no":294,"title":"tomato","category":"Objects","pic":"\u{1f345}"},{"no":295,"title":"ear of corn","category":"Objects","pic":"\u{1f33d}"},{"no":296,"title":"hot pepper","category":"Objects","pic":"\u{1f336}"},{"no":297,"title":"cheese wedge","category":"Objects","pic":"\u{1f9c0}"},{"no":298,"title":"hot dog","category":"Objects","pic":"\u{1f32d}"},{"no":299,"title":"taco","category":"Objects","pic":"\u{1f32e}"},{"no":300,"title":"burrito","category":"Objects","pic":"\u{1f32f}"},{"no":301,"title":"popcorn","category":"Objects","pic":"\u{1f37f}"},{"no":302,"title":"bottle with popping cork","category":"Objects","pic":"\u{1f37e}"},{"no":303,"title":"fork and knife with plate","category":"Objects","pic":"\u{1f37d}"},{"no":304,"title":"ping pong","category":"Objects","pic":"\u{1f3d3}"},{"no":305,"title":"sports medal","category":"Objects","pic":"\u{1f3c5}"},{"no":306,"title":"military medal","category":"Objects","pic":"\u{1f396}"},{"no":307,"title":"joystick","category":"Objects","pic":"\u{1f579}"},{"no":308,"title":"hammer and wrench","category":"Objects","pic":"\u{1f6e0}"},{"no":309,"title":"dagger","category":"Objects","pic":"\u{1f5e1}"},{"no":310,"title":"speedboat","category":"Places","pic":"\u{1f6a4}"},{"no":311,"title":"rocket","category":"Places","pic":"\u{1f680}"},{"no":312,"title":"high-speed train","category":"Places","pic":"\u{1f684}"},{"no":313,"title":"bullet train","category":"Places","pic":"\u{1f685}"},{"no":314,"title":"railway car","category":"Places","pic":"\u{1f683}"},{"no":315,"title":"bus","category":"Places","pic":"\u{1f68c}"},{"no":316,"title":"automobile","category":"Places","pic":"\u{1f697}"},{"no":317,"title":"taxi","category":"Places","pic":"\u{1f695}"},{"no":318,"title":"delivery truck","category":"Places","pic":"\u{1f69a}"},{"no":319,"title":"police car light","category":"Places","pic":"\u{1f6a8}"},{"no":320,"title":"police car","category":"Places","pic":"\u{1f693}"},{"no":321,"title":"fire engine","category":"Places","pic":"\u{1f692}"},{"no":322,"title":"ambulance","category":"Places","pic":"\u{1f691}"},{"no":323,"title":"bicycle","category":"Places","pic":"\u{1f6b2}"},{"no":324,"title":"Japanese symbol for beginner","category":"Places","pic":"\u{1f530}"},{"no":325,"title":"fuel pump","category":"Places","pic":"\u26fd"},{"no":326,"title":"red paper lantern","category":"Places","pic":"\u{1f3ee}"},{"no":327,"title":"slot machine","category":"Places","pic":"\u{1f3b0}"},{"no":328,"title":"racing car","category":"Places","pic":"\u{1f3ce}"},{"no":329,"title":"motorcycle","category":"Places","pic":"\u{1f3cd}"},{"no":330,"title":"small airplane","category":"Places","pic":"\u{1f6e9}"},{"no":331,"title":"airplane departure","category":"Places","pic":"\u{1f6eb}"},{"no":332,"title":"airplane arrival","category":"Places","pic":"\u{1f6ec}"},{"no":333,"title":"satellite","category":"Places","pic":"\u{1f6f0}"},{"no":334,"title":"motor boat","category":"Places","pic":"\u{1f6e5}"},{"no":335,"title":"passenger ship","category":"Places","pic":"\u{1f6f3}"},{"no":336,"title":"SOS button","category":"Symbols","pic":"\u{1f198}"},{"no":337,"title":"no one under eighteen","category":"Symbols","pic":"\u{1f51e}"},{"no":338,"title":"no entry","category":"Symbols","pic":"\u26d4"},{"no":339,"title":"check mark button","category":"Symbols","pic":"\u2705"},{"no":340,"title":"VS button","category":"Symbols","pic":"\u{1f19a}"},{"no":341,"title":"chart increasing with yen","category":"Symbols","pic":"\u{1f4b9}"},{"no":342,"title":"heavy dollar sign","category":"Symbols","pic":"\u{1f4b2}"},{"no":343,"title":"currency exchange","category":"Symbols","pic":"\u{1f4b1}"},{"no":344,"title":"cross mark","category":"Symbols","pic":"\u274c"},{"no":345,"title":"exclamation mark","category":"Symbols","pic":"\u2757"},{"no":346,"title":"question mark","category":"Symbols","pic":"\u2753"},{"no":347,"title":"hollow red circle","category":"Symbols","pic":"\u2b55"},{"no":348,"title":"hundred points","category":"Symbols","pic":"\u{1f4af}"},{"no":349,"title":"white flag","category":"Symbols","pic":"\u{1f3f3}"},{"no":350,"title":"black flag","category":"Symbols","pic":"\u{1f3f4}"}]');function EAe(n,e){if(1&n){const t=_t();D(0,"button",4),Ae("mousedown",function(r){return ht(t),ee().clear(r)}),ce(1,"svg-icon",5),G(2,"versionedUrl"),R()}2&n&&(S(1),F("src",q(2,1,"assets/chat/icons/close-icon.svg")))}let CY=(()=>{class n{constructor(t){this.cd=t,this.value="",this.focused=!1,this.hovered=!1,this.disabled=!1,this.placeholder="",this.onChange=()=>{},this.onTouched=()=>{}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onTouched()}clear(t){t.preventDefault(),this.writeValue("")}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.value=t||"",this.onChange(t),this.cd.markForCheck()}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInput(t){const i=t.target.value;this.value=i,this.onChange(i)}preventDefault(t){t&&t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(W(Fn))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-search-input"]],inputs:{disabled:"disabled",placeholder:"placeholder"},features:[qn([{provide:Ks,useExisting:Un(()=>n),multi:!0}])],decls:5,vars:13,consts:[[1,"chat-search-input-wrapper",3,"mouseenter","mouseleave"],[1,"search-icon",3,"src"],["maxlength","20","minlength","0","autocomplete","off",1,"chat-search-input",3,"value","placeholder","disabled","focus","blur","keydown.enter","input"],["class","clear-btn","type","button","aria-label","Clear","tabindex","-1",3,"mousedown",4,"ngIf"],["type","button","aria-label","Clear","tabindex","-1",1,"clear-btn",3,"mousedown"],[1,"clear-icon",3,"src"]],template:function(t,i){1&t&&(D(0,"label",0),Ae("mouseenter",function(){return i.hovered=!0})("mouseleave",function(){return i.hovered=!1}),ce(1,"svg-icon",1),G(2,"versionedUrl"),D(3,"input",2),Ae("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("keydown.enter",function(s){return i.preventDefault(s)})("input",function(s){return i.onInput(s)}),R(),te(4,EAe,3,3,"button",3),R()),2&t&&(Et("focused",i.focused)("hovered",i.hovered)("disabled",i.disabled),S(1),F("src",q(2,11,"assets/chat/icons/search-icon.svg")),S(2),F("value",i.value)("placeholder",i.placeholder)("disabled",i.disabled),S(1),F("ngIf",i.focused&&i.value&&!i.disabled))},directives:[np,At],pipes:[Vd],styles:[".chat-search-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;background:#3d3d3d;border-radius:100px;padding:8px 12px;height:36px;border:1px solid transparent;transition:border .15s,background .15s,opacity .2s;position:relative}.chat-search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px;flex-shrink:0;pointer-events:none}.chat-search-input-wrapper[_ngcontent-%COMP%]   .chat-search-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;padding:0;min-width:0;opacity:1;color:#a8a8a8;font-size:14px;font-style:normal;font-weight:400;line-height:21px}.chat-search-input-wrapper[_ngcontent-%COMP%]   .chat-search-input[_ngcontent-%COMP%]:focus{color:#fff}.chat-search-input-wrapper[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:none;border:none;outline:none;margin-left:10px;cursor:pointer;display:flex;align-items:center;padding:0}.chat-search-input-wrapper[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{width:21px;height:20px}.chat-search-input-wrapper[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.chat-search-input-wrapper[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover   .clear-icon[_ngcontent-%COMP%]{opacity:.7}.chat-search-input-wrapper.hovered[_ngcontent-%COMP%]:not(.focused):not(.disabled){border-color:#606060}.chat-search-input-wrapper.focused[_ngcontent-%COMP%]{border-color:#60e572}.chat-search-input-wrapper.focused[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.chat-search-input-wrapper.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"],changeDetection:0}),n})();function OAe(n,e){if(1&n){const t=_t();D(0,"span",6),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function PAe(n,e){if(1&n&&(ft(0),D(1,"div",4),te(2,OAe,2,2,"span",5),R(),gt()),2&n){const t=ee();S(2),F("ngForOf",t.emojiList)}}function IAe(n,e){if(1&n){const t=_t();D(0,"span",6),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function AAe(n,e){if(1&n&&(ft(0),D(1,"div",4),te(2,IAe,2,2,"span",5),R(),gt()),2&n){const t=ee();S(2),F("ngForOf",t.searchList)}}let DAe=(()=>{class n{constructor(t){this.chatInputService=t,this.finish=new _n,this.searchText="",this.searchList=[],this.emojiList=[...Up].splice(9)}onSearchChange(t){const i=[];if(oM(t)){for(const s of this.emojiList)s.title.includes(t)&&i.push(s);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.length>0}onClickEmoji(t){this.chatInputService.addToInput(t)}}return n.\u0275fac=function(t){return new(t||n)(W(U0))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:6,vars:6,consts:[[1,"chat-input-tool-emoji"],[1,"chat-input-tool-emoji-search",3,"placeholder","ngModel","ngModelChange"],[1,"chat-input-tool-emoji-list","scroll-restyle"],[4,"ngIf"],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],[1,"emoji-item",3,"title","click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"app-chat-search-input",1),Ae("ngModelChange",function(s){return i.searchText=s})("ngModelChange",function(s){return i.onSearchChange(s)}),G(2,"transloco"),R(),D(3,"div",2),te(4,PAe,3,1,"ng-container",3),te(5,AAe,3,1,"ng-container",3),R()()),2&t&&(S(1),F("placeholder",q(2,4,"game.chat-widget.Search emoji.."))("ngModel",i.searchText),S(3),F("ngIf",!i.isShownSearchList),S(1),F("ngIf",i.isShownSearchList))},directives:[CY,Jo,Ma,At,di],pipes:[$t],styles:[".chat-input-tool-emoji[_ngcontent-%COMP%]{margin-top:8px}.chat-input-tool-emoji-search[_ngcontent-%COMP%]{margin-bottom:8px}.chat-input-tool-emoji-list[_ngcontent-%COMP%]{display:flex;margin-top:10px;font-size:13px;width:100%;height:178px}.chat-input-tool-emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{position:relative;display:grid;grid-auto-flow:column;grid-template-rows:repeat(5,32px);overflow-x:scroll;overflow-y:hidden;grid-gap:4px;gap:4px}.chat-input-tool-emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{width:32px;text-align:center;cursor:pointer;font-size:24px;font-weight:400}"],changeDetection:0}),n})();function Dk(n,e=R_){return tt((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(me(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}const wY=function(n){return{background:n}};function RAe(n,e){if(1&n){const t=_t();D(0,"button",6),Ae("click",function(){const s=ht(t).$implicit;return ee(3).shareGif(s.id)}),R()}if(2&n){const t=e.$implicit;F("disabled",ee(2).ngIf.isMessageSendingBlocked)("ngStyle",zn(2,wY,"url("+t.url+")  50% / cover no-repeat"))}}function kAe(n,e){if(1&n&&(ft(0),te(1,RAe,1,4,"button",5),gt()),2&n){const t=ee(2);S(1),F("ngForOf",t.chatService.top10Gifs)}}function NAe(n,e){if(1&n){const t=_t();D(0,"button",6),Ae("click",function(){const s=ht(t).$implicit;return ee(4).shareGif(s.id)}),R()}if(2&n){const t=e.$implicit;F("disabled",ee(3).ngIf.isMessageSendingBlocked)("ngStyle",zn(2,wY,"url("+t.url+") lightgray 50% / cover no-repeat"))}}function FAe(n,e){if(1&n&&(ft(0),te(1,NAe,1,4,"button",5),gt()),2&n){const t=ee(3);S(1),F("ngForOf",t.searchList)}}function BAe(n,e){1&n&&(D(0,"div",8),ce(1,"app-loader"),R())}function LAe(n,e){if(1&n&&(ft(0),te(1,FAe,2,1,"ng-container",4),te(2,BAe,2,0,"div",7),gt()),2&n){const t=ee(2);S(1),F("ngIf",t.searchList&&t.searchList.length),S(1),F("ngIf",!(t.searchList&&t.searchList.length))}}const UAe=function(n){return{blocked:n}};function HAe(n,e){if(1&n){const t=_t();D(0,"div",1)(1,"app-chat-search-input",2),Ae("ngModelChange",function(r){return ht(t),ee().searchText=r})("ngModelChange",function(r){return ht(t),ee().onModelChange(r)}),G(2,"transloco"),R(),D(3,"div",3),te(4,kAe,2,1,"ng-container",4),te(5,LAe,3,2,"ng-container",4),R()()}if(2&n){const t=e.ngIf,i=ee();F("ngClass",zn(7,UAe,t.isMessageSendingBlocked)),S(1),F("ngModel",i.searchText)("placeholder",q(2,5,"game.chat-widget.Search GIF..")),S(3),F("ngIf",!i.isShownSearchList),S(1),F("ngIf",i.isShownSearchList)}}let Qg=class{constructor(e,t,i,r,s){this.chatService=e,this.antiSpamService=t,this.stomp=i,this.cd=r,this.chatInputService=s,this.data$=lc({isMessageSendingBlocked:this.antiSpamService.isMessageSendingBlocked$}),this.searchInput=new Ze,this.searchText="",this.searchList=[]}ngOnInit(){this.stomp.response(ps.GifsSearch).pipe(kt(this)).subscribe(e=>{const t=oM(this.searchText);if(""===t||" "===t)return this.searchList=[],void this.cd.detectChanges();this.searchList=e.gifsInfo,this.cd.detectChanges()}),this.searchInput.pipe(Dk(1e3),zh(),kt(this)).subscribe(e=>{this.getGifs(e)})}getGifs(e){this.stomp.request(hs.GifsSearch,{tag:e})}onModelChange(e){const t=oM(e);""!==t&&" "!==t?this.searchInput.next(t):this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.trim().length>0}shareGif(e){this.chatInputService.senGifMessage(e)}};Qg.\u0275fac=function(e){return new(e||Qg)(W(B0),W(_p),W(Rs),W(Fn),W(U0))},Qg.\u0275cmp=rt({type:Qg,selectors:[["app-chat-input-tool-gif"]],decls:2,vars:3,consts:[["class","chat-input-tool-gif",3,"ngClass",4,"ngIf"],[1,"chat-input-tool-gif",3,"ngClass"],[1,"chat-input-tool-gif-search",3,"ngModel","placeholder","ngModelChange"],[1,"chat-input-tool-gif-list","scroll-restyle"],[4,"ngIf"],["class","gif-item",3,"disabled","ngStyle","click",4,"ngFor","ngForOf"],[1,"gif-item",3,"disabled","ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(e,t){1&e&&(te(0,HAe,6,9,"div",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.data$))},directives:[At,cs,CY,Jo,Ma,di,Dd,gu],pipes:[Ki,$t],styles:[".chat-input-tool-gif[_ngcontent-%COMP%]{margin-top:8px}.chat-input-tool-gif-search[_ngcontent-%COMP%]{margin-bottom:8px}.chat-input-tool-gif-list[_ngcontent-%COMP%]{position:relative;display:grid;grid-auto-flow:column;grid-template-rows:repeat(2,1fr);height:211px;overflow-x:scroll;overflow-y:hidden;grid-gap:4px;gap:4px}.chat-input-tool-gif-list[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{width:102px;height:102px;border-radius:16px;-o-object-fit:cover;object-fit:cover;padding:0;margin:0;border:none;cursor:pointer;outline:none}.chat-input-tool-gif[_ngcontent-%COMP%]   .loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}.chat-input-tool-gif.blocked[_ngcontent-%COMP%]{opacity:.6}.chat-input-tool-gif.blocked[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{cursor:not-allowed}"],changeDetection:0}),Qg=Ve([_i()],Qg);const jAe=["inputField"];let GAe=(()=>{class n{constructor(){this.label="",this.step=1,this.type="text",this.decimalSeparator=".",this.thousandSeparator=",",this.value=0,this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.precision=2}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(t,i){let r=null!=i?i:500;this.clearTimer(),this.timer$=Jc(r).subscribe(()=>this.repeat(t,40)),this.spin(t)}spin(t){var i;let s=this.value||0;this.value=new Fi(s+this.step*t).clamp(null!==(i=this.min)&&void 0!==i?i:0,this.max).toDecimalPlaces(this.precision).toNumber(),void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=s),this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}startSpinTimer(t){this.disabled||this.repeat(t)}clearSpinTimer(){this.disabled||this.clearTimer()}onInputKeydown(t){38==t.which?(this.spin(1),t.preventDefault()):40==t.which&&(this.spin(-1),t.preventDefault())}onInput(t){const i=t,r=i.target,s=r.selectionEnd?r.selectionEnd:r.value.length;let o=r.value;if("insertText"===i.inputType){if(("."===i.data||","===i.data)&&(this.valueAsString.includes(".")||","===o[s-2]||","===o[s]))return r.value=this.valueAsString,void r.setSelectionRange(s-1,s-1);const a=/[\d\.]/;if(i.data&&!a.test(i.data)){if(","!==i.data)return r.value=this.valueAsString,void r.setSelectionRange(s-1,s-1);o=o.split("").map((l,c)=>c===s-1?".":l).join("")}}else o=this.getValidStringInput(o);r.value=o,r.setSelectionRange(s,s),this.valueAsString=o,this.onModelChange(this.value)}getValidStringInput(t){return t=this.removeNonDecimalNumericCharacters(t),t=this.replaceMultipleDotsInARowWithOne(t),t=this.replaceMultipleCommasInARowWithOne(t),t=this.removeExtraDots(t),this.replaceSingleCommaWithDot(t)}removeNonDecimalNumericCharacters(t){const i=/[\d\.,]/;return t.split("").filter(r=>i.test(r)).join("")}replaceMultipleDotsInARowWithOne(t){return t.replace(/\.{2,}/g,".")}replaceMultipleCommasInARowWithOne(t){return t.replace(/,{2,}/g,",")}removeExtraDots(t){const i=t.split(".");return i.length>1&&(i[0]+="."),i.join("")}replaceCommasWithDot(t){return t.replace(/,/g,".")}replaceSingleCommaWithDot(t){const i=(t.match(/,/g)||[]).length,r=(t.match(/[.]/g)||[]).length;return 1===i&&0===r?this.replaceCommasWithDot(t):t}onInputBlur(){this.onModelTouched(),this.setFormattedValuesFrom(this.valueAsString),this.onModelChange(this.value)}parseNumericValue(t){if(!(t=t.split(this.thousandSeparator).join("").trim()))return 0;let i=this.precision?parseFloat(t.replace(",",".")):parseInt(t);return isNaN(i)?0:i}setFormattedValuesFrom(t){var i,r,s;if(null==t)return;let o=t;"string"==typeof t&&(o=null!==(r=null!==(i=this.parseNumericValue(t))&&void 0!==i?i:this.min)&&void 0!==r?r:0),this.value=new Fi(o).clamp(null!==(s=this.min)&&void 0!==s?s:0,this.max).toDP(this.precision).toNumber();let a=new Fi(this.value).toFixed(this.precision).replace(".",this.decimalSeparator);const l=a.split(this.decimalSeparator);l[0]=l[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),a=l.join(this.decimalSeparator),this.valueAsString=a,this.inputFieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(t){this.value=t,this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-spinner"]],viewQuery:function(t,i){if(1&t&&Lr(jAe,7),2&t){let r;Kn(r=Jn())&&(i.inputFieldViewChild=r.first)}},inputs:{label:"label",step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",disabled:"disabled",type:"type",required:"required",formatPrecision:"formatPrecision"},features:[qn([{provide:Ks,useExisting:Un(()=>n),multi:!0}])],decls:9,vars:10,consts:[[1,"chat-spinner"],["type","button",1,"btn","chat-spinner-minus",3,"disabled","mousedown","mouseleave","mouseup"],[3,"src"],["inputmode","decimal",1,"chat-spinner-input",3,"value","disabled","input","keydown","blur"],["inputField",""],["tabindex","-1","type","button",1,"btn","chat-spinner-plus",3,"disabled","mousedown","mouseleave","mouseup"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"button",1),Ae("mousedown",function(){return i.startSpinTimer(-1)})("mouseleave",function(){return i.clearSpinTimer()})("mouseup",function(){return i.clearSpinTimer()}),ce(2,"svg-icon",2),G(3,"versionedUrl"),R(),D(4,"input",3,4),Ae("input",function(s){return i.onInput(s)})("keydown",function(s){return i.onInputKeydown(s)})("blur",function(){return i.onInputBlur()}),R(),D(6,"button",5),Ae("mousedown",function(){return i.startSpinTimer(1)})("mouseleave",function(){return i.clearSpinTimer()})("mouseup",function(){return i.clearSpinTimer()}),ce(7,"svg-icon",2),G(8,"versionedUrl"),R()()),2&t&&(S(1),F("disabled",i.disabled),S(1),F("src",q(3,6,"assets/chat/icons/minus-icon.svg")),S(2),F("value",i.valueAsString)("disabled",i.disabled),S(2),F("disabled",i.disabled),S(1),F("src",q(8,8,"assets/chat/icons/plus-icon.svg")))},directives:[np],pipes:[Vd],styles:[".chat-spinner[_ngcontent-%COMP%]{display:flex;height:40px;width:100%;min-width:130px;padding:4px;align-items:center;border-radius:100px;border:1px solid #ffffff1a;background:#ffffff1a}.chat-spinner-input[_ngcontent-%COMP%]{flex:1 0 0;border:none;background:none;margin:0 4px;width:100%;text-align:center;color:#fff;font-style:normal;font-size:14px;font-weight:700;line-height:21px}.chat-spinner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;width:32px;height:32px;padding:4px;justify-content:center;align-items:center;border-radius:100px}.chat-spinner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ffffff1a}.chat-spinner-minus[_ngcontent-%COMP%]{background:#8f8f8f}.chat-spinner-plus[_ngcontent-%COMP%]{background:#60e572}"]}),n})(),VAe=(()=>{class n{constructor(t,i,r){this.chatConfigService=t,this.gameConfig=i,this.chatiInputService=r,this.rainForm=this.chatiInputService.rainFormGroup}get minNumberOfUsers(){var t,i;return null!==(i=null===(t=this.chatConfigService.rainConfig)||void 0===t?void 0:t.minNumOfPlayers)&&void 0!==i?i:0}get maxNumberOfUsers(){var t,i;return null!==(i=null===(t=this.chatConfigService.rainConfig)||void 0===t?void 0:t.maxNumOfPlayers)&&void 0!==i?i:0}get minAmountPerUser(){var t,i;return null!==(i=null===(t=this.chatConfigService.rainConfig)||void 0===t?void 0:t.rainMinBet)&&void 0!==i?i:0}get maxAmountPerUser(){var t,i,r;return null!==(r=null===(i=null===(t=this.chatConfigService)||void 0===t?void 0:t.rainConfig)||void 0===i?void 0:i.rainMaxBet)&&void 0!==r?r:0}get totalAmount(){const{amountPerUser:t,numberOfUsers:i}=this.rainForm.value;return Fi.mul(t,i).toDP(this.gameConfig.betPrecision,Fi.ROUND_DOWN).toNumber()}}return n.\u0275fac=function(t){return new(t||n)(W(bp),W(Hn),W(U0))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-rain"]],decls:22,vars:25,consts:[[1,"chat-input-tool-rain",3,"formGroup"],[1,"chat-input-tool-rain-summary"],[1,"total"],[1,"chat-input-tool-rain-spinners"],[1,"input-spinner"],[1,"input-spinner-label"],["formControlName","numberOfUsers",3,"step","formatPrecision","min","max"],["formControlName","amountPerUser",3,"formatPrecision","step","min","max"],[1,"chat-input-tool-rain-description"]],template:function(t,i){1&t&&(D(0,"form",0)(1,"div",1)(2,"span"),U(3),G(4,"transloco"),R(),D(5,"span",2),U(6),G(7,"currencyPrecision"),R()(),D(8,"div",3)(9,"div",4)(10,"div",5),U(11),G(12,"transloco"),R(),ce(13,"app-chat-spinner",6),R(),D(14,"div",4)(15,"div",5),U(16),G(17,"transloco"),R(),ce(18,"app-chat-spinner",7),R()(),D(19,"div",8),U(20),G(21,"transloco"),R()()),2&t&&(F("formGroup",i.rainForm),S(3),nt(q(4,15,"game.chat-widget.Total amount")),S(3),Xn(" ",q(7,17,i.totalAmount)," ",i.gameConfig.currency," "),S(5),ie(" ",q(12,19,"game.chat-widget.Number of players")," "),S(2),F("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers),S(3),ie(" ",q(17,21,"game.chat-widget.Amount per player")," "),S(2),F("formatPrecision",i.gameConfig.betPrecision)("step",i.gameConfig.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),S(2),ie(" ",q(21,23,"game.chat-widget.This feature will give selected amount to random users in chat.")," "))},directives:[e7,UH,jS,GAe,Jo,D2],pipes:[$t,Zn],styles:[".chat-input-tool-rain[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:255px;margin-top:8px;color:#8f8f8f;text-align:center;font-size:12px;font-style:normal;font-weight:400;line-height:18px}.chat-input-tool-rain-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:14px;line-height:21px}.chat-input-tool-rain-summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:28px;font-style:normal;font-weight:700;line-height:42px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums}.chat-input-tool-rain-spinners[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:12px 0;width:100%}.chat-input-tool-rain-spinners[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:176px}.chat-input-tool-rain-spinners[_ngcontent-%COMP%]   .input-spinner-label[_ngcontent-%COMP%]{margin-bottom:4px}.chat-input-tool-rain-spinners[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]:first-child{margin-bottom:8px}.chat-input-tool-rain-description[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),n})();const zAe=["textareaInput"];function $Ae(n,e){if(1&n){const t=_t();D(0,"app-chat-input-textarea",4,5),Ae("enterPressed",function(){return ht(t),ee(2).onEnterPressed()}),G(2,"transloco"),R()}if(2&n){const t=ee(2);F("placeholder",q(2,3,"game.chat-widget.Your message..."))("maxMessageLength",t.chatConfigService.maxMessageLength)("formControl",t.chatInputService.textareaControl)}}function WAe(n,e){1&n&&ce(0,"app-chat-input-tool-emoji")}function YAe(n,e){1&n&&ce(0,"app-chat-input-tool-gif")}function XAe(n,e){1&n&&ce(0,"app-chat-input-tool-rain")}function qAe(n,e){if(1&n&&(D(0,"div",1),te(1,$Ae,3,5,"app-chat-input-textarea",2),ce(2,"app-chat-input-tools-panel"),te(3,WAe,1,0,"app-chat-input-tool-emoji",3),te(4,YAe,1,0,"app-chat-input-tool-gif",3),te(5,XAe,1,0,"app-chat-input-tool-rain",3),R()),2&n){const t=e.ngIf,i=ee();S(1),F("ngIf",t===i.chatInputTool.TEXT||t===i.chatInputTool.EMOJI),S(2),F("ngIf",t===i.chatInputTool.EMOJI),S(1),F("ngIf",t===i.chatInputTool.GIF),S(1),F("ngIf",t===i.chatInputTool.RAIN)}}let Zg=class{constructor(e,t,i,r,s){this.chatConfigService=e,this.chatInputService=t,this.antiSpamService=i,this.gameConfig=r,this.chatService=s,this.chatInputTool=L0}ngOnInit(){var e,t,i,r;this.chatInputService.init({betPrecision:this.gameConfig.betPrecision,maxMessageLength:this.chatConfigService.maxMessageLength,rainMinAmountPerUser:null!==(t=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.rainMinBet)&&void 0!==t?t:0,rainDefaultNumOfPlayers:null!==(r=null===(i=this.chatConfigService.rainConfig)||void 0===i?void 0:i.defaultNumOfPlayers)&&void 0!==r?r:0}),this.chatService.tagUser$.pipe(kt(this)).subscribe(s=>this.onTagUser(s))}onEnterPressed(){this.antiSpamService.isMessageSendingBlocked||this.chatInputService.sendTextMessage()}onTagUser(e){this.chatInputService.addToInput(e)}};function KAe(n,e){1&n&&(ft(0),ce(1,"app-chat-messages-list")(2,"app-chat-input"),gt())}function JAe(n,e){1&n&&(D(0,"div",4)(1,"span"),U(2),G(3,"transloco"),R()()),2&n&&(S(2),ie(" ",q(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function QAe(n,e){1&n&&(D(0,"div",4)(1,"span"),U(2),G(3,"transloco"),R()()),2&n&&(S(2),ie(" ",q(3,1,"game.chat-widget.chat-connector-message.Chat has been disconnected.")," "))}function ZAe(n,e){if(1&n&&(D(0,"div",1),ce(1,"app-chat-header"),te(2,KAe,3,0,"ng-container",2),te(3,JAe,4,3,"div",3),te(4,QAe,4,3,"div",3),R()),2&n){const t=e.ngIf,i=ee();S(2),F("ngIf",t.isChatInited&&t.stompState.state===i.connectorState.Connected),S(1),F("ngIf",t.stompState.state===i.connectorState.Reconnecting),S(1),F("ngIf",t.stompState.state===i.connectorState.Disconnected)}}Zg.\u0275fac=function(e){return new(e||Zg)(W(bp),W(U0),W(_p),W(Hn),W(B0))},Zg.\u0275cmp=rt({type:Zg,selectors:[["app-chat-input"]],viewQuery:function(e,t){if(1&e&&Lr(zAe,5),2&e){let i;Kn(i=Jn())&&(t.textareaInput=i.first)}},decls:2,vars:3,consts:[["class","chat-input",4,"ngIf"],[1,"chat-input"],[3,"placeholder","maxMessageLength","formControl","enterPressed",4,"ngIf"],[4,"ngIf"],[3,"placeholder","maxMessageLength","formControl","enterPressed"],["textareaInput",""]],template:function(e,t){1&e&&(te(0,qAe,6,4,"div",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.chatInputService.activeInputTool$))},directives:[At,Jg,Jo,P2,xAe,DAe,Qg,VAe],pipes:[Ki,$t],styles:["[_nghost-%COMP%]{flex:0 0 auto;padding:8px;box-shadow:0 0 4px #141414e0}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;padding:8px;border-radius:16px;border:1px solid #ffffff1a;background:#242424}"],changeDetection:0}),Zg=Ve([_i()],Zg);let em=class{constructor(e,t,i,r,s){this.stomp=e,this.chat=t,this.scrollService=i,this.chatFeatureService=r,this.cd=s,this.data$=lc({stompState:this.stomp.state$,isChatInited:this.chat.isChatInited$}),this.connectorState=_u}ngOnInit(){this.initChat(),this.chatFeatureService.isOpen$.pipe(cn(e=>e),kt(this)).subscribe(()=>this.scrollService.scrollToBottom()),Hi(document.fonts,"loadingdone").pipe(kt(this)).subscribe(()=>this.scrollService.scrollToBottom())}initChat(){this.stomp.response(ps.ChatInit).pipe(kt(this)).subscribe(()=>{this.cd.detectChanges()})}};em.\u0275fac=function(e){return new(e||em)(W(Rs),W(B0),W(a0),W(Tl),W(Fn))},em.\u0275cmp=rt({type:em,selectors:[["app-new-chat"]],decls:2,vars:3,consts:[["class","chat-wrapper",4,"ngIf"],[1,"chat-wrapper"],[4,"ngIf"],["class","state-message-wrapper",4,"ngIf"],[1,"state-message-wrapper"]],template:function(e,t){1&e&&(te(0,ZAe,5,3,"div",0),G(1,"async")),2&e&&F("ngIf",q(1,1,t.data$))},directives:[At,c2e,cAe,Zg],pipes:[Ki,$t],styles:[".chat-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:100%;height:100%;max-height:calc(100 * var(--dvh));margin:0;padding:0;background:#1a1a1a}.chat-wrapper[_ngcontent-%COMP%]   .state-message-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}"],changeDetection:0}),em=Ve([_i()],em);let eDe=(()=>{class n{constructor(t,i){this.chatService=t,this.mainService=i}}return n.\u0275fac=function(t){return new(t||n)(W(Tl),W(Zr))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),ce(2,"div",2),D(3,"span"),U(4),G(5,"async"),R()(),D(6,"div",3)(7,"button",4),Ae("click",function(){return i.chatService.isOpen=!1}),D(8,"span"),U(9,"\xd7"),R()()()()),2&t&&(S(4),nt(q(5,1,i.mainService.onlinePlayers$)))},pipes:[Ki],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.9967d3df9ff555ef.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.968f898f80e88637.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.4943769bc0c142a3.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.bdd3b4a95d2281a2.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.a4314be086df307c.svg)}"],changeDetection:0}),n})();var cx=(()=>(function(n){n.reply="reply",n.translate="translate"}(cx||(cx={})),cx))(),I1=(()=>(function(n){n.header="header"}(I1||(I1={})),I1))(),H0=(()=>(function(n){n.ban="ban",n.winInfo="win_info",n.rain="rain",n.gif="gif"}(H0||(H0={})),H0))(),j0=(()=>(function(n){n.moderator="moderator",n.bot="bot",n.user="user"}(j0||(j0={})),j0))();function tDe(n,e){if(1&n&&(D(0,"span",5),U(1),G(2,"maskedUsername"),R()),2&n){const t=ee();S(1),ie(" ",q(2,1,t.banInfo.playerName)," ")}}function nDe(n,e){1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.you")," "))}function iDe(n,e){1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.has been")," "))}function rDe(n,e){1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.have been")," "))}function sDe(n,e){1&n&&(D(0,"span",6),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-other")," "))}function oDe(n,e){1&n&&(D(0,"span",6),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-me")," "))}function aDe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),Xn(" ",t.day,"",q(2,2,"game.chat-widget.chat-message.chat-message-ban.day"),"")}}function lDe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),Xn(" ",t.hour,"",q(2,2,"game.chat-widget.chat-message.chat-message-ban.hour"),"")}}function cDe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),Xn(" ",t.min,"",q(2,2,"game.chat-widget.chat-message.chat-message-ban.min"),"")}}function uDe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),Xn(" ",t.sec,"",q(2,2,"game.chat-widget.chat-message.chat-message-ban.sec"),"")}}function dDe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee();S(1),ie(" ",q(2,1,"game.chat-widget.chat-message.chat-message-ban."+t.banInfo.reason)," ")}}function hDe(n,e){if(1&n&&(D(0,"span"),U(1),R()),2&n){const t=ee();S(1),nt(t.banInfo.reason)}}let pDe=(()=>{class n{constructor(){this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let t=new Fi(0);this.banInfo.isMyResponse?(t=new Fi(this.banInfo.chatBanEndDate).minus(Date.now()).div(1e3),t=t.lte(0)?new Fi(1):t):t=new Fi(this.banInfo.duration),this.day=t.div(86400).floor().toNumber(),this.hour=t.mod(86400).div(3600).floor().toNumber(),this.min=t.mod(3600).div(60).floor().toNumber(),this.sec=t.mod(60).floor().toNumber(),this.isShownDay=!!this.day,this.isShownHour=!!this.hour,this.isShownMin=!!this.min,this.isShownSec=!!this.sec}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:20,vars:18,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],[4,"ngIf"],["class","font-weight-bold",4,"ngIf"],[1,"player-name"],[1,"font-weight-bold"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1),te(2,tDe,3,3,"span",2),te(3,nDe,3,3,"span",3),te(4,iDe,3,3,"span",3),te(5,rDe,3,3,"span",3),te(6,sDe,3,3,"span",4),te(7,oDe,3,3,"span",4),D(8,"span"),U(9),G(10,"transloco"),R(),te(11,aDe,3,4,"span",3),te(12,lDe,3,4,"span",3),te(13,cDe,3,4,"span",3),te(14,uDe,3,4,"span",3),D(15,"span"),U(16),G(17,"transloco"),R(),te(18,dDe,3,3,"span",3),te(19,hDe,2,1,"span",3),R()()),2&t&&(S(2),F("ngIf",i.banInfo.playerName),S(1),F("ngIf",i.banInfo.isMyResponse),S(1),F("ngIf",i.banInfo.playerName),S(1),F("ngIf",i.banInfo.isMyResponse),S(1),F("ngIf",i.banInfo.playerName),S(1),F("ngIf",i.banInfo.isMyResponse),S(2),ie(" ",q(10,14,"game.chat-widget.chat-message.chat-message-ban.from chat for")," "),S(2),F("ngIf",i.isShownDay),S(1),F("ngIf",i.isShownHour),S(1),F("ngIf",i.isShownMin),S(1),F("ngIf",i.isShownSec),S(2),nt(q(17,16,"game.chat-widget.chat-message.chat-message-ban.reason")),S(2),F("ngIf",!i.isReasonOther),S(1),F("ngIf",i.isReasonOther))},directives:[At],pipes:[Ya,$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"],changeDetection:0}),n})();const fDe=["(\\[b\\]@\\w+\\[\\/b\\])"],gDe=["(\\[b\\])","(\\[\\/b\\])"],_De={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function SY(n){return new RegExp(n.join("|"),"g")}function yDe(n,e){if(1&n){const t=_t();D(0,"span",4),Ae("click",function(){return ht(t),ee().tagUser()}),U(1),R()}if(2&n){const t=ee();S(1),nt(t.username)}}function bDe(n,e){1&n&&(D(0,"span",5),U(1," Mod "),R())}function vDe(n,e){1&n&&(D(0,"span",6),U(1," Bot "),R())}let CDe=(()=>{class n{constructor(t,i){this.oldChat=t,this.maskedUsernamePipe=i}tagUser(){this.oldChat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===j0.moderator}get isBotMessageType(){return this.senderType===j0.bot}get username(){return this.isBotMessageType?this.playerName:this.isModeratorMessageType?"Mod":this.maskedUsernamePipe.transform(this.playerName)}}return n.\u0275fac=function(t){return new(t||n)(W(mp),W(Ya))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},features:[qn([Ya])],decls:4,vars:3,consts:[[1,"name-wrapper"],["class","name canSelect",3,"click",4,"ngIf"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"name","canSelect",3,"click"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(t,i){1&t&&(D(0,"span",0),te(1,yDe,2,1,"span",1),te(2,bDe,2,0,"span",2),te(3,vDe,2,0,"span",3),R()),2&t&&(S(1),F("ngIf",!i.isModeratorMessageType),S(1),F("ngIf",i.isModeratorMessageType),S(1),F("ngIf",i.isBotMessageType))},directives:[At],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"],changeDetection:0}),n})();function wDe(n,e){if(1&n&&(D(0,"span",7),U(1),R()),2&n){const t=ee().$implicit;Et("reply-me",t.isReplyForMe),S(1),ie(" ",t.str," ")}}function SDe(n,e){if(1&n&&(D(0,"span"),U(1),G(2,"transloco"),R()),2&n){const t=ee().$implicit;S(1),nt(q(2,1,"game.chat-widget.chat-message."+t.str))}}function TDe(n,e){if(1&n&&(D(0,"span"),U(1),R()),2&n){const t=ee().$implicit;S(1),nt(t.str)}}function MDe(n,e){if(1&n&&(ft(0)(1,3),te(2,wDe,2,3,"span",4),te(3,SDe,3,3,"span",5),te(4,TDe,2,1,"span",6),gt()()),2&n){const t=e.$implicit,i=ee();S(1),F("ngSwitch",t.type),S(1),F("ngSwitchCase",i.chatMessageChunkTypes.reply),S(1),F("ngSwitchCase",i.chatMessageChunkTypes.translate)}}let xDe=(()=>{class n{constructor(){this.chatMessageChunkTypes=cx,this.chatMessageSenderTypes=j0,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(SY(fDe)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),s={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(s)})}getChunkMessage(t,i){return i===this.chatMessageChunkTypes.reply?t.replace(SY(gDe),""):t}getChunkTypeMessage(t){return function mDe(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(t)?this.chatMessageChunkTypes.reply:this.isShouldBeTranslated&&_De.hasOwnProperty(t)?this.chatMessageChunkTypes.translate:""}get isShouldBeTranslated(){return this.senderType===this.chatMessageSenderTypes.bot||this.messageType===H0.rain||this.messageType===H0.winInfo}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",playerName:"playerName",messageType:"messageType",senderType:"senderType"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"]],template:function(t,i){1&t&&(D(0,"span",0),ce(1,"app-chat-message-name",1),te(2,MDe,5,3,"ng-container",2),R()),2&t&&(S(1),F("senderType",i.senderType)("playerName",i.playerName),S(1),F("ngForOf",i.messageChunks))},directives:[CDe,di,Va,Zl,df],pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.text[_ngcontent-%COMP%]{word-break:break-word;white-space:pre-line;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function EDe(n,e){if(1&n&&(D(0,"div",3),U(1),R()),2&n){const t=ee();S(1),ie(" ",t.usersLikesNumber," ")}}let tm=class{constructor(e,t){this.cd=e,this.connector=t,this.usersLikesNumber=0,this.loading=!1}ngOnInit(){this.connector.response(In.Like,200).pipe(cn(e=>this.messageId===e.messageId),bl(e=>{this.loading=!1,this.usersLikesNumber=e.usersLikesNumber}),kt(this)).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked=!this.isMeLiked,this.usersLikesNumber=this.hasLikes?this.isMeLiked?++this.usersLikesNumber:--this.usersLikesNumber:1,this.connector.request(mr.Like,{setLike:this.isMeLiked,messageId:this.messageId}))}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function ODe(n,e){if(1&n&&(ft(0),D(1,"div",3)(2,"div",4),ce(3,"img",5),R(),D(4,"div",6)(5,"div",7),ce(6,"app-chat-message-text",8),R()(),D(7,"div",9),ce(8,"app-chat-message-likes",10),R()(),gt()),2&n){const t=ee();S(3),F("src",t.getAvatar(t.message),an)("alt",t.getAvatar(t.message)),S(3),F("playerName",t.message.playerName)("senderType",t.message.senderType)("messageType",t.message.messageType)("message",t.message.message),S(2),F("messageId",t.message.messageId)("isMeLiked",null==t.message.likes?null:t.message.likes.isMeLiked)("usersLikesNumber",null==t.message.likes?null:t.message.likes.usersLikesNumber)}}function PDe(n,e){if(1&n&&(ft(0),D(1,"div",3)(2,"div",4),ce(3,"img",5),R(),D(4,"div",11)(5,"div",7),ce(6,"app-chat-message-text",8),R()(),D(7,"div",9),ce(8,"app-chat-message-likes",10),R()(),gt()),2&n){const t=ee();S(3),F("src",t.getAvatar(t.message),an)("alt",t.getAvatar(t.message)),S(3),F("playerName",t.message.playerName)("senderType",t.message.senderType)("messageType",t.message.messageType)("message",t.message.message),S(2),F("messageId",t.message.messageId)("isMeLiked",null==t.message.likes?null:t.message.likes.isMeLiked)("usersLikesNumber",null==t.message.likes?null:t.message.likes.usersLikesNumber)}}tm.\u0275fac=function(e){return new(e||tm)(W(Fn),W(tr))},tm.\u0275cmp=rt({type:tm,selectors:[["app-chat-message-likes"]],inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(e,t){1&e&&(D(0,"div",0),te(1,EDe,2,1,"div",1),D(2,"div",2),Ae("click",function(){return t.onLike()}),R()()),2&e&&(S(1),F("ngIf",t.hasLikes),S(1),Et("active",t.isActiveMeLike))},directives:[At],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.f7eef68f7ba722a9.svg);--urlImgLikeH: url(like-h.42729805ca89d70b.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"],changeDetection:0}),tm=Ve([_i()],tm);let IDe=(()=>{class n{constructor(){this.chatMessageRegularTypes=I1}getAvatar(t){return qs(Qs.avatarPath+t.profileImage)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],["draggable","false",1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"playerName","senderType","messageType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(t,i){1&t&&(ft(0,0),te(1,ODe,9,9,"ng-container",1),te(2,PDe,9,9,"ng-container",2),gt()),2&t&&(F("ngSwitch",i.type),S(1),F("ngSwitchCase",i.chatMessageRegularTypes.header))},directives:[Va,Zl,xDe,tm,df],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"],changeDetection:0}),n})(),TY=(()=>{class n{transform(t,i){return i?"":t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=ss({name:"hideCurrency",type:n,pure:!0}),n})(),ADe=(()=>{class n{constructor(t,i,r){this.app=t,this.gameConfig=i,this.main=r}}return n.\u0275fac=function(t){return new(t||n)(W(gr),W(Hn),W(Zr))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-share-bet"]],inputs:{winInfo:"winInfo"},decls:38,vars:36,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],["draggable","false",1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(t,i){1&t&&(D(0,"div",0)(1,"div",1)(2,"div",2),Ae("click",function(){return i.main.checkFairness(i.winInfo.roundId)}),R()(),D(3,"div",3),ce(4,"img",4),D(5,"div"),U(6),G(7,"maskedUsername"),R()(),D(8,"div",5)(9,"div",6)(10,"div",7),U(11),G(12,"transloco"),R(),D(13,"div",8),U(14),G(15,"multiplierPrecision"),R()(),D(16,"div",6)(17,"div",7),U(18),G(19,"transloco"),G(20,"hideCurrency"),R(),D(21,"div",9),U(22),G(23,"currencyPrecision"),R()()(),D(24,"div",5)(25,"div",6)(26,"div",7),U(27),G(28,"transloco"),R(),D(29,"div",9),U(30),G(31,"multiplierPrecision"),R()(),D(32,"div",6)(33,"div",7),U(34),G(35,"transloco"),G(36,"hideCurrency"),R(),ce(37,"app-bet-amount",10),R()()()),2&t&&(S(4),F("src",i.app.getAvatarUrl(i.winInfo.profileImage),an)("alt",i.app.getAvatarUrl(i.winInfo.profileImage)),S(2),ie(" ",q(7,14,i.winInfo.playerName)," "),S(5),ie("",q(12,16,"shared.cashed_out"),":"),S(3),ie(" ",q(15,18,i.winInfo.multiplier),"x "),S(4),Xn(" ",q(19,20,"shared.win"),", ",Gt(20,22,i.winInfo.currency,i.gameConfig.isCurrencyNameHidden),": "),S(4),ie(" ",q(23,25,i.winInfo.winAmount)," "),S(5),ie("",q(28,27,"shared.round"),":"),S(3),ie(" ",q(31,29,i.winInfo.roundMaxMultiplier),"x "),S(4),Xn(" ",q(35,31,"shared.bet"),", ",Gt(36,33,i.winInfo.currency,i.gameConfig.isCurrencyNameHidden),": "),S(3),F("isFreeBet",i.winInfo.isFreeBet)("amount",i.winInfo.bet))},directives:[sh,Lv],pipes:[Ya,$t,qo,TY,Zn],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"],changeDetection:0}),n})();var A1=(()=>(function(n){n.Claimed="claimed",n.Free="free",n.Canceled="canceled"}(A1||(A1={})),A1))();function DDe(n,e){if(1&n&&(ft(0),D(1,"div",11),ce(2,"img",12),D(3,"div",13),U(4),G(5,"maskedUsername"),R()(),gt()),2&n){const t=ee().$implicit,i=ee();S(2),F("src",i.app.getAvatarUrl(t.profileImage),an)("alt",i.app.getAvatarUrl(t.profileImage)),S(1),Et("me",t.isMe),S(1),ie(" ",q(5,5,t.playerName)," ")}}function RDe(n,e){if(1&n){const t=_t();ft(0),D(1,"button",14),Ae("click",function(){ht(t);const r=ee().$implicit,s=ee();return s.onClaimRain({rainWinnerId:r.rainWinnerId,rainId:s.rainInfo.rainId})}),U(2),G(3,"transloco"),R(),gt()}if(2&n){const t=ee(2);S(1),F("disabled",!t.rainInfo.isCanClaim),S(1),ie(" ",q(3,2,"shared.claim")," ")}}function kDe(n,e){1&n&&(ft(0),D(1,"button",15),U(2),G(3,"transloco"),R(),gt()),2&n&&(S(1),F("disabled",!0),S(1),ie(" ",q(3,2,"shared.claim")," "))}function NDe(n,e){if(1&n&&(D(0,"div",7)(1,"div",8)(2,"span"),U(3),G(4,"currencyPrecision"),G(5,"hideCurrency"),R()(),ft(6,9),te(7,DDe,6,7,"ng-container",10),te(8,RDe,4,4,"ng-container",10),te(9,kDe,4,4,"ng-container",10),gt(),R()),2&n){const t=e.$implicit,i=ee();S(3),Xn(" ",q(4,6,i.rainInfo.rainAmountPerUser)," ",Gt(5,8,i.rainInfo.currency,i.gameConfig.isCurrencyNameHidden)," "),S(3),F("ngSwitch",t.rainNodeStatus),S(1),F("ngSwitchCase",i.rainNodeStatus.Claimed),S(1),F("ngSwitchCase",i.rainNodeStatus.Free),S(1),F("ngSwitchCase",i.rainNodeStatus.Canceled)}}let nm=class{constructor(e,t,i,r,s,o,a){this.app=e,this.gameConfig=t,this.connector=i,this.audioService=r,this.captcha=s,this.cd=o,this.freeBets=a,this.rainNodeStatus=A1}ngOnInit(){this.connector.response(In.ClaimRainWin).pipe(cn(e=>e.rainId===this.rainInfo.rainId),kt(this)).subscribe(e=>this.responseClaimRain(e))}onClaimRain(e){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.gameConfig.reCaptchaSiteKey?this.captcha.execute(this.gameConfig.reCaptchaSiteKey,"claimRain",t=>{e.captchaUserToken=t,this.connector.request(mr.ClaimRainWin,e)}):this.connector.request(mr.ClaimRainWin,e))}responseClaimRain(e){200!==e.code?this.rainInfo.isCanClaim=!0:(e.rainNodeStatus!==A1.Canceled&&this.audioService.play(ta.Sound,Ao.FreeBet),this.rainInfo.rainWinnerInfo[e.rainWinnerId]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[e.rainWinnerId]),{playerName:e.playerName,profileImage:e.profileImage,isMe:e.isMe,rainNodeStatus:e.rainNodeStatus}),e.freeBetInfo&&this.freeBets.add(e.freeBetInfo)),this.cd.detectChanges()}get rainWinnersInfo(){return Object.values(this.rainInfo.rainWinnerInfo)}};function FDe(n,e){if(1&n&&(ft(0),D(1,"div",3),ce(2,"app-chat-message-ban",4),R(),gt()),2&n){const t=ee();S(2),F("banInfo",t.message.banInfo)}}nm.\u0275fac=function(e){return new(e||nm)(W(gr),W(Hn),W(tr),W(qh),W(hj),W(Fn),W(od))},nm.\u0275cmp=rt({type:nm,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:14,vars:14,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],["draggable","false",1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(e,t){1&e&&(D(0,"div",0)(1,"div",1)(2,"div",2),te(3,NDe,10,11,"div",3),R()(),D(4,"div",4)(5,"div",5)(6,"span"),U(7),G(8,"transloco"),G(9,"transloco"),R(),D(10,"span",6),U(11),G(12,"currencyPrecision"),G(13,"hideCurrency"),R()()()()),2&e&&(S(3),F("ngForOf",t.rainWinnersInfo),S(4),Xn(" ",q(8,5,"shared.rain")," \u{1f327} | ",q(9,7,"shared.total")," "),S(4),Xn(" ",q(12,9,t.rainInfo.rainFullAmount)," ",Gt(13,11,t.rainInfo.currency,t.gameConfig.isCurrencyNameHidden)," "))},directives:[di,Va,Zl],pipes:[Zn,TY,Ya,$t],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),nm=Ve([_i()],nm);const BDe=function(n,e,t){return{low:n,medium:e,high:t}};function LDe(n,e){if(1&n&&(ft(0),D(1,"div",5)(2,"div",6),ce(3,"app-chat-message-regular",7),R(),ce(4,"app-chat-share-bet",8),R(),gt()),2&n){const t=ee();S(1),F("ngClass",Uy(4,BDe,t.message.winInfo.multiplier>=t.multiplierLevel.Low&&t.message.winInfo.multiplier<t.multiplierLevel.Medium,t.message.winInfo.multiplier>=t.multiplierLevel.Medium&&t.message.winInfo.multiplier<t.multiplierLevel.High,t.message.winInfo.multiplier>=t.multiplierLevel.High)),S(2),F("type",t.chatMessageRegularTypes.header)("message",t.message),S(1),F("winInfo",t.message.winInfo)}}function UDe(n,e){if(1&n&&(ft(0),D(1,"div",9)(2,"div",6),ce(3,"app-chat-message-regular",7),R(),ce(4,"app-chat-rain",10),R(),gt()),2&n){const t=ee();S(3),F("type",t.chatMessageRegularTypes.header)("message",t.message),S(1),F("rainInfo",t.message.rainInfo)}}const HDe=function(n,e){return{width:n,height:e}};function jDe(n,e){if(1&n&&(ft(0),D(1,"div",12)(2,"div"),ce(3,"app-chat-message-regular",7),R(),D(4,"div",13)(5,"div",14),ce(6,"img",15),R()()(),gt()),2&n){const t=ee(2);S(3),F("type",t.chatMessageRegularTypes.header)("message",t.message),S(2),F("ngStyle",wa(4,HDe,t.gifWidth+"px",t.gifHeight+"px")),S(1),F("src",t.gifInfo.url,an)}}function GDe(n,e){if(1&n&&(ft(0),te(1,jDe,7,7,"ng-container",11),gt()),2&n){const t=ee();S(1),F("ngIf",t.gifInfo)}}function VDe(n,e){if(1&n&&(ft(0),D(1,"div",3),ce(2,"app-chat-message-regular",16),R(),gt()),2&n){const t=ee();S(2),F("message",t.message)}}let zDe=(()=>{class n{constructor(){this.gifMaxLength=180,this.chatMessageTypes=H0,this.chatMessageRegularTypes=I1,this.multiplierLevel=ld}ngOnInit(){this.isGifShown&&(this.gifInfo="object"==typeof this.message.gifInfo?this.message.gifInfo:JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const t=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=t>=i;this.gifWidth=r?this.gifMaxLength:t/(i/this.gifMaxLength),this.gifHeight=r?i/(t/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.messageType===this.chatMessageTypes.gif&&!!this.message.gifInfo}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"winInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[4,"ngIf"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["draggable","false","alt","gif",1,"img",3,"src"],[3,"message"]],template:function(t,i){1&t&&(ft(0,0),te(1,FDe,3,1,"ng-container",1),te(2,LDe,5,8,"ng-container",1),te(3,UDe,5,3,"ng-container",1),te(4,GDe,2,1,"ng-container",1),te(5,VDe,3,1,"ng-container",2),gt()),2&t&&(F("ngSwitch",i.message.messageType),S(1),F("ngSwitchCase",i.chatMessageTypes.ban),S(1),F("ngSwitchCase",i.chatMessageTypes.winInfo),S(1),F("ngSwitchCase",i.chatMessageTypes.rain),S(1),F("ngSwitchCase",i.chatMessageTypes.gif))},directives:[Va,Zl,pDe,cs,IDe,ADe,nm,At,Dd,df],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#1b1c1d}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();var Hp=(()=>(function(n){n.emoji="emoji",n.gif="gif",n.rain="rain"}(Hp||(Hp={})),Hp))(),G0=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(G0||(G0={})),G0))();const $De=["*"];let Rk=(()=>{class n{constructor(){this.chatInputTools=Hp,this.closeTool=new _n}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:$De,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","p-0"]],template:function(t,i){1&t&&(Iy(),D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),U(5),G(6,"transloco"),R(),D(7,"button",5),Ae("click",function(){return i.onCloseTool()}),D(8,"span"),U(9,"\xd7"),R()()(),D(10,"div",6),Ay(11),R()()()()),2&t&&(S(1),Et("rain",i.title===i.chatInputTools.rain),S(4),ie(" ",q(6,3,"shared."+i.title)," "))},pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.modal[_ngcontent-%COMP%]{position:absolute;top:auto;display:block;margin-left:auto;margin-right:auto;left:0;height:auto;bottom:67px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{--headerHeight: 36px;height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:var(--headerHeight);max-height:var(--headerHeight)}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - var(--headerHeight))}"],changeDetection:0}),n})();function WDe(n,e){if(1&n){const t=_t();D(0,"span",9),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function YDe(n,e){if(1&n){const t=_t();D(0,"span",9),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function XDe(n,e){if(1&n){const t=_t();D(0,"span",9),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function qDe(n,e){if(1&n){const t=_t();D(0,"span",9),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function KDe(n,e){if(1&n){const t=_t();D(0,"span",9),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function JDe(n,e){if(1&n){const t=_t();D(0,"span",9),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function QDe(n,e){if(1&n&&(ft(0),D(1,"div"),U(2),G(3,"transloco"),R(),D(4,"div",6),te(5,WDe,2,2,"span",7),R(),D(6,"div",8),U(7),G(8,"transloco"),R(),D(9,"div",6),te(10,YDe,2,2,"span",7),R(),D(11,"div",8),U(12),G(13,"transloco"),R(),D(14,"div",6),te(15,XDe,2,2,"span",7),R(),D(16,"div",8),U(17),G(18,"transloco"),R(),D(19,"div",6),te(20,qDe,2,2,"span",7),R(),D(21,"div",8),U(22),G(23,"transloco"),R(),D(24,"div",6),te(25,KDe,2,2,"span",7),R(),D(26,"div",8),U(27),G(28,"transloco"),R(),D(29,"div",6),te(30,JDe,2,2,"span",7),R(),gt()),2&n){const t=ee();S(2),ie(" ",q(3,12,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites")," "),S(3),F("ngForOf",t.emojiFriquentlyUsed),S(2),ie(" ",q(8,14,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people")," "),S(3),F("ngForOf",t.emojiPeople),S(2),ie(" ",q(13,16,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature")," "),S(3),F("ngForOf",t.emojiNature),S(2),ie(" ",q(18,18,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects")," "),S(3),F("ngForOf",t.emojiObjects),S(2),ie(" ",q(23,20,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places")," "),S(3),F("ngForOf",t.emojiPlaces),S(2),ie(" ",q(28,22,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols")," "),S(3),F("ngForOf",t.emojiSymbols)}}function ZDe(n,e){if(1&n){const t=_t();D(0,"span",9),Ae("click",function(){const s=ht(t).$implicit;return ee(2).onClickEmoji(s.pic)}),U(1),R()}if(2&n){const t=e.$implicit;F("title",t.title),S(1),ie(" ",t.pic," ")}}function eRe(n,e){if(1&n&&(ft(0),D(1,"div",6),te(2,ZDe,2,2,"span",7),R(),gt()),2&n){const t=ee();S(2),F("ngForOf",t.searchList)}}let tRe=(()=>{class n{constructor(){this.finish=new _n,this.chatInputToolWrapperTitles=G0,this.searchText="",this.searchList=[],this.emojiForSearch=[],this.emojiFriquentlyUsed=[],this.emojiPeople=[],this.emojiNature=[],this.emojiObjects=[],this.emojiPlaces=[],this.emojiSymbols=[]}ngOnInit(){this.emojiForSearch=Up.slice(9),this.emojiFriquentlyUsed=Up.slice(0,9),this.emojiPeople=Up.slice(9,150),this.emojiNature=Up.slice(150,226),this.emojiObjects=Up.slice(226,309),this.emojiPlaces=Up.slice(309,335),this.emojiSymbols=Up.slice(335)}onModelChange(t){const i=[],r=this.formatMsg(t);if(""!==r&&" "!==r){for(const s of this.emojiForSearch)s.title.includes(t)&&i.push(s);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.length>0}preventDefault(t){t&&t.preventDefault()}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(t){this.finish.emit({str:t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],[1,"header"],[1,"emoji-item",3,"title","click"]],template:function(t,i){1&t&&(D(0,"app-chat-input-tool-wrapper",0),Ae("closeTool",function(){return i.finish.emit()}),D(1,"div",1)(2,"div",2)(3,"textarea",3),Ae("ngModelChange",function(s){return i.searchText=s})("ngModelChange",function(s){return i.onModelChange(s)})("keydown.enter",function(s){return i.preventDefault(s)}),G(4,"transloco"),R()()(),D(5,"div",4),te(6,QDe,31,24,"ng-container",5),te(7,eRe,3,1,"ng-container",5),R()()),2&t&&(F("title",i.chatInputToolWrapperTitles.emoji),S(3),Qm("placeholder",q(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),F("ngModel",i.searchText)("maxlength",20),S(3),F("ngIf",!i.isShownSearchList),S(1),F("ngIf",i.isShownSearchList))},directives:[Rk,Pf,GS,Jo,Ma,VS,At,di],pipes:[$t],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"],changeDetection:0}),n})(),nRe=(()=>{class n{constructor(t,i){this.gameConfig=t,this.currencyPrecisionPipe=i,this.chatInputToolWrapperTitles=G0,this.amountPerUser=.5,this.numberOfUsers=0,this.finish=new _n}ngOnInit(){this.numberOfUsers=this.gameConfig.chat.rain.defaultNumOfUsers,this.amountPerUser=this.gameConfig.minBet}get minNumberOfUsers(){return this.gameConfig.chat.rain.minNumOfUsers}get maxNumberOfUsers(){return this.gameConfig.chat.rain.maxNumOfUsers}get minAmountPerUser(){return this.gameConfig.chat.rain.rainMinBet}get maxAmountPerUser(){return this.gameConfig.chat.rain.rainMaxBet}get totalAmount(){return Fi.mul(this.amountPerUser,this.numberOfUsers).toNumber()}onRain(){const t=`/rain:${this.currencyPrecisionPipe.transform(this.amountPerUser)}:${this.numberOfUsers} `;this.finish.emit({str:t})}}return n.\u0275fac=function(t){return new(t||n)(W(Hn),W(Zn))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:39,vars:35,consts:[[3,"title","closeTool"],[1,"content"],[1,"description"],[1,"input-wrapper"],[1,"mt-3"],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],[1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(t,i){1&t&&(D(0,"app-chat-input-tool-wrapper",0),Ae("closeTool",function(){return i.finish.emit()}),D(1,"div",1)(2,"div",2),U(3),G(4,"transloco"),R(),D(5,"div",3)(6,"div",4)(7,"span"),U(8),G(9,"transloco"),R(),D(10,"span",5),U(11),R()(),D(12,"div",6)(13,"app-spinner",7),Ae("ngModelChange",function(s){return i.amountPerUser=s}),R()(),D(14,"div",8),U(15),G(16,"transloco"),R(),D(17,"div",6)(18,"app-spinner",9),Ae("ngModelChange",function(s){return i.numberOfUsers=s}),R()()(),D(19,"div",10)(20,"div")(21,"span"),U(22),G(23,"transloco"),R(),D(24,"span",5),U(25),R()()(),D(26,"div",11),U(27),G(28,"currencyPrecision"),R(),D(29,"div",12)(30,"button",13),Ae("click",function(){return i.onRain()}),D(31,"span",14),U(32),G(33,"transloco"),R(),D(34,"span"),U(35),G(36,"currencyPrecision"),R(),D(37,"span"),U(38),R()()()()()),2&t&&(F("title",i.chatInputToolWrapperTitles.rain),S(3),ie(" ",q(4,21,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description")," "),S(5),ie(" ",q(9,23,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player")," "),S(3),nt(i.gameConfig.currency),S(2),F("formatPrecision",i.gameConfig.betPrecision)("ngModel",i.amountPerUser)("step",i.gameConfig.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),S(2),ie(" ",q(16,25,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players")," "),S(3),F("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),S(4),ie("",q(23,27,"shared.total"),","),S(3),ie(" ",i.gameConfig.currency,""),S(2),ie(" ",q(28,29,i.totalAmount)," "),S(5),nt(q(33,31,"shared.rain")),S(3),ie(" ",q(36,33,i.totalAmount),""),S(3),ie(" ",i.gameConfig.currency,""))},directives:[Rk,Pk,Jo,Ma],pipes:[$t,Zn],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"],changeDetection:0}),n})();const MY=function(n){return{background:n}};function iRe(n,e){if(1&n){const t=_t();D(0,"div",8)(1,"div",9),Ae("click",function(){const s=ht(t).$implicit;return ee(2).shareGif(s.id)}),R()()}if(2&n){const t=e.$implicit;S(1),F("ngStyle",zn(1,MY,"url("+t.url+") center center/cover"))}}function rRe(n,e){if(1&n&&(ft(0),te(1,iRe,2,3,"div",7),gt()),2&n){const t=ee();S(1),F("ngForOf",t.oldChat.top10Gifs)}}function sRe(n,e){if(1&n){const t=_t();D(0,"div",8)(1,"div",9),Ae("click",function(){const s=ht(t).$implicit;return ee(3).shareGif(s.id)}),R()()}if(2&n){const t=e.$implicit;S(1),F("ngStyle",zn(1,MY,"url("+t.url+") center center/cover"))}}function oRe(n,e){if(1&n&&(ft(0),te(1,sRe,2,3,"div",7),gt()),2&n){const t=ee(2);S(1),F("ngForOf",t.searchList)}}function aRe(n,e){1&n&&(D(0,"div",11),ce(1,"app-loader"),R())}function lRe(n,e){if(1&n&&(ft(0),te(1,oRe,2,1,"ng-container",6),te(2,aRe,2,0,"div",10),gt()),2&n){const t=ee();S(1),F("ngIf",t.searchList&&t.searchList.length),S(1),F("ngIf",!(t.searchList&&t.searchList.length))}}let im=class{constructor(e,t,i){this.connector=e,this.cd=t,this.oldChat=i,this.finish=new _n,this.searchInput=new Ze,this.chatInputToolWrapperTitles=G0,this.searchText="",this.searchList=[]}ngOnInit(){this.connector.response(In.SearchGifs,200).pipe(kt(this)).subscribe(e=>{const t=this.formatMsg(this.searchText);if(""===t||" "===t)return this.searchList=[],void this.cd.detectChanges();this.searchList=Array.isArray(e.gifsInfo)?e.gifsInfo:D9(e.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(Dk(1e3),zh(),kt(this)).subscribe(e=>{this.getGifs(e)})}getGifs(e){this.connector.request(mr.SearchGifs,{tag:e})}onModelChange(e){const t=this.formatMsg(e);""!==t&&" "!==t?this.searchInput.next(t):this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.trim().length>0}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(e){e&&e.preventDefault()}shareGif(e){this.finish.emit({str:`/gif:${e} `})}};im.\u0275fac=function(e){return new(e||im)(W(tr),W(Fn),W(mp))},im.\u0275cmp=rt({type:im,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(e,t){1&e&&(D(0,"app-chat-input-tool-wrapper",0),Ae("closeTool",function(){return t.finish.emit()}),D(1,"div",1)(2,"div",2),ce(3,"div",3),D(4,"textarea",4),Ae("ngModelChange",function(r){return t.searchText=r})("ngModelChange",function(r){return t.onModelChange(r)})("keydown.enter",function(r){return t.preventDefault(r)}),G(5,"transloco"),R()()(),D(6,"div",5),te(7,rRe,2,1,"ng-container",6),te(8,lRe,3,2,"ng-container",6),R()()),2&e&&(F("title",t.chatInputToolWrapperTitles.gif),S(4),Qm("placeholder",q(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),F("ngModel",t.searchText)("maxlength",20),S(3),F("ngIf",!t.isShownSearchList),S(1),F("ngIf",t.isShownSearchList))},directives:[Rk,Pf,GS,Jo,Ma,VS,At,di,Dd,gu],pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),im=Ve([_i()],im);const cRe=["input"];function uRe(n,e){if(1&n){const t=_t();D(0,"div",11),Ae("click",function(){ht(t);const r=ee();return r.showToolModal(r.chatInputTools.emoji)}),R()}}function dRe(n,e){if(1&n){const t=_t();D(0,"div",12),Ae("click",function(){ht(t);const r=ee();return r.showToolModal(r.chatInputTools.gif)}),R()}}function hRe(n,e){if(1&n){const t=_t();D(0,"div",13),Ae("click",function(){ht(t);const r=ee();return r.showToolModal(r.chatInputTools.rain)}),ce(1,"div",14),D(2,"div",15),U(3),G(4,"transloco"),R()()}2&n&&(S(3),nt(q(4,1,"shared.rain")))}function pRe(n,e){if(1&n){const t=_t();D(0,"app-chat-input-tool-emoji",16),Ae("finish",function(r){return ht(t),ee().onCloseToolModal(r,"emoji")}),R()}}function fRe(n,e){if(1&n){const t=_t();D(0,"app-chat-input-tool-rain",16),Ae("finish",function(r){return ht(t),ee().onCloseToolModal(r,"rain")}),R()}}function gRe(n,e){if(1&n){const t=_t();D(0,"app-chat-input-tool-gif",16),Ae("finish",function(r){return ht(t),ee().onCloseToolModal(r,"gif")}),R()}}function mRe(n,e){if(1&n){const t=_t();D(0,"div",17)(1,"div",18)(2,"div",19),Ae("animationend",function(){return ht(t),ee().onWaitEnd()}),R()(),D(3,"p"),U(4),G(5,"transloco"),R()()}if(2&n){const t=ee();S(2),hl("animation-duration",t.gameConfig.chat.sendMessageDelay,"ms"),S(2),nt(q(5,3,"game.chat-widget.chat-input.please wait"))}}let rm=class{constructor(e,t,i,r,s,o){this.app=e,this.gameConfig=t,this.mainService=i,this.oldChat=r,this.cd=s,this.connector=o,this.message="",this.wait=!1,this.chatInputTools=Hp,this.toolModal=null}ngOnInit(){this.value="",Hi(this.inputRef.nativeElement,"input").pipe(qa(50),kt(this)).subscribe(()=>{this.cd.detectChanges()}),Hi(this.inputRef.nativeElement,"keydown").pipe(cn(e=>13===e.which),kt(this)).subscribe(e=>{e.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.oldChat.onTagUser.pipe(kt(this)).subscribe(e=>{this.addToInput(e),this.cd.detectChanges()})}addToInput(e,t=!1){e.length<=this.leftLength&&(this.value=t?e:`${this.value?this.value:""}${e}`)}onClickSend(){this.sendMessage()}get isValid(){const e=this.value.length;return e>=1&&e<=this.gameConfig.chat.maxMessageLength}sendMessage(){const e=function _Re(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===e||" "===e||!this.isValid||(this.value="",this.wait=!0,this.connector.request(this.oldChat.isChatApiV2OrLater?mr.AddChatMessageV2:mr.AddChatMessage,{message:e}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(e,t){void 0!==e?!1===this.wait&&("gif"===t?(this.addToInput(e.str),this.sendMessage()):"emoji"===t?this.addToInput(e.str):"rain"===t&&(this.addToInput(e.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(e=null){this.toolModal!==e||null===this.toolModal?this.toolModal=e:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===Hp.emoji}get isRainShown(){return this.toolModal===Hp.rain}get isGifShown(){return this.toolModal===Hp.gif}get leftLength(){return this.gameConfig.chat.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(e){this.inputRef.nativeElement.value=e}};rm.\u0275fac=function(e){return new(e||rm)(W(gr),W(Hn),W(Zr),W(mp),W(Fn),W(tr))},rm.\u0275cmp=rt({type:rm,selectors:[["app-chat-input"]],viewQuery:function(e,t){if(1&e&&Lr(cRe,7),2&e){let i;Kn(i=Jn())&&(t.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],[1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"]],template:function(e,t){1&e&&(D(0,"div",0),ce(1,"textarea",1,2),G(3,"transloco"),D(4,"div",3),te(5,uRe,1,0,"div",4),te(6,dRe,1,0,"div",5),te(7,hRe,5,3,"div",6),D(8,"div",7),U(9),R()(),D(10,"button",8),Ae("click",function(){return t.onClickSend()}),R(),te(11,pRe,1,0,"app-chat-input-tool-emoji",9),te(12,fRe,1,0,"app-chat-input-tool-rain",9),te(13,gRe,1,0,"app-chat-input-tool-gif",9),te(14,mRe,6,5,"div",10),R()),2&e&&(S(1),Qm("placeholder",q(3,11,"shared.reply")),Ii("maxlength",t.gameConfig.chat.maxMessageLength),S(4),F("ngIf",t.app.isDesktop),S(1),F("ngIf",t.gameConfig.chat.isGifsEnabled),S(1),F("ngIf",t.gameConfig.chat.rain.isEnabled),S(2),nt(t.leftLength),S(1),F("disabled",!t.isValid),S(1),F("ngIf",t.isEmojiShown),S(1),F("ngIf",t.isRainShown),S(1),F("ngIf",t.isGifShown),S(1),F("ngIf",t.wait))},directives:[At,tRe,nRe,im],pipes:[$t],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.571c039004529d0e.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.1e50d8284ac7440f.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.d79a6fe11716cc0d.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.80355691f0bc81db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.5a0773f47cf64531.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.03deaf6b8844a05d.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.6f74e8cc9d963344.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);animation:chat-input-loading;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),rm=Ve([_i()],rm);const yRe=["container"];function bRe(n,e){1&n&&ce(0,"app-chat-message",5),2&n&&F("message",e.$implicit)}function vRe(n,e){if(1&n){const t=_t();D(0,"div",6),Ae("click",function(){return ht(t),ee().onScrollToBottom()}),U(1),G(2,"transloco"),ce(3,"span",7),R()}2&n&&(S(1),ie(" ",q(2,1,"game.chat-widget.New messages")," "))}let sm=class{constructor(e,t,i,r,s,o,a){this.connector=e,this.gameConfig=t,this.zone=i,this.chatFeatureService=r,this.oldChat=s,this.toastService=o,this.cd=a,this.newMessagesAdded=!1,this.trackByMessageId=(l,c)=>c.messageId}ngOnInit(){this.scrollNativeElement=this.containerRef.nativeElement,this.connector.response(In.AddChatMessage,200).pipe(kt(this)).subscribe(e=>this.onReceiveMessage(e)),this.connector.response(In.AddChatMessages,200).pipe(kt(this)).subscribe(e=>this.onAddChatMessages(e)),this.connector.response(In.DeleteChatMessage,200).pipe(kt(this)).subscribe(e=>this.onDeleteMessage(e.messageIdList)),this.chatFeatureService.isOpen$.pipe(cn(e=>!0===e),kt(this)).subscribe(()=>this.scrollToBottom()),Hi(document.fonts,"loadingdone").pipe(kt(this)).subscribe(()=>this.scrollToBottom())}ngAfterViewInit(){this.scrollToBottom(100),Hi(this.scrollNativeElement,"scroll").pipe(Dk(300),cn(()=>this.isScrollAtBottom&&this.newMessagesAdded),kt(this)).subscribe(()=>{this.newMessagesAdded=!1,this.cd.detectChanges()})}onReceiveMessage(e){this.oldChat.messages.push(e.message),this.oldChat.messages.length>this.gameConfig.chat.maxMessages&&this.oldChat.messages.shift(),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chatFeatureService.isOpen&&"rain"===e.message.messageType&&this.notifyAboutRain()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAdded=!1,this.scrollToBottom()):this.newMessagesAdded=!0}notifyAboutRain(){this.toastService.show(yc,{message:"rain-has-been-dropped",type:na.Success,callback:()=>{setTimeout(()=>{this.chatFeatureService.isOpen=!0},300)}})}onAddChatMessages(e){const t=e.messages.some(i=>"rain"===i.messageType);this.oldChat.messages.push(...e.messages),this.oldChat.messages=this.oldChat.messages.slice(-this.gameConfig.chat.maxMessages),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chatFeatureService.isOpen&&t&&this.notifyAboutRain()}onDeleteMessage(e){this.oldChat.messages=this.oldChat.messages.filter(t=>!e.includes(t.messageId)),this.cd.detectChanges()}onScrollToBottom(){this.newMessagesAdded=!1,this.scrollToBottom()}get isScrollAtBottom(){return Math.abs(this.scrollNativeElement.scrollHeight-this.scrollNativeElement.clientHeight-this.scrollNativeElement.scrollTop)<=1}scrollToBottom(e=0){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight},e)})}};function CRe(n,e){if(1&n&&(D(0,"div",13),ce(1,"app-engagement-tool",14),R()),2&n){const t=ee();S(1),F("engagementTools",t.gameConfig.engagementTools)("gameIdentifier",t.gameIdentifier)}}function wRe(n,e){if(1&n){const t=_t();D(0,"app-play-board",15),Ae("webglContextRestored",function(){return ht(t),ee().handleWebglContextRestored()}),R()}}function SRe(n,e){1&n&&ce(0,"app-new-chat")}function TRe(n,e){1&n&&ce(0,"app-chat-widget")}function MRe(n,e){if(1&n&&(D(0,"div",16),te(1,SRe,1,0,"app-new-chat",17),te(2,TRe,1,0,"ng-template",null,18,Wo),R()),2&n){const t=er(3),i=ee();S(1),F("ngIf",null==i.gameConfig.engagementTools?null:i.gameConfig.engagementTools.isExternalChatEnabled)("ngIfElse",t)}}sm.\u0275fac=function(e){return new(e||sm)(W(tr),W(Hn),W(Ti),W(Tl),W(mp),W(Io),W(Fn))},sm.\u0275cmp=rt({type:sm,selectors:[["app-chat-widget"]],viewQuery:function(e,t){if(1&e&&Lr(yRe,7),2&e){let i;Kn(i=Jn())&&(t.containerRef=i.first)}},decls:7,vars:3,consts:[[1,"wrapper"],[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf","ngForTrackBy"],["class","notification",3,"click",4,"ngIf"],[3,"message"],[1,"notification",3,"click"],[1,"i-arrow"]],template:function(e,t){1&e&&(D(0,"div",0),ce(1,"app-chat-header"),D(2,"div",1,2),te(4,bRe,1,1,"app-chat-message",3),R(),ce(5,"app-chat-input"),te(6,vRe,4,3,"div",4),R()),2&e&&(S(4),F("ngForOf",t.oldChat.messages)("ngForTrackBy",t.trackByMessageId),S(2),F("ngIf",t.newMessagesAdded))},directives:[eDe,di,zDe,rm,At],pipes:[$t],styles:['[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.wrapper[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{height:calc(100% - 96px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.2b1d0992c5029c79.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}'],changeDetection:0}),sm=Ve([_i()],sm);let om=class{constructor(e,t,i,r,s,o,a,l,c,u,d,b,C,M){this.chatFeatureService=e,this.freeBets=t,this.app=i,this.gameConfig=r,this.window=s,this.renderer=o,this.ifc=a,this.connector=l,this.modal=c,this.betControls=u,this.main=d,this.cd=b,this.urlParams=C,this.multiServer=M,this.gameIdentifier="AVIATOR",this.isOpenChat=!1,this.shouldRenderPlayBoard=!0,this.dynamicVH=""}ngOnInit(){this.chatFeatureService.isOpen$.pipe(kt(this)).subscribe(e=>{this.isOpenChat=e,this.checkBodyScroll(),this.cd.detectChanges()}),this.window.onResize$.pipe(kt(this)).subscribe(()=>{this.checkBodyScroll(),this.cd.detectChanges()}),this.ifc.receive$(Ir.UpdateBalance).pipe(kt(this)).subscribe(()=>this.connector.request(mr.UpdateBalance,null)),this.ifc.receive$(Ir.ContinueInternalRealityCheck).pipe(kt(this)).subscribe(()=>this.sendNotificationCallback(og.Continue)),this.ifc.receive$(Ir.StopInternalRealityCheck).pipe(kt(this)).subscribe(()=>this.sendNotificationCallback(og.Stop)),this.connector.response(In.InternalRealityCheck).pipe(kt(this)).subscribe(e=>this.onInternalRealityCheck(e)),this.betControls.betSetted$.pipe(cn(()=>!!this.gameConfig.isActiveGameFocused),kt(this)).subscribe(e=>this.onBetSetted(e)),this.main.getState(lr.Bet).pipe(kt(this)).subscribe(()=>this.ifc.send(Di.StartBetTimer,{duration:this.main.timeLeft})),this.main.getState(lr.End).pipe(kt(this)).subscribe(()=>this.ifc.send(Di.EndRound,void 0)),this.showInitModals(),this.app.setGameInited()}ngAfterViewInit(){this.multiServer.showNotification(),this.recalculateDynamicVH(),this.window.onResize$.pipe(kt(this)).subscribe(()=>this.recalculateDynamicVH())}recalculateDynamicVH(){this.dynamicVH=window.innerHeight/100+"px",this.cd.detectChanges()}sendNotificationCallback(e){this.connector.request(mr.NotificationCallback,{notificationType:Fv.RealityCheck,action:e})}checkBodyScroll(){this.isGameWrap?this.renderer.addClass(document.body,"body-scroll-y"):this.renderer.removeClass(document.body,"body-scroll-y")}get isGameWrap(){return!(this.window.getSize().width<rh.lg||this.window.getSize().width>=rh.xl1300)&&this.isOpenChat}onInternalRealityCheck(e){this.ifc.send(Di.InternalRealityCheck,{code:e.code,errorMessage:e.errorMessage,message:e.message}),this.gameConfig.ircDisplayType===Dv.Modal&&this.modal.open(hi.notification,{type:ih.InternalRealityCheck,message:e.message})}onBetSetted(e){e?this.renderer.addClass(document.body,"game-focused"):this.renderer.removeClass(document.body,"game-focused")}showInitModals(){if(!this.app.isGameInited){if(this.gameConfig.isAlderneyModalShownOnInit||this.gameConfig.modalShownOnInit===t0.Alderney)return void this.modal.open(hi.notification,{type:ih.Alderney});if(this.gameConfig.modalShownOnInit===t0.GameRules)return void this.modal.open(hi.rules)}}handleWebglContextRestored(){this.shouldRenderPlayBoard=!1,this.cd.detectChanges(),this.shouldRenderPlayBoard=!0,this.cd.detectChanges()}};function xRe(n,e){1&n&&(D(0,"div",3),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.components.connector.reconnect")," "))}function ERe(n,e){1&n&&(D(0,"div",3),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.components.connector.slow connection")," "))}function ORe(n,e){if(1&n&&(D(0,"div",1),te(1,xRe,3,3,"div",2),te(2,ERe,3,3,"div",2),R()),2&n){const t=ee();F("@toastState",void 0),S(1),F("ngIf",t.reconnect),S(1),F("ngIf",t.connectionSlow)}}om.\u0275fac=function(e){return new(e||om)(W(Tl),W(od),W(gr),W(Hn),W(Nv),W(ja),W(Xo),W(tr),W(Pa),W(ad),W(Zr),W(Fn),W(ac),W(Z_))},om.\u0275cmp=rt({type:om,selectors:[["app-game"]],decls:19,vars:21,consts:[[1,"main-wrapper"],[1,"main-container"],[1,"main-header"],[1,"w-100","h-100"],[1,"game-container"],[1,"bets-widget-container"],[1,"game-play"],["class","missions-holder",4,"ngIf"],[1,"result-history","disabled-on-game-focused"],[1,"stage-board"],[3,"webglContextRestored",4,"ngIf"],[1,"bet-controls"],["class","chat-bar",4,"ngIf"],[1,"missions-holder"],[3,"engagementTools","gameIdentifier"],[3,"webglContextRestored"],[1,"chat-bar"],[4,"ngIf","ngIfElse"],["oldChat",""]],template:function(e,t){1&e&&(D(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"app-header"),R(),D(4,"div",3)(5,"div",4)(6,"div",5),ce(7,"app-bets-widget"),R(),D(8,"div",6),te(9,CRe,2,2,"div",7),D(10,"div",8),ce(11,"app-stats-widget"),R(),D(12,"div",9),ce(13,"app-free-bet"),te(14,wRe,1,0,"app-play-board",10),R(),D(15,"div",11),ce(16,"app-bet-controls"),R()()()()(),te(17,MRe,4,2,"div",12),G(18,"async"),R()),2&e&&(hl("--dvh",t.dynamicVH)("--headerHeight","40px"),Et("hide-chat-bar",!t.isOpenChat),S(1),hl("--headerHeightDynamic",t.urlParams.aviaport?"0px":"var(--headerHeight)")("--betControlsHeight",t.isGameWrap?"var(--betControlsHeightRow)":"var(--betControlsHeightColumn)"),Et("h-100",t.app.useInnerScroll),S(3),Et("--scrollable",t.app.useInnerScroll),S(1),Et("game-wrap",t.isGameWrap),S(4),F("ngIf",null==t.gameConfig.engagementTools?null:t.gameConfig.engagementTools.host),S(5),F("ngIf",t.shouldRenderPlayBoard),S(3),F("ngIf",q(18,19,t.chatFeatureService.isChatEnabled$)))},directives:[pg,xMe,At,zg,$g,Wg,Yg,qg,em,sm],pipes:[Ki],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.main-wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 360px);height:100%;padding-top:40px;padding-top:var(--headerHeightDynamic);background:#0e0e0e;--stageBoardOffset: calc( var(--headerHeightDynamic) + var(--paddingSmall) + var(--resultHistoryHeight) + var(--marginSmall) + var(--paddingSmall) + var(--betControlsHeight) + var(--paddingSmall) + var(--paddingMedium) + var(--navigationSwitcherHeight) + var(--marginSmall) + var(--totalWinWidgetHeight) + var(--marginSmall) )}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:40px;height:var(--headerHeightDynamic);position:fixed;width:inherit;top:0;left:0;z-index:840}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;padding:4px;padding:var(--paddingSmall)}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .bets-widget-container[_ngcontent-%COMP%]{height:100%;flex-grow:0;flex-shrink:0;width:100%;display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-y:hidden;padding-left:4px;padding-left:var(--paddingSmall)}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{height:32px;height:var(--resultHistoryHeight);margin-bottom:4px;margin-bottom:var(--marginSmall)}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:100%;position:relative}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .bet-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-shrink:0;padding-top:4px;padding-top:var(--paddingSmall)}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed;width:360px;height:100%;max-height:calc(100 * var(--dvh));top:0;right:0;bottom:0;z-index:850}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{visibility:hidden;top:-5000px;right:-5000px;z-index:-99999}@media (max-width: 991.98px){.main-container[_ngcontent-%COMP%]:not(.h-100){height:auto!important}.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;height:auto!important;padding-top:4px;padding-top:var(--paddingSmall)}.bets-widget-container[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important}.game-play[_ngcontent-%COMP%]{padding:0 0 4px!important;padding:0 0 var(--paddingSmall) 0!important}.stage-board[_ngcontent-%COMP%]{height:calc(100 * var(--dvh) - var(--stageBoardOffset))!important;min-height:200px!important}.bet-controls[_ngcontent-%COMP%]{padding-top:4px!important;padding-top:var(--paddingSmall)!important}}@media (min-width: 992px){.bets-widget-container[_ngcontent-%COMP%]{min-width:320px!important;max-width:320px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}}@media (min-width: 1200px){.bets-widget-container[_ngcontent-%COMP%]{min-width:370px!important;max-width:370px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 370px)!important}}@media (min-width: 1399.98px){.main-container[_ngcontent-%COMP%]{width:calc(100% - 360px)!important}.chat-bar[_ngcontent-%COMP%]{width:360px!important}.bets-widget-container[_ngcontent-%COMP%]{min-width:410px!important;max-width:410px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 410px)!important}}@media (max-width: 767.98px){.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed!important;width:100%;top:0;height:100%}}.--scrollable[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.game-wrap.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:4px!important;padding-left:var(--paddingSmall)!important;padding-right:4px!important;padding-right:var(--paddingSmall)!important;height:auto!important}.game-wrap[_ngcontent-%COMP%]   .bets-widget-container[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;margin-top:4px;min-width:100%!important;max-width:100%!important}.game-wrap[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{padding:0!important;width:100%!important}.game-wrap[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:calc(100 * var(--dvh) - var(--stageBoardOffset))!important;min-height:200px!important}"],changeDetection:0}),om=Ve([_i()],om);let am=class{constructor(e,t){this.connector=e,this.cd=t,this.ConnectorState=pr,this.state=pr.None}ngOnInit(){this.connector.state$.pipe(kt(this)).subscribe(({state:e})=>{this.state!==e&&(this.state=e,this.cd.detectChanges())})}get reconnect(){return this.state===pr.Reconnecting}get connectionSlow(){return this.state===pr.SlowConnection}};am.\u0275fac=function(e){return new(e||am)(W(tr),W(Fn))},am.\u0275cmp=rt({type:am,selectors:[["app-connector"]],decls:1,vars:1,consts:[["class","connector",4,"ngIf"],[1,"connector"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"]],template:function(e,t){1&e&&te(0,ORe,3,3,"div",0),2&e&&F("ngIf",t.reconnect||t.connectionSlow)},directives:[At],pipes:[$t],styles:[".connector[_ngcontent-%COMP%]{position:fixed;z-index:99999;top:20px;left:50%;transform:translate(-50%)}.connector[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:300px}"],data:{animation:[EI("toastState",[fb("void => *",[Kc({transform:"translate(-50%,-100%)",opacity:0}),I_("300ms ease-out")]),fb("* => void",[I_("250ms ease-in",Kc({opacity:0,transform:"translate(-50%,-100%)"}))])])]},changeDetection:0}),am=Ve([_i()],am);const PRe=function(n){return{allowedCurrencies:n}};function IRe(n,e){if(1&n&&(D(0,"div",7),U(1),G(2,"transloco"),G(3,"join"),R()),2&n){const t=ee();S(1),ie(" ",Gt(2,1,"shared.components.disconnect-message.For your region, the game can only be played with {{allowedCurrencies}} currency(ies)",zn(6,PRe,q(3,4,t.data.allowedCurrencies)))," ")}}function ARe(n,e){1&n&&(D(0,"div",7),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.thank_you_for_playing"),". "))}function DRe(n,e){1&n&&(D(0,"div",7),U(1),G(2,"transloco"),R()),2&n&&(S(1),ie(" ",q(2,1,"shared.components.disconnect-message.text")," "))}function RRe(n,e){if(1&n){const t=_t();D(0,"a",8),Ae("click",function(){return ht(t),ee().onBackToHome()}),U(1),G(2,"transloco"),R()}2&n&&(S(1),ie(" ",q(2,1,"shared.home")," "))}let kRe=(()=>{class n{constructor(t,i,r,s,o){this.gameConfig=t,this.urlParams=i,this.audioService=r,this.ifc=s,this.stomp=o,this.disconnectReason=Xa}ngOnInit(){var t;this.audioService.stopAll(),this.ifc.send(Di.Close,Object.assign({},this.data)),(null===(t=this.stomp.stompClient)||void 0===t?void 0:t.active)&&this.stomp.deactivate()}onBackToHome(){var t,i;this.gameConfig&&this.gameConfig.backToHomeActionType===Zf.IfcEvent?this.ifc.send(Di.BackToHome,{returnUrl:null!==(t=this.urlParams.returnUrl)&&void 0!==t?t:""}):window.open(null!==(i=this.urlParams.returnUrl)&&void 0!==i?i:"","_top")}}return n.\u0275fac=function(t){return new(t||n)(W(Hn),W(ac),W(qh),W(Xo),W(Rs))},n.\u0275cmp=rt({type:n,selectors:[["app-disconnect-message"]],inputs:{data:"data"},decls:8,vars:4,consts:[[1,"wrapper"],[1,"disconn-icon"],[1,"alert"],[3,"ngSwitch"],["class","text",4,"ngSwitchCase"],["class","text",4,"ngSwitchDefault"],["href","javascript:void(0)","target","_top","class","btn btn-warning btn-lg text-uppercase",3,"click",4,"ngIf"],[1,"text"],["href","javascript:void(0)","target","_top",1,"btn","btn-warning","btn-lg","text-uppercase",3,"click"]],template:function(t,i){1&t&&(D(0,"div",0),ce(1,"div",1),D(2,"div",2),ft(3,3),te(4,IRe,4,8,"div",4),te(5,ARe,3,3,"div",4),te(6,DRe,3,3,"div",5),gt(),te(7,RRe,3,3,"a",6),R()()),2&t&&(S(3),F("ngSwitch",i.data.reason),S(1),F("ngSwitchCase",i.disconnectReason.NotAllowedCurrency),S(1),F("ngSwitchCase",i.disconnectReason.RealityCheck),S(2),F("ngIf",i.urlParams.returnUrl&&i.data.reason!==i.disconnectReason.RealityCheck))},directives:[Va,Zl,df,At],pipes:[$t,rH],styles:["[_ngcontent-%COMP%]:root{--paddingSmall: 4px;--paddingMedium: 8px;--marginSmall: 4px;--headerHeightDynamic: 40px;--resultHistoryHeight: 32px;--betControlsHeightRow: 184px;--betControlsHeightColumn: 292px;--betControlsHeight: 292px;--navigationSwitcherHeight: 32px;--totalWinWidgetHeight: 68px}.wrapper[_ngcontent-%COMP%]{height:100%;max-height:500px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .disconn-icon[_ngcontent-%COMP%]{background:url(error-page.90b760a72b279788.svg) no-repeat center;width:120px;height:120px;background-size:contain;margin-bottom:40px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#1b1c1d;max-width:600px;width:100%;min-height:204px;border-radius:20px;border:1px solid #2a2b2e;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 50px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px}"]}),n})();const NRe=["lockUI"];function FRe(n,e){1&n&&(ft(0),ce(1,"app-game")(2,"app-toast-container")(3,"app-connector"),gt())}function BRe(n,e){1&n&&(ft(0),D(1,"span",3),U(2),G(3,"transloco"),R(),gt()),2&n&&(S(2),nt(q(3,1,"shared.Connection...")))}function LRe(n,e){if(1&n&&(ft(0),ce(1,"app-disconnect-message",4),gt()),2&n){const t=ee();S(1),F("data",t.disconnectData)}}let URe=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,b,C,M,I,k,B,L,H){this.app=t,this.gameConfig=i,this.connector=r,this.mainService=s,this.user=o,this.cd=a,this.freeBets=l,this.statsService=c,this.oldChat=u,this.frontEndProxyService=d,this.ifc=b,this.renderer=C,this.scriptService=M,this.betControls=I,this.multiplierService=k,this.modalManagerService=B,this.inactivityTimer=L,this.ngbModal=H,this.isGameReadyToRender=!1,this.state=pr.None,this.ConnectorState=pr}ngOnInit(){this.setup(),this.connector.init().subscribe(t=>this.onInit(t)),this.ifc.receive$(Ir.LockUI).subscribe(t=>this.lockUIHandler(t.value))}lockUIHandler(t){t?(this.renderer.addClass(document.body,"pointer-events-none"),this.renderer.removeClass(this.lockUIRef.nativeElement,"d-none")):(this.renderer.removeClass(document.body,"pointer-events-none"),this.renderer.addClass(this.lockUIRef.nativeElement,"d-none"))}setup(){this.modalManagerService.init(),this.app.isDesktop?this.renderer.addClass(document.body,"scroll-restyle"):this.app.useInnerScroll&&(this.renderer.setStyle(document.body,"overflow-y","hidden"),this.renderer.setStyle(document.body,"min-width","100%"),this.renderer.setStyle(document.body,"width","1px")),this.connector.state$.subscribe(({state:t,data:i})=>{this.state=t,this.disconnectData=i,(t===pr.Disconnected||t===pr.Reconnecting||t===pr.SlowConnection)&&this.ngbModal.dismissAll(),this.cd.detectChanges()}),OS()&&this.frontEndProxyService.setup()}onInit(t){this.isGameReadyToRender=!1,this.cd.detectChanges(),this.gameConfig.init(Object.assign({},t.config)),this.user.init(t.user),this.connector.startPingMonitor(t.config.pingIntervalMs),this.gameConfig.reCaptchaSiteKey&&this.scriptService.registerCaptchaScript(!1,this.gameConfig.reCaptchaSiteKey,()=>{}),this.gameConfig.inactivityTimeForDisconnect&&this.inactivityTimer.init(),this.statsService.history=t.roundsInfo,this.betControls.restoreBets(t.activeBets),this.freeBets.setList(t.activeFreeBetsInfo),this.oldChat.initChat(t),this.mainService.init(t),this.multiplierService.init(t),this.isGameReadyToRender=!0,this.cd.detectChanges(),this.frontEndProxyService.sendInitialized(),this.ifc.sendInit({balance:t.user.balance,currency:t.config.currency,precision:t.config.betPrecision,sound:t.user.settings.sound,music:t.user.settings.music,animation:t.user.settings.animation,additionalOperatorData:t.additionalOperatorData}),this.connector.gameReady()}}return n.\u0275fac=function(t){return new(t||n)(W(gr),W(Hn),W(tr),W(Zr),W(fu),W(Fn),W(od),W(nz),W(mp),W(rM),W(Xo),W(ja),W(q2),W(ad),W(sM),W(Iwe),W(Awe),W(kb))},n.\u0275cmp=rt({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&Lr(NRe,7),2&t){let r;Kn(r=Jn())&&(i.lockUIRef=r.first)}},decls:5,vars:3,consts:[[4,"ngIf"],[1,"lock-ui","d-none"],["lockUI",""],[1,"loading"],[3,"data"]],template:function(t,i){1&t&&(te(0,FRe,4,0,"ng-container",0),te(1,BRe,4,3,"ng-container",0),te(2,LRe,2,1,"ng-container",0),ce(3,"div",1,2)),2&t&&(F("ngIf",i.isGameReadyToRender&&i.state!==i.ConnectorState.Disconnected),S(1),F("ngIf",!i.isGameReadyToRender&&i.state!==i.ConnectorState.Disconnected),S(1),F("ngIf",i.state===i.ConnectorState.Disconnected))},directives:[At,om,$pe,am,kRe],pipes:[$t],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lock-ui[_ngcontent-%COMP%]{position:fixed;background:rgba(0,0,0,.3);width:100%;height:100%;z-index:9999;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})(),HRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),xY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),jRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),GRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),VRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),zRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,GRe,VRe]]}),n})(),$Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Ar,Vt,jRe,xY,zRe]]}),n})(),WRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,$Re]]}),n})(),YRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),EY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Gd,Ar]]}),n})(),Ha=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),OY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Ha,Ar]]}),n})(),XRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,EY,Vt,Ha,OY]]}),n})(),qRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,EY,Ha]]}),n})(),KRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),JRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,tu,KRe,Ha,OY]]}),n})(),PY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,tu]]}),n})(),IY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Ar]]}),n})(),AY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,tu]]}),n})(),DY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),RY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,xY]]}),n})(),kY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),QRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),NY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,QRe]]}),n})();function FY(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function kk(n,e){void 0===n&&(n={}),void 0===e&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{void 0===n[i]?n[i]=e[i]:FY(e[i])&&FY(n[i])&&Object.keys(e[i]).length>0&&kk(n[i],e[i])})}const BY={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Co(){const n="undefined"!=typeof document?document:{};return kk(n,BY),n}const ZRe={document:BY,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>"undefined"==typeof setTimeout?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){"undefined"!=typeof setTimeout&&clearTimeout(n)}};function qr(){const n="undefined"!=typeof window?window:{};return kk(n,ZRe),n}function jp(n){return void 0===n&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function lm(n,e){return void 0===e&&(e=0),setTimeout(n,e)}function Rc(){return Date.now()}function Nk(n,e){void 0===e&&(e="x");const t=qr();let i,r,s;const o=function tke(n){const e=qr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}(n);return t.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix("none"===r?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===e&&(r=t.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=t.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function D1(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function nke(n){return"undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function Ll(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(null!=i&&!nke(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);void 0!==l&&l.enumerable&&(D1(n[a])&&D1(i[a])?i[a].__swiper__?n[a]=i[a]:Ll(n[a],i[a]):!D1(n[a])&&D1(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:Ll(n[a],i[a])):n[a]=i[a])}}}return n}function R1(n,e,t){n.style.setProperty(e,t)}function LY(n){let{swiper:e,targetPosition:t,side:i}=n;const r=qr(),s=-e.translate;let a,o=null;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=t>s?"next":"prev",u=(b,C)=>"next"===c&&b>=C||"prev"===c&&b<=C,d=()=>{a=(new Date).getTime(),null===o&&(o=a);const b=Math.max(Math.min((a-o)/l,1),0),C=.5-Math.cos(b*Math.PI)/2;let M=s+C*(t-s);if(u(M,t)&&(M=t),e.wrapperEl.scrollTo({[i]:M}),u(M,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:M})}),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function cm(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function Fo(n,e){void 0===e&&(e="");const t=qr(),i=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&i.push(...n.assignedElements()),e?i.filter(r=>r.matches(e)):i}function ux(n){try{return void console.warn(n)}catch(e){}}function Ul(n,e){void 0===e&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:jp(e)),t}function dx(n){const e=qr(),t=Co(),i=n.getBoundingClientRect(),r=t.body;return{top:i.top+(n===e?e.scrollY:n.scrollTop)-(n.clientTop||r.clientTop||0),left:i.left+(n===e?e.scrollX:n.scrollLeft)-(n.clientLeft||r.clientLeft||0)}}function Gp(n,e){return qr().getComputedStyle(n,null).getPropertyValue(e)}function k1(n){let t,e=n;if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}}function um(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function N1(n,e){e&&n.addEventListener("transitionend",function t(i){i.target===n&&(e.call(n,i),n.removeEventListener("transitionend",t))})}function Fk(n,e,t){const i=qr();return t?n["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):n.offsetWidth}function Ei(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function hx(n){return e=>Math.abs(e)>0&&n.browser&&n.browser.need3dFix&&Math.abs(e)%90==0?e+.001:e}let Bk,Lk,Uk;function UY(){return Bk||(Bk=function ake(){const n=qr(),e=Co();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}()),Bk}function HY(n){return void 0===n&&(n={}),Lk||(Lk=function lke(n){let{userAgent:e}=void 0===n?{}:n;const t=UY(),i=qr(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),b=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C="Win32"===r;let M="MacIntel"===r;return!u&&M&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),M=!1),c&&!C&&(o.os="android",o.android=!0),(u||b||d)&&(o.os="ios",o.ios=!0),o}(n)),Lk}function jY(){return Uk||(Uk=function cke(){const n=qr(),e=HY();let t=!1;function i(){const a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(n.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));t=l<16||16===l&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=i();return{isSafari:t||s,needPerspectiveFix:t,need3dFix:s||r&&e.ios,isWebView:r}}()),Uk}var hke={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||"function"!=typeof n)return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{void 0===e?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return"string"==typeof s[0]||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=n):(e=s[0].events,t=s[0].data,i=s[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,t)})}),n}};const GY=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)},Hk=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)},px=(n,e)=>{if(!n||n.destroyed||!n.params)return;const i=e.closest(n.isElement?"swiper-slide":`.${n.params.slideClass}`);if(i){let r=i.querySelector(`.${n.params.lazyPreloaderClass}`);!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},jk=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Gk=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=r,a=[o-e];return a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),void n.slides.forEach((l,c)=>{a.includes(l.column)&&jk(n,c)})}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%t+t)%t;(a<r||a>s)&&jk(n,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,t-1);o+=1)o!==r&&(o>s||o<r)&&jk(n,o)};var Ske={updateSize:function pke(){const n=this;let e,t;const i=n.el;e=null!=n.params.width?n.params.width:i.clientWidth,t=null!=n.params.height?n.params.height:i.clientHeight,!(0===e&&n.isHorizontal()||0===t&&n.isVertical())&&(e=e-parseInt(Gp(i,"padding-left")||0,10)-parseInt(Gp(i,"padding-right")||0,10),t=t-parseInt(Gp(i,"padding-top")||0,10)-parseInt(Gp(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function fke(){const n=this;function e(fe,Re){return parseFloat(fe.getPropertyValue(n.getDirectionLabel(Re))||0)}const t=n.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=n,l=n.virtual&&t.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=Fo(r,`.${n.params.slideClass}, swiper-slide`),d=l?n.virtual.slides.length:u.length;let b=[];const C=[],M=[];let I=t.slidesOffsetBefore;"function"==typeof I&&(I=t.slidesOffsetBefore.call(n));let k=t.slidesOffsetAfter;"function"==typeof k&&(k=t.slidesOffsetAfter.call(n));const B=n.snapGrid.length,L=n.slidesGrid.length;let H=t.spaceBetween,Y=-I,se=0,ue=0;if(void 0===s)return;"string"==typeof H&&H.indexOf("%")>=0?H=parseFloat(H.replace("%",""))/100*s:"string"==typeof H&&(H=parseFloat(H)),n.virtualSize=-H,u.forEach(fe=>{o?fe.style.marginLeft="":fe.style.marginRight="",fe.style.marginBottom="",fe.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(R1(i,"--swiper-centered-offset-before",""),R1(i,"--swiper-centered-offset-after",""));const oe=t.grid&&t.grid.rows>1&&n.grid;let de;oe?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();const ae="auto"===t.slidesPerView&&t.breakpoints&&Object.keys(t.breakpoints).filter(fe=>void 0!==t.breakpoints[fe].slidesPerView).length>0;for(let fe=0;fe<d;fe+=1){let Re;if(de=0,u[fe]&&(Re=u[fe]),oe&&n.grid.updateSlide(fe,Re,u),!u[fe]||"none"!==Gp(Re,"display")){if("auto"===t.slidesPerView){ae&&(u[fe].style[n.getDirectionLabel("width")]="");const ve=getComputedStyle(Re),_e=Re.style.transform,Oe=Re.style.webkitTransform;if(_e&&(Re.style.transform="none"),Oe&&(Re.style.webkitTransform="none"),t.roundLengths)de=n.isHorizontal()?Fk(Re,"width",!0):Fk(Re,"height",!0);else{const Ge=e(ve,"width"),Ee=e(ve,"padding-left"),ye=e(ve,"padding-right"),we=e(ve,"margin-left"),et=e(ve,"margin-right"),Pe=ve.getPropertyValue("box-sizing");if(Pe&&"border-box"===Pe)de=Ge+we+et;else{const{clientWidth:Ot,offsetWidth:gn}=Re;de=Ge+Ee+ye+we+et+(gn-Ot)}}_e&&(Re.style.transform=_e),Oe&&(Re.style.webkitTransform=Oe),t.roundLengths&&(de=Math.floor(de))}else de=(s-(t.slidesPerView-1)*H)/t.slidesPerView,t.roundLengths&&(de=Math.floor(de)),u[fe]&&(u[fe].style[n.getDirectionLabel("width")]=`${de}px`);u[fe]&&(u[fe].swiperSlideSize=de),M.push(de),t.centeredSlides?(Y=Y+de/2+se/2+H,0===se&&0!==fe&&(Y=Y-s/2-H),0===fe&&(Y=Y-s/2-H),Math.abs(Y)<.001&&(Y=0),t.roundLengths&&(Y=Math.floor(Y)),ue%t.slidesPerGroup==0&&b.push(Y),C.push(Y)):(t.roundLengths&&(Y=Math.floor(Y)),(ue-Math.min(n.params.slidesPerGroupSkip,ue))%n.params.slidesPerGroup==0&&b.push(Y),C.push(Y),Y=Y+de+H),n.virtualSize+=de+H,se=de,ue+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+k,o&&a&&("slide"===t.effect||"coverflow"===t.effect)&&(i.style.width=`${n.virtualSize+H}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+H}px`),oe&&n.grid.updateWrapperSize(de,b),!t.centeredSlides){const fe=[];for(let Re=0;Re<b.length;Re+=1){let ve=b[Re];t.roundLengths&&(ve=Math.floor(ve)),b[Re]<=n.virtualSize-s&&fe.push(ve)}b=fe,Math.floor(n.virtualSize-s)-Math.floor(b[b.length-1])>1&&b.push(n.virtualSize-s)}if(l&&t.loop){const fe=M[0]+H;if(t.slidesPerGroup>1){const Re=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),ve=fe*t.slidesPerGroup;for(let _e=0;_e<Re;_e+=1)b.push(b[b.length-1]+ve)}for(let Re=0;Re<n.virtual.slidesBefore+n.virtual.slidesAfter;Re+=1)1===t.slidesPerGroup&&b.push(b[b.length-1]+fe),C.push(C[C.length-1]+fe),n.virtualSize+=fe}if(0===b.length&&(b=[0]),0!==H){const fe=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");u.filter((Re,ve)=>!(t.cssMode&&!t.loop)||ve!==u.length-1).forEach(Re=>{Re.style[fe]=`${H}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let fe=0;M.forEach(ve=>{fe+=ve+(H||0)}),fe-=H;const Re=fe>s?fe-s:0;b=b.map(ve=>ve<=0?-I:ve>Re?Re+k:ve)}if(t.centerInsufficientSlides){let fe=0;M.forEach(ve=>{fe+=ve+(H||0)}),fe-=H;const Re=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(fe+Re<s){const ve=(s-fe-Re)/2;b.forEach((_e,Oe)=>{b[Oe]=_e-ve}),C.forEach((_e,Oe)=>{C[Oe]=_e+ve})}}if(Object.assign(n,{slides:u,snapGrid:b,slidesGrid:C,slidesSizesGrid:M}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){R1(i,"--swiper-centered-offset-before",-b[0]+"px"),R1(i,"--swiper-centered-offset-after",n.size/2-M[M.length-1]/2+"px");const fe=-n.snapGrid[0],Re=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(ve=>ve+fe),n.slidesGrid=n.slidesGrid.map(ve=>ve+Re)}if(d!==c&&n.emit("slidesLengthChange"),b.length!==B&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),C.length!==L&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!(l||t.cssMode||"slide"!==t.effect&&"fade"!==t.effect)){const fe=`${t.containerModifierClass}backface-hidden`,Re=n.el.classList.contains(fe);d<=t.maxBackfaceHiddenSlides?Re||n.el.classList.add(fe):Re&&n.el.classList.remove(fe)}},updateAutoHeight:function gke(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s,r=0;"number"==typeof n?e.setTransition(n):!0===n&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(void 0!==t[s]){const a=t[s].offsetHeight;r=a>r?a:r}(r||0===r)&&(e.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function mke(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()},updateSlidesProgress:function _ke(n){void 0===n&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&e.updateSlidesOffset();let o=-n;r&&(o=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:"string"==typeof a&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),b=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),C=-(o-u),M=C+e.slidesSizesGrid[l],I=C>=0&&C<=e.size-e.slidesSizesGrid[l],k=C>=0&&C<e.size-1||M>1&&M<=e.size||C<=0&&M>=e.size;k&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),GY(c,k,t.slideVisibleClass),GY(c,I,t.slideFullyVisibleClass),c.progress=r?-d:d,c.originalProgress=r?-b:b}},updateProgress:function yke(n){const e=this;if(void 0===n){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(0===i)r=0,s=!0,o=!0;else{r=(n-e.minTranslate())/i;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),b=e.slidesGrid[u],C=e.slidesGrid[d],M=e.slidesGrid[e.slidesGrid.length-1],I=Math.abs(n);a=I>=b?(I-b)/M:(I+M-C)/M,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function bke(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:r}=n,o=n.grid&&t.grid&&t.grid.rows>1,a=d=>Fo(i,`.${t.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(n.virtual&&t.virtual.enabled)if(t.loop){let d=r-n.virtual.slidesBefore;d<0&&(d=n.virtual.slides.length+d),d>=n.virtual.slides.length&&(d-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=e.find(d=>d.column===r),u=e.find(d=>d.column===r+1),c=e.find(d=>d.column===r-1)):l=e[r];l&&(o||(u=function oke(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u&&(u=e[0]),c=function ske(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&0===!c&&(c=e[e.length-1]))),e.forEach(d=>{Hk(d,d===l,t.slideActiveClass),Hk(d,d===u,t.slideNextClass),Hk(d,d===c,t.slidePrevClass)}),n.emitSlidesClasses()},updateActiveIndex:function Cke(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let c,l=n;const u=C=>{let M=C-e.virtual.slidesBefore;return M<0&&(M=e.virtual.slides.length+M),M>=e.virtual.slides.length&&(M-=e.virtual.slides.length),M};if(void 0===l&&(l=function vke(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<e.length;s+=1)void 0!==e[s+1]?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return t.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(e)),i.indexOf(t)>=0)c=i.indexOf(t);else{const C=Math.min(r.slidesPerGroupSkip,l);c=C+Math.floor((l-C)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!e.params.loop)return void(c!==a&&(e.snapIndex=c,e.emit("snapIndexChange")));if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled)return void(e.realIndex=u(l));const d=e.grid&&r.grid&&r.grid.rows>1;let b;if(e.virtual&&r.virtual.enabled&&r.loop)b=u(l);else if(d){const C=e.slides.find(I=>I.column===l);let M=parseInt(C.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(e.slides.indexOf(C),0)),b=Math.floor(M/r.grid.rows)}else if(e.slides[l]){const C=e.slides[l].getAttribute("data-swiper-slide-index");b=C?parseInt(C,10):l}else b=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:b,previousIndex:s,activeIndex:l}),e.initialized&&Gk(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==b&&e.emit("realIndexChange"),e.emit("slideChange"))},updateClickedSlide:function wke(n,e){const t=this,i=t.params;let r=n.closest(`.${i.slideClass}, swiper-slide`);!r&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let o,s=!1;if(r)for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===r){s=!0,o=a;break}if(!r||!s)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.clickedIndex=t.virtual&&t.params.virtual.enabled?parseInt(r.getAttribute("data-swiper-slide-index"),10):o,i.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},Pke={getTranslate:function Tke(n){void 0===n&&(n=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:r,wrapperEl:s}=this;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let o=Nk(s,n);return o+=this.cssOverflowAdjustment(),i&&(o=-o),o||0},setTranslate:function Mke(n,e){const t=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=t;let u,a=0,l=0;t.isHorizontal()?a=i?-n:n:l=n,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,r.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:r.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, 0px)`);const d=t.maxTranslate()-t.minTranslate();u=0===d?0:(n-t.minTranslate())/d,u!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)},minTranslate:function xke(){return-this.snapGrid[0]},maxTranslate:function Eke(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function Oke(n,e,t,i,r){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(u=i&&n>l?l:i&&n<c?c:n,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(0===e)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return LY({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===e?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(b){!s||s.destroyed||b.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}};function VY(n){let{swiper:e,runCallbacks:t,direction:i,step:r}=n;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(a=s>o?"next":s<o?"prev":"reset"),e.emit(`transition${r}`),t&&s!==o){if("reset"===a)return void e.emit(`slideResetTransition${r}`);e.emit(`slideChangeTransition${r}`),e.emit("next"===a?`slideNextTransition${r}`:`slidePrevTransition${r}`)}}var Rke={setTransition:function Ike(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=0===n?"0ms":""),t.emit("setTransition",n,e)},transitionStart:function Ake(n,e){void 0===n&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),VY({swiper:t,runCallbacks:n,direction:e,step:"Start"}))},transitionEnd:function Dke(n,e){void 0===n&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),VY({swiper:t,runCallbacks:n,direction:e,step:"End"}))}},jke={slideTo:function kke(n,e,t,i,r){void 0===n&&(n=0),void 0===t&&(t=!0),"string"==typeof n&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:b,wrapperEl:C,enabled:M}=s;if(!M&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;void 0===e&&(e=s.params.speed);const I=Math.min(s.params.slidesPerGroupSkip,o);let k=I+Math.floor((o-I)/s.params.slidesPerGroup);k>=l.length&&(k=l.length-1);const B=-l[k];if(a.normalizeSlideIndex)for(let oe=0;oe<c.length;oe+=1){const de=-Math.floor(100*B),ae=Math.floor(100*c[oe]),fe=Math.floor(100*c[oe+1]);void 0!==c[oe+1]?de>=ae&&de<fe-(fe-ae)/2?o=oe:de>=ae&&de<fe&&(o=oe+1):de>=ae&&(o=oe)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(b?B>s.translate&&B>s.minTranslate():B<s.translate&&B<s.minTranslate())||!s.allowSlidePrev&&B>s.translate&&B>s.maxTranslate()&&(d||0)!==o))return!1;let L;o!==(u||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(B),L=o>d?"next":o<d?"prev":"reset";const H=s.virtual&&s.params.virtual.enabled;if((!H||!r)&&(b&&-B===s.translate||!b&&B===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==a.effect&&s.setTranslate(B),"reset"!==L&&(s.transitionStart(t,L),s.transitionEnd(t,L)),!1;if(a.cssMode){const oe=s.isHorizontal(),de=b?B:-B;if(0===e)H&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),H&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{C[oe?"scrollLeft":"scrollTop"]=de})):C[oe?"scrollLeft":"scrollTop"]=de,H&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return LY({swiper:s,targetPosition:de,side:oe?"left":"top"}),!0;C.scrollTo({[oe?"left":"top"]:de,behavior:"smooth"})}return!0}const ue=jY().isSafari;return H&&!r&&ue&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(B),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,L),0===e?s.transitionEnd(t,L):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(de){!s||s.destroyed||de.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,L))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function Nke(n,e,t,i){void 0===n&&(n=0),void 0===t&&(t=!0),"string"==typeof n&&(n=parseInt(n,10));const r=this;if(r.destroyed)return;void 0===e&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=n;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o+=r.virtual.slidesBefore;else{let a;if(s){const b=o*r.params.grid.rows;a=r.slides.find(C=>1*C.getAttribute("data-swiper-slide-index")===b).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let u=r.params.slidesPerView;"auto"===u?u=r.slidesPerViewDynamic():(u=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&u%2==0&&(u+=1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&"auto"!==r.params.slidesPerView&&!s&&(d=!1),d){const b=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:b,slideTo:!0,activeSlideIndex:"next"===b?a+1:a-l+1,slideRealIndex:"next"===b?r.realIndex:void 0})}if(s){const b=o*r.params.grid.rows;o=r.slides.find(C=>1*C.getAttribute("data-swiper-slide-index")===b).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,t,i)}),r},slideNext:function Fke(n,e,t){void 0===e&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;void 0===n&&(n=i.params.speed);let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(o&&(!i.virtual||!s.virtual.enabled)&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,e,t)}),!0}return i.slideTo(s.rewind&&i.isEnd?0:i.activeIndex+l,n,e,t)},slidePrev:function Bke(n,e,t){void 0===e&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;if(void 0===n&&(n=i.params.speed),r.loop){if(c&&(!i.virtual||!r.virtual.enabled)&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function b(L){return L<0?-Math.floor(Math.abs(L)):Math.floor(L)}const C=b(a?i.translate:-i.translate),M=s.map(L=>b(L)),I=r.freeMode&&r.freeMode.enabled;let k=s[M.indexOf(C)-1];if(void 0===k&&(r.cssMode||I)){let L;s.forEach((H,Y)=>{C>=H&&(L=Y)}),void 0!==L&&(k=I?s[L]:s[L>0?L-1:L])}let B=0;return void 0!==k&&(B=o.indexOf(k),B<0&&(B=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(B=B-i.slidesPerViewDynamic("previous",!0)+1,B=Math.max(B,0))),r.rewind&&i.isBeginning?i.slideTo(i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1,n,e,t):r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame(()=>{i.slideTo(B,n,e,t)}),!0):i.slideTo(B,n,e,t)},slideReset:function Lke(n,e,t){void 0===e&&(e=!0);const i=this;if(!i.destroyed)return void 0===n&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)},slideToClosest:function Uke(n,e,t,i){void 0===e&&(e=!0),void 0===i&&(i=.5);const r=this;if(r.destroyed)return;void 0===n&&(n=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a];l-c>(r.snapGrid[a+1]-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1];l-c<=(r.snapGrid[a]-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)},slideToClickedSlide:function Hke(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i="auto"===e.slidesPerView?n.slidesPerViewDynamic():e.slidesPerView;let s,r=n.clickedIndex;const o=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(Fo(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),lm(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(Fo(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),lm(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},$ke={loopCreate:function Gke(n,e){const t=this,{params:i,slidesEl:r}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;const s=()=>{Fo(r,`.${i.slideClass}, swiper-slide`).forEach((b,C)=>{b.setAttribute("data-swiper-slide-index",C)})},o=t.grid&&i.grid&&i.grid.rows>1,a=i.slidesPerGroup*(o?i.grid.rows:1),c=o&&t.slides.length%i.grid.rows!=0,u=d=>{for(let b=0;b<d;b+=1){const C=t.isElement?Ul("swiper-slide",[i.slideBlankClass]):Ul("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(C)}};t.slides.length%a!=0?(i.loopAddBlankSlides?(u(a-t.slides.length%a),t.recalcSlides(),t.updateSlides()):ux("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),s()):c?(i.loopAddBlankSlides?(u(i.grid.rows-t.slides.length%i.grid.rows),t.recalcSlides(),t.updateSlides()):ux("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),s()):s(),t.loopFix({slideRealIndex:n,direction:i.centeredSlides?void 0:"next",initial:e})},loopFix:function Vke(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=void 0===n?{}:n;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:b,slidesEl:C,params:M}=c,{centeredSlides:I,initialSlide:k}=M;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&M.virtual.enabled)return t&&(M.centeredSlides||0!==c.snapIndex?M.centeredSlides&&c.snapIndex<M.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=b,void c.emit("loopFix");let B=M.slidesPerView;"auto"===B?B=c.slidesPerViewDynamic():(B=Math.ceil(parseFloat(M.slidesPerView,10)),I&&B%2==0&&(B+=1));const L=M.slidesPerGroupAuto?B:M.slidesPerGroup;let H=L;H%L!=0&&(H+=L-H%L),H+=M.loopAdditionalSlides,c.loopedSlides=H;const Y=c.grid&&M.grid&&M.grid.rows>1;u.length<B+H||"cards"===c.params.effect&&u.length<B+2*H?ux("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Y&&"row"===M.grid.fill&&ux("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const se=[],ue=[],oe=Y?Math.ceil(u.length/M.grid.rows):u.length,de=o&&oe-k<B&&!I;let ae=de?k:c.activeIndex;void 0===s?s=c.getSlideIndex(u.find(Ee=>Ee.classList.contains(M.slideActiveClass))):ae=s;const fe="next"===i||!i,Re="prev"===i||!i;let ve=0,_e=0;const Ge=(Y?u[s].column:s)+(I&&void 0===r?-B/2+.5:0);if(Ge<H){ve=Math.max(H-Ge,L);for(let Ee=0;Ee<H-Ge;Ee+=1){const ye=Ee-Math.floor(Ee/oe)*oe;if(Y){const we=oe-ye-1;for(let et=u.length-1;et>=0;et-=1)u[et].column===we&&se.push(et)}else se.push(oe-ye-1)}}else if(Ge+B>oe-H){_e=Math.max(Ge-(oe-2*H),L),de&&(_e=Math.max(_e,B-oe+k+1));for(let Ee=0;Ee<_e;Ee+=1){const ye=Ee-Math.floor(Ee/oe)*oe;Y?u.forEach((we,et)=>{we.column===ye&&ue.push(et)}):ue.push(ye)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),"cards"===c.params.effect&&u.length<B+2*H&&(ue.includes(s)&&ue.splice(ue.indexOf(s),1),se.includes(s)&&se.splice(se.indexOf(s),1)),Re&&se.forEach(Ee=>{u[Ee].swiperLoopMoveDOM=!0,C.prepend(u[Ee]),u[Ee].swiperLoopMoveDOM=!1}),fe&&ue.forEach(Ee=>{u[Ee].swiperLoopMoveDOM=!0,C.append(u[Ee]),u[Ee].swiperLoopMoveDOM=!1}),c.recalcSlides(),"auto"===M.slidesPerView?c.updateSlides():Y&&(se.length>0&&Re||ue.length>0&&fe)&&c.slides.forEach((Ee,ye)=>{c.grid.updateSlide(ye,Ee,c.slides)}),M.watchSlidesProgress&&c.updateSlidesOffset(),t)if(se.length>0&&Re)if(void 0===e){const we=c.slidesGrid[ae+ve]-c.slidesGrid[ae];l?c.setTranslate(c.translate-we):(c.slideTo(ae+Math.ceil(ve),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-we,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-we))}else r&&(c.slideTo(c.activeIndex+(Y?se.length/M.grid.rows:se.length),0,!1,!0),c.touchEventsData.currentTranslate=c.translate);else if(ue.length>0&&fe)if(void 0===e){const we=c.slidesGrid[ae-_e]-c.slidesGrid[ae];l?c.setTranslate(c.translate-we):(c.slideTo(ae-_e,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-we,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-we))}else c.slideTo(c.activeIndex-(Y?ue.length/M.grid.rows:ue.length),0,!1,!0);if(c.allowSlidePrev=d,c.allowSlideNext=b,c.controller&&c.controller.control&&!a){const Ee={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(ye=>{!ye.destroyed&&ye.params.loop&&ye.loopFix(Nn(je({},Ee),{slideTo:ye.params.slidesPerView===M.slidesPerView&&t}))}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix(Nn(je({},Ee),{slideTo:c.controller.control.params.slidesPerView===M.slidesPerView&&t}))}c.emit("loopFix")},loopDestroy:function zke(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=void 0===r.swiperSlideIndex?1*r.getAttribute("data-swiper-slide-index"):r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{t.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}},Xke={setGrabCursor:function Wke(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})},unsetGrabCursor:function Yke(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}};function zY(n,e,t){const i=qr(),{params:r}=n,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return!s||!(t<=o||t>=i.innerWidth-o)||"prevent"===s&&(e.preventDefault(),!0)}function Kke(n){const e=this,t=Co();let i=n;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if("pointerdown"===i.type){if(null!==r.pointerId&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(r.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void zY(e,i,i.targetTouches[0].pageX);const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&"mouse"===i.pointerType||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if("wrapper"===s.touchEventsTarget&&!function rke(n,e){const t=qr();let i=e.contains(n);return!i&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(n),i||(i=function ike(n,e){const t=[e];for(;t.length>0;){const i=t.shift();if(n===i)return!0;t.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}(n,e))),i}(l,e.wrapperEl)||"which"in i&&3===i.which||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&""!==s.noSwipingClass,u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`;if(s.noSwiping&&(i.target&&i.target.shadowRoot?function qke(n,e){return void 0===e&&(e=this),function t(i){if(!i||i===Co()||i===qr())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return r||i.getRootNode?r||t(i.getRootNode().host):null}(e)}(d,l):l.closest(d)))return void(e.allowClick=!0);if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const C=o.currentX,M=o.currentY;if(!zY(e,i,C))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=C,o.startY=M,r.touchStartTime=Rc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let I=!0;l.matches(r.focusableElements)&&(I=!1,"SELECT"===l.nodeName&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==l&&("mouse"===i.pointerType||"mouse"!==i.pointerType&&!l.matches(r.focusableElements))&&t.activeElement.blur(),(s.touchStartForcePreventDefault||I&&e.allowTouchMove&&s.touchStartPreventDefault)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Jke(n){const e=Co(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!r.simulateTouch&&"mouse"===n.pointerType)return;let c,l=n;if(l.originalEvent&&(l=l.originalEvent),"pointermove"===l.type&&(null!==i.touchId||l.pointerId!==i.pointerId))return;if("touchmove"===l.type){if(c=[...l.changedTouches].find(ue=>ue.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l));const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper)return s.startX=u,void(s.startY=d);if(!t.allowTouchMove)return l.target.matches(i.focusableElements)||(t.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=Rc()));if(r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(d<s.startY&&t.translate<=t.maxTranslate()||d>s.startY&&t.translate>=t.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else{if(o&&(u>s.startX&&-t.translate<=t.maxTranslate()||u<s.startX&&-t.translate>=t.minTranslate()))return;if(!o&&(u<s.startX&&t.translate<=t.maxTranslate()||u>s.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&"mouse"!==l.pointerType&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements))return i.isMoved=!0,void(t.allowClick=!1);i.allowTouchCallbacks&&t.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const b=s.currentX-s.startX,C=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(ha(b,2)+ha(C,2))<t.params.threshold)return;if(void 0===i.isScrolling){let ue;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:b*b+C*C>=25&&(ue=180*Math.atan2(Math.abs(C),Math.abs(b))/Math.PI,i.isScrolling=t.isHorizontal()?ue>r.touchAngle:90-ue>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),void 0===i.startMoving&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||"touchmove"===l.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let M=t.isHorizontal()?b:C,I=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(M=Math.abs(M)*(o?1:-1),I=Math.abs(I)*(o?1:-1)),s.diff=M,M*=r.touchRatio,o&&(M=-M,I=-I);const k=t.touchesDirection;t.swipeDirection=M>0?"prev":"next",t.touchesDirection=I>0?"prev":"next";const B=t.params.loop&&!r.cssMode,L="next"===t.touchesDirection&&t.allowSlideNext||"prev"===t.touchesDirection&&t.allowSlidePrev;if(!i.isMoved){if(B&&L&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ue=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ue)}i.allowMomentumBounce=!1,r.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}if((new Date).getTime(),!1!==r._loopSwapReset&&i.isMoved&&i.allowThresholdMove&&k!==t.touchesDirection&&B&&L&&Math.abs(M)>=1)return Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);t.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=M+i.startTranslate;let Y=!0,se=r.resistanceRatio;if(r.touchReleaseOnEdges&&(se=0),M>0?(B&&L&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-("auto"!==r.slidesPerView&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(Y=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+ha(-t.minTranslate()+i.startTranslate+M,se)))):M<0&&(B&&L&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+("auto"!==r.slidesPerView&&t.slides.length-r.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-("auto"===r.slidesPerView?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(Y=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-ha(t.maxTranslate()-i.startTranslate-M,se)))),Y&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(M)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Qke(n){const e=this,t=e.touchEventsData;let r,i=n;if(i.originalEvent&&(i=i.originalEvent),"touchend"===i.type||"touchcancel"===i.type){if(r=[...i.changedTouches].find(se=>se.identifier===t.touchId),!r||r.identifier!==t.touchId)return}else{if(null!==t.touchId||i.pointerId!==t.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&(!["pointercancel","contextmenu"].includes(i.type)||!e.browser.isSafari&&!e.browser.isWebView))return;t.pointerId=null,t.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&"mouse"===i.pointerType)return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);o.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const d=Rc(),b=d-t.touchStartTime;if(e.allowClick){const se=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(se&&se[0]||i.target,se),e.emit("tap click",i),b<300&&d-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Rc(),lm(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===a.diff&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);let C;if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,C=o.followFinger?l?e.translate:-e.translate:-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:C});const M=C>=-e.maxTranslate()&&!e.params.loop;let I=0,k=e.slidesSizesGrid[0];for(let se=0;se<c.length;se+=se<o.slidesPerGroupSkip?1:o.slidesPerGroup){const ue=se<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==c[se+ue]?(M||C>=c[se]&&C<c[se+ue])&&(I=se,k=c[se+ue]-c[se]):(M||C>=c[se])&&(I=se,k=c[c.length-1]-c[c.length-2])}let B=null,L=null;o.rewind&&(e.isBeginning?L=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(B=0));const H=(C-c[I])/k,Y=I<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(b>o.longSwipesMs){if(!o.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(H>=o.longSwipesRatio?o.rewind&&e.isEnd?B:I+Y:I),"prev"===e.swipeDirection&&(H>1-o.longSwipesRatio?e.slideTo(I+Y):null!==L&&H<0&&Math.abs(H)>o.longSwipesRatio?e.slideTo(L):e.slideTo(I))}else{if(!o.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||i.target!==e.navigation.nextEl&&i.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==B?B:I+Y),"prev"===e.swipeDirection&&e.slideTo(null!==L?L:I)):e.slideTo(i.target===e.navigation.nextEl?I+Y:I)}}function $Y(){const n=this,{params:e,el:t}=n;if(t&&0===t.offsetWidth)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),!("auto"===e.slidesPerView||e.slidesPerView>1)||!n.isEnd||n.isBeginning||n.params.centeredSlides||o&&e.loop?n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0):n.slideTo(n.slides.length-1,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function Zke(n){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function eNe(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;let r;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const s=n.maxTranslate()-n.minTranslate();r=0===s?0:(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function tNe(n){const e=this;px(e,n.target),!e.params.cssMode&&("auto"===e.params.slidesPerView||e.params.autoHeight)&&e.update()}function nNe(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const WY=(n,e)=>{const t=Co(),{params:i,el:r,wrapperEl:s,device:o}=n,a=!!i.nested,l="on"===e?"addEventListener":"removeEventListener",c=e;!r||"string"==typeof r||(t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",n.onTouchStart,{passive:!1}),r[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&s[l]("scroll",n.onScroll),n[c](i.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",$Y,!0),r[l]("load",n.onLoad,{capture:!0}))};var sNe={attachEvents:function iNe(){const n=this,{params:e}=n;n.onTouchStart=Kke.bind(n),n.onTouchMove=Jke.bind(n),n.onTouchEnd=Qke.bind(n),n.onDocumentTouchStart=nNe.bind(n),e.cssMode&&(n.onScroll=eNe.bind(n)),n.onClick=Zke.bind(n),n.onLoad=tNe.bind(n),WY(n,"on")},detachEvents:function rNe(){WY(this,"off")}};const YY=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;var lNe={setBreakpoint:function oNe(){const n=this,{realIndex:e,initialized:t,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const o=Co(),a="window"!==i.breakpointsBase&&i.breakpointsBase?"container":i.breakpointsBase,l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:o.querySelector(i.breakpointsBase),c=n.getBreakpoint(s,a,l);if(!c||n.currentBreakpoint===c)return;const d=(c in s?s[c]:void 0)||n.originalParams,b=YY(n,i),C=YY(n,d),M=n.params.grabCursor,I=d.grabCursor,k=i.enabled;b&&!C?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!b&&C&&(r.classList.add(`${i.containerModifierClass}grid`),(d.grid.fill&&"column"===d.grid.fill||!d.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),M&&!I?n.unsetGrabCursor():!M&&I&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ue=>{if(void 0===d[ue])return;const oe=i[ue]&&i[ue].enabled,de=d[ue]&&d[ue].enabled;oe&&!de&&n[ue].disable(),!oe&&de&&n[ue].enable()});const B=d.direction&&d.direction!==i.direction,L=i.loop&&(d.slidesPerView!==i.slidesPerView||B),H=i.loop;B&&t&&n.changeDirection(),Ll(n.params,d);const Y=n.params.enabled,se=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),k&&!Y?n.disable():!k&&Y&&n.enable(),n.currentBreakpoint=c,n.emit("_beforeBreakpoint",d),t&&(L?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!H&&se?(n.loopCreate(e),n.updateSlides()):H&&!se&&n.loopDestroy()),n.emit("breakpoint",d)},getBreakpoint:function aNe(n,e,t){if(void 0===e&&(e="window"),!n||"container"===e&&!t)return;let i=!1;const r=qr(),s="window"===e?r.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if("string"==typeof a&&0===a.indexOf("@")){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];"window"===e?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=t.clientWidth&&(i=l)}return i||"max"}},hNe={addClasses:function uNe(){const n=this,{classNames:e,params:t,rtl:i,el:r,device:s}=n,o=function cNe(n,e){const t=[];return n.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):"string"==typeof i&&t.push(e+i)}),t}(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),r.classList.add(...e),n.emitContainerClasses()},removeClasses:function dNe(){const{el:e,classNames:t}=this;!e||"string"==typeof e||(e.classList.remove(...t),this.emitContainerClasses())}},Vk={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function gNe(n,e){return function(i){void 0===i&&(i={});const r=Object.keys(i)[0],s=i[r];"object"==typeof s&&null!==s?(!0===n[r]&&(n[r]={enabled:!0}),"navigation"===r&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),r in n&&"enabled"in s?("object"==typeof n[r]&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),Ll(e,i)):Ll(e,i)):Ll(e,i)}}const zk={eventsEmitter:hke,update:Ske,translate:Pke,transition:Rke,slide:jke,loop:$ke,grabCursor:Xke,events:sNe,breakpoints:lNe,checkOverflow:{checkOverflow:function pNe(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[r]+n.slidesSizesGrid[r]+2*i}else n.isLocked=1===n.snapGrid.length;!0===t.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===t.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:hNe},$k={};class Hl{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?t=r[0]:[e,t]=r,t||(t={}),t=Ll({},t),e&&!t.el&&(t.el=e);const o=Co();if(t.el&&"string"==typeof t.el&&o.querySelectorAll(t.el).length>1){const u=[];return o.querySelectorAll(t.el).forEach(d=>{const b=Ll({},t,{el:d});u.push(new Hl(b))}),u}const a=this;a.__swiper__=!0,a.support=UY(),a.device=HY({userAgent:t.userAgent}),a.browser=jY(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach(u=>{u({params:t,swiper:a,extendParams:gNe(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Ll({},Vk,l);return a.params=Ll({},c,$k,t),a.originalParams=Ll({},a.params),a.passedParams=Ll({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/ha(2,23))*ha(2,23)},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=k1(Fo(t,`.${i.slideClass}, swiper-slide`)[0]);return k1(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}recalcSlides(){const{slidesEl:t,params:i}=this;this.slides=Fo(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=this;let u=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let b,d=s[c]?Math.ceil(s[c].swiperSlideSize):0;for(let C=c+1;C<s.length;C+=1)s[C]&&!b&&(d+=Math.ceil(s[C].swiperSlideSize),u+=1,d>l&&(b=!0));for(let C=c-1;C>=0;C-=1)s[C]&&!b&&(d+=s[C].swiperSlideSize,u+=1,d>l&&(b=!0))}else if("current"===e)for(let d=c+1;d<s.length;d+=1)(t?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function r(){const a=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&px(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode?(r(),i.autoHeight&&e.updateAutoHeight()):(s=e.slideTo(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides?(e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides).length-1:e.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,r=i.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{"vertical"===e?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Fo(i,r())[0];return!o&&t.params.createElements&&(o=Ul("div",t.params.wrapperClass),i.append(o),Fo(i,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===Gp(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===Gp(i,"direction")),wrongRTL:"-webkit-box"===Gp(o,"display")}),!0}init(e){const t=this;if(t.initialized||!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.slideTo(t.params.loop&&t.virtual&&t.params.virtual.enabled?t.params.initialSlide+t.virtual.slidesBefore:t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?px(t,s):s.addEventListener("load",o=>{px(t,o.target)})}),Gk(t),t.initialized=!0,Gk(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s&&"string"!=typeof s&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),!1!==e&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function eke(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch(i){}try{delete e[t]}catch(i){}})}(i)),i.destroyed=!0),null}static extendDefaults(e){Ll($k,e)}static get extendedDefaults(){return $k}static get defaults(){return Vk}static installModule(e){Hl.prototype.__modules__||(Hl.prototype.__modules__=[]);const t=Hl.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Hl.installModule(t)),Hl):(Hl.installModule(e),Hl)}}function Wk(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!t[r]&&!0===t.auto){let s=Fo(n.el,`.${i[r]}`)[0];s||(s=Ul("div",i[r]),s.className=i[r],n.el.append(s)),t[r]=s,e[r]=s}}),t}function vh(n){return void 0===n&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function DNe(n){const e=this,{params:t,slidesEl:i}=e;t.loop&&e.loopDestroy();const r=s=>{if("string"==typeof s){const o=document.createElement("div");o.innerHTML=s,i.append(o.children[0]),o.innerHTML=""}else i.append(s)};if("object"==typeof n&&"length"in n)for(let s=0;s<n.length;s+=1)n[s]&&r(n[s]);else r(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function RNe(n){const e=this,{params:t,activeIndex:i,slidesEl:r}=e;t.loop&&e.loopDestroy();let s=i+1;const o=a=>{if("string"==typeof a){const l=document.createElement("div");l.innerHTML=a,r.prepend(l.children[0]),l.innerHTML=""}else r.prepend(a)};if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);s=i+n.length}else o(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(s,0,!1)}function kNe(n,e){const t=this,{params:i,activeIndex:r,slidesEl:s}=t;let o=r;i.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());const a=t.slides.length;if(n<=0)return void t.prependSlide(e);if(n>=a)return void t.appendSlide(e);let l=o>n?o+1:o;const c=[];for(let u=a-1;u>=n;u-=1){const d=t.slides[u];d.remove(),c.unshift(d)}if("object"==typeof e&&"length"in e){for(let u=0;u<e.length;u+=1)e[u]&&s.append(e[u]);l=o>n?o+e.length:o}else s.append(e);for(let u=0;u<c.length;u+=1)s.append(c[u]);t.recalcSlides(),i.loop&&t.loopCreate(),(!i.observer||t.isElement)&&t.update(),t.slideTo(i.loop?l+t.loopedSlides:l,0,!1)}function NNe(n){const e=this,{params:t,activeIndex:i}=e;let r=i;t.loop&&(r-=e.loopedSlides,e.loopDestroy());let o,s=r;if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=n,e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(t.loop?s+e.loopedSlides:s,0,!1)}function FNe(){const n=this,e=[];for(let t=0;t<n.slides.length;t+=1)e.push(t);n.removeSlide(e)}function V0(n){const{effect:e,swiper:t,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;let u;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(t.params,d),Object.assign(t.originalParams,d)}),i("setTranslate",()=>{t.params.effect===e&&r()}),i("setTransition",(d,b)=>{t.params.effect===e&&s(b)}),i("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(b=>b.remove())}),l()}}),i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(r(),u=!1)}))})}function F1(n,e){const t=cm(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function fx(n){let{swiper:e,duration:t,transformElements:i,allSlides:r}=n;const{activeIndex:s}=e;if(e.params.virtualTranslate&&0!==t){let l,a=!1;l=r?i:i.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?(a=>a.parentElement?a.parentElement:e.slides.find(c=>c.shadowRoot&&c.shadowRoot===a.parentNode))(c):c;return e.getSlideIndex(u)===s}),l.forEach(c=>{N1(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(u)})})}}function z0(n,e,t){const i=`swiper-slide-shadow${t?`-${t}`:""}${n?` swiper-slide-shadow-${n}`:""}`,r=cm(e);let s=r.querySelector(`.${i.split(" ").join(".")}`);return s||(s=Ul("div",i.split(" ")),r.append(s)),s}Object.keys(zk).forEach(n=>{Object.keys(zk[n]).forEach(e=>{Hl.prototype[e]=zk[n][e]})}),Hl.use([function uke(n){let{swiper:e,on:t,emit:i}=n;const r=qr();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{e.params.resizeObserver&&void 0!==r.ResizeObserver?!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:b,height:C}=e;let M=b,I=C;d.forEach(k=>{let{contentBoxSize:B,contentRect:L,target:H}=k;H&&H!==e.el||(M=L?L.width:(B[0]||B).inlineSize,I=L?L.height:(B[0]||B).blockSize)}),(M!==b||I!==C)&&a()})}),s.observe(e.el)):(r.addEventListener("resize",a),r.addEventListener("orientationchange",u))}),t("destroy",()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})},function dke(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=[],o=qr(),a=function(u,d){void 0===d&&(d={});const C=new(o.MutationObserver||o.WebkitMutationObserver)(M=>{if(e.__preventObserver__)return;if(1===M.length)return void r("observerUpdate",M[0]);const I=function(){r("observerUpdate",M[0])};o.requestAnimationFrame?o.requestAnimationFrame(I):o.setTimeout(I,0)});C.observe(u,{attributes:void 0===d.attributes||d.attributes,childList:e.isElement||(void 0===d.childList||d).childList,characterData:void 0===d.characterData||d.characterData}),s.push(C)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(e.params.observer){if(e.params.observeParents){const u=um(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}}),i("destroy",()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)})}]);const zNe=[function mNe(n){let s,{swiper:e,extendParams:t,on:i,emit:r}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const o=Co();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function l(M,I){const k=e.params.virtual;if(k.cache&&e.virtual.cache[I])return e.virtual.cache[I];let B;return k.renderSlide?(B=k.renderSlide.call(e,M,I),"string"==typeof B&&(a.innerHTML=B,B=a.children[0])):B=e.isElement?Ul("swiper-slide"):Ul("div",e.params.slideClass),B.setAttribute("data-swiper-slide-index",I),k.renderSlide||(B.innerHTML=M),k.cache&&(e.virtual.cache[I]=B),B}function c(M,I,k){const{slidesPerView:B,slidesPerGroup:L,centeredSlides:H,loop:Y,initialSlide:se}=e.params;if(I&&!Y&&se>0)return;const{addSlidesBefore:ue,addSlidesAfter:oe}=e.params.virtual,{from:de,to:ae,slides:fe,slidesGrid:Re,offset:ve}=e.virtual;e.params.cssMode||e.updateActiveIndex();const _e=void 0===k?e.activeIndex||0:k;let Oe,Ge,Ee;Oe=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",H?(Ge=Math.floor(B/2)+L+oe,Ee=Math.floor(B/2)+L+ue):(Ge=B+(L-1)+oe,Ee=(Y?B:L)+ue);let ye=_e-Ee,we=_e+Ge;Y||(ye=Math.max(ye,0),we=Math.min(we,fe.length-1));let et=(e.slidesGrid[ye]||0)-(e.slidesGrid[0]||0);function Pe(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r("virtualUpdate")}if(Y&&_e>=Ee?(ye-=Ee,H||(et+=e.slidesGrid[0])):Y&&_e<Ee&&(ye=-Ee,H&&(et+=e.slidesGrid[0])),Object.assign(e.virtual,{from:ye,to:we,offset:et,slidesGrid:e.slidesGrid,slidesBefore:Ee,slidesAfter:Ge}),de===ye&&ae===we&&!M)return e.slidesGrid!==Re&&et!==ve&&e.slides.forEach(ut=>{ut.style[Oe]=et-Math.abs(e.cssOverflowAdjustment())+"px"}),e.updateProgress(),void r("virtualUpdate");if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:et,from:ye,to:we,slides:function(){const dt=[];for(let Kt=ye;Kt<=we;Kt+=1)dt.push(fe[Kt]);return dt}()}),void(e.params.virtual.renderExternalUpdate?Pe():r("virtualUpdate"));const Ot=[],gn=[],ei=ut=>{let dt=ut;return ut<0?dt=fe.length+ut:dt>=fe.length&&(dt-=fe.length),dt};if(M)e.slides.filter(ut=>ut.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(ut=>{ut.remove()});else for(let ut=de;ut<=ae;ut+=1)if(ut<ye||ut>we){const dt=ei(ut);e.slides.filter(Kt=>Kt.matches(`.${e.params.slideClass}[data-swiper-slide-index="${dt}"], swiper-slide[data-swiper-slide-index="${dt}"]`)).forEach(Kt=>{Kt.remove()})}const pt=Y?2*fe.length:fe.length;for(let ut=Y?-fe.length:0;ut<pt;ut+=1)if(ut>=ye&&ut<=we){const dt=ei(ut);void 0===ae||M?gn.push(dt):(ut>ae&&gn.push(dt),ut<de&&Ot.push(dt))}if(gn.forEach(ut=>{e.slidesEl.append(l(fe[ut],ut))}),Y)for(let ut=Ot.length-1;ut>=0;ut-=1){const dt=Ot[ut];e.slidesEl.prepend(l(fe[dt],dt))}else Ot.sort((ut,dt)=>dt-ut),Ot.forEach(ut=>{e.slidesEl.prepend(l(fe[ut],ut))});Fo(e.slidesEl,".swiper-slide, swiper-slide").forEach(ut=>{ut.style[Oe]=et-Math.abs(e.cssOverflowAdjustment())+"px"}),Pe()}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let M;if(void 0===e.passedParams.virtual.slides){const I=[...e.slidesEl.children].filter(k=>k.matches(`.${e.params.slideClass}, swiper-slide`));I&&I.length&&(e.virtual.slides=[...I],M=!0,I.forEach((k,B)=>{k.setAttribute("data-swiper-slide-index",B),e.virtual.cache[B]=k,k.remove()}))}M||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,c(!1,!0)}),i("setTranslate",()=>{!e.params.virtual.enabled||(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{!e.params.virtual.enabled||e.params.cssMode&&R1(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:function u(M){if("object"==typeof M&&"length"in M)for(let I=0;I<M.length;I+=1)M[I]&&e.virtual.slides.push(M[I]);else e.virtual.slides.push(M);c(!0)},prependSlide:function d(M){const I=e.activeIndex;let k=I+1,B=1;if(Array.isArray(M)){for(let L=0;L<M.length;L+=1)M[L]&&e.virtual.slides.unshift(M[L]);k=I+M.length,B=M.length}else e.virtual.slides.unshift(M);if(e.params.virtual.cache){const L=e.virtual.cache,H={};Object.keys(L).forEach(Y=>{const se=L[Y],ue=se.getAttribute("data-swiper-slide-index");ue&&se.setAttribute("data-swiper-slide-index",parseInt(ue,10)+B),H[parseInt(Y,10)+B]=se}),e.virtual.cache=H}c(!0),e.slideTo(k,0)},removeSlide:function b(M){if(null==M)return;let I=e.activeIndex;if(Array.isArray(M))for(let k=M.length-1;k>=0;k-=1)e.params.virtual.cache&&(delete e.virtual.cache[M[k]],Object.keys(e.virtual.cache).forEach(B=>{B>M&&(e.virtual.cache[B-1]=e.virtual.cache[B],e.virtual.cache[B-1].setAttribute("data-swiper-slide-index",B-1),delete e.virtual.cache[B])})),e.virtual.slides.splice(M[k],1),M[k]<I&&(I-=1),I=Math.max(I,0);else e.params.virtual.cache&&(delete e.virtual.cache[M],Object.keys(e.virtual.cache).forEach(k=>{k>M&&(e.virtual.cache[k-1]=e.virtual.cache[k],e.virtual.cache[k-1].setAttribute("data-swiper-slide-index",k-1),delete e.virtual.cache[k])})),e.virtual.slides.splice(M,1),M<I&&(I-=1),I=Math.max(I,0);c(!0),e.slideTo(I,0)},removeAllSlides:function C(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)},update:c})},function _Ne(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=Co(),o=qr();function a(u){if(!e.enabled)return;const{rtlTranslate:d}=e;let b=u;b.originalEvent&&(b=b.originalEvent);const C=b.keyCode||b.charCode,M=e.params.keyboard.pageUpDown,I=M&&33===C,k=M&&34===C,B=37===C,L=39===C,H=38===C,Y=40===C;if(!e.allowSlideNext&&(e.isHorizontal()&&L||e.isVertical()&&Y||k)||!e.allowSlidePrev&&(e.isHorizontal()&&B||e.isVertical()&&H||I))return!1;if(!(b.shiftKey||b.altKey||b.ctrlKey||b.metaKey||s.activeElement&&s.activeElement.nodeName&&("input"===s.activeElement.nodeName.toLowerCase()||"textarea"===s.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(I||k||B||L||H||Y)){let se=!1;if(um(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===um(e.el,`.${e.params.slideActiveClass}`).length)return;const ue=e.el,oe=ue.clientWidth,de=ue.clientHeight,ae=o.innerWidth,fe=o.innerHeight,Re=dx(ue);d&&(Re.left-=ue.scrollLeft);const ve=[[Re.left,Re.top],[Re.left+oe,Re.top],[Re.left,Re.top+de],[Re.left+oe,Re.top+de]];for(let _e=0;_e<ve.length;_e+=1){const Oe=ve[_e];if(Oe[0]>=0&&Oe[0]<=ae&&Oe[1]>=0&&Oe[1]<=fe){if(0===Oe[0]&&0===Oe[1])continue;se=!0}}if(!se)return}e.isHorizontal()?((I||k||B||L)&&(b.preventDefault?b.preventDefault():b.returnValue=!1),((k||L)&&!d||(I||B)&&d)&&e.slideNext(),((I||B)&&!d||(k||L)&&d)&&e.slidePrev()):((I||k||H||Y)&&(b.preventDefault?b.preventDefault():b.returnValue=!1),(k||Y)&&e.slideNext(),(I||H)&&e.slidePrev()),r("keyPress",C)}}function l(){e.keyboard.enabled||(s.addEventListener("keydown",a),e.keyboard.enabled=!0)}function c(){!e.keyboard.enabled||(s.removeEventListener("keydown",a),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{e.params.keyboard.enabled&&l()}),i("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})},function yNe(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=qr();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,l,a=Rc();const c=[];function d(){!e.enabled||(e.mouseEntered=!0)}function b(){!e.enabled||(e.mouseEntered=!1)}function C(H){return!(e.params.mousewheel.thresholdDelta&&H.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Rc()-a<e.params.mousewheel.thresholdTime)&&(H.delta>=6&&Rc()-a<60||(H.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",H.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",H.raw)),a=(new s.Date).getTime(),!1))}function I(H){let Y=H,se=!0;if(!e.enabled||H.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const ue=e.params.mousewheel;e.params.cssMode&&Y.preventDefault();let oe=e.el;"container"!==e.params.mousewheel.eventsTarget&&(oe=document.querySelector(e.params.mousewheel.eventsTarget));const de=oe&&oe.contains(Y.target);if(!e.mouseEntered&&!de&&!ue.releaseOnEdges)return!0;Y.originalEvent&&(Y=Y.originalEvent);let ae=0;const fe=e.rtlTranslate?-1:1,Re=function u(H){let oe=0,de=0,ae=0,fe=0;return"detail"in H&&(de=H.detail),"wheelDelta"in H&&(de=-H.wheelDelta/120),"wheelDeltaY"in H&&(de=-H.wheelDeltaY/120),"wheelDeltaX"in H&&(oe=-H.wheelDeltaX/120),"axis"in H&&H.axis===H.HORIZONTAL_AXIS&&(oe=de,de=0),ae=10*oe,fe=10*de,"deltaY"in H&&(fe=H.deltaY),"deltaX"in H&&(ae=H.deltaX),H.shiftKey&&!ae&&(ae=fe,fe=0),(ae||fe)&&H.deltaMode&&(1===H.deltaMode?(ae*=40,fe*=40):(ae*=800,fe*=800)),ae&&!oe&&(oe=ae<1?-1:1),fe&&!de&&(de=fe<1?-1:1),{spinX:oe,spinY:de,pixelX:ae,pixelY:fe}}(Y);if(ue.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(Re.pixelX)>Math.abs(Re.pixelY)))return!0;ae=-Re.pixelX*fe}else{if(!(Math.abs(Re.pixelY)>Math.abs(Re.pixelX)))return!0;ae=-Re.pixelY}else ae=Math.abs(Re.pixelX)>Math.abs(Re.pixelY)?-Re.pixelX*fe:-Re.pixelY;if(0===ae)return!0;ue.invert&&(ae=-ae);let ve=e.getTranslate()+ae*ue.sensitivity;if(ve>=e.minTranslate()&&(ve=e.minTranslate()),ve<=e.maxTranslate()&&(ve=e.maxTranslate()),se=!!e.params.loop||!(ve===e.minTranslate()||ve===e.maxTranslate()),se&&e.params.nested&&Y.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const _e={time:Rc(),delta:Math.abs(ae),direction:Math.sign(ae)},Oe=l&&_e.time<l.time+500&&_e.delta<=l.delta&&_e.direction===l.direction;if(!Oe){l=void 0;let Ge=e.getTranslate()+ae*ue.sensitivity;const Ee=e.isBeginning,ye=e.isEnd;if(Ge>=e.minTranslate()&&(Ge=e.minTranslate()),Ge<=e.maxTranslate()&&(Ge=e.maxTranslate()),e.setTransition(0),e.setTranslate(Ge),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!Ee&&e.isBeginning||!ye&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:_e.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const we=c.length?c[c.length-1]:void 0,et=c[0];if(c.push(_e),we&&(_e.delta>we.delta||_e.direction!==we.direction))c.splice(0);else if(c.length>=15&&_e.time-et.time<500&&et.delta-_e.delta>=1&&_e.delta<=6){const Pe=ae>0?.8:.2;l=_e,c.splice(0),o=lm(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,Pe)},0)}o||(o=lm(()=>{!e.destroyed&&e.params&&(l=_e,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5))},500))}if(Oe||r("scroll",Y),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),ue.releaseOnEdges&&(Ge===e.minTranslate()||Ge===e.maxTranslate()))return!0}}else{const _e={time:Rc(),delta:Math.abs(ae),direction:Math.sign(ae),raw:H};c.length>=2&&c.shift();const Oe=c.length?c[c.length-1]:void 0;if(c.push(_e),Oe?(_e.direction!==Oe.direction||_e.delta>Oe.delta||_e.time>Oe.time+150)&&C(_e):C(_e),function M(H){const Y=e.params.mousewheel;if(H.direction<0){if(e.isEnd&&!e.params.loop&&Y.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&Y.releaseOnEdges)return!0;return!1}(_e))return!0}return Y.preventDefault?Y.preventDefault():Y.returnValue=!1,!1}function k(H){let Y=e.el;"container"!==e.params.mousewheel.eventsTarget&&(Y=document.querySelector(e.params.mousewheel.eventsTarget)),Y[H]("mouseenter",d),Y[H]("mouseleave",b),Y[H]("wheel",I)}function B(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",I),!0):!e.mousewheel.enabled&&(k("addEventListener"),e.mousewheel.enabled=!0,!0)}function L(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,I),!0):!!e.mousewheel.enabled&&(k("removeEventListener"),e.mousewheel.enabled=!1,!0)}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&L(),e.params.mousewheel.enabled&&B()}),i("destroy",()=>{e.params.cssMode&&B(),e.mousewheel.enabled&&L()}),Object.assign(e.mousewheel,{enable:B,disable:L})},function bNe(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;function s(M){let I;return M&&"string"==typeof M&&e.isElement&&(I=e.el.querySelector(M)||e.hostEl.querySelector(M),I)?I:(M&&("string"==typeof M&&(I=[...document.querySelectorAll(M)]),e.params.uniqueNavElements&&"string"==typeof M&&I&&I.length>1&&1===e.el.querySelectorAll(M).length?I=e.el.querySelector(M):I&&1===I.length&&(I=I[0])),M&&!I?M:I)}function o(M,I){const k=e.params.navigation;(M=Ei(M)).forEach(B=>{B&&(B.classList[I?"add":"remove"](...k.disabledClass.split(" ")),"BUTTON"===B.tagName&&(B.disabled=I),e.params.watchOverflow&&e.enabled&&B.classList[e.isLocked?"add":"remove"](k.lockClass))})}function a(){const{nextEl:M,prevEl:I}=e.navigation;if(e.params.loop)return o(I,!1),void o(M,!1);o(I,e.isBeginning&&!e.params.rewind),o(M,e.isEnd&&!e.params.rewind)}function l(M){M.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function c(M){M.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function u(){const M=e.params.navigation;if(e.params.navigation=Wk(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!M.nextEl&&!M.prevEl)return;let I=s(M.nextEl),k=s(M.prevEl);Object.assign(e.navigation,{nextEl:I,prevEl:k}),I=Ei(I),k=Ei(k);const B=(L,H)=>{L&&L.addEventListener("click","next"===H?c:l),!e.enabled&&L&&L.classList.add(...M.lockClass.split(" "))};I.forEach(L=>B(L,"next")),k.forEach(L=>B(L,"prev"))}function d(){let{nextEl:M,prevEl:I}=e.navigation;M=Ei(M),I=Ei(I);const k=(B,L)=>{B.removeEventListener("click","next"===L?c:l),B.classList.remove(...e.params.navigation.disabledClass.split(" "))};M.forEach(B=>k(B,"next")),I.forEach(B=>k(B,"prev"))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null},i("init",()=>{!1===e.params.navigation.enabled?C():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:M,prevEl:I}=e.navigation;M=Ei(M),I=Ei(I),e.enabled?a():[...M,...I].filter(k=>!!k).forEach(k=>k.classList.add(e.params.navigation.lockClass))}),i("click",(M,I)=>{let{nextEl:k,prevEl:B}=e.navigation;k=Ei(k),B=Ei(B);const L=I.target;let H=B.includes(L)||k.includes(L);if(e.isElement&&!H){const Y=I.path||I.composedPath&&I.composedPath();Y&&(H=Y.find(se=>k.includes(se)||B.includes(se)))}if(e.params.navigation.hideOnClick&&!H){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===L||e.pagination.el.contains(L)))return;let Y;k.length?Y=k[0].classList.contains(e.params.navigation.hiddenClass):B.length&&(Y=B[0].classList.contains(e.params.navigation.hiddenClass)),r(!0===Y?"navigationShow":"navigationHide"),[...k,...B].filter(se=>!!se).forEach(se=>se.classList.toggle(e.params.navigation.hiddenClass))}});const C=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},disable:C,update:a,init:u,destroy:d})},function vNe(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:L=>L,formatFractionTotal:L=>L,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function c(L,H){const{bulletActiveClass:Y}=e.params.pagination;!L||(L=L[("prev"===H?"previous":"next")+"ElementSibling"])&&(L.classList.add(`${Y}-${H}`),(L=L[("prev"===H?"previous":"next")+"ElementSibling"])&&L.classList.add(`${Y}-${H}-${H}`))}function d(L){const H=L.target.closest(vh(e.params.pagination.bulletClass));if(!H)return;L.preventDefault();const Y=k1(H)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===Y)return;const se=function u(L,H,Y){return(H%=Y)==1+(L%=Y)?"next":H===L-1?"previous":void 0}(e.realIndex,Y,e.slides.length);"next"===se?e.slideNext():"previous"===se?e.slidePrev():e.slideToLoop(Y)}else e.slideTo(Y)}function b(){const L=e.rtl,H=e.params.pagination;if(l())return;let se,ue,Y=e.pagination.el;Y=Ei(Y);const de=e.params.loop?Math.ceil((e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(ue=e.previousRealIndex||0,se=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):void 0!==e.snapIndex?(se=e.snapIndex,ue=e.previousSnapIndex):(ue=e.previousIndex||0,se=e.activeIndex||0),"bullets"===H.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const ae=e.pagination.bullets;let fe,Re,ve;if(H.dynamicBullets&&(o=Fk(ae[0],e.isHorizontal()?"width":"height",!0),Y.forEach(_e=>{_e.style[e.isHorizontal()?"width":"height"]=o*(H.dynamicMainBullets+4)+"px"}),H.dynamicMainBullets>1&&void 0!==ue&&(a+=se-(ue||0),a>H.dynamicMainBullets-1?a=H.dynamicMainBullets-1:a<0&&(a=0)),fe=Math.max(se-a,0),Re=fe+(Math.min(ae.length,H.dynamicMainBullets)-1),ve=(Re+fe)/2),ae.forEach(_e=>{const Oe=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Ge=>`${H.bulletActiveClass}${Ge}`)].map(Ge=>"string"==typeof Ge&&Ge.includes(" ")?Ge.split(" "):Ge).flat();_e.classList.remove(...Oe)}),Y.length>1)ae.forEach(_e=>{const Oe=k1(_e);Oe===se?_e.classList.add(...H.bulletActiveClass.split(" ")):e.isElement&&_e.setAttribute("part","bullet"),H.dynamicBullets&&(Oe>=fe&&Oe<=Re&&_e.classList.add(...`${H.bulletActiveClass}-main`.split(" ")),Oe===fe&&c(_e,"prev"),Oe===Re&&c(_e,"next"))});else{const _e=ae[se];if(_e&&_e.classList.add(...H.bulletActiveClass.split(" ")),e.isElement&&ae.forEach((Oe,Ge)=>{Oe.setAttribute("part",Ge===se?"bullet-active":"bullet")}),H.dynamicBullets){const Oe=ae[fe],Ge=ae[Re];for(let Ee=fe;Ee<=Re;Ee+=1)ae[Ee]&&ae[Ee].classList.add(...`${H.bulletActiveClass}-main`.split(" "));c(Oe,"prev"),c(Ge,"next")}}if(H.dynamicBullets){const _e=Math.min(ae.length,H.dynamicMainBullets+4),Oe=(o*_e-o)/2-ve*o,Ge=L?"right":"left";ae.forEach(Ee=>{Ee.style[e.isHorizontal()?Ge:"top"]=`${Oe}px`})}}Y.forEach((ae,fe)=>{if("fraction"===H.type&&(ae.querySelectorAll(vh(H.currentClass)).forEach(Re=>{Re.textContent=H.formatFractionCurrent(se+1)}),ae.querySelectorAll(vh(H.totalClass)).forEach(Re=>{Re.textContent=H.formatFractionTotal(de)})),"progressbar"===H.type){let Re;Re=H.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const ve=(se+1)/de;let _e=1,Oe=1;"horizontal"===Re?_e=ve:Oe=ve,ae.querySelectorAll(vh(H.progressbarFillClass)).forEach(Ge=>{Ge.style.transform=`translate3d(0,0,0) scaleX(${_e}) scaleY(${Oe})`,Ge.style.transitionDuration=`${e.params.speed}ms`})}"custom"===H.type&&H.renderCustom?(ae.innerHTML=H.renderCustom(e,se+1,de),0===fe&&r("paginationRender",ae)):(0===fe&&r("paginationRender",ae),r("paginationUpdate",ae)),e.params.watchOverflow&&e.enabled&&ae.classList[e.isLocked?"add":"remove"](H.lockClass)})}function C(){const L=e.params.pagination;if(l())return;const H=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let Y=e.pagination.el;Y=Ei(Y);let se="";if("bullets"===L.type){let ue=e.params.loop?Math.ceil(H/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&ue>H&&(ue=H);for(let oe=0;oe<ue;oe+=1)se+=L.renderBullet?L.renderBullet.call(e,oe,L.bulletClass):`<${L.bulletElement} ${e.isElement?'part="bullet"':""} class="${L.bulletClass}"></${L.bulletElement}>`}"fraction"===L.type&&(se=L.renderFraction?L.renderFraction.call(e,L.currentClass,L.totalClass):`<span class="${L.currentClass}"></span> / <span class="${L.totalClass}"></span>`),"progressbar"===L.type&&(se=L.renderProgressbar?L.renderProgressbar.call(e,L.progressbarFillClass):`<span class="${L.progressbarFillClass}"></span>`),e.pagination.bullets=[],Y.forEach(ue=>{"custom"!==L.type&&(ue.innerHTML=se||""),"bullets"===L.type&&e.pagination.bullets.push(...ue.querySelectorAll(vh(L.bulletClass)))}),"custom"!==L.type&&r("paginationRender",Y[0])}function M(){e.params.pagination=Wk(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const L=e.params.pagination;if(!L.el)return;let H;"string"==typeof L.el&&e.isElement&&(H=e.el.querySelector(L.el)),!H&&"string"==typeof L.el&&(H=[...document.querySelectorAll(L.el)]),H||(H=L.el),H&&0!==H.length&&(e.params.uniqueNavElements&&"string"==typeof L.el&&Array.isArray(H)&&H.length>1&&(H=[...e.el.querySelectorAll(L.el)],H.length>1&&(H=H.find(Y=>um(Y,".swiper")[0]===e.el))),Array.isArray(H)&&1===H.length&&(H=H[0]),Object.assign(e.pagination,{el:H}),H=Ei(H),H.forEach(Y=>{"bullets"===L.type&&L.clickable&&Y.classList.add(...(L.clickableClass||"").split(" ")),Y.classList.add(L.modifierClass+L.type),Y.classList.add(e.isHorizontal()?L.horizontalClass:L.verticalClass),"bullets"===L.type&&L.dynamicBullets&&(Y.classList.add(`${L.modifierClass}${L.type}-dynamic`),a=0,L.dynamicMainBullets<1&&(L.dynamicMainBullets=1)),"progressbar"===L.type&&L.progressbarOpposite&&Y.classList.add(L.progressbarOppositeClass),L.clickable&&Y.addEventListener("click",d),e.enabled||Y.classList.add(L.lockClass)}))}function I(){const L=e.params.pagination;if(l())return;let H=e.pagination.el;H&&(H=Ei(H),H.forEach(Y=>{Y.classList.remove(L.hiddenClass),Y.classList.remove(L.modifierClass+L.type),Y.classList.remove(e.isHorizontal()?L.horizontalClass:L.verticalClass),L.clickable&&(Y.classList.remove(...(L.clickableClass||"").split(" ")),Y.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(Y=>Y.classList.remove(...L.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const L=e.params.pagination;let{el:H}=e.pagination;H=Ei(H),H.forEach(Y=>{Y.classList.remove(L.horizontalClass,L.verticalClass),Y.classList.add(e.isHorizontal()?L.horizontalClass:L.verticalClass)})}),i("init",()=>{!1===e.params.pagination.enabled?B():(M(),C(),b())}),i("activeIndexChange",()=>{void 0===e.snapIndex&&b()}),i("snapIndexChange",()=>{b()}),i("snapGridLengthChange",()=>{C(),b()}),i("destroy",()=>{I()}),i("enable disable",()=>{let{el:L}=e.pagination;L&&(L=Ei(L),L.forEach(H=>H.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{b()}),i("click",(L,H)=>{const Y=H.target,se=Ei(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&se&&se.length>0&&!Y.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&Y===e.navigation.nextEl||e.navigation.prevEl&&Y===e.navigation.prevEl))return;const ue=se[0].classList.contains(e.params.pagination.hiddenClass);r(!0===ue?"paginationShow":"paginationHide"),se.forEach(oe=>oe.classList.toggle(e.params.pagination.hiddenClass))}});const B=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:L}=e.pagination;L&&(L=Ei(L),L.forEach(H=>H.classList.add(e.params.pagination.paginationDisabledClass))),I()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:L}=e.pagination;L&&(L=Ei(L),L.forEach(H=>H.classList.remove(e.params.pagination.paginationDisabledClass))),M(),C(),b()},disable:B,render:C,update:b,init:M,destroy:I})},function CNe(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=Co();let c,u,d,b,o=!1,a=null,l=null;function C(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:ve,rtlTranslate:_e}=e,{dragEl:Oe,el:Ge}=ve,Ee=e.params.scrollbar;let we=u,et=(d-u)*(e.params.loop?e.progressLoop:e.progress);_e?(et=-et,et>0?(we=u-et,et=0):-et+u>d&&(we=d+et)):et<0?(we=u+et,et=0):et+u>d&&(we=d-et),e.isHorizontal()?(Oe.style.transform=`translate3d(${et}px, 0, 0)`,Oe.style.width=`${we}px`):(Oe.style.transform=`translate3d(0px, ${et}px, 0)`,Oe.style.height=`${we}px`),Ee.hide&&(clearTimeout(a),Ge.style.opacity=1,a=setTimeout(()=>{Ge.style.opacity=0,Ge.style.transitionDuration="400ms"},1e3))}function I(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:ve}=e,{dragEl:_e,el:Oe}=ve;_e.style.width="",_e.style.height="",d=e.isHorizontal()?Oe.offsetWidth:Oe.offsetHeight,b=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),u="auto"===e.params.scrollbar.dragSize?d*b:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?_e.style.width=`${u}px`:_e.style.height=`${u}px`,Oe.style.display=b>=1?"none":"",e.params.scrollbar.hide&&(Oe.style.opacity=0),e.params.watchOverflow&&e.enabled&&ve.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function k(ve){return e.isHorizontal()?ve.clientX:ve.clientY}function B(ve){const{scrollbar:_e,rtlTranslate:Oe}=e,{el:Ge}=_e;let Ee;Ee=(k(ve)-dx(Ge)[e.isHorizontal()?"left":"top"]-(null!==c?c:u/2))/(d-u),Ee=Math.max(Math.min(Ee,1),0),Oe&&(Ee=1-Ee);const ye=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*Ee;e.updateProgress(ye),e.setTranslate(ye),e.updateActiveIndex(),e.updateSlidesClasses()}function L(ve){const _e=e.params.scrollbar,{scrollbar:Oe,wrapperEl:Ge}=e,{el:Ee,dragEl:ye}=Oe;o=!0,c=ve.target===ye?k(ve)-ve.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,ve.preventDefault(),ve.stopPropagation(),Ge.style.transitionDuration="100ms",ye.style.transitionDuration="100ms",B(ve),clearTimeout(l),Ee.style.transitionDuration="0ms",_e.hide&&(Ee.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",ve)}function H(ve){const{scrollbar:_e,wrapperEl:Oe}=e,{el:Ge,dragEl:Ee}=_e;!o||(ve.preventDefault&&ve.cancelable?ve.preventDefault():ve.returnValue=!1,B(ve),Oe.style.transitionDuration="0ms",Ge.style.transitionDuration="0ms",Ee.style.transitionDuration="0ms",r("scrollbarDragMove",ve))}function Y(ve){const _e=e.params.scrollbar,{scrollbar:Oe,wrapperEl:Ge}=e,{el:Ee}=Oe;!o||(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",Ge.style.transitionDuration=""),_e.hide&&(clearTimeout(l),l=lm(()=>{Ee.style.opacity=0,Ee.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",ve),_e.snapOnRelease&&e.slideToClosest())}function se(ve){const{scrollbar:_e,params:Oe}=e,Ge=_e.el;if(!Ge)return;const ye=!!Oe.passiveListeners&&{passive:!1,capture:!1},we=!!Oe.passiveListeners&&{passive:!0,capture:!1};if(!Ge)return;const et="on"===ve?"addEventListener":"removeEventListener";Ge[et]("pointerdown",L,ye),s[et]("pointermove",H,ye),s[et]("pointerup",Y,we)}function de(){const{scrollbar:ve,el:_e}=e;e.params.scrollbar=Wk(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const Oe=e.params.scrollbar;if(!Oe.el)return;let Ge,Ee;if("string"==typeof Oe.el&&e.isElement&&(Ge=e.el.querySelector(Oe.el)),Ge||"string"!=typeof Oe.el)Ge||(Ge=Oe.el);else if(Ge=s.querySelectorAll(Oe.el),!Ge.length)return;e.params.uniqueNavElements&&"string"==typeof Oe.el&&Ge.length>1&&1===_e.querySelectorAll(Oe.el).length&&(Ge=_e.querySelector(Oe.el)),Ge.length>0&&(Ge=Ge[0]),Ge.classList.add(e.isHorizontal()?Oe.horizontalClass:Oe.verticalClass),Ge&&(Ee=Ge.querySelector(vh(e.params.scrollbar.dragClass)),Ee||(Ee=Ul("div",e.params.scrollbar.dragClass),Ge.append(Ee))),Object.assign(ve,{el:Ge,dragEl:Ee}),Oe.draggable&&function ue(){!e.params.scrollbar.el||!e.scrollbar.el||se("on")}(),Ge&&Ge.classList[e.enabled?"remove":"add"](...jp(e.params.scrollbar.lockClass))}function ae(){const ve=e.params.scrollbar,_e=e.scrollbar.el;_e&&_e.classList.remove(...jp(e.isHorizontal()?ve.horizontalClass:ve.verticalClass)),function oe(){!e.params.scrollbar.el||!e.scrollbar.el||se("off")}()}t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null},i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const ve=e.params.scrollbar;let{el:_e}=e.scrollbar;_e=Ei(_e),_e.forEach(Oe=>{Oe.classList.remove(ve.horizontalClass,ve.verticalClass),Oe.classList.add(e.isHorizontal()?ve.horizontalClass:ve.verticalClass)})}),i("init",()=>{!1===e.params.scrollbar.enabled?Re():(de(),I(),C())}),i("update resize observerUpdate lock unlock changeDirection",()=>{I()}),i("setTranslate",()=>{C()}),i("setTransition",(ve,_e)=>{!function M(ve){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${ve}ms`)}(_e)}),i("enable disable",()=>{const{el:ve}=e.scrollbar;ve&&ve.classList[e.enabled?"remove":"add"](...jp(e.params.scrollbar.lockClass))}),i("destroy",()=>{ae()});const Re=()=>{e.el.classList.add(...jp(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...jp(e.params.scrollbar.scrollbarDisabledClass)),ae()};Object.assign(e.scrollbar,{enable:()=>{e.el.classList.remove(...jp(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...jp(e.params.scrollbar.scrollbarDisabledClass)),de(),I(),C()},disable:Re,updateSize:I,setTranslate:C,init:de,destroy:ae})},function wNe(n){let{swiper:e,extendParams:t,on:i}=n;t({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(l,c)=>{const{rtl:u}=e,d=u?-1:1,b=l.getAttribute("data-swiper-parallax")||"0";let C=l.getAttribute("data-swiper-parallax-x"),M=l.getAttribute("data-swiper-parallax-y");const I=l.getAttribute("data-swiper-parallax-scale"),k=l.getAttribute("data-swiper-parallax-opacity"),B=l.getAttribute("data-swiper-parallax-rotate");if(C||M?(C=C||"0",M=M||"0"):e.isHorizontal()?(C=b,M="0"):(M=b,C="0"),C=C.indexOf("%")>=0?parseInt(C,10)*c*d+"%":C*c*d+"px",M=M.indexOf("%")>=0?parseInt(M,10)*c+"%":M*c+"px",null!=k){const H=k-(k-1)*(1-Math.abs(c));l.style.opacity=H}let L=`translate3d(${C}, ${M}, 0px)`;null!=I&&(L+=` scale(${I-(I-1)*(1-Math.abs(c))})`),B&&null!=B&&(L+=` rotate(${B*c*-1}deg)`),l.style.transform=L},o=()=>{const{el:l,slides:c,progress:u,snapGrid:d}=e,C=Fo(l,r);e.isElement&&C.push(...Fo(e.hostEl,r)),C.forEach(M=>{s(M,u)}),c.forEach((M,I)=>{let k=M.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(k+=Math.ceil(I/2)-u*(d.length-1)),k=Math.min(Math.max(k,-1),1),M.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(B=>{s(B,k)})})};i("beforeInit",()=>{!e.params.parallax.enabled||(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{!e.params.parallax.enabled||o()}),i("setTranslate",()=>{!e.params.parallax.enabled||o()}),i("setTransition",(l,c)=>{!e.params.parallax.enabled||function(l){void 0===l&&(l=e.params.speed);const{el:c,hostEl:u}=e,d=[...c.querySelectorAll(r)];e.isElement&&d.push(...u.querySelectorAll(r)),d.forEach(b=>{let C=parseInt(b.getAttribute("data-swiper-parallax-duration"),10)||l;0===l&&(C=0),b.style.transitionDuration=`${C}ms`})}(c)})},function SNe(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=qr();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let d,b,o=1,a=!1,l=!1,c={x:0,y:0};const C=[],M={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},I={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},k={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let Re,B=1;function L(){if(C.length<2)return 1;const ut=C[0].pageY,Kt=C[1].pageY;return Math.sqrt(ha(C[1].pageX-C[0].pageX,2)+ha(Kt-ut,2))}function H(){const pt=e.params.zoom,ut=M.imageWrapEl.getAttribute("data-swiper-zoom")||pt.maxRatio;return pt.limitToOriginalSize&&M.imageEl&&M.imageEl.naturalWidth?Math.min(M.imageEl.naturalWidth/M.imageEl.offsetWidth,ut):ut}function ue(pt){const ut=function se(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}();return!!(pt.target.matches(ut)||e.slides.filter(dt=>dt.contains(pt.target)).length>0)}function oe(pt){const ut=`.${e.params.zoom.containerClass}`;return!!(pt.target.matches(ut)||[...e.hostEl.querySelectorAll(ut)].filter(dt=>dt.contains(pt.target)).length>0)}function de(pt){if("mouse"===pt.pointerType&&C.splice(0,C.length),!ue(pt))return;const ut=e.params.zoom;if(d=!1,b=!1,C.push(pt),!(C.length<2)){if(d=!0,M.scaleStart=L(),!M.slideEl){M.slideEl=pt.target.closest(`.${e.params.slideClass}, swiper-slide`),M.slideEl||(M.slideEl=e.slides[e.activeIndex]);let dt=M.slideEl.querySelector(`.${ut.containerClass}`);if(dt&&(dt=dt.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),M.imageEl=dt,M.imageWrapEl=dt?um(M.imageEl,`.${ut.containerClass}`)[0]:void 0,!M.imageWrapEl)return void(M.imageEl=void 0);M.maxRatio=H()}if(M.imageEl){const[dt,Kt]=function Y(){if(C.length<2)return{x:null,y:null};const pt=M.imageEl.getBoundingClientRect();return[(C[0].pageX+(C[1].pageX-C[0].pageX)/2-pt.x-s.scrollX)/o,(C[0].pageY+(C[1].pageY-C[0].pageY)/2-pt.y-s.scrollY)/o]}();M.originX=dt,M.originY=Kt,M.imageEl.style.transitionDuration="0ms"}a=!0}}function ae(pt){if(!ue(pt))return;const ut=e.params.zoom,dt=e.zoom,Kt=C.findIndex(Tn=>Tn.pointerId===pt.pointerId);Kt>=0&&(C[Kt]=pt),!(C.length<2)&&(b=!0,M.scaleMove=L(),M.imageEl&&(dt.scale=M.scaleMove/M.scaleStart*o,dt.scale>M.maxRatio&&(dt.scale=M.maxRatio-1+ha(dt.scale-M.maxRatio+1,.5)),dt.scale<ut.minRatio&&(dt.scale=ut.minRatio+1-ha(ut.minRatio-dt.scale+1,.5)),M.imageEl.style.transform=`translate3d(0,0,0) scale(${dt.scale})`))}function fe(pt){if(!ue(pt)||"mouse"===pt.pointerType&&"pointerout"===pt.type)return;const ut=e.params.zoom,dt=e.zoom,Kt=C.findIndex(Tn=>Tn.pointerId===pt.pointerId);Kt>=0&&C.splice(Kt,1),d&&b&&(d=!1,b=!1,M.imageEl&&(dt.scale=Math.max(Math.min(dt.scale,M.maxRatio),ut.minRatio),M.imageEl.style.transitionDuration=`${e.params.speed}ms`,M.imageEl.style.transform=`translate3d(0,0,0) scale(${dt.scale})`,o=dt.scale,a=!1,dt.scale>1&&M.slideEl?M.slideEl.classList.add(`${ut.zoomedSlideClass}`):dt.scale<=1&&M.slideEl&&M.slideEl.classList.remove(`${ut.zoomedSlideClass}`),1===dt.scale&&(M.originX=0,M.originY=0,M.slideEl=void 0)))}function ve(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function Ge(pt){const dt="mouse"===pt.pointerType&&e.params.zoom.panOnMouseMove;if(!ue(pt)||!oe(pt))return;const Kt=e.zoom;if(!M.imageEl)return;if(!I.isTouched||!M.slideEl)return void(dt&&we(pt));if(dt)return void we(pt);I.isMoved||(I.width=M.imageEl.offsetWidth||M.imageEl.clientWidth,I.height=M.imageEl.offsetHeight||M.imageEl.clientHeight,I.startX=Nk(M.imageWrapEl,"x")||0,I.startY=Nk(M.imageWrapEl,"y")||0,M.slideWidth=M.slideEl.offsetWidth,M.slideHeight=M.slideEl.offsetHeight,M.imageWrapEl.style.transitionDuration="0ms");const oi=I.height*Kt.scale;if(I.minX=Math.min(M.slideWidth/2-I.width*Kt.scale/2,0),I.maxX=-I.minX,I.minY=Math.min(M.slideHeight/2-oi/2,0),I.maxY=-I.minY,I.touchesCurrent.x=C.length>0?C[0].pageX:pt.pageX,I.touchesCurrent.y=C.length>0?C[0].pageY:pt.pageY,Math.max(Math.abs(I.touchesCurrent.x-I.touchesStart.x),Math.abs(I.touchesCurrent.y-I.touchesStart.y))>5&&(e.allowClick=!1),!I.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(I.minX)===Math.floor(I.startX)&&I.touchesCurrent.x<I.touchesStart.x||Math.floor(I.maxX)===Math.floor(I.startX)&&I.touchesCurrent.x>I.touchesStart.x))return I.isTouched=!1,void ve();if(!e.isHorizontal()&&(Math.floor(I.minY)===Math.floor(I.startY)&&I.touchesCurrent.y<I.touchesStart.y||Math.floor(I.maxY)===Math.floor(I.startY)&&I.touchesCurrent.y>I.touchesStart.y))return I.isTouched=!1,void ve()}pt.cancelable&&pt.preventDefault(),pt.stopPropagation(),function _e(){clearTimeout(Re),e.touchEventsData.preventTouchMoveFromPointerMove=!0,Re=setTimeout(()=>{e.destroyed||ve()})}(),I.isMoved=!0;const $i=(Kt.scale-o)/(M.maxRatio-e.params.zoom.minRatio),{originX:xn,originY:gi}=M;I.currentX=I.touchesCurrent.x-I.touchesStart.x+I.startX+$i*(I.width-2*xn),I.currentY=I.touchesCurrent.y-I.touchesStart.y+I.startY+$i*(I.height-2*gi),I.currentX<I.minX&&(I.currentX=I.minX+1-ha(I.minX-I.currentX+1,.8)),I.currentX>I.maxX&&(I.currentX=I.maxX-1+ha(I.currentX-I.maxX+1,.8)),I.currentY<I.minY&&(I.currentY=I.minY+1-ha(I.minY-I.currentY+1,.8)),I.currentY>I.maxY&&(I.currentY=I.maxY-1+ha(I.currentY-I.maxY+1,.8)),k.prevPositionX||(k.prevPositionX=I.touchesCurrent.x),k.prevPositionY||(k.prevPositionY=I.touchesCurrent.y),k.prevTime||(k.prevTime=Date.now()),k.x=(I.touchesCurrent.x-k.prevPositionX)/(Date.now()-k.prevTime)/2,k.y=(I.touchesCurrent.y-k.prevPositionY)/(Date.now()-k.prevTime)/2,Math.abs(I.touchesCurrent.x-k.prevPositionX)<2&&(k.x=0),Math.abs(I.touchesCurrent.y-k.prevPositionY)<2&&(k.y=0),k.prevPositionX=I.touchesCurrent.x,k.prevPositionY=I.touchesCurrent.y,k.prevTime=Date.now(),M.imageWrapEl.style.transform=`translate3d(${I.currentX}px, ${I.currentY}px,0)`}function ye(){const pt=e.zoom;M.slideEl&&e.activeIndex!==e.slides.indexOf(M.slideEl)&&(M.imageEl&&(M.imageEl.style.transform="translate3d(0,0,0) scale(1)"),M.imageWrapEl&&(M.imageWrapEl.style.transform="translate3d(0,0,0)"),M.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),pt.scale=1,o=1,M.slideEl=void 0,M.imageEl=void 0,M.imageWrapEl=void 0,M.originX=0,M.originY=0)}function we(pt){if(o<=1||!M.imageWrapEl||!ue(pt)||!oe(pt))return;const ut=s.getComputedStyle(M.imageWrapEl).transform,dt=new s.DOMMatrix(ut);if(!l)return l=!0,c.x=pt.clientX,c.y=pt.clientY,I.startX=dt.e,I.startY=dt.f,I.width=M.imageEl.offsetWidth||M.imageEl.clientWidth,I.height=M.imageEl.offsetHeight||M.imageEl.clientHeight,M.slideWidth=M.slideEl.offsetWidth,void(M.slideHeight=M.slideEl.offsetHeight);const Kt=-3*(pt.clientX-c.x),Tn=-3*(pt.clientY-c.y),ki=I.height*o,xn=M.slideHeight,gi=Math.min(M.slideWidth/2-I.width*o/2,0),ur=-gi,Ms=Math.min(xn/2-ki/2,0),at=-Ms,Hr=Math.max(Math.min(I.startX+Kt,ur),gi),la=Math.max(Math.min(I.startY+Tn,at),Ms);M.imageWrapEl.style.transitionDuration="0ms",M.imageWrapEl.style.transform=`translate3d(${Hr}px, ${la}px, 0)`,c.x=pt.clientX,c.y=pt.clientY,I.startX=Hr,I.startY=la,I.currentX=Hr,I.currentY=la}function et(pt){const ut=e.zoom,dt=e.params.zoom;if(!M.slideEl){pt&&pt.target&&(M.slideEl=pt.target.closest(`.${e.params.slideClass}, swiper-slide`)),M.slideEl||(M.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?Fo(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex]);let wo=M.slideEl.querySelector(`.${dt.containerClass}`);wo&&(wo=wo.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),M.imageEl=wo,M.imageWrapEl=wo?um(M.imageEl,`.${dt.containerClass}`)[0]:void 0}if(!M.imageEl||!M.imageWrapEl)return;let Kt,Tn,oi,ki,$i,xn,gi,ur,Ms,at,Hr,la,jl,Fr,Gl,kc,Su,gs;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),M.slideEl.classList.add(`${dt.zoomedSlideClass}`),void 0===I.touchesStart.x&&pt?(Kt=pt.pageX,Tn=pt.pageY):(Kt=I.touchesStart.x,Tn=I.touchesStart.y);const Nc=o,_r="number"==typeof pt?pt:null;1===o&&_r&&(Kt=void 0,Tn=void 0,I.touchesStart.x=void 0,I.touchesStart.y=void 0);const nl=H();ut.scale=_r||nl,o=_r||nl,!pt||1===o&&_r?(gi=0,ur=0):(Su=M.slideEl.offsetWidth,gs=M.slideEl.offsetHeight,oi=dx(M.slideEl).left+s.scrollX,ki=dx(M.slideEl).top+s.scrollY,$i=oi+Su/2-Kt,xn=ki+gs/2-Tn,Ms=M.imageEl.offsetWidth||M.imageEl.clientWidth,at=M.imageEl.offsetHeight||M.imageEl.clientHeight,Hr=Ms*ut.scale,la=at*ut.scale,jl=Math.min(Su/2-Hr/2,0),Fr=Math.min(gs/2-la/2,0),Gl=-jl,kc=-Fr,Nc>0&&_r&&"number"==typeof I.currentX&&"number"==typeof I.currentY?(gi=I.currentX*ut.scale/Nc,ur=I.currentY*ut.scale/Nc):(gi=$i*ut.scale,ur=xn*ut.scale),gi<jl&&(gi=jl),gi>Gl&&(gi=Gl),ur<Fr&&(ur=Fr),ur>kc&&(ur=kc)),_r&&1===ut.scale&&(M.originX=0,M.originY=0),I.currentX=gi,I.currentY=ur,M.imageWrapEl.style.transitionDuration="300ms",M.imageWrapEl.style.transform=`translate3d(${gi}px, ${ur}px,0)`,M.imageEl.style.transitionDuration="300ms",M.imageEl.style.transform=`translate3d(0,0,0) scale(${ut.scale})`}function Pe(){const pt=e.zoom,ut=e.params.zoom;if(!M.slideEl){M.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?Fo(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex];let dt=M.slideEl.querySelector(`.${ut.containerClass}`);dt&&(dt=dt.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),M.imageEl=dt,M.imageWrapEl=dt?um(M.imageEl,`.${ut.containerClass}`)[0]:void 0}!M.imageEl||!M.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),pt.scale=1,o=1,I.currentX=void 0,I.currentY=void 0,I.touchesStart.x=void 0,I.touchesStart.y=void 0,M.imageWrapEl.style.transitionDuration="300ms",M.imageWrapEl.style.transform="translate3d(0,0,0)",M.imageEl.style.transitionDuration="300ms",M.imageEl.style.transform="translate3d(0,0,0) scale(1)",M.slideEl.classList.remove(`${ut.zoomedSlideClass}`),M.slideEl=void 0,M.originX=0,M.originY=0,e.params.zoom.panOnMouseMove&&(c={x:0,y:0},l&&(l=!1,I.startX=0,I.startY=0)))}function Ot(pt){const ut=e.zoom;ut.scale&&1!==ut.scale?Pe():et(pt)}function gn(){return{passiveListener:!!e.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!e.params.passiveListeners||{passive:!1,capture:!0}}}function ei(){const pt=e.zoom;if(pt.enabled)return;pt.enabled=!0;const{passiveListener:ut,activeListenerWithCapture:dt}=gn();e.wrapperEl.addEventListener("pointerdown",de,ut),e.wrapperEl.addEventListener("pointermove",ae,dt),["pointerup","pointercancel","pointerout"].forEach(Kt=>{e.wrapperEl.addEventListener(Kt,fe,ut)}),e.wrapperEl.addEventListener("pointermove",Ge,dt)}function on(){const pt=e.zoom;if(!pt.enabled)return;pt.enabled=!1;const{passiveListener:ut,activeListenerWithCapture:dt}=gn();e.wrapperEl.removeEventListener("pointerdown",de,ut),e.wrapperEl.removeEventListener("pointermove",ae,dt),["pointerup","pointercancel","pointerout"].forEach(Kt=>{e.wrapperEl.removeEventListener(Kt,fe,ut)}),e.wrapperEl.removeEventListener("pointermove",Ge,dt)}Object.defineProperty(e.zoom,"scale",{get:()=>B,set(pt){B!==pt&&r("zoomChange",pt,M.imageEl,M.slideEl),B=pt}}),i("init",()=>{e.params.zoom.enabled&&ei()}),i("destroy",()=>{on()}),i("touchStart",(pt,ut)=>{!e.zoom.enabled||function Oe(pt){if(!M.imageEl||I.isTouched)return;e.device.android&&pt.cancelable&&pt.preventDefault(),I.isTouched=!0;const dt=C.length>0?C[0]:pt;I.touchesStart.x=dt.pageX,I.touchesStart.y=dt.pageY}(ut)}),i("touchEnd",(pt,ut)=>{!e.zoom.enabled||function Ee(){const pt=e.zoom;if(C.length=0,!M.imageEl)return;if(!I.isTouched||!I.isMoved)return I.isTouched=!1,void(I.isMoved=!1);I.isTouched=!1,I.isMoved=!1;let ut=300,dt=300;const Tn=I.currentX+k.x*ut,ki=I.currentY+k.y*dt;0!==k.x&&(ut=Math.abs((Tn-I.currentX)/k.x)),0!==k.y&&(dt=Math.abs((ki-I.currentY)/k.y));const $i=Math.max(ut,dt);I.currentX=Tn,I.currentY=ki;const gi=I.height*pt.scale;I.minX=Math.min(M.slideWidth/2-I.width*pt.scale/2,0),I.maxX=-I.minX,I.minY=Math.min(M.slideHeight/2-gi/2,0),I.maxY=-I.minY,I.currentX=Math.max(Math.min(I.currentX,I.maxX),I.minX),I.currentY=Math.max(Math.min(I.currentY,I.maxY),I.minY),M.imageWrapEl.style.transitionDuration=`${$i}ms`,M.imageWrapEl.style.transform=`translate3d(${I.currentX}px, ${I.currentY}px,0)`}()}),i("doubleTap",(pt,ut)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&Ot(ut)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&ye()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&ye()}),Object.assign(e.zoom,{enable:ei,disable:on,in:et,out:Pe,toggle:Ot})},function TNe(n){let{swiper:e,extendParams:t,on:i}=n;function r(c,u){const d=function(){let I,k,B;return(L,H)=>{for(k=-1,I=L.length;I-k>1;)B=I+k>>1,L[B]<=H?k=B:I=B;return I}}();let b,C;return this.x=c,this.y=u,this.lastIndex=c.length-1,this.interpolate=function(I){return I?(C=d(this.x,I),b=C-1,(I-this.x[b])*(this.y[C]-this.y[b])/(this.x[C]-this.x[b])+this.y[b]):0},this}function l(){!e.controller.control||e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},i("beforeInit",()=>{"undefined"!=typeof window&&("string"==typeof e.params.controller.control||e.params.controller.control instanceof HTMLElement)?("string"==typeof e.params.controller.control?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(u=>{if(e.controller.control||(e.controller.control=[]),u&&u.swiper)e.controller.control.push(u.swiper);else if(u){const d=`${e.params.eventsPrefix}init`,b=C=>{e.controller.control.push(C.detail[0]),e.update(),u.removeEventListener(d,b)};u.addEventListener(d,b)}}):e.controller.control=e.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,u,d)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(u,d)}),i("setTransition",(c,u,d)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(u,d)}),Object.assign(e.controller,{setTranslate:function o(c,u){const d=e.controller.control;let b,C;const M=e.constructor;function I(k){if(k.destroyed)return;const B=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(function s(c){e.controller.spline=e.params.loop?new r(e.slidesGrid,c.slidesGrid):new r(e.snapGrid,c.snapGrid)}(k),C=-e.controller.spline.interpolate(-B)),(!C||"container"===e.params.controller.by)&&(b=(k.maxTranslate()-k.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(b)||!Number.isFinite(b))&&(b=1),C=(B-e.minTranslate())*b+k.minTranslate()),e.params.controller.inverse&&(C=k.maxTranslate()-C),k.updateProgress(C),k.setTranslate(C,e),k.updateActiveIndex(),k.updateSlidesClasses()}if(Array.isArray(d))for(let k=0;k<d.length;k+=1)d[k]!==u&&d[k]instanceof M&&I(d[k]);else d instanceof M&&u!==d&&I(d)},setTransition:function a(c,u){const d=e.constructor,b=e.controller.control;let C;function M(I){I.destroyed||(I.setTransition(c,e),0!==c&&(I.transitionStart(),I.params.autoHeight&&lm(()=>{I.updateAutoHeight()}),N1(I.wrapperEl,()=>{!b||I.transitionEnd()})))}if(Array.isArray(b))for(C=0;C<b.length;C+=1)b[C]!==u&&b[C]instanceof d&&M(b[C]);else b instanceof d&&u!==b&&M(b)}})},function MNe(n){let{swiper:e,extendParams:t,on:i}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let s,o,r=null,a=(new Date).getTime();function l(ye){const we=r;0!==we.length&&(we.innerHTML="",we.innerHTML=ye)}function u(ye){(ye=Ei(ye)).forEach(we=>{we.setAttribute("tabIndex","0")})}function d(ye){(ye=Ei(ye)).forEach(we=>{we.setAttribute("tabIndex","-1")})}function b(ye,we){(ye=Ei(ye)).forEach(et=>{et.setAttribute("role",we)})}function C(ye,we){(ye=Ei(ye)).forEach(et=>{et.setAttribute("aria-roledescription",we)})}function I(ye,we){(ye=Ei(ye)).forEach(et=>{et.setAttribute("aria-label",we)})}function L(ye){(ye=Ei(ye)).forEach(we=>{we.setAttribute("aria-disabled",!0)})}function H(ye){(ye=Ei(ye)).forEach(we=>{we.setAttribute("aria-disabled",!1)})}function Y(ye){if(13!==ye.keyCode&&32!==ye.keyCode)return;const we=e.params.a11y,et=ye.target;if(!e.pagination||!e.pagination.el||et!==e.pagination.el&&!e.pagination.el.contains(ye.target)||ye.target.matches(vh(e.params.pagination.bulletClass))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const Pe=Ei(e.navigation.prevEl);Ei(e.navigation.nextEl).includes(et)&&(e.isEnd&&!e.params.loop||e.slideNext(),l(e.isEnd?we.lastSlideMessage:we.nextSlideMessage)),Pe.includes(et)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),l(e.isBeginning?we.firstSlideMessage:we.prevSlideMessage))}e.pagination&&et.matches(vh(e.params.pagination.bulletClass))&&et.click()}}function ue(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function oe(){return ue()&&e.params.pagination.clickable}const ae=(ye,we,et)=>{u(ye),"BUTTON"!==ye.tagName&&(b(ye,"button"),ye.addEventListener("keydown",Y)),I(ye,et),function M(ye,we){(ye=Ei(ye)).forEach(et=>{et.setAttribute("aria-controls",we)})}(ye,we)},fe=ye=>{o&&o!==ye.target&&!o.contains(ye.target)&&(s=!0),e.a11y.clicked=!0},Re=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},ve=ye=>{a=(new Date).getTime()},_e=ye=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||(new Date).getTime()-a<100)return;const we=ye.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!we||!e.slides.includes(we))return;o=we;const et=e.slides.indexOf(we)===e.activeIndex,Pe=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(we);et||Pe||ye.sourceCapabilities&&ye.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(parseInt(we.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(we),0),s=!1)}))},Oe=()=>{const ye=e.params.a11y;ye.itemRoleDescriptionMessage&&C(e.slides,ye.itemRoleDescriptionMessage),ye.slideRole&&b(e.slides,ye.slideRole);const we=e.slides.length;ye.slideLabelMessage&&e.slides.forEach((et,Pe)=>{const Ot=e.params.loop?parseInt(et.getAttribute("data-swiper-slide-index"),10):Pe;I(et,ye.slideLabelMessage.replace(/\{\{index\}\}/,Ot+1).replace(/\{\{slidesLength\}\}/,we))})};i("beforeInit",()=>{r=Ul("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{!e.params.a11y.enabled||(()=>{const ye=e.params.a11y;e.el.append(r);const we=e.el;ye.containerRoleDescriptionMessage&&C(we,ye.containerRoleDescriptionMessage),ye.containerMessage&&I(we,ye.containerMessage),ye.containerRole&&b(we,ye.containerRole);const et=e.wrapperEl,Pe=ye.id||et.getAttribute("id")||`swiper-wrapper-${function c(ye){return void 0===ye&&(ye=16),"x".repeat(ye).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,Ot=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";(function k(ye,we){(ye=Ei(ye)).forEach(et=>{et.setAttribute("id",we)})})(et,Pe),function B(ye,we){(ye=Ei(ye)).forEach(et=>{et.setAttribute("aria-live",we)})}(et,Ot),Oe();let{nextEl:gn,prevEl:ei}=e.navigation?e.navigation:{};gn=Ei(gn),ei=Ei(ei),gn&&gn.forEach(pt=>ae(pt,Pe,ye.nextSlideMessage)),ei&&ei.forEach(pt=>ae(pt,Pe,ye.prevSlideMessage)),oe()&&Ei(e.pagination.el).forEach(ut=>{ut.addEventListener("keydown",Y)}),Co().addEventListener("visibilitychange",ve),e.el.addEventListener("focus",_e,!0),e.el.addEventListener("focus",_e,!0),e.el.addEventListener("pointerdown",fe,!0),e.el.addEventListener("pointerup",Re,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{!e.params.a11y.enabled||Oe()}),i("fromEdge toEdge afterInit lock unlock",()=>{!e.params.a11y.enabled||function se(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:ye,prevEl:we}=e.navigation;we&&(e.isBeginning?(L(we),d(we)):(H(we),u(we))),ye&&(e.isEnd?(L(ye),d(ye)):(H(ye),u(ye)))}()}),i("paginationUpdate",()=>{!e.params.a11y.enabled||function de(){const ye=e.params.a11y;!ue()||e.pagination.bullets.forEach(we=>{e.params.pagination.clickable&&(u(we),e.params.pagination.renderBullet||(b(we,"button"),I(we,ye.paginationBulletMessage.replace(/\{\{index\}\}/,k1(we)+1)))),we.matches(vh(e.params.pagination.bulletActiveClass))?we.setAttribute("aria-current","true"):we.removeAttribute("aria-current")})}()}),i("destroy",()=>{!e.params.a11y.enabled||function Ee(){r&&r.remove();let{nextEl:ye,prevEl:we}=e.navigation?e.navigation:{};ye=Ei(ye),we=Ei(we),ye&&ye.forEach(Pe=>Pe.removeEventListener("keydown",Y)),we&&we.forEach(Pe=>Pe.removeEventListener("keydown",Y)),oe()&&Ei(e.pagination.el).forEach(Ot=>{Ot.removeEventListener("keydown",Y)}),Co().removeEventListener("visibilitychange",ve),e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("focus",_e,!0),e.el.removeEventListener("pointerdown",fe,!0),e.el.removeEventListener("pointerup",Re,!0))}()})},function xNe(n){let{swiper:e,extendParams:t,on:i}=n;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,s={};const o=C=>C.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=C=>{const M=qr();let I;I=C?new URL(C):M.location;const k=I.pathname.slice(1).split("/").filter(Y=>""!==Y),B=k.length;return{key:k[B-2],value:k[B-1]}},l=(C,M)=>{const I=qr();if(!r||!e.params.history.enabled)return;let k;k=e.params.url?new URL(e.params.url):I.location;const B=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${M}"]`):e.slides[M];let L=o(B.getAttribute("data-history"));if(e.params.history.root.length>0){let Y=e.params.history.root;"/"===Y[Y.length-1]&&(Y=Y.slice(0,Y.length-1)),L=`${Y}/${C?`${C}/`:""}${L}`}else k.pathname.includes(C)||(L=`${C?`${C}/`:""}${L}`);e.params.history.keepQuery&&(L+=k.search);const H=I.history.state;H&&H.value===L||(e.params.history.replaceState?I.history.replaceState({value:L},null,L):I.history.pushState({value:L},null,L))},c=(C,M,I)=>{if(M)for(let k=0,B=e.slides.length;k<B;k+=1){const L=e.slides[k];if(o(L.getAttribute("data-history"))===M){const Y=e.getSlideIndex(L);e.slideTo(Y,C,I)}}else e.slideTo(0,C,I)},u=()=>{s=a(e.params.url),c(e.params.speed,s.value,!1)};i("init",()=>{e.params.history.enabled&&(()=>{const C=qr();if(e.params.history){if(!C.history||!C.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);if(r=!0,s=a(e.params.url),!s.key&&!s.value)return void(e.params.history.replaceState||C.addEventListener("popstate",u));c(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||C.addEventListener("popstate",u)}})()}),i("destroy",()=>{e.params.history.enabled&&(()=>{const C=qr();e.params.history.replaceState||C.removeEventListener("popstate",u)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&l(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{r&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})},function ENe(n){let{swiper:e,extendParams:t,emit:i,on:r}=n,s=!1;const o=Co(),a=qr();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(b,C){if(e.virtual&&e.params.virtual.enabled){const M=e.slides.find(k=>k.getAttribute("data-hash")===C);return M?parseInt(M.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(Fo(e.slidesEl,`.${e.params.slideClass}[data-hash="${C}"], swiper-slide[data-hash="${C}"]`)[0])}}});const l=()=>{i("hashChange");const b=o.location.hash.replace("#",""),C=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex];if(b!==(C?C.getAttribute("data-hash"):"")){const I=e.params.hashNavigation.getSlideIndex(e,b);if(void 0===I||Number.isNaN(I))return;e.slideTo(I)}},c=()=>{if(!s||!e.params.hashNavigation.enabled)return;const b=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],C=b?b.getAttribute("data-hash")||b.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${C}`||""),i("hashSet")):(o.location.hash=C||"",i("hashSet"))};r("init",()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;s=!0;const b=o.location.hash.replace("#","");if(b){const M=e.params.hashNavigation.getSlideIndex(e,b);e.slideTo(M||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)})()}),r("destroy",()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)}),r("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c()}),r("slideChange",()=>{s&&e.params.cssMode&&c()})},function ONe(n){let{swiper:e,extendParams:t,on:i,emit:r,params:s}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,u,b,C,M,I,k,B,L,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,d=(new Date).getTime();function H(we){!e||e.destroyed||!e.wrapperEl||we.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",H),!(L||we.detail&&we.detail.bySwiperTouchMove)&&fe())}const Y=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(c=u,b=!1);const we=e.autoplay.paused?u:d+c-(new Date).getTime();e.autoplay.timeLeft=we,r("autoplayTimeLeft",we,we/l),a=requestAnimationFrame(()=>{Y()})},ue=we=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),Y();let et=void 0===we?e.params.autoplay.delay:we;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const Pe=(()=>{let we;return we=e.virtual&&e.params.virtual.enabled?e.slides.find(Pe=>Pe.classList.contains("swiper-slide-active")):e.slides[e.activeIndex],we?parseInt(we.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(Pe)&&Pe>0&&void 0===we&&(et=Pe,l=Pe,c=Pe),u=et;const Ot=e.params.speed,gn=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Ot,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Ot,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Ot,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Ot,!0,!0),r("autoplay")),e.params.cssMode&&(d=(new Date).getTime(),requestAnimationFrame(()=>{ue()})))};return et>0?(clearTimeout(o),o=setTimeout(()=>{gn()},et)):requestAnimationFrame(()=>{gn()}),et},oe=()=>{d=(new Date).getTime(),e.autoplay.running=!0,ue(),r("autoplayStart")},de=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},ae=(we,et)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),we||(B=!0);const Pe=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",H):fe()};if(e.autoplay.paused=!0,et)return k&&(u=e.params.autoplay.delay),k=!1,void Pe();u=(u||e.params.autoplay.delay)-((new Date).getTime()-d),(!(e.isEnd&&u<0)||e.params.loop)&&(u<0&&(u=0),Pe())},fe=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=(new Date).getTime(),B?(B=!1,ue(u)):ue(),e.autoplay.paused=!1,r("autoplayResume"))},Re=()=>{if(e.destroyed||!e.autoplay.running)return;const we=Co();"hidden"===we.visibilityState&&(B=!0,ae(!0)),"visible"===we.visibilityState&&fe()},ve=we=>{"mouse"===we.pointerType&&(B=!0,L=!0,!e.animating&&!e.autoplay.paused&&ae(!0))},_e=we=>{"mouse"===we.pointerType&&(L=!1,e.autoplay.paused&&fe())};i("init",()=>{e.params.autoplay.enabled&&(e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",ve),e.el.addEventListener("pointerleave",_e)),Co().addEventListener("visibilitychange",Re),oe())}),i("destroy",()=>{e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("pointerenter",ve),e.el.removeEventListener("pointerleave",_e)),Co().removeEventListener("visibilitychange",Re),e.autoplay.running&&de()}),i("_freeModeStaticRelease",()=>{(M||B)&&fe()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?de():ae(!0,!0)}),i("beforeTransitionStart",(we,et,Pe)=>{e.destroyed||!e.autoplay.running||(Pe||!e.params.autoplay.disableOnInteraction?ae(!0,!0):de())}),i("sliderFirstMove",()=>{if(!e.destroyed&&e.autoplay.running){if(e.params.autoplay.disableOnInteraction)return void de();C=!0,M=!1,B=!1,I=setTimeout(()=>{B=!0,M=!0,ae(!0)},200)}}),i("touchEnd",()=>{if(!e.destroyed&&e.autoplay.running&&C){if(clearTimeout(I),clearTimeout(o),e.params.autoplay.disableOnInteraction)return M=!1,void(C=!1);M&&e.params.cssMode&&fe(),M=!1,C=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(k=!0)}),Object.assign(e.autoplay,{start:oe,stop:de,pause:ae,resume:fe})},function PNe(n){let{swiper:e,extendParams:t,on:i}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;function o(){const c=e.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,d=c.clickedSlide;if(d&&d.classList.contains(e.params.thumbs.slideThumbActiveClass)||null==u)return;let b;b=c.params.loop?parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):u,e.params.loop?e.slideToLoop(b):e.slideTo(b)}function a(){const{thumbs:c}=e.params;if(r)return!1;r=!0;const u=e.constructor;if(c.swiper instanceof u){if(c.swiper.destroyed)return r=!1,!1;e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(D1(c.swiper)){const d=Object.assign({},c.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new u(d),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const d="auto"===u.params.slidesPerView?u.slidesPerViewDynamic():u.params.slidesPerView;let b=1;const C=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(b=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(b=1),b=Math.floor(b),u.slides.forEach(k=>k.classList.remove(C)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let k=0;k<b;k+=1)Fo(u.slidesEl,`[data-swiper-slide-index="${e.realIndex+k}"]`).forEach(B=>{B.classList.add(C)});else for(let k=0;k<b;k+=1)u.slides[e.realIndex+k]&&u.slides[e.realIndex+k].classList.add(C);const M=e.params.thumbs.autoScrollOffset,I=M&&!u.params.loop;if(e.realIndex!==u.realIndex||I){const k=u.activeIndex;let B,L;if(u.params.loop){const H=u.slides.find(Y=>Y.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);B=u.slides.indexOf(H),L=e.activeIndex>e.previousIndex?"next":"prev"}else B=e.realIndex,L=B>e.previousIndex?"next":"prev";I&&(B+="next"===L?M:-1*M),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(B)<0&&(u.params.centeredSlides&&(B=B>k?B-Math.floor(d/2)+1:B+Math.floor(d/2)-1),u.slideTo(B,c?0:void 0))}}e.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:c}=e.params;if(c&&c.swiper)if("string"==typeof c.swiper||c.swiper instanceof HTMLElement){const u=Co(),d=()=>{const C="string"==typeof c.swiper?u.querySelector(c.swiper):c.swiper;if(C&&C.swiper)c.swiper=C.swiper,a(),l(!0);else if(C){const M=`${e.params.eventsPrefix}init`,I=k=>{c.swiper=k.detail[0],C.removeEventListener(M,I),a(),l(!0),c.swiper.update(),e.update()};C.addEventListener(M,I)}return C},b=()=>{e.destroyed||d()||requestAnimationFrame(b)};requestAnimationFrame(b)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,u)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(u)}),i("beforeDestroy",()=>{const c=e.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})},function INe(n){let{swiper:e,extendParams:t,emit:i,once:r}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function s(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;0===l.velocities.length&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Rc()})},onTouchEnd:function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:b,snapGrid:C,touchEventsData:M}=e,k=Rc()-M.touchStartTime;if(c<-e.minTranslate())e.slideTo(e.activeIndex);else if(c>-e.maxTranslate())e.slideTo(e.slides.length<C.length?C.length-1:e.slides.length-1);else{if(u.freeMode.momentum){if(M.velocities.length>1){const de=M.velocities.pop(),ae=M.velocities.pop(),Re=de.time-ae.time;e.velocity=(de.position-ae.position)/Re,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(Re>150||Rc()-de.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,M.velocities.length=0;let B=1e3*u.freeMode.momentumRatio,H=e.translate+e.velocity*B;b&&(H=-H);let se,Y=!1;const ue=20*Math.abs(e.velocity)*u.freeMode.momentumBounceRatio;let oe;if(H<e.maxTranslate())u.freeMode.momentumBounce?(H+e.maxTranslate()<-ue&&(H=e.maxTranslate()-ue),se=e.maxTranslate(),Y=!0,M.allowMomentumBounce=!0):H=e.maxTranslate(),u.loop&&u.centeredSlides&&(oe=!0);else if(H>e.minTranslate())u.freeMode.momentumBounce?(H-e.minTranslate()>ue&&(H=e.minTranslate()+ue),se=e.minTranslate(),Y=!0,M.allowMomentumBounce=!0):H=e.minTranslate(),u.loop&&u.centeredSlides&&(oe=!0);else if(u.freeMode.sticky){let de;for(let ae=0;ae<C.length;ae+=1)if(C[ae]>-H){de=ae;break}H=Math.abs(C[de]-H)<Math.abs(C[de-1]-H)||"next"===e.swipeDirection?C[de]:C[de-1],H=-H}if(oe&&r("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(B=b?Math.abs((-H-e.translate)/e.velocity):Math.abs((H-e.translate)/e.velocity),u.freeMode.sticky){const de=Math.abs((b?-H:H)-e.translate),ae=e.slidesSizesGrid[e.activeIndex];B=de<ae?u.speed:de<2*ae?1.5*u.speed:2.5*u.speed}}else if(u.freeMode.sticky)return void e.slideToClosest();u.freeMode.momentumBounce&&Y?(e.updateProgress(se),e.setTransition(B),e.setTranslate(H),e.transitionStart(!0,e.swipeDirection),e.animating=!0,N1(d,()=>{!e||e.destroyed||!M.allowMomentumBounce||(i("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(se),N1(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(H),e.setTransition(B),e.setTranslate(H),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,N1(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(H),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(u.freeMode.sticky)return void e.slideToClosest();u.freeMode&&i("_freeModeNoMomentumRelease")}(!u.freeMode.momentum||k>=u.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function ANe(n){let r,s,o,a,{swiper:e,extendParams:t,on:i}=n;t({grid:{rows:1,fill:"column"}});const l=()=>{let I=e.params.spaceBetween;return"string"==typeof I&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*e.size:"string"==typeof I&&(I=parseFloat(I)),I};i("init",()=>{a=e.params.grid&&e.params.grid.rows>1}),i("update",()=>{const{params:I,el:k}=e,B=I.grid&&I.grid.rows>1;a&&!B?(k.classList.remove(`${I.containerModifierClass}grid`,`${I.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!a&&B&&(k.classList.add(`${I.containerModifierClass}grid`),"column"===I.grid.fill&&k.classList.add(`${I.containerModifierClass}grid-column`),e.emitContainerClasses()),a=B}),e.grid={initSlides:I=>{const{slidesPerView:k}=e.params,{rows:B,fill:L}=e.params.grid,H=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:I.length;o=Math.floor(H/B),r=Math.floor(H/B)===H/B?H:Math.ceil(H/B)*B,"auto"!==k&&"row"===L&&(r=Math.max(r,k*B)),s=r/B},unsetSlides:()=>{e.slides&&e.slides.forEach(I=>{I.swiperSlideGridSet&&(I.style.height="",I.style[e.getDirectionLabel("margin-top")]="")})},updateSlide:(I,k,B)=>{const{slidesPerGroup:L}=e.params,H=l(),{rows:Y,fill:se}=e.params.grid,ue=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:B.length;let oe,de,ae;if("row"===se&&L>1){const fe=Math.floor(I/(L*Y)),Re=I-Y*L*fe,ve=0===fe?L:Math.min(Math.ceil((ue-fe*Y*L)/Y),L);ae=Math.floor(Re/ve),de=Re-ae*ve+fe*L,oe=de+ae*r/Y,k.style.order=oe}else"column"===se?(de=Math.floor(I/Y),ae=I-de*Y,(de>o||de===o&&ae===Y-1)&&(ae+=1,ae>=Y&&(ae=0,de+=1))):(ae=Math.floor(I/s),de=I-ae*s);k.row=ae,k.column=de,k.style.height=`calc((100% - ${(Y-1)*H}px) / ${Y})`,k.style[e.getDirectionLabel("margin-top")]=0!==ae?H&&`${H}px`:"",k.swiperSlideGridSet=!0},updateWrapperSize:(I,k)=>{const{centeredSlides:B,roundLengths:L}=e.params,H=l(),{rows:Y}=e.params.grid;if(e.virtualSize=(I+H)*r,e.virtualSize=Math.ceil(e.virtualSize/Y)-H,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+H}px`),B){const se=[];for(let ue=0;ue<k.length;ue+=1){let oe=k[ue];L&&(oe=Math.floor(oe)),k[ue]<e.virtualSize+k[0]&&se.push(oe)}k.splice(0,k.length),k.push(...se)}}}},function BNe(n){let{swiper:e}=n;Object.assign(e,{appendSlide:DNe.bind(e),prependSlide:RNe.bind(e),addSlide:kNe.bind(e),removeSlide:NNe.bind(e),removeAllSlides:FNe.bind(e)})},function LNe(n){let{swiper:e,extendParams:t,on:i}=n;t({fadeEffect:{crossFade:!1}}),V0({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:o}=e;for(let l=0;l<o.length;l+=1){const c=e.slides[l];let d=-c.swiperSlideOffset;e.params.virtualTranslate||(d-=e.translate);let b=0;e.isHorizontal()||(b=d,d=0);const C=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),M=F1(0,c);M.style.opacity=C,M.style.transform=`translate3d(${d}px, ${b}px, 0px)`}},setTransition:o=>{const a=e.slides.map(l=>cm(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),fx({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function UNe(n){let{swiper:e,extendParams:t,on:i}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(l,c,u)=>{let d=l.querySelector(u?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),b=l.querySelector(u?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");d||(d=Ul("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"left":"top")).split(" ")),l.append(d)),b||(b=Ul("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"right":"bottom")).split(" ")),l.append(b)),d&&(d.style.opacity=Math.max(-c,0)),b&&(b.style.opacity=Math.max(c,0))};V0({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:d,height:b,rtlTranslate:C,size:M,browser:I}=e,k=hx(e),B=e.params.cubeEffect,L=e.isHorizontal(),H=e.virtual&&e.params.virtual.enabled;let se,Y=0;B.shadow&&(L?(se=e.wrapperEl.querySelector(".swiper-cube-shadow"),se||(se=Ul("div","swiper-cube-shadow"),e.wrapperEl.append(se)),se.style.height=`${d}px`):(se=l.querySelector(".swiper-cube-shadow"),se||(se=Ul("div","swiper-cube-shadow"),l.append(se))));for(let oe=0;oe<u.length;oe+=1){const de=u[oe];let ae=oe;H&&(ae=parseInt(de.getAttribute("data-swiper-slide-index"),10));let fe=90*ae,Re=Math.floor(fe/360);C&&(fe=-fe,Re=Math.floor(-fe/360));const ve=Math.max(Math.min(de.progress,1),-1);let _e=0,Oe=0,Ge=0;ae%4==0?(_e=4*-Re*M,Ge=0):(ae-1)%4==0?(_e=0,Ge=4*-Re*M):(ae-2)%4==0?(_e=M+4*Re*M,Ge=M):(ae-3)%4==0&&(_e=-M,Ge=3*M+4*M*Re),C&&(_e=-_e),L||(Oe=_e,_e=0);const Ee=`rotateX(${k(L?0:-fe)}deg) rotateY(${k(L?fe:0)}deg) translate3d(${_e}px, ${Oe}px, ${Ge}px)`;ve<=1&&ve>-1&&(Y=90*ae+90*ve,C&&(Y=90*-ae-90*ve)),de.style.transform=Ee,B.slideShadows&&r(de,ve,L)}if(c.style.transformOrigin=`50% 50% -${M/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${M/2}px`,B.shadow)if(L)se.style.transform=`translate3d(0px, ${d/2+B.shadowOffset}px, ${-d/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${B.shadowScale})`;else{const oe=Math.abs(Y)-90*Math.floor(Math.abs(Y)/90),de=1.5-(Math.sin(2*oe*Math.PI/360)/2+Math.cos(2*oe*Math.PI/360)/2),fe=B.shadowScale/de;se.style.transform=`scale3d(${B.shadowScale}, 1, ${fe}) translate3d(0px, ${b/2+B.shadowOffset}px, ${-b/2/fe}px) rotateX(-89.99deg)`}const ue=(I.isSafari||I.isWebView)&&I.needPerspectiveFix?-M/2:0;c.style.transform=`translate3d(0px,0,${ue}px) rotateX(${k(e.isHorizontal()?0:Y)}deg) rotateY(${k(e.isHorizontal()?-Y:0)}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${ue}px`)},setTransition:l=>{const{el:c,slides:u}=e;if(u.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(b=>{b.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const d=c.querySelector(".swiper-cube-shadow");d&&(d.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=e.isHorizontal();e.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);r(c,u,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function HNe(n){let{swiper:e,extendParams:t,on:i}=n;t({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(l,c)=>{let u=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),d=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=z0("flip",l,e.isHorizontal()?"left":"top")),d||(d=z0("flip",l,e.isHorizontal()?"right":"bottom")),u&&(u.style.opacity=Math.max(-c,0)),d&&(d.style.opacity=Math.max(c,0))};V0({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:c}=e,u=e.params.flipEffect,d=hx(e);for(let b=0;b<l.length;b+=1){const C=l[b];let M=C.progress;e.params.flipEffect.limitRotation&&(M=Math.max(Math.min(C.progress,1),-1));const I=C.swiperSlideOffset;let B=-180*M,L=0,H=e.params.cssMode?-I-e.translate:-I,Y=0;e.isHorizontal()?c&&(B=-B):(Y=H,H=0,L=-B,B=0),C.style.zIndex=-Math.abs(Math.round(M))+l.length,u.slideShadows&&r(C,M);const se=`translate3d(${H}px, ${Y}px, 0px) rotateX(${d(L)}deg) rotateY(${d(B)}deg)`;F1(0,C).style.transform=se}},setTransition:l=>{const c=e.slides.map(u=>cm(u));c.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),fx({swiper:e,duration:l,transformElements:c})},recreateShadows:()=>{e.slides.forEach(l=>{let c=l.progress;e.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),r(l,c)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function jNe(n){let{swiper:e,extendParams:t,on:i}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),V0({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:o,height:a,slides:l,slidesSizesGrid:c}=e,u=e.params.coverflowEffect,d=e.isHorizontal(),b=e.translate,C=d?o/2-b:a/2-b,M=d?u.rotate:-u.rotate,I=u.depth,k=hx(e);for(let B=0,L=l.length;B<L;B+=1){const H=l[B],Y=c[B],ue=(C-H.swiperSlideOffset-Y/2)/Y,oe="function"==typeof u.modifier?u.modifier(ue):ue*u.modifier;let de=d?M*oe:0,ae=d?0:M*oe,fe=-I*Math.abs(oe),Re=u.stretch;"string"==typeof Re&&-1!==Re.indexOf("%")&&(Re=parseFloat(u.stretch)/100*Y);let ve=d?0:Re*oe,_e=d?Re*oe:0,Oe=1-(1-u.scale)*Math.abs(oe);Math.abs(_e)<.001&&(_e=0),Math.abs(ve)<.001&&(ve=0),Math.abs(fe)<.001&&(fe=0),Math.abs(de)<.001&&(de=0),Math.abs(ae)<.001&&(ae=0),Math.abs(Oe)<.001&&(Oe=0);const Ge=`translate3d(${_e}px,${ve}px,${fe}px)  rotateX(${k(ae)}deg) rotateY(${k(de)}deg) scale(${Oe})`;if(F1(0,H).style.transform=Ge,H.style.zIndex=1-Math.abs(Math.round(oe)),u.slideShadows){let ye=H.querySelector(d?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),we=H.querySelector(d?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");ye||(ye=z0("coverflow",H,d?"left":"top")),we||(we=z0("coverflow",H,d?"right":"bottom")),ye&&(ye.style.opacity=oe>0?oe:0),we&&(we.style.opacity=-oe>0?-oe:0)}}},setTransition:o=>{e.slides.map(l=>cm(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function GNe(n){let{swiper:e,extendParams:t,on:i}=n;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=a=>"string"==typeof a?a:`${a}px`;V0({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:a,wrapperEl:l,slidesSizesGrid:c}=e,u=e.params.creativeEffect,{progressMultiplier:d}=u,b=e.params.centeredSlides,C=hx(e);b&&(l.style.transform=`translateX(calc(50% - ${c[0]/2-e.params.slidesOffsetBefore||0}px))`);for(let M=0;M<a.length;M+=1){const I=a[M],k=I.progress,B=Math.min(Math.max(I.progress,-u.limitProgress),u.limitProgress);let L=B;b||(L=Math.min(Math.max(I.originalProgress,-u.limitProgress),u.limitProgress));const H=I.swiperSlideOffset,Y=[e.params.cssMode?-H-e.translate:-H,0,0],se=[0,0,0];let ue=!1;e.isHorizontal()||(Y[1]=Y[0],Y[0]=0);let oe={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};B<0?(oe=u.next,ue=!0):B>0&&(oe=u.prev,ue=!0),Y.forEach((Oe,Ge)=>{Y[Ge]=`calc(${Oe}px + (${r(oe.translate[Ge])} * ${Math.abs(B*d)}))`}),se.forEach((Oe,Ge)=>{let Ee=oe.rotate[Ge]*Math.abs(B*d);se[Ge]=Ee}),I.style.zIndex=-Math.abs(Math.round(k))+a.length;const de=Y.join(", "),ae=`rotateX(${C(se[0])}deg) rotateY(${C(se[1])}deg) rotateZ(${C(se[2])}deg)`,Re=L<0?1+(1-oe.opacity)*L*d:1-(1-oe.opacity)*L*d,ve=`translate3d(${de}) ${ae} ${L<0?`scale(${1+(1-oe.scale)*L*d})`:`scale(${1-(1-oe.scale)*L*d})`}`;if(ue&&oe.shadow||!ue){let Oe=I.querySelector(".swiper-slide-shadow");!Oe&&oe.shadow&&(Oe=z0("creative",I)),Oe&&(Oe.style.opacity=Math.min(Math.max(Math.abs(u.shadowPerProgress?B*(1/u.limitProgress):B),0),1))}const _e=F1(0,I);_e.style.transform=ve,_e.style.opacity=Re,oe.origin&&(_e.style.transformOrigin=oe.origin)}},setTransition:a=>{const l=e.slides.map(c=>cm(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${a}ms`})}),fx({swiper:e,duration:a,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function VNe(n){let{swiper:e,extendParams:t,on:i}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),V0({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:l}=e,c=e.params.cardsEffect,{startTranslate:u,isTouched:d}=e.touchEventsData,b=l?-e.translate:e.translate;for(let C=0;C<o.length;C+=1){const M=o[C],I=M.progress,k=Math.min(Math.max(I,-4),4);let B=M.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(B-=o[0].swiperSlideOffset);let L=e.params.cssMode?-B-e.translate:-B,H=0;const Y=-100*Math.abs(k);let se=1,ue=-c.perSlideRotate*k,oe=c.perSlideOffset-.75*Math.abs(k);const de=e.virtual&&e.params.virtual.enabled?e.virtual.from+C:C,fe=(de===a||de===a+1)&&k<0&&k>-1&&(d||e.params.cssMode)&&b>u;if((de===a||de===a-1)&&k>0&&k<1&&(d||e.params.cssMode)&&b<u||fe){const Oe=ha(1-Math.abs((Math.abs(k)-.5)/.5),.5);ue+=-28*k*Oe,se+=-.5*Oe,oe+=96*Oe,H=-25*Oe*Math.abs(k)+"%"}if(L=k<0?`calc(${L}px ${l?"-":"+"} (${oe*Math.abs(k)}%))`:k>0?`calc(${L}px ${l?"-":"+"} (-${oe*Math.abs(k)}%))`:`${L}px`,!e.isHorizontal()){const Oe=H;H=L,L=Oe}const ve=`\n        translate3d(${L}, ${H}, ${Y}px)\n        rotateZ(${c.rotate?l?-ue:ue:0}deg)\n        scale(${k<0?""+(1+(1-se)*k):""+(1-(1-se)*k)})\n      `;if(c.slideShadows){let Oe=M.querySelector(".swiper-slide-shadow");Oe||(Oe=z0("cards",M)),Oe&&(Oe.style.opacity=Math.min(Math.max((Math.abs(k)-.5)/.5,0),1))}M.style.zIndex=-Math.abs(Math.round(I))+o.length,F1(0,M).style.transform=ve}},setTransition:o=>{const a=e.slides.map(l=>cm(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),fx({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}];Hl.use(zNe);const gx=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function $0(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)&&!n.__swiper__}function Yk(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{void 0===n[i]?n[i]=e[i]:$0(e[i])&&$0(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:Yk(n[i],e[i]):n[i]=e[i]})}function mx(n){return void 0===n&&(n=""),n.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}const XY=n=>{if(parseFloat(n)===Number(n))return Number(n);if("true"===n||""===n)return!0;if("false"===n)return!1;if("null"===n)return null;if("undefined"!==n){if("string"==typeof n&&n.includes("{")&&n.includes("}")&&n.includes('"')){let e;try{e=JSON.parse(n)}catch(t){e=n}return e}return n}},qY=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function KY(n,e,t){const i={},r={};Yk(i,Vk);const s=[...gx,"on"],o=s.map(l=>l.replace(/_/,""));s.forEach(l=>{l=l.replace("_",""),void 0!==n[l]&&(r[l]=n[l])});const a=[...n.attributes];return"string"==typeof e&&void 0!==t&&a.push({name:e,value:$0(t)?je({},t):t}),a.forEach(l=>{const c=qY.find(u=>l.name.startsWith(`${u}-`));if(c){const u=mx(c),d=mx(l.name.split(`${c}-`)[1]);void 0===r[u]&&(r[u]={}),!0===r[u]&&(r[u]={enabled:!0}),r[u][d]=XY(l.value)}else{const u=mx(l.name);if(!o.includes(u))return;const d=XY(l.value);r[u]&&qY.includes(l.name)&&!$0(d)?(r[u].constructor!==Object&&(r[u]={}),r[u].enabled=!!d):r[u]=d}}),Yk(i,r),i.navigation?i.navigation=je({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},!0!==i.navigation?i.navigation:{}):!1===i.navigation&&delete i.navigation,i.scrollbar?i.scrollbar=je({el:".swiper-scrollbar"},!0!==i.scrollbar?i.scrollbar:{}):!1===i.scrollbar&&delete i.scrollbar,i.pagination?i.pagination=je({el:".swiper-pagination"},!0!==i.pagination?i.pagination:{}):!1===i.pagination&&delete i.pagination,{params:i,passedParams:r}}const qNe=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",JY="undefined"==typeof window||"undefined"==typeof HTMLElement?class JNe{}:HTMLElement,QY='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',ZY=(n,e)=>{if("undefined"!=typeof CSSStyleSheet&&n.adoptedStyleSheets){const t=new CSSStyleSheet;t.replaceSync(e),n.adoptedStyleSheets=[t]}else{const t=document.createElement("style");t.rel="stylesheet",t.textContent=e,n.appendChild(t)}};class eX extends JY{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return QY}static get prevButtonSvg(){return QY.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[qNe,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,t=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=t.length?Math.max(...t)+1:0,this.rendered)if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){const r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);const s=document.createElement("slot");s.setAttribute("name",`slide-${i+1}`),r.appendChild(s),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<e){const i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&ZY(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const s=document.createElement("link");s.rel="stylesheet",s.href=i,this.shadowRoot.appendChild(s)});const t=document.createElement("div");t.classList.add("swiper"),t.part="container",t.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((i,r)=>`\n        <swiper-slide part="slide slide-${r}">\n          <slot name="slide-${r}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function $Ne(n){return void 0===n&&(n={}),n.navigation&&void 0===n.navigation.nextEl&&void 0===n.navigation.prevEl}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function WNe(n){return void 0===n&&(n={}),n.pagination&&void 0===n.pagination.el}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function YNe(n){return void 0===n&&(n={}),n.scrollbar&&void 0===n.scrollbar.el}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(t),this.rendered=!0}initialize(){var e=this;if(this.swiper&&this.swiper.initialized)return;const{params:t,passedParams:i}=KY(this);this.swiperParams=t,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new Hl(this.shadowRoot.querySelector(".swiper"),Nn(je(je({},t.virtual?{}:{observer:!0}),t),{touchEventsTarget:"container",onAny:function(r){"observerUpdate"===r&&e.calcSlideSlots();const s=t.eventsPrefix?`${t.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const c=new CustomEvent(s,{detail:a,bubbles:"hashChange"!==r,cancelable:!0});e.dispatchEvent(c)}}))}connectedCallback(){this.swiper&&this.swiper.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.swiper&&this.swiper.destroy&&this.swiper.destroy()}updateSwiperOnPropChange(e,t){const{params:i,passedParams:r}=KY(this,e,t);this.passedParams=r,this.swiperParams=i,(!this.swiper||this.swiper.params[e]!==t)&&function XNe(n){let{swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n;const c=r.filter(ae=>"children"!==ae&&"direction"!==ae&&"wrapperClass"!==ae),{params:u,pagination:d,navigation:b,scrollbar:C,virtual:M,thumbs:I}=e;let k,B,L,H,Y,se,ue,oe;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(k=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(B=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||!1===u.pagination)&&d&&!d.el&&(L=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||!1===u.scrollbar)&&C&&!C.el&&(H=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(u.navigation||!1===u.navigation)&&b&&!b.prevEl&&!b.nextEl&&(Y=!0);const de=ae=>{!e[ae]||(e[ae].destroy(),"navigation"===ae?(e.isElement&&(e[ae].prevEl.remove(),e[ae].nextEl.remove()),u[ae].prevEl=void 0,u[ae].nextEl=void 0,e[ae].prevEl=void 0,e[ae].nextEl=void 0):(e.isElement&&e[ae].el.remove(),u[ae].el=void 0,e[ae].el=void 0))};r.includes("loop")&&e.isElement&&(u.loop&&!i.loop?se=!0:!u.loop&&i.loop?ue=!0:oe=!0),c.forEach(ae=>{if($0(u[ae])&&$0(i[ae]))Object.assign(u[ae],i[ae]),("navigation"===ae||"pagination"===ae||"scrollbar"===ae)&&"enabled"in i[ae]&&!i[ae].enabled&&de(ae);else{const fe=i[ae];!0!==fe&&!1!==fe||"navigation"!==ae&&"pagination"!==ae&&"scrollbar"!==ae?u[ae]=i[ae]:!1===fe&&de(ae)}}),c.includes("controller")&&!B&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&t&&M&&u.virtual.enabled?(M.slides=t,M.update(!0)):r.includes("virtual")&&M&&u.virtual.enabled&&(t&&(M.slides=t),M.update(!0)),r.includes("children")&&t&&u.loop&&(oe=!0),k&&I.init()&&I.update(!0),B&&(e.controller.control=u.controller.control),L&&(e.isElement&&(!l||"string"==typeof l)&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),H&&(e.isElement&&(!a||"string"==typeof a)&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),C.init(),C.updateSize(),C.setTranslate()),Y&&(e.isElement&&((!s||"string"==typeof s)&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||"string"==typeof o)&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),b.init(),b.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(se||oe)&&e.loopDestroy(),(ue||oe)&&e.loopCreate(),e.update()}(je(je(je({swiper:this.swiper,passedParams:this.passedParams,changedParams:[mx(e)]},"navigation"===e&&r[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),"pagination"===e&&r[e]?{paginationEl:".swiper-pagination"}:{}),"scrollbar"===e&&r[e]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(e,t,i){!this.swiper||!this.swiper.initialized||("true"===t&&null===i&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return gx.filter(t=>t.includes("_")).map(t=>t.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}gx.forEach(n=>{"init"!==n&&(n=n.replace("_",""),Object.defineProperty(eX.prototype,n,{configurable:!0,get(){return(this.passedParams||{})[n]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[n]=e,this.swiper&&this.swiper.initialized&&this.updateSwiperOnPropChange(n,e)}}))});"undefined"!=typeof window&&(window.SwiperElementRegisterParams=n=>{gx.push(...n)}),"undefined"!=typeof window&&(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",eX),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class QNe extends JY{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(ZY(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),e){const t=document.createElement("div");t.classList.add("swiper-lazy-preloader"),t.part.add("preloader"),this.shadowRoot.appendChild(t)}}initialize(){this.render()}connectedCallback(){this.swiperLoopMoveDOM||this.initialize()}}));let e3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[XW]}),n})(),t3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,e3e,Ar]]}),n})(),n3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,tu,NY,kY,RY,DY,AY,IY,t3e,PY,JRe]]}),n})(),i3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Ar]]}),n})(),r3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,i3e]]}),n})(),s3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,tu,r3e]]}),n})(),o3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Ar]]}),n})(),a3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,tu,NY,kY,RY,DY,AY,IY,s3e,o3e,PY]]}),n})(),l3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),c3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[cg,Gv,fo,M1,uM,ug,jv,Zn,qo,zve("challenges")],imports:[[ct,Vt,tu,WRe,YRe,l3e,a3e,n3e,qRe,XRe,HRe]]}),n})(),B1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),Vp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),W0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Ar]]}),n})(),L1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),u3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,zS,Vt,co,L1,Ha,Vp,W0,Ar,Gd,Zc,B1]]}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),d3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),h3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,W0,Ar,Gd,Vp,Zc]]}),n})(),tX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,h3e,Ha,WTe]]}),n})(),nX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),p3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Ar,nX]]}),n})(),f3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,tX,d3e,p3e]]}),n})(),g3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Zc,Vp]]}),n})(),m3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,tX,g3e]]}),n})(),_3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),yx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vp,Zc]]}),n})(),y3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,yx,Vt,Zc,Vp]]}),n})(),b3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,y3e,Vt]]}),n})(),v3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,yx,W0,Ar,Gd,Zc,Vp]]}),n})(),C3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,v3e]]}),n})(),w3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,_x,co,_3e,Ha,b3e,C3e]]}),n})(),S3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),T3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,_x,co,f3e,m3e,w3e,Vt,S3e]]}),n})(),M3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Ha,Vt,tu,Vp,Zc]]}),n})(),x3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,nX]]}),n})(),E3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,x3e]]}),n})(),O3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Ar]]}),n})(),U1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,co]]}),n})(),P3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,L1,co,U1]]}),n})(),I3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,co,ZI,Vt,Ar,L1,_x,U1,B1]]}),n})(),A3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[],imports:[[ct,U1,L1,co,ZI,Vt,_x,P3e,Ar,I3e,O3e]]}),n})(),D3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),Xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),iX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Xk]]}),n})(),R3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Xk,iX]]}),n})(),k3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Xk,iX,Ha]]}),n})(),N3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,D3e,co,R3e,k3e]]}),n})(),F3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,U1,Vt,co,tu,N3e]]}),n})(),B3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,co,Vt,F3e,tu,Ar]]}),n})(),L3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,co,Ha,Vt,yx,Gd]]}),n})(),U3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,co,Ha,Vt,B1]]}),n})(),H3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),j3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),G3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Ar,Zc,j3e]]}),n})(),V3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[],imports:[[ct,Vt,Ar,Zc]]}),n})(),z3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[qk,ct,Ha,Vt,Ar]]}),n})(),$3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),W3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),Y3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Ha,Vt,W0,yx,Ar]]}),n})(),X3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Ar,Zc]]}),n})(),q3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,U1,co]]}),n})(),K3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[Xu,zd,ct,Vt]]}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[Xu,zd,ct]]}),n})(),J3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[Kk,Vt,co,ct]]}),n})(),Q3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[Kk,Vt,ct,Ha,co]]}),n})(),Z3e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Xu,zd]]}),n})(),eFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[Kk,Vt,ct,co,Ar,Z3e,zS]]}),n})(),tFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,hAe]]}),n})(),nFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,zS,K3e,J3e,Q3e,eFe,tFe,Vt]]}),n})(),iFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Xu,zd]]}),n})(),rFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Xu,zd]]}),n})(),sFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Xu,zd]]}),n})(),rX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),oFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({}),n})(),Y0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[Ya],imports:[[ct,oFe,Gd]]}),n})(),aFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Y0]]}),n})(),sX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),oX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),aX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Xu,zd]]}),n})(),lFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Ar,Vt,Gd,Y0,sX,oX,aX]]}),n})(),cFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),uFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Y0]]}),n})(),lX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct]]}),n})(),dFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,W0,Zc,Vt,Gd,Ar,Vp,Y0,rX,Xu,zd,lX]]}),n})(),hFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,oX,Y0,sX,Ar,aX]]}),n})(),pFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Gd]]}),n})(),fFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,rX,sFe,Y0,aFe,hFe,lFe,cFe,uFe,dFe,pFe,lX]]}),n})(),gFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),mFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,fFe,rFe,gFe]]}),n})(),_Fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({providers:[bp,lh,U0,a0,B0,mY,bY,vY],imports:[[ct,zS,Vt,co,L1,Ha,W0,Xu,zd,nFe,iFe,B1,mFe]]}),n})(),yFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Ar,Vt]]}),n})(),bFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),vFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,u3e,T3e,M3e,A3e,E3e,B3e,L3e,U3e,H3e,G3e,Vt,V3e,$3e,z3e,qk,W3e,Y3e,X3e,q3e,c3e,_Fe,yFe,bFe]]}),n})(),CFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt]]}),n})(),wFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n}),n.\u0275inj=Je({imports:[[ct,Vt,Hpe]]}),n})(),SFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Qe({type:n,bootstrap:[URe]}),n.\u0275inj=Je({providers:[{provide:jO,useFactory:e=>()=>e.init(),deps:[gr],multi:!0},{provide:km,useValue:mue()}],imports:[[l5,ZI,vFe,wFe,aue,CFe,Xve,qk,tu,Xpe,A_e,Xu.forRoot(),B1]]}),n})();const TFe="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,uX=()=>{let n;return{name:"Dedupe",setupOnce(){},processEvent(e){if(e.type)return e;try{if(function MFe(n,e){return!(!e||!function xFe(n,e){const t=n.message,i=e.message;return!(!t&&!i||t&&!i||!t&&i||t!==i||!hX(n,e)||!dX(n,e))}(n,e)&&!function EFe(n,e){const t=pX(e),i=pX(n);return!!(t&&i&&t.type===i.type&&t.value===i.value&&hX(n,e)&&dX(n,e))}(n,e))}(e,n))return TFe&&Mt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return n=e}}};function dX(n,e){let t=fX(n),i=fX(e);if(!t&&!i)return!0;if(t&&!i||!t&&i||i.length!==t.length)return!1;for(let r=0;r<i.length;r++){const s=i[r],o=t[r];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function hX(n,e){let t=n.fingerprint,i=e.fingerprint;if(!t&&!i)return!0;if(t&&!i||!t&&i)return!1;try{return t.join("")===i.join("")}catch(r){return!1}}function pX(n){return n.exception&&n.exception.values&&n.exception.values[0]}function fX(n){const e=n.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}Bd("Dedupe",uX);const PFe=["Http failure response for","The new multiplier is less than the previous multiplier in the current round"],AFe=["script","snippet","<anonymous>","native code"],RFe={dsn:"https://211b12c20385419e9d526a4edd2b9d7f@sentry.spribe.io/10",environment:"release-next",release:Qs.version,ignoreErrors:["URL parameters are missing or invalid","Retry limit of client config exceeded!","network error occurred","Possible side-effect in debug-evaluate","Failed to start the audio device","Identifier 'isMainframe' has already been declared",'Permission denied to access property "dispatchEvent" on cross-origin object'],normalizeDepth:8,integrations:[function Cue(n={}){return!1!==n.instrumentNavigation&&(W6=!0,vue=!0),Hce(Object.assign(Object.assign({},n),{instrumentNavigation:!1}))}(),uX()],maxBreadcrumbs:100,tracesSampleRate:.001,autoSessionTracking:!1,sendClientReports:!1,beforeSend:(n,e)=>function DFe(n,e){var t,i,r,s,o;const a=null===(i=null===(t=n.exception)||void 0===t?void 0:t.values)||void 0===i?void 0:i[0],l=null===(r=null==a?void 0:a.stacktrace)||void 0===r?void 0:r.frames,c=null==l?void 0:l[l.length-1];if(!(null==a?void 0:a.stacktrace)||"global code"===(null==c?void 0:c.function)||(null==e?void 0:e.originalException)instanceof Qw||"Timeout"===(null==e?void 0:e.originalException))return!0;const d="<anonymous>"===(null===(s=null==l?void 0:l[0])||void 0===s?void 0:s.filename);if("ReferenceError"===(null==a?void 0:a.type)&&d)return!0;if("eval"===(null==c?void 0:c.function)&&!(null==c?void 0:c.filename)||!1===(null==c?void 0:c.in_app))return!0;const M=(null!==(o=null==c?void 0:c.filename)&&void 0!==o?o:"").toLowerCase();return!!AFe.some(I=>M.includes(I))||!!PFe.find(I=>{var k;return null===(k=n.message)||void 0===k?void 0:k.includes(I)})&&Math.random()>.001}(n,e)?null:n};(function cue(n){const e=Object.assign({defaultIntegrations:t6().filter(t=>"TryCatch"!==t.name)},n);b8(e,"angular"),function uue(){const e=YC&&YC.major?parseInt(YC.major,10):void 0;e&&(e<10&&lue&&Mt.warn(`The Sentry SDK does not officially support Angular ${e}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function Jse(n,e){ao().setContext(n,e)}("angular",{version:e}))}(),Cle(e)})(RFe),Qs.production&&function mne(){b4=!1}(),!1===Qs.loggerEnabled&&window&&["log","debug","warn","info","error"].forEach(e=>{console[e]=function(){}}),document.body.setAttribute("app-version",Qs.version),Hre().bootstrapModule(SFe).catch(n=>{const e=n.hasOwnProperty("message")?n.message:n,t=document.getElementById("main-error-message");t.querySelector(".alert").textContent=e.toString(),t.classList.remove("d-none"),document.getElementById("main-loading").classList.add("d-none")})},4033:(Me,z,A)=>{"use strict";var h=A(4444),E=A(9056),v=A(7997),T=A(2998);Me.exports=T||h.call(v,E)},9056:Me=>{"use strict";Me.exports=Function.prototype.apply},7997:Me=>{"use strict";Me.exports=Function.prototype.call},1023:(Me,z,A)=>{"use strict";var h=A(4444),E=A(2844),v=A(7997),T=A(4033);Me.exports=function(_){if(_.length<1||"function"!=typeof _[0])throw new E("a function is required");return T(h,v,_)}},2998:Me=>{"use strict";Me.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},3e3:(Me,z,A)=>{"use strict";var h=A(5203),E=A(1023),v=E([h("%String.prototype.indexOf%")]);Me.exports=function(y,_){var g=h(y,!!_);return"function"==typeof g&&v(y,".prototype.")>-1?E([g]):g}},417:(Me,z,A)=>{"use strict";var v,h=A(1023),E=A(7378);try{v=[].__proto__===Array.prototype}catch(g){if(!g||"object"!=typeof g||!("code"in g)||"ERR_PROTO_ACCESS"!==g.code)throw g}var T=!!v&&E&&E(Object.prototype,"__proto__"),y=Object,_=y.getPrototypeOf;Me.exports=T&&"function"==typeof T.get?h([T.get]):"function"==typeof _&&function(f){return _(null==f?f:y(f))}},5469:Me=>{"use strict";function z(le,Ce,ge){ge=ge||2;var Ke,ot,Ze,mt,yt,tt,me,Xe=Ce&&Ce.length,he=Xe?Ce[0]*ge:le.length,Te=A(le,0,he,ge,!0),Ne=[];if(!Te||Te.next===Te.prev)return Ne;if(Xe&&(Te=function g(le,Ce,ge,Xe){var Te,Ne,Ze,he=[];for(Te=0,Ne=Ce.length;Te<Ne;Te++)(Ze=A(le,Ce[Te]*Xe,Te<Ne-1?Ce[Te+1]*Xe:le.length,Xe,!1))===Ze.next&&(Ze.steiner=!0),he.push(N(Ze));for(he.sort(f),Te=0;Te<he.length;Te++)ge=m(he[Te],ge);return ge}(le,Ce,Te,ge)),le.length>80*ge){Ke=Ze=le[0],ot=mt=le[1];for(var Ie=ge;Ie<he;Ie+=ge)(yt=le[Ie])<Ke&&(Ke=yt),(tt=le[Ie+1])<ot&&(ot=tt),yt>Ze&&(Ze=yt),tt>mt&&(mt=tt);me=0!==(me=Math.max(Ze-Ke,mt-ot))?32767/me:0}return E(Te,Ne,ge,Ke,ot,me,0),Ne}function A(le,Ce,ge,Xe,he){var Te,Ne;if(he===xe(le,Ce,ge,Xe)>0)for(Te=Ce;Te<ge;Te+=Xe)Ne=be(Te,le[Te],le[Te+1],Ne);else for(Te=ge-Xe;Te>=Ce;Te-=Xe)Ne=be(Te,le[Te],le[Te+1],Ne);return Ne&&X(Ne,Ne.next)&&(Le(Ne),Ne=Ne.next),Ne}function h(le,Ce){if(!le)return le;Ce||(Ce=le);var Xe,ge=le;do{if(Xe=!1,ge.steiner||!X(ge,ge.next)&&0!==J(ge.prev,ge,ge.next))ge=ge.next;else{if(Le(ge),(ge=Ce=ge.prev)===ge.next)break;Xe=!0}}while(Xe||ge!==Ce);return Ce}function E(le,Ce,ge,Xe,he,Te,Ne){if(le){!Ne&&Te&&function p(le,Ce,ge,Xe){var he=le;do{0===he.z&&(he.z=O(he.x,he.y,Ce,ge,Xe)),he.prevZ=he.prev,he.nextZ=he.next,he=he.next}while(he!==le);he.prevZ.nextZ=null,he.prevZ=null,function w(le){var Ce,ge,Xe,he,Te,Ne,Ke,ot,Ze=1;do{for(ge=le,le=null,Te=null,Ne=0;ge;){for(Ne++,Xe=ge,Ke=0,Ce=0;Ce<Ze&&(Ke++,Xe=Xe.nextZ);Ce++);for(ot=Ze;Ke>0||ot>0&&Xe;)0!==Ke&&(0===ot||!Xe||ge.z<=Xe.z)?(he=ge,ge=ge.nextZ,Ke--):(he=Xe,Xe=Xe.nextZ,ot--),Te?Te.nextZ=he:le=he,he.prevZ=Te,Te=he;ge=Xe}Te.nextZ=null,Ze*=2}while(Ne>1)}(he)}(le,Xe,he,Te);for(var ot,Ze,Ke=le;le.prev!==le.next;)if(ot=le.prev,Ze=le.next,Te?T(le,Xe,he,Te):v(le))Ce.push(ot.i/ge|0),Ce.push(le.i/ge|0),Ce.push(Ze.i/ge|0),Le(le),le=Ze.next,Ke=Ze.next;else if((le=Ze)===Ke){Ne?1===Ne?E(le=y(h(le),Ce,ge),Ce,ge,Xe,he,Te,2):2===Ne&&_(le,Ce,ge,Xe,he,Te):E(h(le),Ce,ge,Xe,he,Te,1);break}}}function v(le){var Ce=le.prev,ge=le,Xe=le.next;if(J(Ce,ge,Xe)>=0)return!1;for(var he=Ce.x,Te=ge.x,Ne=Xe.x,Ke=Ce.y,ot=ge.y,Ze=Xe.y,mt=he<Te?he<Ne?he:Ne:Te<Ne?Te:Ne,yt=Ke<ot?Ke<Ze?Ke:Ze:ot<Ze?ot:Ze,tt=he>Te?he>Ne?he:Ne:Te>Ne?Te:Ne,me=Ke>ot?Ke>Ze?Ke:Ze:ot>Ze?ot:Ze,Ie=Xe.next;Ie!==Ce;){if(Ie.x>=mt&&Ie.x<=tt&&Ie.y>=yt&&Ie.y<=me&&$(he,Ke,Te,ot,Ne,Ze,Ie.x,Ie.y)&&J(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.next}return!0}function T(le,Ce,ge,Xe){var he=le.prev,Te=le,Ne=le.next;if(J(he,Te,Ne)>=0)return!1;for(var Ke=he.x,ot=Te.x,Ze=Ne.x,mt=he.y,yt=Te.y,tt=Ne.y,me=Ke<ot?Ke<Ze?Ke:Ze:ot<Ze?ot:Ze,Ie=mt<yt?mt<tt?mt:tt:yt<tt?yt:tt,ke=Ke>ot?Ke>Ze?Ke:Ze:ot>Ze?ot:Ze,ze=mt>yt?mt>tt?mt:tt:yt>tt?yt:tt,st=O(me,Ie,Ce,ge,Xe),lt=O(ke,ze,Ce,ge,Xe),Be=le.prevZ,Ve=le.nextZ;Be&&Be.z>=st&&Ve&&Ve.z<=lt;){if(Be.x>=me&&Be.x<=ke&&Be.y>=Ie&&Be.y<=ze&&Be!==he&&Be!==Ne&&$(Ke,mt,ot,yt,Ze,tt,Be.x,Be.y)&&J(Be.prev,Be,Be.next)>=0||(Be=Be.prevZ,Ve.x>=me&&Ve.x<=ke&&Ve.y>=Ie&&Ve.y<=ze&&Ve!==he&&Ve!==Ne&&$(Ke,mt,ot,yt,Ze,tt,Ve.x,Ve.y)&&J(Ve.prev,Ve,Ve.next)>=0))return!1;Ve=Ve.nextZ}for(;Be&&Be.z>=st;){if(Be.x>=me&&Be.x<=ke&&Be.y>=Ie&&Be.y<=ze&&Be!==he&&Be!==Ne&&$(Ke,mt,ot,yt,Ze,tt,Be.x,Be.y)&&J(Be.prev,Be,Be.next)>=0)return!1;Be=Be.prevZ}for(;Ve&&Ve.z<=lt;){if(Ve.x>=me&&Ve.x<=ke&&Ve.y>=Ie&&Ve.y<=ze&&Ve!==he&&Ve!==Ne&&$(Ke,mt,ot,yt,Ze,tt,Ve.x,Ve.y)&&J(Ve.prev,Ve,Ve.next)>=0)return!1;Ve=Ve.nextZ}return!0}function y(le,Ce,ge){var Xe=le;do{var he=Xe.prev,Te=Xe.next.next;!X(he,Te)&&Z(he,Xe,Xe.next,Te)&&re(he,Te)&&re(Te,he)&&(Ce.push(he.i/ge|0),Ce.push(Xe.i/ge|0),Ce.push(Te.i/ge|0),Le(Xe),Le(Xe.next),Xe=le=Te),Xe=Xe.next}while(Xe!==le);return h(Xe)}function _(le,Ce,ge,Xe,he,Te){var Ne=le;do{for(var Ke=Ne.next.next;Ke!==Ne.prev;){if(Ne.i!==Ke.i&&V(Ne,Ke)){var ot=pe(Ne,Ke);return Ne=h(Ne,Ne.next),ot=h(ot,ot.next),E(Ne,Ce,ge,Xe,he,Te,0),void E(ot,Ce,ge,Xe,he,Te,0)}Ke=Ke.next}Ne=Ne.next}while(Ne!==le)}function f(le,Ce){return le.x-Ce.x}function m(le,Ce){var ge=function x(le,Ce){var Ne,ge=Ce,Xe=le.x,he=le.y,Te=-1/0;do{if(he<=ge.y&&he>=ge.next.y&&ge.next.y!==ge.y){var Ke=ge.x+(he-ge.y)*(ge.next.x-ge.x)/(ge.next.y-ge.y);if(Ke<=Xe&&Ke>Te&&(Te=Ke,Ne=ge.x<ge.next.x?ge:ge.next,Ke===Xe))return Ne}ge=ge.next}while(ge!==Ce);if(!Ne)return null;var tt,ot=Ne,Ze=Ne.x,mt=Ne.y,yt=1/0;ge=Ne;do{Xe>=ge.x&&ge.x>=Ze&&Xe!==ge.x&&$(he<mt?Xe:Te,he,Ze,mt,he<mt?Te:Xe,he,ge.x,ge.y)&&(tt=Math.abs(he-ge.y)/(Xe-ge.x),re(ge,le)&&(tt<yt||tt===yt&&(ge.x>Ne.x||ge.x===Ne.x&&P(Ne,ge)))&&(Ne=ge,yt=tt)),ge=ge.next}while(ge!==ot);return Ne}(le,Ce);if(!ge)return Ce;var Xe=pe(ge,le);return h(Xe,Xe.next),h(ge,ge.next)}function P(le,Ce){return J(le.prev,le,Ce.prev)<0&&J(Ce.next,le,le.next)<0}function O(le,Ce,ge,Xe,he){return(le=1431655765&((le=858993459&((le=252645135&((le=16711935&((le=(le-ge)*he|0)|le<<8))|le<<4))|le<<2))|le<<1))|(Ce=1431655765&((Ce=858993459&((Ce=252645135&((Ce=16711935&((Ce=(Ce-Xe)*he|0)|Ce<<8))|Ce<<4))|Ce<<2))|Ce<<1))<<1}function N(le){var Ce=le,ge=le;do{(Ce.x<ge.x||Ce.x===ge.x&&Ce.y<ge.y)&&(ge=Ce),Ce=Ce.next}while(Ce!==le);return ge}function $(le,Ce,ge,Xe,he,Te,Ne,Ke){return(he-Ne)*(Ce-Ke)>=(le-Ne)*(Te-Ke)&&(le-Ne)*(Xe-Ke)>=(ge-Ne)*(Ce-Ke)&&(ge-Ne)*(Te-Ke)>=(he-Ne)*(Xe-Ke)}function V(le,Ce){return le.next.i!==Ce.i&&le.prev.i!==Ce.i&&!function Q(le,Ce){var ge=le;do{if(ge.i!==le.i&&ge.next.i!==le.i&&ge.i!==Ce.i&&ge.next.i!==Ce.i&&Z(ge,ge.next,le,Ce))return!0;ge=ge.next}while(ge!==le);return!1}(le,Ce)&&(re(le,Ce)&&re(Ce,le)&&function ne(le,Ce){var ge=le,Xe=!1,he=(le.x+Ce.x)/2,Te=(le.y+Ce.y)/2;do{ge.y>Te!=ge.next.y>Te&&ge.next.y!==ge.y&&he<(ge.next.x-ge.x)*(Te-ge.y)/(ge.next.y-ge.y)+ge.x&&(Xe=!Xe),ge=ge.next}while(ge!==le);return Xe}(le,Ce)&&(J(le.prev,le,Ce.prev)||J(le,Ce.prev,Ce))||X(le,Ce)&&J(le.prev,le,le.next)>0&&J(Ce.prev,Ce,Ce.next)>0)}function J(le,Ce,ge){return(Ce.y-le.y)*(ge.x-Ce.x)-(Ce.x-le.x)*(ge.y-Ce.y)}function X(le,Ce){return le.x===Ce.x&&le.y===Ce.y}function Z(le,Ce,ge,Xe){var he=K(J(le,Ce,ge)),Te=K(J(le,Ce,Xe)),Ne=K(J(ge,Xe,le)),Ke=K(J(ge,Xe,Ce));return!!(he!==Te&&Ne!==Ke||0===he&&j(le,ge,Ce)||0===Te&&j(le,Xe,Ce)||0===Ne&&j(ge,le,Xe)||0===Ke&&j(ge,Ce,Xe))}function j(le,Ce,ge){return Ce.x<=Math.max(le.x,ge.x)&&Ce.x>=Math.min(le.x,ge.x)&&Ce.y<=Math.max(le.y,ge.y)&&Ce.y>=Math.min(le.y,ge.y)}function K(le){return le>0?1:le<0?-1:0}function re(le,Ce){return J(le.prev,le,le.next)<0?J(le,Ce,le.next)>=0&&J(le,le.prev,Ce)>=0:J(le,Ce,le.prev)<0||J(le,le.next,Ce)<0}function pe(le,Ce){var ge=new Se(le.i,le.x,le.y),Xe=new Se(Ce.i,Ce.x,Ce.y),he=le.next,Te=Ce.prev;return le.next=Ce,Ce.prev=le,ge.next=he,he.prev=ge,Xe.next=ge,ge.prev=Xe,Te.next=Xe,Xe.prev=Te,Xe}function be(le,Ce,ge,Xe){var he=new Se(le,Ce,ge);return Xe?(he.next=Xe.next,he.prev=Xe,Xe.next.prev=he,Xe.next=he):(he.prev=he,he.next=he),he}function Le(le){le.next.prev=le.prev,le.prev.next=le.next,le.prevZ&&(le.prevZ.nextZ=le.nextZ),le.nextZ&&(le.nextZ.prevZ=le.prevZ)}function Se(le,Ce,ge){this.i=le,this.x=Ce,this.y=ge,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xe(le,Ce,ge,Xe){for(var he=0,Te=Ce,Ne=ge-Xe;Te<ge;Te+=Xe)he+=(le[Ne]-le[Te])*(le[Te+1]+le[Ne+1]),Ne=Te;return he}Me.exports=z,Me.exports.default=z,z.deviation=function(le,Ce,ge,Xe){var he=Ce&&Ce.length,Ne=Math.abs(xe(le,0,he?Ce[0]*ge:le.length,ge));if(he)for(var Ke=0,ot=Ce.length;Ke<ot;Ke++)Ne-=Math.abs(xe(le,Ce[Ke]*ge,Ke<ot-1?Ce[Ke+1]*ge:le.length,ge));var yt=0;for(Ke=0;Ke<Xe.length;Ke+=3){var tt=Xe[Ke]*ge,me=Xe[Ke+1]*ge,Ie=Xe[Ke+2]*ge;yt+=Math.abs((le[tt]-le[Ie])*(le[me+1]-le[tt+1])-(le[tt]-le[me])*(le[Ie+1]-le[tt+1]))}return 0===Ne&&0===yt?0:Math.abs((yt-Ne)/Ne)},z.flatten=function(le){for(var Ce=le[0][0].length,ge={vertices:[],holes:[],dimensions:Ce},Xe=0,he=0;he<le.length;he++){for(var Te=0;Te<le[he].length;Te++)for(var Ne=0;Ne<Ce;Ne++)ge.vertices.push(le[he][Te][Ne]);he>0&&ge.holes.push(Xe+=le[he-1].length)}return ge}},3907:Me=>{"use strict";var z=Object.defineProperty||!1;if(z)try{z({},"a",{value:1})}catch(A){z=!1}Me.exports=z},3644:Me=>{"use strict";Me.exports=EvalError},1847:Me=>{"use strict";Me.exports=Error},1298:Me=>{"use strict";Me.exports=RangeError},2681:Me=>{"use strict";Me.exports=ReferenceError},5917:Me=>{"use strict";Me.exports=SyntaxError},2844:Me=>{"use strict";Me.exports=TypeError},7289:Me=>{"use strict";Me.exports=URIError},7913:Me=>{"use strict";Me.exports=Object},2005:Me=>{"use strict";var z=Object.prototype.hasOwnProperty,A="~";function h(){}function E(_,g,f){this.fn=_,this.context=g,this.once=f||!1}function v(_,g,f,m,x){if("function"!=typeof f)throw new TypeError("The listener must be a function");var P=new E(f,m||_,x),p=A?A+g:g;return _._events[p]?_._events[p].fn?_._events[p]=[_._events[p],P]:_._events[p].push(P):(_._events[p]=P,_._eventsCount++),_}function T(_,g){0==--_._eventsCount?_._events=new h:delete _._events[g]}function y(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(A=!1)),y.prototype.eventNames=function(){var f,m,g=[];if(0===this._eventsCount)return g;for(m in f=this._events)z.call(f,m)&&g.push(A?m.slice(1):m);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(f)):g},y.prototype.listeners=function(g){var m=this._events[A?A+g:g];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,P=m.length,p=new Array(P);x<P;x++)p[x]=m[x].fn;return p},y.prototype.listenerCount=function(g){var m=this._events[A?A+g:g];return m?m.fn?1:m.length:0},y.prototype.emit=function(g,f,m,x,P,p){var w=A?A+g:g;if(!this._events[w])return!1;var $,V,O=this._events[w],N=arguments.length;if(O.fn){switch(O.once&&this.removeListener(g,O.fn,void 0,!0),N){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,f),!0;case 3:return O.fn.call(O.context,f,m),!0;case 4:return O.fn.call(O.context,f,m,x),!0;case 5:return O.fn.call(O.context,f,m,x,P),!0;case 6:return O.fn.call(O.context,f,m,x,P,p),!0}for(V=1,$=new Array(N-1);V<N;V++)$[V-1]=arguments[V];O.fn.apply(O.context,$)}else{var X,J=O.length;for(V=0;V<J;V++)switch(O[V].once&&this.removeListener(g,O[V].fn,void 0,!0),N){case 1:O[V].fn.call(O[V].context);break;case 2:O[V].fn.call(O[V].context,f);break;case 3:O[V].fn.call(O[V].context,f,m);break;case 4:O[V].fn.call(O[V].context,f,m,x);break;default:if(!$)for(X=1,$=new Array(N-1);X<N;X++)$[X-1]=arguments[X];O[V].fn.apply(O[V].context,$)}}return!0},y.prototype.on=function(g,f,m){return v(this,g,f,m,!1)},y.prototype.once=function(g,f,m){return v(this,g,f,m,!0)},y.prototype.removeListener=function(g,f,m,x){var P=A?A+g:g;if(!this._events[P])return this;if(!f)return T(this,P),this;var p=this._events[P];if(p.fn)p.fn===f&&(!x||p.once)&&(!m||p.context===m)&&T(this,P);else{for(var w=0,O=[],N=p.length;w<N;w++)(p[w].fn!==f||x&&!p[w].once||m&&p[w].context!==m)&&O.push(p[w]);O.length?this._events[P]=1===O.length?O[0]:O:T(this,P)}return this},y.prototype.removeAllListeners=function(g){var f;return g?this._events[f=A?A+g:g]&&T(this,f):(this._events=new h,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=A,y.EventEmitter=y,Me.exports=y},6100:Me=>{function z(v){return v&&v.constructor&&"function"==typeof v.constructor.isBuffer&&v.constructor.isBuffer(v)}function A(v){return v}function h(v,T){const y=(T=T||{}).delimiter||".",_=T.maxDepth,g=T.transformKey||A,f={};return function m(x,P,p){p=p||1,Object.keys(x).forEach(function(w){const O=x[w],N=T.safe&&Array.isArray(O),$=Object.prototype.toString.call(O),V=z(O),J="[object Object]"===$||"[object Array]"===$,X=P?P+y+g(w):g(w);if(!N&&!V&&J&&Object.keys(O).length&&(!T.maxDepth||p<_))return m(O,X,p+1);f[X]=O})}(v),f}Me.exports=h,h.flatten=h,h.unflatten=function E(v,T){const y=(T=T||{}).delimiter||".",_=T.overwrite||!1,g=T.transformKey||A,f={};if(z(v)||"[object Object]"!==Object.prototype.toString.call(v))return v;function x(w){const O=Number(w);return isNaN(O)||-1!==w.indexOf(".")||T.object?w:O}return v=Object.keys(v).reduce(function(w,O){const N=Object.prototype.toString.call(v[O]);return"[object Object]"!==N&&"[object Array]"!==N||function p(w){const O=Object.prototype.toString.call(w);return!w||("[object Array]"===O?!w.length:"[object Object]"===O?!Object.keys(w).length:void 0)}(v[O])?(w[O]=v[O],w):function P(w,O,N){return Object.keys(N).reduce(function($,V){return $[w+y+V]=N[V],$},O)}(O,w,h(v[O],T))},{}),Object.keys(v).forEach(function(w){const O=w.split(y).map(g);let N=x(O.shift()),$=x(O[0]),V=f;for(;void 0!==$;){if("__proto__"===N)return;const J=Object.prototype.toString.call(V[N]),X="[object Object]"===J||"[object Array]"===J;if(!_&&!X&&void 0!==V[N])return;(_&&!X||!_&&null==V[N])&&(V[N]="number"!=typeof $||T.object?{}:[]),V=V[N],O.length>0&&(N=x(O.shift()),$=x(O[0]))}V[N]=E(v[w],T)}),f}},3457:Me=>{"use strict";var z="Function.prototype.bind called on incompatible ",A=Object.prototype.toString,h=Math.max,E="[object Function]",v=function(g,f){for(var m=[],x=0;x<g.length;x+=1)m[x]=g[x];for(var P=0;P<f.length;P+=1)m[P+g.length]=f[P];return m},T=function(g,f){for(var m=[],x=f||0,P=0;x<g.length;x+=1,P+=1)m[P]=g[x];return m},y=function(_,g){for(var f="",m=0;m<_.length;m+=1)f+=_[m],m+1<_.length&&(f+=g);return f};Me.exports=function(g){var f=this;if("function"!=typeof f||A.apply(f)!==E)throw new TypeError(z+f);for(var x,m=T(arguments,1),P=function(){if(this instanceof x){var $=f.apply(this,v(m,arguments));return Object($)===$?$:this}return f.apply(g,v(m,arguments))},p=h(0,f.length-m.length),w=[],O=0;O<p;O++)w[O]="$"+O;if(x=Function("binder","return function ("+y(w,",")+"){ return binder.apply(this,arguments); }")(P),f.prototype){var N=function(){};N.prototype=f.prototype,x.prototype=new N,N.prototype=null}return x}},4444:(Me,z,A)=>{"use strict";var h=A(3457);Me.exports=Function.prototype.bind||h},5203:(Me,z,A)=>{"use strict";var h,E=A(7913),v=A(1847),T=A(3644),y=A(1298),_=A(2681),g=A(5917),f=A(2844),m=A(7289),x=A(9473),P=A(7323),p=A(358),w=A(5932),O=A(9893),N=A(3021),$=A(2286),V=Function,J=function(ke){try{return V('"use strict"; return ('+ke+").constructor;")()}catch(ze){}},X=A(7378),Z=A(3907),j=function(){throw new f},K=X?function(){try{return j}catch(ke){try{return X(arguments,"callee").get}catch(ze){return j}}}():j,Q=A(2969)(),re=A(5361),ne=A(5388),pe=A(3088),be=A(9056),Le=A(7997),Se={},xe="undefined"!=typeof Uint8Array&&re?re(Uint8Array):h,le={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?h:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?h:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&re?re([][Symbol.iterator]()):h,"%AsyncFromSyncIteratorPrototype%":h,"%AsyncFunction%":Se,"%AsyncGenerator%":Se,"%AsyncGeneratorFunction%":Se,"%AsyncIteratorPrototype%":Se,"%Atomics%":"undefined"==typeof Atomics?h:Atomics,"%BigInt%":"undefined"==typeof BigInt?h:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?h:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?h:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?h:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":v,"%eval%":eval,"%EvalError%":T,"%Float16Array%":"undefined"==typeof Float16Array?h:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?h:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?h:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?h:FinalizationRegistry,"%Function%":V,"%GeneratorFunction%":Se,"%Int8Array%":"undefined"==typeof Int8Array?h:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?h:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?h:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&re?re(re([][Symbol.iterator]())):h,"%JSON%":"object"==typeof JSON?JSON:h,"%Map%":"undefined"==typeof Map?h:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Q&&re?re((new Map)[Symbol.iterator]()):h,"%Math%":Math,"%Number%":Number,"%Object%":E,"%Object.getOwnPropertyDescriptor%":X,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?h:Promise,"%Proxy%":"undefined"==typeof Proxy?h:Proxy,"%RangeError%":y,"%ReferenceError%":_,"%Reflect%":"undefined"==typeof Reflect?h:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?h:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Q&&re?re((new Set)[Symbol.iterator]()):h,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?h:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&re?re(""[Symbol.iterator]()):h,"%Symbol%":Q?Symbol:h,"%SyntaxError%":g,"%ThrowTypeError%":K,"%TypedArray%":xe,"%TypeError%":f,"%Uint8Array%":"undefined"==typeof Uint8Array?h:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?h:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?h:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?h:Uint32Array,"%URIError%":m,"%WeakMap%":"undefined"==typeof WeakMap?h:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?h:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?h:WeakSet,"%Function.prototype.call%":Le,"%Function.prototype.apply%":be,"%Object.defineProperty%":Z,"%Object.getPrototypeOf%":ne,"%Math.abs%":x,"%Math.floor%":P,"%Math.max%":p,"%Math.min%":w,"%Math.pow%":O,"%Math.round%":N,"%Math.sign%":$,"%Reflect.getPrototypeOf%":pe};if(re)try{null.error}catch(ke){var Ce=re(re(ke));le["%Error.prototype%"]=Ce}var ge=function ke(ze){var st;if("%AsyncFunction%"===ze)st=J("async function () {}");else if("%GeneratorFunction%"===ze)st=J("function* () {}");else if("%AsyncGeneratorFunction%"===ze)st=J("async function* () {}");else if("%AsyncGenerator%"===ze){var lt=ke("%AsyncGeneratorFunction%");lt&&(st=lt.prototype)}else if("%AsyncIteratorPrototype%"===ze){var Be=ke("%AsyncGenerator%");Be&&re&&(st=re(Be.prototype))}return le[ze]=st,st},Xe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=A(4444),Te=A(7699),Ne=he.call(Le,Array.prototype.concat),Ke=he.call(be,Array.prototype.splice),ot=he.call(Le,String.prototype.replace),Ze=he.call(Le,String.prototype.slice),mt=he.call(Le,RegExp.prototype.exec),yt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tt=/\\(\\)?/g,me=function(ze){var st=Ze(ze,0,1),lt=Ze(ze,-1);if("%"===st&&"%"!==lt)throw new g("invalid intrinsic syntax, expected closing `%`");if("%"===lt&&"%"!==st)throw new g("invalid intrinsic syntax, expected opening `%`");var Be=[];return ot(ze,yt,function(Ve,Qt,Ut,rn){Be[Be.length]=Ut?ot(rn,tt,"$1"):Qt||Ve}),Be},Ie=function(ze,st){var Be,lt=ze;if(Te(Xe,lt)&&(lt="%"+(Be=Xe[lt])[0]+"%"),Te(le,lt)){var Ve=le[lt];if(Ve===Se&&(Ve=ge(lt)),void 0===Ve&&!st)throw new f("intrinsic "+ze+" exists, but is not available. Please file an issue!");return{alias:Be,name:lt,value:Ve}}throw new g("intrinsic "+ze+" does not exist!")};Me.exports=function(ze,st){if("string"!=typeof ze||0===ze.length)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof st)throw new f('"allowMissing" argument must be a boolean');if(null===mt(/^%?[^%]*%?$/,ze))throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var lt=me(ze),Be=lt.length>0?lt[0]:"",Ve=Ie("%"+Be+"%",st),Qt=Ve.name,Ut=Ve.value,rn=!1,Dn=Ve.alias;Dn&&(Be=Dn[0],Ke(lt,Ne([0,1],Dn)));for(var bt=1,Pt=!0;bt<lt.length;bt+=1){var Fe=lt[bt],De=Ze(Fe,0,1),$e=Ze(Fe,-1);if(('"'===De||"'"===De||"`"===De||'"'===$e||"'"===$e||"`"===$e)&&De!==$e)throw new g("property names with quotes must have matching quotes");if(("constructor"===Fe||!Pt)&&(rn=!0),Te(le,Qt="%"+(Be+="."+Fe)+"%"))Ut=le[Qt];else if(null!=Ut){if(!(Fe in Ut)){if(!st)throw new f("base intrinsic for "+ze+" exists, but the property is not available.");return}if(X&&bt+1>=lt.length){var qe=X(Ut,Fe);Ut=(Pt=!!qe)&&"get"in qe&&!("originalValue"in qe.get)?qe.get:Ut[Fe]}else Pt=Te(Ut,Fe),Ut=Ut[Fe];Pt&&!rn&&(le[Qt]=Ut)}}return Ut}},5388:(Me,z,A)=>{"use strict";var h=A(7913);Me.exports=h.getPrototypeOf||null},3088:Me=>{"use strict";Me.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},5361:(Me,z,A)=>{"use strict";var h=A(3088),E=A(5388),v=A(417);Me.exports=h?function(y){return h(y)}:E?function(y){if(!y||"object"!=typeof y&&"function"!=typeof y)throw new TypeError("getProto: not an object");return E(y)}:v?function(y){return v(y)}:null},4316:Me=>{"use strict";Me.exports=Object.getOwnPropertyDescriptor},7378:(Me,z,A)=>{"use strict";var h=A(4316);if(h)try{h([],"length")}catch(E){h=null}Me.exports=h},2969:(Me,z,A)=>{"use strict";var h="undefined"!=typeof Symbol&&Symbol,E=A(1983);Me.exports=function(){return"function"==typeof h&&"function"==typeof Symbol&&"symbol"==typeof h("foo")&&"symbol"==typeof Symbol("bar")&&E()}},1983:Me=>{"use strict";Me.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var A={},h=Symbol("test"),E=Object(h);if("string"==typeof h||"[object Symbol]"!==Object.prototype.toString.call(h)||"[object Symbol]"!==Object.prototype.toString.call(E))return!1;for(var T in A[h]=42,A)return!1;if("function"==typeof Object.keys&&0!==Object.keys(A).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(A).length)return!1;var y=Object.getOwnPropertySymbols(A);if(1!==y.length||y[0]!==h||!Object.prototype.propertyIsEnumerable.call(A,h))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var _=Object.getOwnPropertyDescriptor(A,h);if(42!==_.value||!0!==_.enumerable)return!1}return!0}},7699:(Me,z,A)=>{"use strict";var h=Function.prototype.call,E=Object.prototype.hasOwnProperty,v=A(4444);Me.exports=v.call(h,E)},6461:(Me,z)=>{var h;!function(){"use strict";var E=function(){this.init()};E.prototype={init:function(){var p=this||v;return p._counter=1e3,p._html5AudioPool=[],p.html5PoolSize=10,p._codecs={},p._howls=[],p._muted=!1,p._volume=1,p._canPlayEvent="canplaythrough",p._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,p.masterGain=null,p.noAudio=!1,p.usingWebAudio=!0,p.autoSuspend=!0,p.ctx=null,p.autoUnlock=!0,p._setup(),p},volume:function(p){var w=this||v;if(p=parseFloat(p),w.ctx||P(),void 0!==p&&p>=0&&p<=1){if(w._volume=p,w._muted)return w;w.usingWebAudio&&w.masterGain.gain.setValueAtTime(p,v.ctx.currentTime);for(var O=0;O<w._howls.length;O++)if(!w._howls[O]._webAudio)for(var N=w._howls[O]._getSoundIds(),$=0;$<N.length;$++){var V=w._howls[O]._soundById(N[$]);V&&V._node&&(V._node.volume=V._volume*p)}return w}return w._volume},mute:function(p){var w=this||v;w.ctx||P(),w._muted=p,w.usingWebAudio&&w.masterGain.gain.setValueAtTime(p?0:w._volume,v.ctx.currentTime);for(var O=0;O<w._howls.length;O++)if(!w._howls[O]._webAudio)for(var N=w._howls[O]._getSoundIds(),$=0;$<N.length;$++){var V=w._howls[O]._soundById(N[$]);V&&V._node&&(V._node.muted=!!p||V._muted)}return w},stop:function(){for(var p=this||v,w=0;w<p._howls.length;w++)p._howls[w].stop();return p},unload:function(){for(var p=this||v,w=p._howls.length-1;w>=0;w--)p._howls[w].unload();return p.usingWebAudio&&p.ctx&&void 0!==p.ctx.close&&(p.ctx.close(),p.ctx=null,P()),p},codecs:function(p){return(this||v)._codecs[p.replace(/^x-/,"")]},_setup:function(){var p=this||v;if(p.state=p.ctx&&p.ctx.state||"suspended",p._autoSuspend(),!p.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(p._canPlayEvent="canplay")}catch(O){p.noAudio=!0}else p.noAudio=!0;try{(new Audio).muted&&(p.noAudio=!0)}catch(O){}return p.noAudio||p._setupCodecs(),p},_setupCodecs:function(){var p=this||v,w=null;try{w="undefined"!=typeof Audio?new Audio:null}catch(j){return p}if(!w||"function"!=typeof w.canPlayType)return p;var O=w.canPlayType("audio/mpeg;").replace(/^no$/,""),N=p._navigator?p._navigator.userAgent:"",$=N.match(/OPR\/([0-6].)/g),V=$&&parseInt($[0].split("/")[1],10)<33,J=-1!==N.indexOf("Safari")&&-1===N.indexOf("Chrome"),X=N.match(/Version\/(.*?) /),Z=J&&X&&parseInt(X[1],10)<15;return p._codecs={mp3:!(V||!O&&!w.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!O,opus:!!w.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!w.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!w.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(w.canPlayType('audio/wav; codecs="1"')||w.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!w.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!w.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(w.canPlayType("audio/x-m4a;")||w.canPlayType("audio/m4a;")||w.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(w.canPlayType("audio/x-m4b;")||w.canPlayType("audio/m4b;")||w.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(w.canPlayType("audio/x-mp4;")||w.canPlayType("audio/mp4;")||w.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Z||!w.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Z||!w.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!w.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(w.canPlayType("audio/x-flac;")||w.canPlayType("audio/flac;")).replace(/^no$/,"")},p},_unlockAudio:function(){var p=this||v;if(!p._audioUnlocked&&p.ctx){p._audioUnlocked=!1,p.autoUnlock=!1,!p._mobileUnloaded&&44100!==p.ctx.sampleRate&&(p._mobileUnloaded=!0,p.unload()),p._scratchBuffer=p.ctx.createBuffer(1,1,22050);var w=function(O){for(;p._html5AudioPool.length<p.html5PoolSize;)try{var N=new Audio;N._unlocked=!0,p._releaseHtml5Audio(N)}catch(j){p.noAudio=!0;break}for(var $=0;$<p._howls.length;$++)if(!p._howls[$]._webAudio)for(var V=p._howls[$]._getSoundIds(),J=0;J<V.length;J++){var X=p._howls[$]._soundById(V[J]);X&&X._node&&!X._node._unlocked&&(X._node._unlocked=!0,X._node.load())}p._autoResume();var Z=p.ctx.createBufferSource();Z.buffer=p._scratchBuffer,Z.connect(p.ctx.destination),void 0===Z.start?Z.noteOn(0):Z.start(0),"function"==typeof p.ctx.resume&&p.ctx.resume(),Z.onended=function(){Z.disconnect(0),p._audioUnlocked=!0,document.removeEventListener("touchstart",w,!0),document.removeEventListener("touchend",w,!0),document.removeEventListener("click",w,!0),document.removeEventListener("keydown",w,!0);for(var j=0;j<p._howls.length;j++)p._howls[j]._emit("unlock")}};return document.addEventListener("touchstart",w,!0),document.addEventListener("touchend",w,!0),document.addEventListener("click",w,!0),document.addEventListener("keydown",w,!0),p}},_obtainHtml5Audio:function(){var p=this||v;if(p._html5AudioPool.length)return p._html5AudioPool.pop();var w=(new Audio).play();return w&&"undefined"!=typeof Promise&&(w instanceof Promise||"function"==typeof w.then)&&w.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(p){var w=this||v;return p._unlocked&&w._html5AudioPool.push(p),w},_autoSuspend:function(){var p=this;if(p.autoSuspend&&p.ctx&&void 0!==p.ctx.suspend&&v.usingWebAudio){for(var w=0;w<p._howls.length;w++)if(p._howls[w]._webAudio)for(var O=0;O<p._howls[w]._sounds.length;O++)if(!p._howls[w]._sounds[O]._paused)return p;return p._suspendTimer&&clearTimeout(p._suspendTimer),p._suspendTimer=setTimeout(function(){if(p.autoSuspend){p._suspendTimer=null,p.state="suspending";var N=function(){p.state="suspended",p._resumeAfterSuspend&&(delete p._resumeAfterSuspend,p._autoResume())};p.ctx.suspend().then(N,N)}},3e4),p}},_autoResume:function(){var p=this;if(p.ctx&&void 0!==p.ctx.resume&&v.usingWebAudio)return"running"===p.state&&"interrupted"!==p.ctx.state&&p._suspendTimer?(clearTimeout(p._suspendTimer),p._suspendTimer=null):"suspended"===p.state||"running"===p.state&&"interrupted"===p.ctx.state?(p.ctx.resume().then(function(){p.state="running";for(var w=0;w<p._howls.length;w++)p._howls[w]._emit("resume")}),p._suspendTimer&&(clearTimeout(p._suspendTimer),p._suspendTimer=null)):"suspending"===p.state&&(p._resumeAfterSuspend=!0),p}};var v=new E,T=function(p){p.src&&0!==p.src.length?this.init(p):console.error("An array of source files must be passed with any new Howl.")};T.prototype={init:function(p){var w=this;return v.ctx||P(),w._autoplay=p.autoplay||!1,w._format="string"!=typeof p.format?p.format:[p.format],w._html5=p.html5||!1,w._muted=p.mute||!1,w._loop=p.loop||!1,w._pool=p.pool||5,w._preload="boolean"!=typeof p.preload&&"metadata"!==p.preload||p.preload,w._rate=p.rate||1,w._sprite=p.sprite||{},w._src="string"!=typeof p.src?p.src:[p.src],w._volume=void 0!==p.volume?p.volume:1,w._xhr={method:p.xhr&&p.xhr.method?p.xhr.method:"GET",headers:p.xhr&&p.xhr.headers?p.xhr.headers:null,withCredentials:!(!p.xhr||!p.xhr.withCredentials)&&p.xhr.withCredentials},w._duration=0,w._state="unloaded",w._sounds=[],w._endTimers={},w._queue=[],w._playLock=!1,w._onend=p.onend?[{fn:p.onend}]:[],w._onfade=p.onfade?[{fn:p.onfade}]:[],w._onload=p.onload?[{fn:p.onload}]:[],w._onloaderror=p.onloaderror?[{fn:p.onloaderror}]:[],w._onplayerror=p.onplayerror?[{fn:p.onplayerror}]:[],w._onpause=p.onpause?[{fn:p.onpause}]:[],w._onplay=p.onplay?[{fn:p.onplay}]:[],w._onstop=p.onstop?[{fn:p.onstop}]:[],w._onmute=p.onmute?[{fn:p.onmute}]:[],w._onvolume=p.onvolume?[{fn:p.onvolume}]:[],w._onrate=p.onrate?[{fn:p.onrate}]:[],w._onseek=p.onseek?[{fn:p.onseek}]:[],w._onunlock=p.onunlock?[{fn:p.onunlock}]:[],w._onresume=[],w._webAudio=v.usingWebAudio&&!w._html5,void 0!==v.ctx&&v.ctx&&v.autoUnlock&&v._unlockAudio(),v._howls.push(w),w._autoplay&&w._queue.push({event:"play",action:function(){w.play()}}),w._preload&&"none"!==w._preload&&w.load(),w},load:function(){var p=this,w=null;if(v.noAudio)p._emit("loaderror",null,"No audio support.");else{"string"==typeof p._src&&(p._src=[p._src]);for(var O=0;O<p._src.length;O++){var N,$;if(p._format&&p._format[O])N=p._format[O];else{if("string"!=typeof($=p._src[O])){p._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(N=/^data:audio\/([^;,]+);/i.exec($))||(N=/\.([^.]+)$/.exec($.split("?",1)[0])),N&&(N=N[1].toLowerCase())}if(N||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),N&&v.codecs(N)){w=p._src[O];break}}if(w)return p._src=w,p._state="loading","https:"===window.location.protocol&&"http:"===w.slice(0,5)&&(p._html5=!0,p._webAudio=!1),new y(p),p._webAudio&&g(p),p;p._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(p,w){var O=this,N=null;if("number"==typeof p)N=p,p=null;else{if("string"==typeof p&&"loaded"===O._state&&!O._sprite[p])return null;if(void 0===p&&(p="__default",!O._playLock)){for(var $=0,V=0;V<O._sounds.length;V++)O._sounds[V]._paused&&!O._sounds[V]._ended&&($++,N=O._sounds[V]._id);1===$?p=null:N=null}}var J=N?O._soundById(N):O._inactiveSound();if(!J)return null;if(N&&!p&&(p=J._sprite||"__default"),"loaded"!==O._state){J._sprite=p,J._ended=!1;var X=J._id;return O._queue.push({event:"play",action:function(){O.play(X)}}),X}if(N&&!J._paused)return w||O._loadQueue("play"),J._id;O._webAudio&&v._autoResume();var Z=Math.max(0,J._seek>0?J._seek:O._sprite[p][0]/1e3),j=Math.max(0,(O._sprite[p][0]+O._sprite[p][1])/1e3-Z),K=1e3*j/Math.abs(J._rate),Q=O._sprite[p][0]/1e3,re=(O._sprite[p][0]+O._sprite[p][1])/1e3;J._sprite=p,J._ended=!1;var ne=function(){J._paused=!1,J._seek=Z,J._start=Q,J._stop=re,J._loop=!(!J._loop&&!O._sprite[p][2])};if(!(Z>=re)){var pe=J._node;if(O._webAudio){var be=function(){O._playLock=!1,ne(),O._refreshBuffer(J),pe.gain.setValueAtTime(J._muted||O._muted?0:J._volume,v.ctx.currentTime),J._playStart=v.ctx.currentTime,void 0===pe.bufferSource.start?pe.bufferSource.noteGrainOn(0,Z,J._loop?86400:j):pe.bufferSource.start(0,Z,J._loop?86400:j),K!==1/0&&(O._endTimers[J._id]=setTimeout(O._ended.bind(O,J),K)),w||setTimeout(function(){O._emit("play",J._id),O._loadQueue()},0)};"running"===v.state&&"interrupted"!==v.ctx.state?be():(O._playLock=!0,O.once("resume",be),O._clearTimer(J._id))}else{var Le=function(){pe.currentTime=Z,pe.muted=J._muted||O._muted||v._muted||pe.muted,pe.volume=J._volume*v.volume(),pe.playbackRate=J._rate;try{var le=pe.play();if(le&&"undefined"!=typeof Promise&&(le instanceof Promise||"function"==typeof le.then)?(O._playLock=!0,ne(),le.then(function(){O._playLock=!1,pe._unlocked=!0,w?O._loadQueue():O._emit("play",J._id)}).catch(function(){O._playLock=!1,O._emit("playerror",J._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),J._ended=!0,J._paused=!0})):w||(O._playLock=!1,ne(),O._emit("play",J._id)),pe.playbackRate=J._rate,pe.paused)return void O._emit("playerror",J._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==p||J._loop?O._endTimers[J._id]=setTimeout(O._ended.bind(O,J),K):(O._endTimers[J._id]=function(){O._ended(J),pe.removeEventListener("ended",O._endTimers[J._id],!1)},pe.addEventListener("ended",O._endTimers[J._id],!1))}catch(Ce){O._emit("playerror",J._id,Ce)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===pe.src&&(pe.src=O._src,pe.load());var Se=window&&window.ejecta||!pe.readyState&&v._navigator.isCocoonJS;if(pe.readyState>=3||Se)Le();else{O._playLock=!0,O._state="loading";var xe=function(){O._state="loaded",Le(),pe.removeEventListener(v._canPlayEvent,xe,!1)};pe.addEventListener(v._canPlayEvent,xe,!1),O._clearTimer(J._id)}}return J._id}O._ended(J)},pause:function(p){var w=this;if("loaded"!==w._state||w._playLock)return w._queue.push({event:"pause",action:function(){w.pause(p)}}),w;for(var O=w._getSoundIds(p),N=0;N<O.length;N++){w._clearTimer(O[N]);var $=w._soundById(O[N]);if($&&!$._paused&&($._seek=w.seek(O[N]),$._rateSeek=0,$._paused=!0,w._stopFade(O[N]),$._node))if(w._webAudio){if(!$._node.bufferSource)continue;void 0===$._node.bufferSource.stop?$._node.bufferSource.noteOff(0):$._node.bufferSource.stop(0),w._cleanBuffer($._node)}else(!isNaN($._node.duration)||$._node.duration===1/0)&&$._node.pause();arguments[1]||w._emit("pause",$?$._id:null)}return w},stop:function(p,w){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"stop",action:function(){O.stop(p)}}),O;for(var N=O._getSoundIds(p),$=0;$<N.length;$++){O._clearTimer(N[$]);var V=O._soundById(N[$]);V&&(V._seek=V._start||0,V._rateSeek=0,V._paused=!0,V._ended=!0,O._stopFade(N[$]),V._node&&(O._webAudio?V._node.bufferSource&&(void 0===V._node.bufferSource.stop?V._node.bufferSource.noteOff(0):V._node.bufferSource.stop(0),O._cleanBuffer(V._node)):(!isNaN(V._node.duration)||V._node.duration===1/0)&&(V._node.currentTime=V._start||0,V._node.pause(),V._node.duration===1/0&&O._clearSound(V._node))),w||O._emit("stop",V._id))}return O},mute:function(p,w){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"mute",action:function(){O.mute(p,w)}}),O;if(void 0===w){if("boolean"!=typeof p)return O._muted;O._muted=p}for(var N=O._getSoundIds(w),$=0;$<N.length;$++){var V=O._soundById(N[$]);V&&(V._muted=p,V._interval&&O._stopFade(V._id),O._webAudio&&V._node?V._node.gain.setValueAtTime(p?0:V._volume,v.ctx.currentTime):V._node&&(V._node.muted=!!v._muted||p),O._emit("mute",V._id))}return O},volume:function(){var O,N,J,p=this,w=arguments;if(0===w.length)return p._volume;if(1===w.length||2===w.length&&void 0===w[1]){var $=p._getSoundIds(),V=$.indexOf(w[0]);V>=0?N=parseInt(w[0],10):O=parseFloat(w[0])}else w.length>=2&&(O=parseFloat(w[0]),N=parseInt(w[1],10));if(!(void 0!==O&&O>=0&&O<=1))return(J=N?p._soundById(N):p._sounds[0])?J._volume:0;if("loaded"!==p._state||p._playLock)return p._queue.push({event:"volume",action:function(){p.volume.apply(p,w)}}),p;void 0===N&&(p._volume=O),N=p._getSoundIds(N);for(var X=0;X<N.length;X++)(J=p._soundById(N[X]))&&(J._volume=O,w[2]||p._stopFade(N[X]),p._webAudio&&J._node&&!J._muted?J._node.gain.setValueAtTime(O,v.ctx.currentTime):J._node&&!J._muted&&(J._node.volume=O*v.volume()),p._emit("volume",J._id));return p},fade:function(p,w,O,N){var $=this;if("loaded"!==$._state||$._playLock)return $._queue.push({event:"fade",action:function(){$.fade(p,w,O,N)}}),$;p=Math.min(Math.max(0,parseFloat(p)),1),w=Math.min(Math.max(0,parseFloat(w)),1),O=parseFloat(O),$.volume(p,N);for(var V=$._getSoundIds(N),J=0;J<V.length;J++){var X=$._soundById(V[J]);if(X){if(N||$._stopFade(V[J]),$._webAudio&&!X._muted){var Z=v.ctx.currentTime,j=Z+O/1e3;X._volume=p,X._node.gain.setValueAtTime(p,Z),X._node.gain.linearRampToValueAtTime(w,j)}$._startFadeInterval(X,p,w,O,V[J],void 0===N)}}return $},_startFadeInterval:function(p,w,O,N,$,V){var J=this,X=w,Z=O-w,j=Math.abs(Z/.01),K=Math.max(4,j>0?N/j:N),Q=Date.now();p._fadeTo=O,p._interval=setInterval(function(){var re=(Date.now()-Q)/N;Q=Date.now(),X+=Z*re,X=Math.round(100*X)/100,X=Z<0?Math.max(O,X):Math.min(O,X),J._webAudio?p._volume=X:J.volume(X,p._id,!0),V&&(J._volume=X),(O<w&&X<=O||O>w&&X>=O)&&(clearInterval(p._interval),p._interval=null,p._fadeTo=null,J.volume(O,p._id),J._emit("fade",p._id))},K)},_stopFade:function(p){var w=this,O=w._soundById(p);return O&&O._interval&&(w._webAudio&&O._node.gain.cancelScheduledValues(v.ctx.currentTime),clearInterval(O._interval),O._interval=null,w.volume(O._fadeTo,p),O._fadeTo=null,w._emit("fade",p)),w},loop:function(){var O,N,$,p=this,w=arguments;if(0===w.length)return p._loop;if(1===w.length){if("boolean"!=typeof w[0])return!!($=p._soundById(parseInt(w[0],10)))&&$._loop;p._loop=O=w[0]}else 2===w.length&&(O=w[0],N=parseInt(w[1],10));for(var V=p._getSoundIds(N),J=0;J<V.length;J++)($=p._soundById(V[J]))&&($._loop=O,p._webAudio&&$._node&&$._node.bufferSource&&($._node.bufferSource.loop=O,O&&($._node.bufferSource.loopStart=$._start||0,$._node.bufferSource.loopEnd=$._stop,p.playing(V[J])&&(p.pause(V[J],!0),p.play(V[J],!0)))));return p},rate:function(){var O,N,J,p=this,w=arguments;if(0===w.length)N=p._sounds[0]._id;else if(1===w.length){var $=p._getSoundIds(),V=$.indexOf(w[0]);V>=0?N=parseInt(w[0],10):O=parseFloat(w[0])}else 2===w.length&&(O=parseFloat(w[0]),N=parseInt(w[1],10));if("number"!=typeof O)return(J=p._soundById(N))?J._rate:p._rate;if("loaded"!==p._state||p._playLock)return p._queue.push({event:"rate",action:function(){p.rate.apply(p,w)}}),p;void 0===N&&(p._rate=O),N=p._getSoundIds(N);for(var X=0;X<N.length;X++)if(J=p._soundById(N[X])){p.playing(N[X])&&(J._rateSeek=p.seek(N[X]),J._playStart=p._webAudio?v.ctx.currentTime:J._playStart),J._rate=O,p._webAudio&&J._node&&J._node.bufferSource?J._node.bufferSource.playbackRate.setValueAtTime(O,v.ctx.currentTime):J._node&&(J._node.playbackRate=O);var Z=p.seek(N[X]),j=(p._sprite[J._sprite][0]+p._sprite[J._sprite][1])/1e3-Z,K=1e3*j/Math.abs(J._rate);(p._endTimers[N[X]]||!J._paused)&&(p._clearTimer(N[X]),p._endTimers[N[X]]=setTimeout(p._ended.bind(p,J),K)),p._emit("rate",J._id)}return p},seek:function(){var O,N,p=this,w=arguments;if(0===w.length)p._sounds.length&&(N=p._sounds[0]._id);else if(1===w.length){var $=p._getSoundIds(),V=$.indexOf(w[0]);V>=0?N=parseInt(w[0],10):p._sounds.length&&(N=p._sounds[0]._id,O=parseFloat(w[0]))}else 2===w.length&&(O=parseFloat(w[0]),N=parseInt(w[1],10));if(void 0===N)return 0;if("number"==typeof O&&("loaded"!==p._state||p._playLock))return p._queue.push({event:"seek",action:function(){p.seek.apply(p,w)}}),p;var J=p._soundById(N);if(J){if(!("number"==typeof O&&O>=0)){if(p._webAudio){var K=p.playing(N)?v.ctx.currentTime-J._playStart:0,Q=J._rateSeek?J._rateSeek-J._seek:0;return J._seek+(Q+K*Math.abs(J._rate))}return J._node.currentTime}var X=p.playing(N);X&&p.pause(N,!0),J._seek=O,J._ended=!1,p._clearTimer(N),!p._webAudio&&J._node&&!isNaN(J._node.duration)&&(J._node.currentTime=O);var Z=function(){X&&p.play(N,!0),p._emit("seek",N)};if(X&&!p._webAudio){var j=function(){p._playLock?setTimeout(j,0):Z()};setTimeout(j,0)}else Z()}return p},playing:function(p){var w=this;if("number"==typeof p){var O=w._soundById(p);return!!O&&!O._paused}for(var N=0;N<w._sounds.length;N++)if(!w._sounds[N]._paused)return!0;return!1},duration:function(p){var w=this,O=w._duration,N=w._soundById(p);return N&&(O=w._sprite[N._sprite][1]/1e3),O},state:function(){return this._state},unload:function(){for(var p=this,w=p._sounds,O=0;O<w.length;O++)w[O]._paused||p.stop(w[O]._id),p._webAudio||(p._clearSound(w[O]._node),w[O]._node.removeEventListener("error",w[O]._errorFn,!1),w[O]._node.removeEventListener(v._canPlayEvent,w[O]._loadFn,!1),w[O]._node.removeEventListener("ended",w[O]._endFn,!1),v._releaseHtml5Audio(w[O]._node)),delete w[O]._node,p._clearTimer(w[O]._id);var N=v._howls.indexOf(p);N>=0&&v._howls.splice(N,1);var $=!0;for(O=0;O<v._howls.length;O++)if(v._howls[O]._src===p._src||p._src.indexOf(v._howls[O]._src)>=0){$=!1;break}return _&&$&&delete _[p._src],v.noAudio=!1,p._state="unloaded",p._sounds=[],p=null,null},on:function(p,w,O,N){return"function"==typeof w&&this["_on"+p].push(N?{id:O,fn:w,once:N}:{id:O,fn:w}),this},off:function(p,w,O){var N=this,$=N["_on"+p],V=0;if("number"==typeof w&&(O=w,w=null),w||O)for(V=0;V<$.length;V++){var J=O===$[V].id;if(w===$[V].fn&&J||!w&&J){$.splice(V,1);break}}else if(p)N["_on"+p]=[];else{var X=Object.keys(N);for(V=0;V<X.length;V++)0===X[V].indexOf("_on")&&Array.isArray(N[X[V]])&&(N[X[V]]=[])}return N},once:function(p,w,O){return this.on(p,w,O,1),this},_emit:function(p,w,O){for(var N=this,$=N["_on"+p],V=$.length-1;V>=0;V--)(!$[V].id||$[V].id===w||"load"===p)&&(setTimeout(function(J){J.call(this,w,O)}.bind(N,$[V].fn),0),$[V].once&&N.off(p,$[V].fn,$[V].id));return N._loadQueue(p),N},_loadQueue:function(p){var w=this;if(w._queue.length>0){var O=w._queue[0];O.event===p&&(w._queue.shift(),w._loadQueue()),p||O.action()}return w},_ended:function(p){var w=this,O=p._sprite;if(!w._webAudio&&p._node&&!p._node.paused&&!p._node.ended&&p._node.currentTime<p._stop)return setTimeout(w._ended.bind(w,p),100),w;var N=!(!p._loop&&!w._sprite[O][2]);if(w._emit("end",p._id),!w._webAudio&&N&&w.stop(p._id,!0).play(p._id),w._webAudio&&N){w._emit("play",p._id),p._seek=p._start||0,p._rateSeek=0,p._playStart=v.ctx.currentTime;var $=1e3*(p._stop-p._start)/Math.abs(p._rate);w._endTimers[p._id]=setTimeout(w._ended.bind(w,p),$)}return w._webAudio&&!N&&(p._paused=!0,p._ended=!0,p._seek=p._start||0,p._rateSeek=0,w._clearTimer(p._id),w._cleanBuffer(p._node),v._autoSuspend()),!w._webAudio&&!N&&w.stop(p._id,!0),w},_clearTimer:function(p){var w=this;if(w._endTimers[p]){if("function"!=typeof w._endTimers[p])clearTimeout(w._endTimers[p]);else{var O=w._soundById(p);O&&O._node&&O._node.removeEventListener("ended",w._endTimers[p],!1)}delete w._endTimers[p]}return w},_soundById:function(p){for(var w=this,O=0;O<w._sounds.length;O++)if(p===w._sounds[O]._id)return w._sounds[O];return null},_inactiveSound:function(){var p=this;p._drain();for(var w=0;w<p._sounds.length;w++)if(p._sounds[w]._ended)return p._sounds[w].reset();return new y(p)},_drain:function(){var p=this,w=p._pool,O=0,N=0;if(!(p._sounds.length<w)){for(N=0;N<p._sounds.length;N++)p._sounds[N]._ended&&O++;for(N=p._sounds.length-1;N>=0;N--){if(O<=w)return;p._sounds[N]._ended&&(p._webAudio&&p._sounds[N]._node&&p._sounds[N]._node.disconnect(0),p._sounds.splice(N,1),O--)}}},_getSoundIds:function(p){if(void 0===p){for(var O=[],N=0;N<this._sounds.length;N++)O.push(this._sounds[N]._id);return O}return[p]},_refreshBuffer:function(p){return p._node.bufferSource=v.ctx.createBufferSource(),p._node.bufferSource.buffer=_[this._src],p._node.bufferSource.connect(p._panner?p._panner:p._node),p._node.bufferSource.loop=p._loop,p._loop&&(p._node.bufferSource.loopStart=p._start||0,p._node.bufferSource.loopEnd=p._stop||0),p._node.bufferSource.playbackRate.setValueAtTime(p._rate,v.ctx.currentTime),this},_cleanBuffer:function(p){var O=v._navigator&&v._navigator.vendor.indexOf("Apple")>=0;if(v._scratchBuffer&&p.bufferSource&&(p.bufferSource.onended=null,p.bufferSource.disconnect(0),O))try{p.bufferSource.buffer=v._scratchBuffer}catch(N){}return p.bufferSource=null,this},_clearSound:function(p){/MSIE |Trident\//.test(v._navigator&&v._navigator.userAgent)||(p.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var y=function(p){this._parent=p,this.init()};y.prototype={init:function(){var p=this,w=p._parent;return p._muted=w._muted,p._loop=w._loop,p._volume=w._volume,p._rate=w._rate,p._seek=0,p._paused=!0,p._ended=!0,p._sprite="__default",p._id=++v._counter,w._sounds.push(p),p.create(),p},create:function(){var p=this,w=p._parent,O=v._muted||p._muted||p._parent._muted?0:p._volume;return w._webAudio?(p._node=void 0===v.ctx.createGain?v.ctx.createGainNode():v.ctx.createGain(),p._node.gain.setValueAtTime(O,v.ctx.currentTime),p._node.paused=!0,p._node.connect(v.masterGain)):v.noAudio||(p._node=v._obtainHtml5Audio(),p._errorFn=p._errorListener.bind(p),p._node.addEventListener("error",p._errorFn,!1),p._loadFn=p._loadListener.bind(p),p._node.addEventListener(v._canPlayEvent,p._loadFn,!1),p._endFn=p._endListener.bind(p),p._node.addEventListener("ended",p._endFn,!1),p._node.src=w._src,p._node.preload=!0===w._preload?"auto":w._preload,p._node.volume=O*v.volume(),p._node.load()),p},reset:function(){var p=this,w=p._parent;return p._muted=w._muted,p._loop=w._loop,p._volume=w._volume,p._rate=w._rate,p._seek=0,p._rateSeek=0,p._paused=!0,p._ended=!0,p._sprite="__default",p._id=++v._counter,p},_errorListener:function(){var p=this;p._parent._emit("loaderror",p._id,p._node.error?p._node.error.code:0),p._node.removeEventListener("error",p._errorFn,!1)},_loadListener:function(){var p=this,w=p._parent;w._duration=Math.ceil(10*p._node.duration)/10,0===Object.keys(w._sprite).length&&(w._sprite={__default:[0,1e3*w._duration]}),"loaded"!==w._state&&(w._state="loaded",w._emit("load"),w._loadQueue()),p._node.removeEventListener(v._canPlayEvent,p._loadFn,!1)},_endListener:function(){var p=this,w=p._parent;w._duration===1/0&&(w._duration=Math.ceil(10*p._node.duration)/10,w._sprite.__default[1]===1/0&&(w._sprite.__default[1]=1e3*w._duration),w._ended(p)),p._node.removeEventListener("ended",p._endFn,!1)}};var _={},g=function(p){var w=p._src;if(_[w])return p._duration=_[w].duration,void x(p);if(/^data:[^;]+;base64,/.test(w)){for(var O=atob(w.split(",")[1]),N=new Uint8Array(O.length),$=0;$<O.length;++$)N[$]=O.charCodeAt($);m(N.buffer,p)}else{var V=new XMLHttpRequest;V.open(p._xhr.method,w,!0),V.withCredentials=p._xhr.withCredentials,V.responseType="arraybuffer",p._xhr.headers&&Object.keys(p._xhr.headers).forEach(function(J){V.setRequestHeader(J,p._xhr.headers[J])}),V.onload=function(){var J=(V.status+"")[0];"0"===J||"2"===J||"3"===J?m(V.response,p):p._emit("loaderror",null,"Failed loading audio file with status: "+V.status+".")},V.onerror=function(){p._webAudio&&(p._html5=!0,p._webAudio=!1,p._sounds=[],delete _[w],p.load())},f(V)}},f=function(p){try{p.send()}catch(w){p.onerror()}},m=function(p,w){var O=function(){w._emit("loaderror",null,"Decoding audio data failed.")},N=function($){$&&w._sounds.length>0?(_[w._src]=$,x(w,$)):O()};"undefined"!=typeof Promise&&1===v.ctx.decodeAudioData.length?v.ctx.decodeAudioData(p).then(N).catch(O):v.ctx.decodeAudioData(p,N,O)},x=function(p,w){w&&!p._duration&&(p._duration=w.duration),0===Object.keys(p._sprite).length&&(p._sprite={__default:[0,1e3*p._duration]}),"loaded"!==p._state&&(p._state="loaded",p._emit("load"),p._loadQueue())},P=function(){if(v.usingWebAudio){try{"undefined"!=typeof AudioContext?v.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?v.ctx=new webkitAudioContext:v.usingWebAudio=!1}catch($){v.usingWebAudio=!1}v.ctx||(v.usingWebAudio=!1);var p=/iP(hone|od|ad)/.test(v._navigator&&v._navigator.platform),w=v._navigator&&v._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),O=w?parseInt(w[1],10):null;if(p&&O&&O<9){var N=/safari/.test(v._navigator&&v._navigator.userAgent.toLowerCase());v._navigator&&!N&&(v.usingWebAudio=!1)}v.usingWebAudio&&(v.masterGain=void 0===v.ctx.createGain?v.ctx.createGainNode():v.ctx.createGain(),v.masterGain.gain.setValueAtTime(v._muted?0:v._volume,v.ctx.currentTime),v.masterGain.connect(v.ctx.destination)),v._setup()}};void 0!==(h=function(){return{Howler:v,Howl:T}}.apply(z,[]))&&(Me.exports=h),z.Howler=v,z.Howl=T,"undefined"!=typeof global?(global.HowlerGlobal=E,global.Howler=v,global.Howl=T,global.Sound=y):"undefined"!=typeof window&&(window.HowlerGlobal=E,window.Howler=v,window.Howl=T,window.Sound=y)}(),function(){"use strict";var v;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(v){var T=this;if(!T.ctx||!T.ctx.listener)return T;for(var y=T._howls.length-1;y>=0;y--)T._howls[y].stereo(v);return T},HowlerGlobal.prototype.pos=function(v,T,y){var _=this;return _.ctx&&_.ctx.listener?"number"!=typeof v?_._pos:(_._pos=[v,T="number"!=typeof T?_._pos[1]:T,y="number"!=typeof y?_._pos[2]:y],void 0!==_.ctx.listener.positionX?(_.ctx.listener.positionX.setTargetAtTime(_._pos[0],Howler.ctx.currentTime,.1),_.ctx.listener.positionY.setTargetAtTime(_._pos[1],Howler.ctx.currentTime,.1),_.ctx.listener.positionZ.setTargetAtTime(_._pos[2],Howler.ctx.currentTime,.1)):_.ctx.listener.setPosition(_._pos[0],_._pos[1],_._pos[2]),_):_},HowlerGlobal.prototype.orientation=function(v,T,y,_,g,f){var m=this;if(!m.ctx||!m.ctx.listener)return m;var x=m._orientation;return"number"!=typeof v?x:(m._orientation=[v,T="number"!=typeof T?x[1]:T,y="number"!=typeof y?x[2]:y,_="number"!=typeof _?x[3]:_,g="number"!=typeof g?x[4]:g,f="number"!=typeof f?x[5]:f],void 0!==m.ctx.listener.forwardX?(m.ctx.listener.forwardX.setTargetAtTime(v,Howler.ctx.currentTime,.1),m.ctx.listener.forwardY.setTargetAtTime(T,Howler.ctx.currentTime,.1),m.ctx.listener.forwardZ.setTargetAtTime(y,Howler.ctx.currentTime,.1),m.ctx.listener.upX.setTargetAtTime(_,Howler.ctx.currentTime,.1),m.ctx.listener.upY.setTargetAtTime(g,Howler.ctx.currentTime,.1),m.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):m.ctx.listener.setOrientation(v,T,y,_,g,f),m)},Howl.prototype.init=(v=Howl.prototype.init,function(T){var y=this;return y._orientation=T.orientation||[1,0,0],y._stereo=T.stereo||null,y._pos=T.pos||null,y._pannerAttr={coneInnerAngle:void 0!==T.coneInnerAngle?T.coneInnerAngle:360,coneOuterAngle:void 0!==T.coneOuterAngle?T.coneOuterAngle:360,coneOuterGain:void 0!==T.coneOuterGain?T.coneOuterGain:0,distanceModel:void 0!==T.distanceModel?T.distanceModel:"inverse",maxDistance:void 0!==T.maxDistance?T.maxDistance:1e4,panningModel:void 0!==T.panningModel?T.panningModel:"HRTF",refDistance:void 0!==T.refDistance?T.refDistance:1,rolloffFactor:void 0!==T.rolloffFactor?T.rolloffFactor:1},y._onstereo=T.onstereo?[{fn:T.onstereo}]:[],y._onpos=T.onpos?[{fn:T.onpos}]:[],y._onorientation=T.onorientation?[{fn:T.onorientation}]:[],v.call(this,T)}),Howl.prototype.stereo=function(v,T){var y=this;if(!y._webAudio)return y;if("loaded"!==y._state)return y._queue.push({event:"stereo",action:function(){y.stereo(v,T)}}),y;var _=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===T){if("number"!=typeof v)return y._stereo;y._stereo=v,y._pos=[v,0,0]}for(var g=y._getSoundIds(T),f=0;f<g.length;f++){var m=y._soundById(g[f]);if(m){if("number"!=typeof v)return m._stereo;m._stereo=v,m._pos=[v,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&E(m,_),"spatial"===_?void 0!==m._panner.positionX?(m._panner.positionX.setValueAtTime(v,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):m._panner.setPosition(v,0,0):m._panner.pan.setValueAtTime(v,Howler.ctx.currentTime)),y._emit("stereo",m._id)}}return y},Howl.prototype.pos=function(v,T,y,_){var g=this;if(!g._webAudio)return g;if("loaded"!==g._state)return g._queue.push({event:"pos",action:function(){g.pos(v,T,y,_)}}),g;if(T="number"!=typeof T?0:T,y="number"!=typeof y?-.5:y,void 0===_){if("number"!=typeof v)return g._pos;g._pos=[v,T,y]}for(var f=g._getSoundIds(_),m=0;m<f.length;m++){var x=g._soundById(f[m]);if(x){if("number"!=typeof v)return x._pos;x._pos=[v,T,y],x._node&&((!x._panner||x._panner.pan)&&E(x,"spatial"),void 0!==x._panner.positionX?(x._panner.positionX.setValueAtTime(v,Howler.ctx.currentTime),x._panner.positionY.setValueAtTime(T,Howler.ctx.currentTime),x._panner.positionZ.setValueAtTime(y,Howler.ctx.currentTime)):x._panner.setPosition(v,T,y)),g._emit("pos",x._id)}}return g},Howl.prototype.orientation=function(v,T,y,_){var g=this;if(!g._webAudio)return g;if("loaded"!==g._state)return g._queue.push({event:"orientation",action:function(){g.orientation(v,T,y,_)}}),g;if(T="number"!=typeof T?g._orientation[1]:T,y="number"!=typeof y?g._orientation[2]:y,void 0===_){if("number"!=typeof v)return g._orientation;g._orientation=[v,T,y]}for(var f=g._getSoundIds(_),m=0;m<f.length;m++){var x=g._soundById(f[m]);if(x){if("number"!=typeof v)return x._orientation;x._orientation=[v,T,y],x._node&&(x._panner||(x._pos||(x._pos=g._pos||[0,0,-.5]),E(x,"spatial")),void 0!==x._panner.orientationX?(x._panner.orientationX.setValueAtTime(v,Howler.ctx.currentTime),x._panner.orientationY.setValueAtTime(T,Howler.ctx.currentTime),x._panner.orientationZ.setValueAtTime(y,Howler.ctx.currentTime)):x._panner.setOrientation(v,T,y)),g._emit("orientation",x._id)}}return g},Howl.prototype.pannerAttr=function(){var y,_,g,v=this,T=arguments;if(!v._webAudio)return v;if(0===T.length)return v._pannerAttr;if(1===T.length){if("object"!=typeof T[0])return(g=v._soundById(parseInt(T[0],10)))?g._pannerAttr:v._pannerAttr;y=T[0],void 0===_&&(y.pannerAttr||(y.pannerAttr={coneInnerAngle:y.coneInnerAngle,coneOuterAngle:y.coneOuterAngle,coneOuterGain:y.coneOuterGain,distanceModel:y.distanceModel,maxDistance:y.maxDistance,refDistance:y.refDistance,rolloffFactor:y.rolloffFactor,panningModel:y.panningModel}),v._pannerAttr={coneInnerAngle:void 0!==y.pannerAttr.coneInnerAngle?y.pannerAttr.coneInnerAngle:v._coneInnerAngle,coneOuterAngle:void 0!==y.pannerAttr.coneOuterAngle?y.pannerAttr.coneOuterAngle:v._coneOuterAngle,coneOuterGain:void 0!==y.pannerAttr.coneOuterGain?y.pannerAttr.coneOuterGain:v._coneOuterGain,distanceModel:void 0!==y.pannerAttr.distanceModel?y.pannerAttr.distanceModel:v._distanceModel,maxDistance:void 0!==y.pannerAttr.maxDistance?y.pannerAttr.maxDistance:v._maxDistance,refDistance:void 0!==y.pannerAttr.refDistance?y.pannerAttr.refDistance:v._refDistance,rolloffFactor:void 0!==y.pannerAttr.rolloffFactor?y.pannerAttr.rolloffFactor:v._rolloffFactor,panningModel:void 0!==y.pannerAttr.panningModel?y.pannerAttr.panningModel:v._panningModel})}else 2===T.length&&(y=T[0],_=parseInt(T[1],10));for(var f=v._getSoundIds(_),m=0;m<f.length;m++)if(g=v._soundById(f[m])){var x=g._pannerAttr;x={coneInnerAngle:void 0!==y.coneInnerAngle?y.coneInnerAngle:x.coneInnerAngle,coneOuterAngle:void 0!==y.coneOuterAngle?y.coneOuterAngle:x.coneOuterAngle,coneOuterGain:void 0!==y.coneOuterGain?y.coneOuterGain:x.coneOuterGain,distanceModel:void 0!==y.distanceModel?y.distanceModel:x.distanceModel,maxDistance:void 0!==y.maxDistance?y.maxDistance:x.maxDistance,refDistance:void 0!==y.refDistance?y.refDistance:x.refDistance,rolloffFactor:void 0!==y.rolloffFactor?y.rolloffFactor:x.rolloffFactor,panningModel:void 0!==y.panningModel?y.panningModel:x.panningModel};var P=g._panner;P?(P.coneInnerAngle=x.coneInnerAngle,P.coneOuterAngle=x.coneOuterAngle,P.coneOuterGain=x.coneOuterGain,P.distanceModel=x.distanceModel,P.maxDistance=x.maxDistance,P.refDistance=x.refDistance,P.rolloffFactor=x.rolloffFactor,P.panningModel=x.panningModel):(g._pos||(g._pos=v._pos||[0,0,-.5]),E(g,"spatial"))}return v},Sound.prototype.init=function(v){return function(){var T=this,y=T._parent;T._orientation=y._orientation,T._stereo=y._stereo,T._pos=y._pos,T._pannerAttr=y._pannerAttr,v.call(this),T._stereo?y.stereo(T._stereo):T._pos&&y.pos(T._pos[0],T._pos[1],T._pos[2],T._id)}}(Sound.prototype.init),Sound.prototype.reset=function(v){return function(){var T=this,y=T._parent;return T._orientation=y._orientation,T._stereo=y._stereo,T._pos=y._pos,T._pannerAttr=y._pannerAttr,T._stereo?y.stereo(T._stereo):T._pos?y.pos(T._pos[0],T._pos[1],T._pos[2],T._id):T._panner&&(T._panner.disconnect(0),T._panner=void 0,y._refreshBuffer(T)),v.call(this)}}(Sound.prototype.reset);var E=function(v,T){"spatial"===(T=T||"spatial")?(v._panner=Howler.ctx.createPanner(),v._panner.coneInnerAngle=v._pannerAttr.coneInnerAngle,v._panner.coneOuterAngle=v._pannerAttr.coneOuterAngle,v._panner.coneOuterGain=v._pannerAttr.coneOuterGain,v._panner.distanceModel=v._pannerAttr.distanceModel,v._panner.maxDistance=v._pannerAttr.maxDistance,v._panner.refDistance=v._pannerAttr.refDistance,v._panner.rolloffFactor=v._pannerAttr.rolloffFactor,v._panner.panningModel=v._pannerAttr.panningModel,void 0!==v._panner.positionX?(v._panner.positionX.setValueAtTime(v._pos[0],Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(v._pos[1],Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(v._pos[2],Howler.ctx.currentTime)):v._panner.setPosition(v._pos[0],v._pos[1],v._pos[2]),void 0!==v._panner.orientationX?(v._panner.orientationX.setValueAtTime(v._orientation[0],Howler.ctx.currentTime),v._panner.orientationY.setValueAtTime(v._orientation[1],Howler.ctx.currentTime),v._panner.orientationZ.setValueAtTime(v._orientation[2],Howler.ctx.currentTime)):v._panner.setOrientation(v._orientation[0],v._orientation[1],v._orientation[2])):(v._panner=Howler.ctx.createStereoPanner(),v._panner.pan.setValueAtTime(v._stereo,Howler.ctx.currentTime)),v._panner.connect(v._node),v._paused||v._parent.pause(v._id,!0).play(v._id,!0)}}()},3894:Me=>{Me.exports="function"==typeof Object.create?function(A,h){h&&(A.super_=h,A.prototype=Object.create(h.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:function(A,h){if(h){A.super_=h;var E=function(){};E.prototype=h.prototype,A.prototype=new E,A.prototype.constructor=A}}},9473:Me=>{"use strict";Me.exports=Math.abs},7323:Me=>{"use strict";Me.exports=Math.floor},8493:Me=>{"use strict";Me.exports=Number.isNaN||function(A){return A!=A}},358:Me=>{"use strict";Me.exports=Math.max},5932:Me=>{"use strict";Me.exports=Math.min},9893:Me=>{"use strict";Me.exports=Math.pow},3021:Me=>{"use strict";Me.exports=Math.round},2286:(Me,z,A)=>{"use strict";var h=A(8493);Me.exports=function(v){return h(v)||0===v?v:v<0?-1:1}},7024:(Me,z,A)=>{var h="function"==typeof Map&&Map.prototype,E=Object.getOwnPropertyDescriptor&&h?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,v=h&&E&&"function"==typeof E.get?E.get:null,T=h&&Map.prototype.forEach,y="function"==typeof Set&&Set.prototype,_=Object.getOwnPropertyDescriptor&&y?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,g=y&&_&&"function"==typeof _.get?_.get:null,f=y&&Set.prototype.forEach,x="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,O="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,N=Boolean.prototype.valueOf,$=Object.prototype.toString,V=Function.prototype.toString,J=String.prototype.match,X=String.prototype.slice,Z=String.prototype.replace,j=String.prototype.toUpperCase,K=String.prototype.toLowerCase,Q=RegExp.prototype.test,re=Array.prototype.concat,ne=Array.prototype.join,pe=Array.prototype.slice,be=Math.floor,Le="function"==typeof BigInt?BigInt.prototype.valueOf:null,Se=Object.getOwnPropertySymbols,xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,le="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Ce="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ge=Object.prototype.propertyIsEnumerable,Xe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ue){return Ue.__proto__}:null);function he(Ue,Ye){if(Ue===1/0||Ue===-1/0||Ue!=Ue||Ue&&Ue>-1e3&&Ue<1e3||Q.call(/e/,Ye))return Ye;var mn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ue){var En=Ue<0?-be(-Ue):be(Ue);if(En!==Ue){var ln=String(En),Rt=X.call(Ye,ln.length+1);return Z.call(ln,mn,"$&_")+"."+Z.call(Z.call(Rt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Z.call(Ye,mn,"$&_")}var Te=A(4654),Ne=Te.custom,Ke=Ve(Ne)?Ne:null,ot={__proto__:null,double:'"',single:"'"},Ze={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function mt(Ue,Ye,mn){var ln=ot[mn.quoteStyle||Ye];return ln+Ue+ln}function yt(Ue){return Z.call(String(Ue),/"/g,"&quot;")}function tt(Ue){return!Ce||!("object"==typeof Ue&&(Ce in Ue||void 0!==Ue[Ce]))}function me(Ue){return"[object Array]"===Dn(Ue)&&tt(Ue)}function ke(Ue){return"[object RegExp]"===Dn(Ue)&&tt(Ue)}function Ve(Ue){if(le)return Ue&&"object"==typeof Ue&&Ue instanceof Symbol;if("symbol"==typeof Ue)return!0;if(!Ue||"object"!=typeof Ue||!xe)return!1;try{return xe.call(Ue),!0}catch(Ye){}return!1}Me.exports=function Ue(Ye,mn,En,ln){var Rt=mn||{};if(rn(Rt,"quoteStyle")&&!rn(ot,Rt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(rn(Rt,"maxStringLength")&&("number"==typeof Rt.maxStringLength?Rt.maxStringLength<0&&Rt.maxStringLength!==1/0:null!==Rt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Si=!rn(Rt,"customInspect")||Rt.customInspect;if("boolean"!=typeof Si&&"symbol"!==Si)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(rn(Rt,"indent")&&null!==Rt.indent&&"\t"!==Rt.indent&&!(parseInt(Rt.indent,10)===Rt.indent&&Rt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(rn(Rt,"numericSeparator")&&"boolean"!=typeof Rt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var un=Rt.numericSeparator;if(void 0===Ye)return"undefined";if(null===Ye)return"null";if("boolean"==typeof Ye)return Ye?"true":"false";if("string"==typeof Ye)return xt(Ye,Rt);if("number"==typeof Ye){if(0===Ye)return 1/0/Ye>0?"0":"-0";var mi=String(Ye);return un?he(Ye,mi):mi}if("bigint"==typeof Ye){var Wi=String(Ye)+"n";return un?he(Ye,Wi):Wi}var It=void 0===Rt.depth?5:Rt.depth;if(void 0===En&&(En=0),En>=It&&It>0&&"object"==typeof Ye)return me(Ye)?"[Array]":"[Object]";var ir=function tn(Ue,Ye){var mn;if("\t"===Ue.indent)mn="\t";else{if(!("number"==typeof Ue.indent&&Ue.indent>0))return null;mn=ne.call(Array(Ue.indent+1)," ")}return{base:mn,prev:ne.call(Array(Ye+1),mn)}}(Rt,En);if(void 0===ln)ln=[];else if(Pt(ln,Ye)>=0)return"[Circular]";function Yi(bn,Xi,jr){if(Xi&&(ln=pe.call(ln)).push(Xi),jr){var Us={depth:Rt.depth};return rn(Rt,"quoteStyle")&&(Us.quoteStyle=Rt.quoteStyle),Ue(bn,Us,En+1,ln)}return Ue(bn,Rt,En+1,ln)}if("function"==typeof Ye&&!ke(Ye)){var pa=function bt(Ue){if(Ue.name)return Ue.name;var Ye=J.call(V.call(Ue),/^function\s*([\w$]+)/);return Ye?Ye[1]:null}(Ye),Pu=vn(Ye,Yi);return"[Function"+(pa?": "+pa:" (anonymous)")+"]"+(Pu.length>0?" { "+ne.call(Pu,", ")+" }":"")}if(Ve(Ye)){var fa=le?Z.call(String(Ye),/^(Symbol\(.*\))_[^)]*$/,"$1"):xe.call(Ye);return"object"!=typeof Ye||le?fa:Ft(fa)}if(function it(Ue){return!(!Ue||"object"!=typeof Ue)&&("undefined"!=typeof HTMLElement&&Ue instanceof HTMLElement||"string"==typeof Ue.nodeName&&"function"==typeof Ue.getAttribute)}(Ye)){for(var ga="<"+K.call(String(Ye.nodeName)),Tr=Ye.attributes||[],_s=0;_s<Tr.length;_s++)ga+=" "+Tr[_s].name+"="+mt(yt(Tr[_s].value),"double",Rt);return ga+=">",Ye.childNodes&&Ye.childNodes.length&&(ga+="..."),ga+"</"+K.call(String(Ye.nodeName))+">"}if(me(Ye)){if(0===Ye.length)return"[]";var rs=vn(Ye,Yi);return ir&&!function Pi(Ue){for(var Ye=0;Ye<Ue.length;Ye++)if(Pt(Ue[Ye],"\n")>=0)return!1;return!0}(rs)?"["+ii(rs,ir)+"]":"[ "+ne.call(rs,", ")+" ]"}if(function ze(Ue){return"[object Error]"===Dn(Ue)&&tt(Ue)}(Ye)){var ma=vn(Ye,Yi);return"cause"in Error.prototype||!("cause"in Ye)||ge.call(Ye,"cause")?0===ma.length?"["+String(Ye)+"]":"{ ["+String(Ye)+"] "+ne.call(ma,", ")+" }":"{ ["+String(Ye)+"] "+ne.call(re.call("[cause]: "+Yi(Ye.cause),ma),", ")+" }"}if("object"==typeof Ye&&Si){if(Ke&&"function"==typeof Ye[Ke]&&Te)return Te(Ye,{depth:It-En});if("symbol"!==Si&&"function"==typeof Ye.inspect)return Ye.inspect()}if(function Fe(Ue){if(!v||!Ue||"object"!=typeof Ue)return!1;try{v.call(Ue);try{g.call(Ue)}catch(Ye){return!0}return Ue instanceof Map}catch(Ye){}return!1}(Ye)){var Ls=[];return T&&T.call(Ye,function(bn,Xi){Ls.push(Yi(Xi,Ye,!0)+" => "+Yi(bn,Ye))}),li("Map",v.call(Ye),Ls,ir)}if(function qe(Ue){if(!g||!Ue||"object"!=typeof Ue)return!1;try{g.call(Ue);try{v.call(Ue)}catch(Ye){return!0}return Ue instanceof Set}catch(Ye){}return!1}(Ye)){var vt=[];return f&&f.call(Ye,function(bn){vt.push(Yi(bn,Ye))}),li("Set",g.call(Ye),vt,ir)}if(function De(Ue){if(!x||!Ue||"object"!=typeof Ue)return!1;try{x.call(Ue,x);try{p.call(Ue,p)}catch(Ye){return!0}return Ue instanceof WeakMap}catch(Ye){}return!1}(Ye))return Rn("WeakMap");if(function He(Ue){if(!p||!Ue||"object"!=typeof Ue)return!1;try{p.call(Ue,p);try{x.call(Ue,x)}catch(Ye){return!0}return Ue instanceof WeakSet}catch(Ye){}return!1}(Ye))return Rn("WeakSet");if(function $e(Ue){if(!O||!Ue||"object"!=typeof Ue)return!1;try{return O.call(Ue),!0}catch(Ye){}return!1}(Ye))return Rn("WeakRef");if(function lt(Ue){return"[object Number]"===Dn(Ue)&&tt(Ue)}(Ye))return Ft(Yi(Number(Ye)));if(function Qt(Ue){if(!Ue||"object"!=typeof Ue||!Le)return!1;try{return Le.call(Ue),!0}catch(Ye){}return!1}(Ye))return Ft(Yi(Le.call(Ye)));if(function Be(Ue){return"[object Boolean]"===Dn(Ue)&&tt(Ue)}(Ye))return Ft(N.call(Ye));if(function st(Ue){return"[object String]"===Dn(Ue)&&tt(Ue)}(Ye))return Ft(Yi(String(Ye)));if("undefined"!=typeof window&&Ye===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&Ye===globalThis||"undefined"!=typeof global&&Ye===global)return"{ [object globalThis] }";if(!function Ie(Ue){return"[object Date]"===Dn(Ue)&&tt(Ue)}(Ye)&&!ke(Ye)){var jt=vn(Ye,Yi),nn=Xe?Xe(Ye)===Object.prototype:Ye instanceof Object||Ye.constructor===Object,Ni=Ye instanceof Object?"":"null prototype",On=!nn&&Ce&&Object(Ye)===Ye&&Ce in Ye?X.call(Dn(Ye),8,-1):Ni?"Object":"",To=(nn||"function"!=typeof Ye.constructor?"":Ye.constructor.name?Ye.constructor.name+" ":"")+(On||Ni?"["+ne.call(re.call([],On||[],Ni||[]),": ")+"] ":"");return 0===jt.length?To+"{}":ir?To+"{"+ii(jt,ir)+"}":To+"{ "+ne.call(jt,", ")+" }"}return String(Ye)};var Ut=Object.prototype.hasOwnProperty||function(Ue){return Ue in this};function rn(Ue,Ye){return Ut.call(Ue,Ye)}function Dn(Ue){return $.call(Ue)}function Pt(Ue,Ye){if(Ue.indexOf)return Ue.indexOf(Ye);for(var mn=0,En=Ue.length;mn<En;mn++)if(Ue[mn]===Ye)return mn;return-1}function xt(Ue,Ye){if(Ue.length>Ye.maxStringLength){var mn=Ue.length-Ye.maxStringLength,En="... "+mn+" more character"+(mn>1?"s":"");return xt(X.call(Ue,0,Ye.maxStringLength),Ye)+En}var ln=Ze[Ye.quoteStyle||"single"];return ln.lastIndex=0,mt(Z.call(Z.call(Ue,ln,"\\$1"),/[\x00-\x1f]/g,Nt),"single",Ye)}function Nt(Ue){var Ye=Ue.charCodeAt(0),mn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ye];return mn?"\\"+mn:"\\x"+(Ye<16?"0":"")+j.call(Ye.toString(16))}function Ft(Ue){return"Object("+Ue+")"}function Rn(Ue){return Ue+" { ? }"}function li(Ue,Ye,mn,En){return Ue+" ("+Ye+") {"+(En?ii(mn,En):ne.call(mn,", "))+"}"}function ii(Ue,Ye){if(0===Ue.length)return"";var mn="\n"+Ye.prev+Ye.base;return mn+ne.call(Ue,","+mn)+"\n"+Ye.prev}function vn(Ue,Ye){var mn=me(Ue),En=[];if(mn){En.length=Ue.length;for(var ln=0;ln<Ue.length;ln++)En[ln]=rn(Ue,ln)?Ye(Ue[ln],Ue):""}var Si,Rt="function"==typeof Se?Se(Ue):[];if(le){Si={};for(var un=0;un<Rt.length;un++)Si["$"+Rt[un]]=Rt[un]}for(var mi in Ue)!rn(Ue,mi)||mn&&String(Number(mi))===mi&&mi<Ue.length||le&&Si["$"+mi]instanceof Symbol||(Q.call(/[^\w$]/,mi)?En.push(Ye(mi,Ue)+": "+Ye(Ue[mi],Ue)):En.push(mi+": "+Ye(Ue[mi],Ue)));if("function"==typeof Se)for(var Wi=0;Wi<Rt.length;Wi++)ge.call(Ue,Rt[Wi])&&En.push("["+Ye(Rt[Wi])+"]: "+Ye(Ue[Rt[Wi]],Ue));return En}},9165:Me=>{"use strict";var z=String.prototype.replace,A=/%20/g;Me.exports={default:"RFC3986",formatters:{RFC1738:function(E){return z.call(E,A,"+")},RFC3986:function(E){return String(E)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},1781:(Me,z,A)=>{"use strict";var h=A(3726),E=A(6954),v=A(9165);Me.exports={formats:v,parse:E,stringify:h}},6954:(Me,z,A)=>{"use strict";var h=A(4393),E=Object.prototype.hasOwnProperty,v=Array.isArray,T={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:h.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},_=function(w,O,N){if(w&&"string"==typeof w&&O.comma&&w.indexOf(",")>-1)return w.split(",");if(O.throwOnLimitExceeded&&N>=O.arrayLimit)throw new RangeError("Array limit exceeded. Only "+O.arrayLimit+" element"+(1===O.arrayLimit?"":"s")+" allowed in an array.");return w},P=function(O,N,$,V){if(O){var J=$.allowDots?O.replace(/\.([^.[]+)/g,"[$1]"):O,Z=/(\[[^[\]]*])/g,j=$.depth>0&&/(\[[^[\]]*])/.exec(J),K=j?J.slice(0,j.index):J,Q=[];if(K){if(!$.plainObjects&&E.call(Object.prototype,K)&&!$.allowPrototypes)return;Q.push(K)}for(var re=0;$.depth>0&&null!==(j=Z.exec(J))&&re<$.depth;){if(re+=1,!$.plainObjects&&E.call(Object.prototype,j[1].slice(1,-1))&&!$.allowPrototypes)return;Q.push(j[1])}if(j){if(!0===$.strictDepth)throw new RangeError("Input depth exceeded depth option of "+$.depth+" and strictDepth is true");Q.push("["+J.slice(j.index)+"]")}return function(w,O,N,$){var V=0;if(w.length>0&&"[]"===w[w.length-1]){var J=w.slice(0,-1).join("");V=Array.isArray(O)&&O[J]?O[J].length:0}for(var X=$?O:_(O,N,V),Z=w.length-1;Z>=0;--Z){var j,K=w[Z];if("[]"===K&&N.parseArrays)j=N.allowEmptyArrays&&(""===X||N.strictNullHandling&&null===X)?[]:h.combine([],X);else{j=N.plainObjects?{__proto__:null}:{};var Q="["===K.charAt(0)&&"]"===K.charAt(K.length-1)?K.slice(1,-1):K,re=N.decodeDotInKeys?Q.replace(/%2E/g,"."):Q,ne=parseInt(re,10);N.parseArrays||""!==re?!isNaN(ne)&&K!==re&&String(ne)===re&&ne>=0&&N.parseArrays&&ne<=N.arrayLimit?(j=[])[ne]=X:"__proto__"!==re&&(j[re]=X):j={0:X}}X=j}return X}(Q,N,$,V)}};Me.exports=function(w,O){var N=function(O){if(!O)return T;if(void 0!==O.allowEmptyArrays&&"boolean"!=typeof O.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==O.decodeDotInKeys&&"boolean"!=typeof O.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!=O.decoder&&"function"!=typeof O.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==O.charset&&"utf-8"!==O.charset&&"iso-8859-1"!==O.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==O.throwOnLimitExceeded&&"boolean"!=typeof O.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var N=void 0===O.charset?T.charset:O.charset,$=void 0===O.duplicates?T.duplicates:O.duplicates;if("combine"!==$&&"first"!==$&&"last"!==$)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===O.allowDots?!0===O.decodeDotInKeys||T.allowDots:!!O.allowDots,allowEmptyArrays:"boolean"==typeof O.allowEmptyArrays?!!O.allowEmptyArrays:T.allowEmptyArrays,allowPrototypes:"boolean"==typeof O.allowPrototypes?O.allowPrototypes:T.allowPrototypes,allowSparse:"boolean"==typeof O.allowSparse?O.allowSparse:T.allowSparse,arrayLimit:"number"==typeof O.arrayLimit?O.arrayLimit:T.arrayLimit,charset:N,charsetSentinel:"boolean"==typeof O.charsetSentinel?O.charsetSentinel:T.charsetSentinel,comma:"boolean"==typeof O.comma?O.comma:T.comma,decodeDotInKeys:"boolean"==typeof O.decodeDotInKeys?O.decodeDotInKeys:T.decodeDotInKeys,decoder:"function"==typeof O.decoder?O.decoder:T.decoder,delimiter:"string"==typeof O.delimiter||h.isRegExp(O.delimiter)?O.delimiter:T.delimiter,depth:"number"==typeof O.depth||!1===O.depth?+O.depth:T.depth,duplicates:$,ignoreQueryPrefix:!0===O.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof O.interpretNumericEntities?O.interpretNumericEntities:T.interpretNumericEntities,parameterLimit:"number"==typeof O.parameterLimit?O.parameterLimit:T.parameterLimit,parseArrays:!1!==O.parseArrays,plainObjects:"boolean"==typeof O.plainObjects?O.plainObjects:T.plainObjects,strictDepth:"boolean"==typeof O.strictDepth?!!O.strictDepth:T.strictDepth,strictNullHandling:"boolean"==typeof O.strictNullHandling?O.strictNullHandling:T.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof O.throwOnLimitExceeded&&O.throwOnLimitExceeded}}(O);if(""===w||null==w)return N.plainObjects?{__proto__:null}:{};for(var $="string"==typeof w?function(O,N){var $={__proto__:null},V=N.ignoreQueryPrefix?O.replace(/^\?/,""):O;V=V.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var J=N.parameterLimit===1/0?void 0:N.parameterLimit,X=V.split(N.delimiter,N.throwOnLimitExceeded?J+1:J);if(N.throwOnLimitExceeded&&X.length>J)throw new RangeError("Parameter limit exceeded. Only "+J+" parameter"+(1===J?"":"s")+" allowed.");var j,Z=-1,K=N.charset;if(N.charsetSentinel)for(j=0;j<X.length;++j)0===X[j].indexOf("utf8=")&&("utf8=%E2%9C%93"===X[j]?K="utf-8":"utf8=%26%2310003%3B"===X[j]&&(K="iso-8859-1"),Z=j,j=X.length);for(j=0;j<X.length;++j)if(j!==Z){var pe,be,Q=X[j],re=Q.indexOf("]="),ne=-1===re?Q.indexOf("="):re+1;-1===ne?(pe=N.decoder(Q,T.decoder,K,"key"),be=N.strictNullHandling?null:""):(pe=N.decoder(Q.slice(0,ne),T.decoder,K,"key"),be=h.maybeMap(_(Q.slice(ne+1),N,v($[pe])?$[pe].length:0),function(Se){return N.decoder(Se,T.decoder,K,"value")})),be&&N.interpretNumericEntities&&"iso-8859-1"===K&&(be=String(be).replace(/&#(\d+);/g,function(O,N){return String.fromCharCode(parseInt(N,10))})),Q.indexOf("[]=")>-1&&(be=v(be)?[be]:be);var Le=E.call($,pe);Le&&"combine"===N.duplicates?$[pe]=h.combine($[pe],be):(!Le||"last"===N.duplicates)&&($[pe]=be)}return $}(w,N):w,V=N.plainObjects?{__proto__:null}:{},J=Object.keys($),X=0;X<J.length;++X){var Z=J[X],j=P(Z,$[Z],N,"string"==typeof w);V=h.merge(V,j,N)}return!0===N.allowSparse?V:h.compact(V)}},3726:(Me,z,A)=>{"use strict";var h=A(8475),E=A(4393),v=A(9165),T=Object.prototype.hasOwnProperty,y={brackets:function(V){return V+"[]"},comma:"comma",indices:function(V,J){return V+"["+J+"]"},repeat:function(V){return V}},_=Array.isArray,g=Array.prototype.push,f=function($,V){g.apply($,_(V)?V:[V])},m=Date.prototype.toISOString,x=v.default,P={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:E.encode,encodeValuesOnly:!1,filter:void 0,format:x,formatter:v.formatters[x],indices:!1,serializeDate:function(V){return m.call(V)},skipNulls:!1,strictNullHandling:!1},w={},O=function $(V,J,X,Z,j,K,Q,re,ne,pe,be,Le,Se,xe,le,Ce,ge,Xe){for(var he=V,Te=Xe,Ne=0,Ke=!1;void 0!==(Te=Te.get(w))&&!Ke;){var ot=Te.get(V);if(Ne+=1,void 0!==ot){if(ot===Ne)throw new RangeError("Cyclic object value");Ke=!0}void 0===Te.get(w)&&(Ne=0)}if("function"==typeof pe?he=pe(J,he):he instanceof Date?he=Se(he):"comma"===X&&_(he)&&(he=E.maybeMap(he,function(Qt){return Qt instanceof Date?Se(Qt):Qt})),null===he){if(K)return ne&&!Ce?ne(J,P.encoder,ge,"key",xe):J;he=""}if(function(V){return"string"==typeof V||"number"==typeof V||"boolean"==typeof V||"symbol"==typeof V||"bigint"==typeof V}(he)||E.isBuffer(he))return ne?[le(Ce?J:ne(J,P.encoder,ge,"key",xe))+"="+le(ne(he,P.encoder,ge,"value",xe))]:[le(J)+"="+le(String(he))];var yt,mt=[];if(void 0===he)return mt;if("comma"===X&&_(he))Ce&&ne&&(he=E.maybeMap(he,ne)),yt=[{value:he.length>0?he.join(",")||null:void 0}];else if(_(pe))yt=pe;else{var tt=Object.keys(he);yt=be?tt.sort(be):tt}var me=re?String(J).replace(/\./g,"%2E"):String(J),Ie=Z&&_(he)&&1===he.length?me+"[]":me;if(j&&_(he)&&0===he.length)return Ie+"[]";for(var ke=0;ke<yt.length;++ke){var ze=yt[ke],st="object"==typeof ze&&ze&&void 0!==ze.value?ze.value:he[ze];if(!Q||null!==st){var lt=Le&&re?String(ze).replace(/\./g,"%2E"):String(ze),Be=_(he)?"function"==typeof X?X(Ie,lt):Ie:Ie+(Le?"."+lt:"["+lt+"]");Xe.set(V,Ne);var Ve=h();Ve.set(w,Xe),f(mt,$(st,Be,X,Z,j,K,Q,re,"comma"===X&&Ce&&_(he)?null:ne,pe,be,Le,Se,xe,le,Ce,ge,Ve))}}return mt};Me.exports=function($,V){var Z,J=$,X=function(V){if(!V)return P;if(void 0!==V.allowEmptyArrays&&"boolean"!=typeof V.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==V.encodeDotInKeys&&"boolean"!=typeof V.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!=V.encoder&&"function"!=typeof V.encoder)throw new TypeError("Encoder has to be a function.");var J=V.charset||P.charset;if(void 0!==V.charset&&"utf-8"!==V.charset&&"iso-8859-1"!==V.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var X=v.default;if(void 0!==V.format){if(!T.call(v.formatters,V.format))throw new TypeError("Unknown format option provided.");X=V.format}var K,Z=v.formatters[X],j=P.filter;if(("function"==typeof V.filter||_(V.filter))&&(j=V.filter),K=V.arrayFormat in y?V.arrayFormat:"indices"in V?V.indices?"indices":"repeat":P.arrayFormat,"commaRoundTrip"in V&&"boolean"!=typeof V.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof V.addQueryPrefix?V.addQueryPrefix:P.addQueryPrefix,allowDots:void 0===V.allowDots?!0===V.encodeDotInKeys||P.allowDots:!!V.allowDots,allowEmptyArrays:"boolean"==typeof V.allowEmptyArrays?!!V.allowEmptyArrays:P.allowEmptyArrays,arrayFormat:K,charset:J,charsetSentinel:"boolean"==typeof V.charsetSentinel?V.charsetSentinel:P.charsetSentinel,commaRoundTrip:!!V.commaRoundTrip,delimiter:void 0===V.delimiter?P.delimiter:V.delimiter,encode:"boolean"==typeof V.encode?V.encode:P.encode,encodeDotInKeys:"boolean"==typeof V.encodeDotInKeys?V.encodeDotInKeys:P.encodeDotInKeys,encoder:"function"==typeof V.encoder?V.encoder:P.encoder,encodeValuesOnly:"boolean"==typeof V.encodeValuesOnly?V.encodeValuesOnly:P.encodeValuesOnly,filter:j,format:X,formatter:Z,serializeDate:"function"==typeof V.serializeDate?V.serializeDate:P.serializeDate,skipNulls:"boolean"==typeof V.skipNulls?V.skipNulls:P.skipNulls,sort:"function"==typeof V.sort?V.sort:null,strictNullHandling:"boolean"==typeof V.strictNullHandling?V.strictNullHandling:P.strictNullHandling}}(V);"function"==typeof X.filter?J=(0,X.filter)("",J):_(X.filter)&&(Z=X.filter);var K=[];if("object"!=typeof J||null===J)return"";var Q=y[X.arrayFormat],re="comma"===Q&&X.commaRoundTrip;Z||(Z=Object.keys(J)),X.sort&&Z.sort(X.sort);for(var ne=h(),pe=0;pe<Z.length;++pe){var be=Z[pe],Le=J[be];X.skipNulls&&null===Le||f(K,O(Le,be,Q,re,X.allowEmptyArrays,X.strictNullHandling,X.skipNulls,X.encodeDotInKeys,X.encode?X.encoder:null,X.filter,X.sort,X.allowDots,X.serializeDate,X.format,X.formatter,X.encodeValuesOnly,X.charset,ne))}var Se=K.join(X.delimiter),xe=!0===X.addQueryPrefix?"?":"";return X.charsetSentinel&&(xe+="iso-8859-1"===X.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Se.length>0?xe+Se:""}},4393:(Me,z,A)=>{"use strict";var h=A(9165),E=Object.prototype.hasOwnProperty,v=Array.isArray,T=function(){for(var V=[],J=0;J<256;++J)V.push("%"+((J<16?"0":"")+J.toString(16)).toUpperCase());return V}(),_=function(J,X){for(var Z=X&&X.plainObjects?{__proto__:null}:{},j=0;j<J.length;++j)void 0!==J[j]&&(Z[j]=J[j]);return Z},x=1024;Me.exports={arrayToObject:_,assign:function(J,X){return Object.keys(X).reduce(function(Z,j){return Z[j]=X[j],Z},J)},combine:function(J,X){return[].concat(J,X)},compact:function(J){for(var X=[{obj:{o:J},prop:"o"}],Z=[],j=0;j<X.length;++j)for(var K=X[j],Q=K.obj[K.prop],re=Object.keys(Q),ne=0;ne<re.length;++ne){var pe=re[ne],be=Q[pe];"object"==typeof be&&null!==be&&-1===Z.indexOf(be)&&(X.push({obj:Q,prop:pe}),Z.push(be))}return function(J){for(;J.length>1;){var X=J.pop(),Z=X.obj[X.prop];if(v(Z)){for(var j=[],K=0;K<Z.length;++K)void 0!==Z[K]&&j.push(Z[K]);X.obj[X.prop]=j}}}(X),J},decode:function(V,J,X){var Z=V.replace(/\+/g," ");if("iso-8859-1"===X)return Z.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Z)}catch(j){return Z}},encode:function(J,X,Z,j,K){if(0===J.length)return J;var Q=J;if("symbol"==typeof J?Q=Symbol.prototype.toString.call(J):"string"!=typeof J&&(Q=String(J)),"iso-8859-1"===Z)return escape(Q).replace(/%u[0-9a-f]{4}/gi,function(xe){return"%26%23"+parseInt(xe.slice(2),16)+"%3B"});for(var re="",ne=0;ne<Q.length;ne+=x){for(var pe=Q.length>=x?Q.slice(ne,ne+x):Q,be=[],Le=0;Le<pe.length;++Le){var Se=pe.charCodeAt(Le);45===Se||46===Se||95===Se||126===Se||Se>=48&&Se<=57||Se>=65&&Se<=90||Se>=97&&Se<=122||K===h.RFC1738&&(40===Se||41===Se)?be[be.length]=pe.charAt(Le):Se<128?be[be.length]=T[Se]:Se<2048?be[be.length]=T[192|Se>>6]+T[128|63&Se]:Se<55296||Se>=57344?be[be.length]=T[224|Se>>12]+T[128|Se>>6&63]+T[128|63&Se]:(Se=65536+((1023&Se)<<10|1023&pe.charCodeAt(Le+=1)),be[be.length]=T[240|Se>>18]+T[128|Se>>12&63]+T[128|Se>>6&63]+T[128|63&Se])}re+=be.join("")}return re},isBuffer:function(J){return!(!J||"object"!=typeof J||!(J.constructor&&J.constructor.isBuffer&&J.constructor.isBuffer(J)))},isRegExp:function(J){return"[object RegExp]"===Object.prototype.toString.call(J)},maybeMap:function(J,X){if(v(J)){for(var Z=[],j=0;j<J.length;j+=1)Z.push(X(J[j]));return Z}return X(J)},merge:function V(J,X,Z){if(!X)return J;if("object"!=typeof X&&"function"!=typeof X){if(v(J))J.push(X);else{if(!J||"object"!=typeof J)return[J,X];(Z&&(Z.plainObjects||Z.allowPrototypes)||!E.call(Object.prototype,X))&&(J[X]=!0)}return J}if(!J||"object"!=typeof J)return[J].concat(X);var j=J;return v(J)&&!v(X)&&(j=_(J,Z)),v(J)&&v(X)?(X.forEach(function(K,Q){if(E.call(J,Q)){var re=J[Q];re&&"object"==typeof re&&K&&"object"==typeof K?J[Q]=V(re,K,Z):J.push(K)}else J[Q]=K}),J):Object.keys(X).reduce(function(K,Q){var re=X[Q];return K[Q]=E.call(K,Q)?V(K[Q],re,Z):re,K},j)}}},2858:(Me,z)=>{"use strict";var A=Object.prototype.hasOwnProperty;function E(_){try{return decodeURIComponent(_.replace(/\+/g," "))}catch(g){return null}}function v(_){try{return encodeURIComponent(_)}catch(g){return null}}z.stringify=function y(_,g){g=g||"";var m,x,f=[];for(x in"string"!=typeof g&&(g="?"),_)if(A.call(_,x)){if(!(m=_[x])&&(null==m||isNaN(m))&&(m=""),x=v(x),m=v(m),null===x||null===m)continue;f.push(x+"="+m)}return f.length?g+f.join("&"):""},z.parse=function T(_){for(var m,g=/([^=?#&]+)=?([^&]*)/g,f={};m=g.exec(_);){var x=E(m[1]),P=E(m[2]);null===x||null===P||x in f||(f[x]=P)}return f}},8237:Me=>{"use strict";Me.exports=function(A,h){if(h=h.split(":")[0],!(A=+A))return!1;switch(h){case"http":case"ws":return 80!==A;case"https":case"wss":return 443!==A;case"ftp":return 21!==A;case"gopher":return 70!==A;case"file":return!1}return 0!==A}},8135:function(Me){Me.exports=function(z){var A={};function h(E){if(A[E])return A[E].exports;var v=A[E]={i:E,l:!1,exports:{}};return z[E].call(v.exports,v,v.exports,h),v.l=!0,v.exports}return h.m=z,h.c=A,h.d=function(E,v,T){h.o(E,v)||Object.defineProperty(E,v,{configurable:!1,enumerable:!0,get:T})},h.r=function(E){Object.defineProperty(E,"__esModule",{value:!0})},h.n=function(E){var v=E&&E.__esModule?function(){return E.default}:function(){return E};return h.d(v,"a",v),v},h.o=function(E,v){return Object.prototype.hasOwnProperty.call(E,v)},h.p="",h(h.s=325)}([function(z,A,h){var E=h(6),v=h(37),T=h(18),y=h(15),_=h(27),g=function(f,m,x){var P,p,w,O,N=f&g.F,$=f&g.G,J=f&g.P,X=f&g.B,Z=$?E:f&g.S?E[m]||(E[m]={}):(E[m]||{}).prototype,j=$?v:v[m]||(v[m]={}),K=j.prototype||(j.prototype={});for(P in $&&(x=m),x)w=((p=!N&&Z&&void 0!==Z[P])?Z:x)[P],O=X&&p?_(w,E):J&&"function"==typeof w?_(Function.call,w):w,Z&&y(Z,P,w,f&g.U),j[P]!=w&&T(j,P,O),J&&K[P]!=w&&(K[P]=w)};E.core=v,g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,z.exports=g},function(z,A,h){"use strict";function E(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function v(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}function T(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}Object.defineProperty(A,"__esModule",{value:!0});var y=function(f){function m(x){E(this,m);var P=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return P.name="SFSError",P}return T(m,Error),m}(),_=function(f){function m(x){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];E(this,m);var p=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return p.name="SFSValidationError",p.errors=P,p}return T(m,y),m}(),g=function(f){function m(x){E(this,m);var P=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,x));return P.name="SFSTypeError",P}return T(m,y),m}();A.SFSError=y,A.SFSValidationError=_,A.SFSTypeError=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Message=A.Requests=A.BaseRequest=void 0;var E=function(){function m(x,P){for(var p=0;p<P.length;p++){var w=P[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,P,p){return P&&m(x.prototype,P),p&&m(x,p),x}}(),v=h(8),T=h(50);function y(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}var _=function(){function m(x){y(this,m),this._reqObj=new v.SFSObject,this._id=x,this._targetController=0,this._logger=T.Logger.instance}return E(m,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}}]),E(m,[{key:"getMessage",value:function(){return new g(this._id,this._targetController,this._reqObj)}},{key:"validate",value:function(){this._logger.error("BaseRequest.validate = no child-class implementation found!")}},{key:"execute",value:function(){this._logger.error("BaseRequest.execute = no child-class implementation found!")}},{key:"id",get:function(){return this._id}}]),m}(),g=function(){function m(x,P,p){y(this,m),this._id=x,this._targetController=P,this._content=p,Object.freeze(this)}return E(m,[{key:"dump",value:function(){return(f.getNameFromId(this.id)+" ("+this.id+")").trim()+"\n"+this.content.getDump()}},{key:"id",get:function(){return this._id}},{key:"targetController",get:function(){return this._targetController}},{key:"content",get:function(){return this._content}}]),m}(),f=Object.freeze({Handshake:0,Login:1,Logout:2,JoinRoom:4,CreateRoom:6,GenericMessage:7,ChangeRoomName:8,ChangeRoomPassword:9,SetRoomVariables:11,SetUserVariables:12,CallExtension:13,LeaveRoom:14,SubscribeRoomGroup:15,UnsubscribeRoomGroup:16,SpectatorToPlayer:17,PlayerToSpectator:18,ChangeRoomCapacity:19,KickUser:24,BanUser:25,FindRooms:27,FindUsers:28,PingPong:29,SetUserPosition:30,QuickJoinOrCreateRoom:31,InitBuddyList:200,AddBuddy:201,BlockBuddy:202,RemoveBuddy:203,SetBuddyVariables:204,GoOnline:205,InviteUsers:300,InvitationReply:301,CreateSFSGame:302,QuickJoinGame:303,JoinRoomInvite:304,getNameFromId:function(m){for(var x in this)if(this.hasOwnProperty(x)&&this[x]===m)return x;return""}});A.BaseRequest=_,A.Requests=f,A.Message=g},function(z,A){z.exports=function(h){try{return!!h()}catch(E){return!0}}},function(z,A){z.exports=function(h){return"object"==typeof h?null!==h:"function"==typeof h}},function(z,A,h){var E=h(4);z.exports=function(v){if(!E(v))throw TypeError(v+" is not an object!");return v}},function(z,A){var h=z.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=h)},function(z,A,h){var E=h(95)("wks"),v=h(35),T=h(6).Symbol,y="function"==typeof T;(z.exports=function(_){return E[_]||(E[_]=y&&T[_]||(y?T:v)("Symbol."+_))}).store=E},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Vec3D=A.SFSArray=A.SFSObject=A.SFSDataWrapper=A.SFSDataType=void 0;var E=function(){function w(O,N){for(var $=0;$<N.length;$++){var V=N[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(O,V.key,V)}}return function(O,N,$){return N&&w(O.prototype,N),$&&w(O,$),O}}(),v=h(174),T=h(51),y=h(50),_=h(1);function g(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}var f=Object.freeze({NULL:0,BOOL:1,BYTE:2,SHORT:3,INT:4,LONG:5,FLOAT:6,DOUBLE:7,UTF_STRING:8,BOOL_ARRAY:9,BYTE_ARRAY:10,SHORT_ARRAY:11,INT_ARRAY:12,LONG_ARRAY:13,FLOAT_ARRAY:14,DOUBLE_ARRAY:15,UTF_STRING_ARRAY:16,SFS_ARRAY:17,SFS_OBJECT:18,TEXT:20,fromId:function(w){if("number"!=typeof w)return null;for(var O in this)if(this.hasOwnProperty(O)&&this[O]===w)return O},validate:function(w,O){if(null==this.fromId(w))throw new _.SFSTypeError("Invalid type passed; use one of the SFSDataType constants");var N=null;if(w===this.NULL&&null!=O&&(N="a null value"),w!==this.NULL&&null==O&&(N="a non-null value"),w!==this.BOOL||this.isBoolType(O)||(N="a boolean value"),w!==this.BYTE||this.isByteType(O)||(N="an integer number in this range: 0 <= value < 256"),w!==this.SHORT||this.isShortType(O)||(N="an integer number in this range: -32.768 <= value < +32.768"),w!==this.INT||this.isIntType(O)||(N="an integer number in this range: -2^31 <= value < +2^31"),w!==this.LONG||this.isLongType(O)||(N="an integer number in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),w!==this.FLOAT||this.isFloatType(O)||(N="a number in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),w!==this.DOUBLE||this.isDoubleType(O)||(N="a finite number"),w!==this.UTF_STRING&&w!==this.TEXT||this.isStringType(O)||(N="a string value"),w!==this.BOOL_ARRAY||this.isArrayType(O,this.isBoolType)||(N="an array of boolean values"),w!==this.BYTE_ARRAY||O instanceof Uint8Array||(N="a Uint8Array"),w!==this.SHORT_ARRAY||this.isArrayType(O,this.isShortType)||(N="an array of integer numbers in this range: -32.768 <= value < +32.768"),w!==this.INT_ARRAY||this.isArrayType(O,this.isIntType)||(N="an array of integer numbers in this range: -2^31 <= value < +2^31"),w!==this.LONG_ARRAY||this.isArrayType(O,this.isLongType)||(N="an array of integer numbers in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),w!==this.FLOAT_ARRAY||this.isArrayType(O,this.isFloatType)||(N="an array of numbers in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),w!==this.DOUBLE_ARRAY||this.isArrayType(O,this.isDoubleType)||(N="an array of finite numbers"),w!==this.UTF_STRING_ARRAY||this.isArrayType(O,this.isStringType)||(N="an array of string values"),w!==this.SFS_OBJECT||O instanceof x||(N="a SFSObject instance"),w!==this.SFS_ARRAY||O instanceof P||(N="a SFSArray instance"),null!=N)throw new _.SFSTypeError("Invalid value passed; type SFSDataType."+this.fromId(w)+" requires "+N)},isBoolType:function(w){return"boolean"==typeof w},isByteType:function(w){return"number"==typeof w&&Math.floor(w)===w&&w>=0&&w<256},isShortType:function(w){return"number"==typeof w&&Math.floor(w)===w&&w>=-32768&&w<32768},isIntType:function(w){return"number"==typeof w&&Math.floor(w)===w&&w>=-2147483648&&w<2147483648},isLongType:function(w){return"number"==typeof w&&Math.floor(w)===w&&Number.isSafeInteger(w)},isFloatType:function(w){return"number"==typeof w&&w>=-34028234663852886e22&&w<=34028234663852886e22},isDoubleType:function(w){return"number"==typeof w&&isFinite(w)},isStringType:function(w){return"string"==typeof w},isArrayType:function(w,O){return w instanceof Array&&(!(w.length>0)||O(w[0]))}}),m=function w(O,N){g(this,w),this.type=O,this.value=N,Object.freeze(this)},x=function(){function w(){g(this,w),this._dataHolder=new Map,this._serializer=v.SFSDataSerializer.instance,Object.freeze(this)}return E(w,[{key:"toBinary",value:function(){return this._serializer.object2binary(this)}},{key:"keys",value:function(){return this._dataHolder.keys()}},{key:"getWrappedItem",value:function(O){return this._dataHolder.get(O)}},{key:"getKeysArray",value:function(){return Array.from(this.keys())}},{key:"size",value:function(){return this._dataHolder.size}},{key:"containsKey",value:function(O){return null!=this.getWrappedItem(O)}},{key:"get",value:function(O){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,$=this.getWrappedItem(O);if(null!=$&&null!=N&&$.type!=N)throw new _.SFSTypeError("Requested value is not of type SFSDataType."+f.fromId(N));return null!=$?$.value:null}},{key:"isNull",value:function(O){var N=this.getWrappedItem(O);return null==N||N.type==f.NULL}},{key:"getBool",value:function(O){return this.get(O,f.BOOL)}},{key:"getByte",value:function(O){return this.get(O,f.BYTE)}},{key:"getShort",value:function(O){return this.get(O,f.SHORT)}},{key:"getInt",value:function(O){return this.get(O,f.INT)}},{key:"getLong",value:function(O){var N=this.get(O,f.LONG);return Number.isSafeInteger(N)||y.Logger.instance.warn("Long value contained in SFSObject is not safe"),N}},{key:"getFloat",value:function(O){return this.get(O,f.FLOAT)}},{key:"getDouble",value:function(O){return this.get(O,f.DOUBLE)}},{key:"getUtfString",value:function(O){return this.get(O,f.UTF_STRING)}},{key:"getText",value:function(O){return this.get(O,f.TEXT)}},{key:"getBoolArray",value:function(O){return this.get(O,f.BOOL_ARRAY)}},{key:"getByteArray",value:function(O){return this.get(O,f.BYTE_ARRAY)}},{key:"getShortArray",value:function(O){return this.get(O,f.SHORT_ARRAY)}},{key:"getIntArray",value:function(O){return this.get(O,f.INT_ARRAY)}},{key:"getLongArray",value:function(O){return this.get(O,f.LONG_ARRAY)}},{key:"getFloatArray",value:function(O){return this.get(O,f.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(O){return this.get(O,f.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(O){return this.get(O,f.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(O){return this.get(O,f.SFS_OBJECT)}},{key:"getSFSArray",value:function(O){return this.get(O,f.SFS_ARRAY)}},{key:"put",value:function(O,N,$){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){if("string"!=typeof O)throw"Invalid key passed; must be of type string";f.validate($,N)}this._dataHolder.set(O,new m($,N))}},{key:"putNull",value:function(O){this.put(O,null,f.NULL)}},{key:"putBool",value:function(O,N){this.put(O,N,f.BOOL)}},{key:"putByte",value:function(O,N){this.put(O,N,f.BYTE)}},{key:"putShort",value:function(O,N){this.put(O,N,f.SHORT)}},{key:"putInt",value:function(O,N){this.put(O,N,f.INT)}},{key:"putLong",value:function(O,N){this.put(O,N,f.LONG)}},{key:"putFloat",value:function(O,N){this.put(O,N,f.FLOAT)}},{key:"putDouble",value:function(O,N){this.put(O,N,f.DOUBLE)}},{key:"putUtfString",value:function(O,N){this.put(O,N,f.UTF_STRING)}},{key:"putText",value:function(O,N){this.put(O,N,f.TEXT)}},{key:"putBoolArray",value:function(O,N){this.put(O,N,f.BOOL_ARRAY)}},{key:"putByteArray",value:function(O,N){this.put(O,N,f.BYTE_ARRAY)}},{key:"putShortArray",value:function(O,N){this.put(O,N,f.SHORT_ARRAY)}},{key:"putIntArray",value:function(O,N){this.put(O,N,f.INT_ARRAY)}},{key:"putLongArray",value:function(O,N){this.put(O,N,f.LONG_ARRAY)}},{key:"putFloatArray",value:function(O,N){this.put(O,N,f.FLOAT_ARRAY)}},{key:"putDoubleArray",value:function(O,N){this.put(O,N,f.DOUBLE_ARRAY)}},{key:"putUtfStringArray",value:function(O,N){this.put(O,N,f.UTF_STRING_ARRAY)}},{key:"putSFSArray",value:function(O,N){this.put(O,N,f.SFS_ARRAY)}},{key:"putSFSObject",value:function(O,N){this.put(O,N,f.SFS_OBJECT)}},{key:"getDump",value:function(){var O=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSObject ]":O?T.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return T.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){var O=T.DumpFormatter.TOKEN_INDENT_OPEN,N=!0,$=!1,V=void 0;try{for(var J,X=this.keys()[Symbol.iterator]();!(N=(J=X.next()).done);N=!0){var Z=J.value,j=this.getWrappedItem(Z);O+="("+f.fromId(j.type).toLowerCase()+") "+Z+": ",O+=j.type===f.SFS_OBJECT||j.type===f.SFS_ARRAY?j.value.getDump(!1):j.type===f.BYTE_ARRAY?T.DumpFormatter.prettyPrintByteArray(j.value):j.value,O+=T.DumpFormatter.TOKEN_DIVIDER}}catch(K){$=!0,V=K}finally{try{!N&&X.return&&X.return()}finally{if($)throw V}}return O+T.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(O){return v.SFSDataSerializer.instance.binary2object(O)}}]),w}(),P=function(){function w(){g(this,w),this._dataHolder=[],this._serializer=v.SFSDataSerializer.instance,Object.freeze(this)}return E(w,[{key:"toBinary",value:function(){return this._serializer.array2binary(this)}},{key:"getWrappedItem",value:function(O){return"number"!=typeof O||O>=this._dataHolder.length?null:this._dataHolder[O]}},{key:"size",value:function(){return this._dataHolder.length}},{key:"contains",value:function(O){if(O instanceof w||O instanceof x)throw new _.SFSError("SFSArray and SFSObject types are not supported by the SFSArray.contains method");for(var N=0;N<this.size();N++){var $=this.getWrappedItem(N);if(null!=$&&$.value==O)return!0}return!1}},{key:"get",value:function(O){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof O||O>=this._dataHolder.length)return null;var $=this.getWrappedItem(O);if(null!=$&&null!=N&&$.type!=N)throw new _.SFSTypeError("Requested value is not of type SFSDataType."+f.fromId(N));return null!=$?$.value:null}},{key:"isNull",value:function(O){var N=this.getWrappedItem(O);return null==N||N.type==f.NULL}},{key:"getBool",value:function(O){return this.get(O,f.BOOL)}},{key:"getByte",value:function(O){return this.get(O,f.BYTE)}},{key:"getShort",value:function(O){return this.get(O,f.SHORT)}},{key:"getInt",value:function(O){return this.get(O,f.INT)}},{key:"getLong",value:function(O){var N=this.get(O,f.LONG);return Number.isSafeInteger(N)||y.Logger.instance.warn("Long value contained in SFSObject is not safe"),N}},{key:"getFloat",value:function(O){return this.get(O,f.FLOAT)}},{key:"getDouble",value:function(O){return this.get(O,f.DOUBLE)}},{key:"getUtfString",value:function(O){return this.get(O,f.UTF_STRING)}},{key:"getText",value:function(O){return this.get(O,f.TEXT)}},{key:"getBoolArray",value:function(O){return this.get(O,f.BOOL_ARRAY)}},{key:"getByteArray",value:function(O){return this.get(O,f.BYTE_ARRAY)}},{key:"getShortArray",value:function(O){return this.get(O,f.SHORT_ARRAY)}},{key:"getIntArray",value:function(O){return this.get(O,f.INT_ARRAY)}},{key:"getLongArray",value:function(O){return this.get(O,f.LONG_ARRAY)}},{key:"getFloatArray",value:function(O){return this.get(O,f.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(O){return this.get(O,f.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(O){return this.get(O,f.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(O){return this.get(O,f.SFS_OBJECT)}},{key:"getSFSArray",value:function(O){return this.get(O,f.SFS_ARRAY)}},{key:"add",value:function(O,N){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||f.validate(N,O),this._dataHolder.push(new m(N,O))}},{key:"addNull",value:function(){this.add(null,f.NULL)}},{key:"addBool",value:function(O){this.add(O,f.BOOL)}},{key:"addByte",value:function(O){this.add(O,f.BYTE)}},{key:"addShort",value:function(O){this.add(O,f.SHORT)}},{key:"addInt",value:function(O){this.add(O,f.INT)}},{key:"addLong",value:function(O){this.add(O,f.LONG)}},{key:"addFloat",value:function(O){this.add(O,f.FLOAT)}},{key:"addDouble",value:function(O){this.add(O,f.DOUBLE)}},{key:"addUtfString",value:function(O){this.add(O,f.UTF_STRING)}},{key:"addText",value:function(O){this.add(O,f.TEXT)}},{key:"addBoolArray",value:function(O){this.add(O,f.BOOL_ARRAY)}},{key:"addByteArray",value:function(O){this.add(O,f.BYTE_ARRAY)}},{key:"addShortArray",value:function(O){this.add(O,f.SHORT_ARRAY)}},{key:"addIntArray",value:function(O){this.add(O,f.INT_ARRAY)}},{key:"addLongArray",value:function(O){this.add(O,f.LONG_ARRAY)}},{key:"addFloatArray",value:function(O){this.add(O,f.FLOAT_ARRAY)}},{key:"addDoubleArray",value:function(O){this.add(O,f.DOUBLE_ARRAY)}},{key:"addUtfStringArray",value:function(O){this.add(O,f.UTF_STRING_ARRAY)}},{key:"addSFSArray",value:function(O){this.add(O,f.SFS_ARRAY)}},{key:"addSFSObject",value:function(O){this.add(O,f.SFS_OBJECT)}},{key:"getDump",value:function(){var O=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSArray ]":O?T.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return T.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){for(var O=T.DumpFormatter.TOKEN_INDENT_OPEN,N=0;N<this.size();N++){var $=this.getWrappedItem(N);O+="("+f.fromId($.type).toLowerCase()+") "+N+": ",O+=$.type===f.SFS_OBJECT||$.type===f.SFS_ARRAY?$.value.getDump(!1):$.type===f.BYTE_ARRAY?T.DumpFormatter.prettyPrintByteArray($.value):$.value,O+=T.DumpFormatter.TOKEN_DIVIDER}return O+T.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(O){return v.SFSDataSerializer.instance.binary2array(O)}}]),w}(),p=function(){function w(O,N){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,V=arguments.length>3&&void 0!==arguments[3]&&arguments[3];g(this,w),this.px=O,this.py=N,this.pz=$,this._useFloatCoordinates=V}return E(w,[{key:"toString",value:function(){return"("+this.px+","+this.py+","+this.pz+")"}},{key:"toArray",value:function(){return[this.px,this.py,this.pz]}},{key:"isFloat",get:function(){return this._useFloatCoordinates}}],[{key:"fromArray",value:function(O){return new w(O[0],O[1],O[2])}}]),w}();A.SFSDataType=f,A.SFSDataWrapper=m,A.SFSObject=x,A.SFSArray=P,A.Vec3D=p},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MMORoom=A.SFSRoom=void 0;var E=function(){function x(P,p){for(var w=0;w<p.length;w++){var O=p[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,p,w){return p&&x(P.prototype,p),w&&x(P,w),P}}(),v=h(8),T=h(49),y=h(119),_=h(1);function g(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}var f=function(){function x(P,p){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",O=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];g(this,x),this._id=P,this._name=p,this._groupId=w,this._isGame=!1,this._isHidden=!1,this._isJoined=!1,this._isPasswordProtected=!1,this._maxUsers=0,this._maxSpectators=0,this._userCount=0,this._specCount=0,this._isManaged=!0,this._variables=new Map,this._userManager=new y.SFSUserManager,this._roomManager=null,this.properties={},O&&Object.seal(this)}return E(x,[{key:"toString",value:function(){return"[Room: "+this.name+", Id: "+this.id+", Group Id: "+this.groupId+"]"}},{key:"getUserByName",value:function(P){return this._userManager.getUserByName(P)}},{key:"getUserById",value:function(P){return this._userManager.getUserById(P)}},{key:"containsUser",value:function(P){return this._userManager.containsUser(P)}},{key:"getUserList",value:function(){return this._userManager.getUserList()}},{key:"getPlayerList",value:function(){var P=this;return this._userManager.getUserList().filter(function(p){return p.isPlayerInRoom(P)})}},{key:"getSpectatorList",value:function(){var P=this;return this._userManager.getUserList().filter(function(p){return p.isSpectatorInRoom(P)})}},{key:"getVariable",value:function(P){return this._variables.get(P)}},{key:"containsVariable",value:function(P){return this._variables.has(P)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getRoomManager",value:function(){return this._roomManager}},{key:"_addUser",value:function(P){this._userManager._addUser(P)}},{key:"_removeUser",value:function(P){this._userManager._removeUser(P)}},{key:"_setVariables",value:function(P){var p=!0,w=!1,O=void 0;try{for(var N,$=P[Symbol.iterator]();!(p=(N=$.next()).done);p=!0)this._setVariable(N.value)}catch(J){w=!0,O=J}finally{try{!p&&$.return&&$.return()}finally{if(w)throw O}}}},{key:"_setVariable",value:function(P){P.isNull?this._variables.delete(P.name):this._variables.set(P.name,P)}},{key:"_setRoomManager",value:function(P){if(null!=this._roomManager)throw new _.SFSError("Room Manager already assigned to "+this.toString());this._roomManager=P}},{key:"_merge",value:function(P){if(!this.isJoined){this._variables.clear();var p=!0,w=!1,O=void 0;try{for(var N,$=P._variables.values()[Symbol.iterator]();!(p=(N=$.next()).done);p=!0)this._setVariable(N.value)}catch(re){w=!0,O=re}finally{try{!p&&$.return&&$.return()}finally{if(w)throw O}}this._userManager._clearAll();var J=!0,X=!1,Z=void 0;try{for(var j,K=P.getUserList()[Symbol.iterator]();!(J=(j=K.next()).done);J=!0)this._addUser(j.value)}catch(re){X=!0,Z=re}finally{try{!J&&K.return&&K.return()}finally{if(X)throw Z}}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"isGame",get:function(){return this._isGame}},{key:"isHidden",get:function(){return this._isHidden}},{key:"isJoined",get:function(){return this._isJoined}},{key:"isPasswordProtected",get:function(){return this._isPasswordProtected}},{key:"maxUsers",get:function(){return this._maxUsers}},{key:"maxSpectators",get:function(){return this._maxSpectators}},{key:"userCount",get:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount}},{key:"spectatorCount",get:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0}},{key:"capacity",get:function(){return this.maxUsers+this.maxSpectators}}],[{key:"fromSFSArray",value:function(P){var p=14===P.size(),w=void 0;(w=p?new m(P.get(0),P.get(1),P.get(2)):new x(P.get(0),P.get(1),P.get(2)))._isGame=P.get(3),w._isHidden=P.get(4),w._isPasswordProtected=P.get(5),w._userCount=P.get(6),w._maxUsers=P.get(7);var O=P.get(8);if(null!=O)for(var N=0;N<O.size();N++){var $=T.SFSRoomVariable.fromSFSArray(O.get(N));w._setVariable($)}return w._isGame&&(w._specCount=P.get(9),w._maxSpectators=P.get(10)),p&&(w._defaultAOI=v.Vec3D.fromArray(P.get(11)),null!=P.get(13)&&(w._lowerMapLimit=v.Vec3D.fromArray(P.get(12)),w._higherMapLimit=v.Vec3D.fromArray(P.get(13)))),w}}]),x}(),m=function(x){function P(p,w){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";g(this,P);var N=function($,V){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?$:V}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,p,w,O,!1));return N._defaultAOI=null,N._lowerMapLimit=null,N._higherMapLimit=null,N._itemsById=new Map,Object.seal(N),N}return function(p,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}(P,f),E(P,[{key:"getMMOItem",value:function(p){return this._itemsById.get(p)}},{key:"getMMOItems",value:function(){return Array.from(this._itemsById.values())}},{key:"_addMMOItem",value:function(p){this._itemsById.set(p.id,p)}},{key:"_removeItem",value:function(p){this._itemsById.delete(p)}},{key:"defaultAOI",get:function(){return this._defaultAOI}},{key:"lowerMapLimit",get:function(){return this._lowerMapLimit}},{key:"higherMapLimit",get:function(){return this._higherMapLimit}}]),P}();A.SFSRoom=f,A.MMORoom=m},function(z,A,h){var E=h(5),v=h(148),T=h(30),y=Object.defineProperty;A.f=h(11)?Object.defineProperty:function(_,g,f){if(E(_),g=T(g,!0),E(f),v)try{return y(_,g,f)}catch(m){}if("get"in f||"set"in f)throw TypeError("Accessors not supported!");return"value"in f&&(_[g]=f.value),_}},function(z,A,h){z.exports=!h(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(z,A,h){var E=h(24),v=Math.min;z.exports=function(T){return T>0?v(E(T),9007199254740991):0}},function(z,A,h){var E=h(0),v=h(3),T=h(28),y=/"/g,_=function(g,f,m,x){var P=String(T(g)),p="<"+f;return""!==m&&(p+=" "+m+'="'+String(x).replace(y,"&quot;")+'"'),p+">"+P+"</"+f+">"};z.exports=function(g,f){var m={};m[g]=f(_),E(E.P+E.F*v(function(){var x=""[g]('"');return x!==x.toLowerCase()||x.split('"').length>3}),"String",m)}},function(z,A,h){var E=h(28);z.exports=function(v){return Object(E(v))}},function(z,A,h){var E=h(6),v=h(18),T=h(16),y=h(35)("src"),_=Function.toString,g=(""+_).split("toString");h(37).inspectSource=function(f){return _.call(f)},(z.exports=function(f,m,x,P){var p="function"==typeof x;p&&(T(x,"name")||v(x,"name",m)),f[m]!==x&&(p&&(T(x,y)||v(x,y,f[m]?""+f[m]:g.join(String(m)))),f===E?f[m]=x:P?f[m]?f[m]=x:v(f,m,x):(delete f[m],v(f,m,x)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[y]||_.call(this)})},function(z,A){var h={}.hasOwnProperty;z.exports=function(E,v){return h.call(E,v)}},function(z,A,h){"use strict";var E=h(3);z.exports=function(v,T){return!!v&&E(function(){T?v.call(null,function(){},1):v.call(null)})}},function(z,A,h){var E=h(10),v=h(36);z.exports=h(11)?function(T,y,_){return E.f(T,y,v(1,_))}:function(T,y,_){return T[y]=_,T}},function(z,A,h){var E=h(27),v=h(54),T=h(14),y=h(12),_=h(231);z.exports=function(g,f){var m=1==g,x=2==g,P=3==g,p=4==g,w=6==g,O=5==g||w,N=f||_;return function($,V,J){for(var X,Z,j=T($),K=v(j),Q=E(V,J,3),re=y(K.length),ne=0,pe=m?N($,re):x?N($,0):void 0;re>ne;ne++)if((O||ne in K)&&(Z=Q(X=K[ne],ne,j),g))if(m)pe[ne]=Z;else if(Z)switch(g){case 3:return!0;case 5:return X;case 6:return ne;case 2:pe.push(X)}else if(p)return!1;return w?-1:P||p?p:pe}}},function(z,A,h){var E=h(0),v=h(37),T=h(3);z.exports=function(y,_){var g=(v.Object||{})[y]||Object[y],f={};f[y]=_(g),E(E.S+E.F*T(function(){g(1)}),"Object",f)}},function(z,A,h){var E=h(54),v=h(28);z.exports=function(T){return E(v(T))}},function(z,A,h){"use strict";if(h(11)){var E=h(44),v=h(6),T=h(3),y=h(0),_=h(60),g=h(75),f=h(27),m=h(42),x=h(36),P=h(18),p=h(41),w=h(24),O=h(12),N=h(121),$=h(34),V=h(30),J=h(16),X=h(66),Z=h(4),j=h(14),K=h(80),Q=h(33),re=h(31),ne=h(32).f,pe=h(79),be=h(35),Le=h(7),Se=h(19),xe=h(94),le=h(76),Ce=h(128),ge=h(53),Xe=h(64),he=h(43),Te=h(78),Ne=h(129),Ke=h(10),ot=h(23),Ze=Ke.f,mt=ot.f,yt=v.RangeError,tt=v.TypeError,me=v.Uint8Array,Ie=Array.prototype,ke=g.ArrayBuffer,ze=g.DataView,st=Se(0),lt=Se(2),Be=Se(3),Ve=Se(4),Qt=Se(5),Ut=Se(6),rn=xe(!0),Dn=xe(!1),bt=Ce.values,Pt=Ce.keys,Fe=Ce.entries,De=Ie.lastIndexOf,$e=Ie.reduce,qe=Ie.reduceRight,He=Ie.join,it=Ie.sort,xt=Ie.slice,Nt=Ie.toString,Ft=Ie.toLocaleString,Rn=Le("iterator"),li=Le("toStringTag"),Pi=be("typed_constructor"),tn=be("def_constructor"),ii=_.CONSTR,vn=_.TYPED,Ue=_.VIEW,Ye=Se(1,function(vt,jt){return Si(le(vt,vt[tn]),jt)}),mn=T(function(){return 1===new me(new Uint16Array([1]).buffer)[0]}),En=!!me&&!!me.prototype.set&&T(function(){new me(1).set({})}),ln=function(vt,jt){var nn=w(vt);if(nn<0||nn%jt)throw yt("Wrong offset!");return nn},Rt=function(vt){if(Z(vt)&&vn in vt)return vt;throw tt(vt+" is not a typed array!")},Si=function(vt,jt){if(!Z(vt)||!(Pi in vt))throw tt("It is not a typed array constructor!");return new vt(jt)},un=function(vt,jt){return mi(le(vt,vt[tn]),jt)},mi=function(vt,jt){for(var nn=0,Ni=jt.length,On=Si(vt,Ni);Ni>nn;)On[nn]=jt[nn++];return On},Wi=function(vt,jt,nn){Ze(vt,jt,{get:function(){return this._d[nn]}})},It=function(vt){var jt,nn,Ni,On,dr,To,bn=j(vt),Xi=arguments.length,jr=Xi>1?arguments[1]:void 0,Us=void 0!==jr,so=pe(bn);if(null!=so&&!K(so)){for(To=so.call(bn),Ni=[],jt=0;!(dr=To.next()).done;jt++)Ni.push(dr.value);bn=Ni}for(Us&&Xi>2&&(jr=f(jr,arguments[2],2)),jt=0,nn=O(bn.length),On=Si(this,nn);nn>jt;jt++)On[jt]=Us?jr(bn[jt],jt):bn[jt];return On},ir=function(){for(var vt=0,jt=arguments.length,nn=Si(this,jt);jt>vt;)nn[vt]=arguments[vt++];return nn},Yi=!!me&&T(function(){Ft.call(new me(1))}),pa=function(){return Ft.apply(Yi?xt.call(Rt(this)):Rt(this),arguments)},Pu={copyWithin:function(vt,jt){return Ne.call(Rt(this),vt,jt,arguments.length>2?arguments[2]:void 0)},every:function(vt){return Ve(Rt(this),vt,arguments.length>1?arguments[1]:void 0)},fill:function(vt){return Te.apply(Rt(this),arguments)},filter:function(vt){return un(this,lt(Rt(this),vt,arguments.length>1?arguments[1]:void 0))},find:function(vt){return Qt(Rt(this),vt,arguments.length>1?arguments[1]:void 0)},findIndex:function(vt){return Ut(Rt(this),vt,arguments.length>1?arguments[1]:void 0)},forEach:function(vt){st(Rt(this),vt,arguments.length>1?arguments[1]:void 0)},indexOf:function(vt){return Dn(Rt(this),vt,arguments.length>1?arguments[1]:void 0)},includes:function(vt){return rn(Rt(this),vt,arguments.length>1?arguments[1]:void 0)},join:function(vt){return He.apply(Rt(this),arguments)},lastIndexOf:function(vt){return De.apply(Rt(this),arguments)},map:function(vt){return Ye(Rt(this),vt,arguments.length>1?arguments[1]:void 0)},reduce:function(vt){return $e.apply(Rt(this),arguments)},reduceRight:function(vt){return qe.apply(Rt(this),arguments)},reverse:function(){for(var vt,jt=Rt(this).length,nn=Math.floor(jt/2),Ni=0;Ni<nn;)vt=this[Ni],this[Ni++]=this[--jt],this[jt]=vt;return this},some:function(vt){return Be(Rt(this),vt,arguments.length>1?arguments[1]:void 0)},sort:function(vt){return it.call(Rt(this),vt)},subarray:function(vt,jt){var nn=Rt(this),Ni=nn.length,On=$(vt,Ni);return new(le(nn,nn[tn]))(nn.buffer,nn.byteOffset+On*nn.BYTES_PER_ELEMENT,O((void 0===jt?Ni:$(jt,Ni))-On))}},fa=function(vt,jt){return un(this,xt.call(Rt(this),vt,jt))},ga=function(vt){Rt(this);var jt=ln(arguments[1],1),nn=this.length,Ni=j(vt),On=O(Ni.length),dr=0;if(On+jt>nn)throw yt("Wrong length!");for(;dr<On;)this[jt+dr]=Ni[dr++]},Tr={entries:function(){return Fe.call(Rt(this))},keys:function(){return Pt.call(Rt(this))},values:function(){return bt.call(Rt(this))}},_s=function(vt,jt){return Z(vt)&&vt[vn]&&"symbol"!=typeof jt&&jt in vt&&String(+jt)==String(jt)},rs=function(vt,jt){return _s(vt,jt=V(jt,!0))?x(2,vt[jt]):mt(vt,jt)},ma=function(vt,jt,nn){return!(_s(vt,jt=V(jt,!0))&&Z(nn)&&J(nn,"value"))||J(nn,"get")||J(nn,"set")||nn.configurable||J(nn,"writable")&&!nn.writable||J(nn,"enumerable")&&!nn.enumerable?Ze(vt,jt,nn):(vt[jt]=nn.value,vt)};ii||(ot.f=rs,Ke.f=ma),y(y.S+y.F*!ii,"Object",{getOwnPropertyDescriptor:rs,defineProperty:ma}),T(function(){Nt.call({})})&&(Nt=Ft=function(){return He.call(this)});var Ls=p({},Pu);p(Ls,Tr),P(Ls,Rn,Tr.values),p(Ls,{slice:fa,set:ga,constructor:function(){},toString:Nt,toLocaleString:pa}),Wi(Ls,"buffer","b"),Wi(Ls,"byteOffset","o"),Wi(Ls,"byteLength","l"),Wi(Ls,"length","e"),Ze(Ls,li,{get:function(){return this[vn]}}),z.exports=function(vt,jt,nn,Ni){var On=vt+((Ni=!!Ni)?"Clamped":"")+"Array",dr="get"+vt,To="set"+vt,bn=v[On],Xi=bn||{},jr=bn&&re(bn),so={},ys=bn&&bn.prototype,Td=function(Mr,rr){Ze(Mr,rr,{get:function(){return(Ho=this._d).v[dr](rr*jt+Ho.o,mn);var Ho},set:function(sr){return Ho=rr,pi=sr,$l=this._d,Ni&&(pi=(pi=Math.round(pi))<0?0:pi>255?255:255&pi),void $l.v[To](Ho*jt+$l.o,pi,mn);var Ho,pi,$l},enumerable:!0})};bn&&_.ABV?T(function(){bn(1)})&&T(function(){new bn(-1)})&&Xe(function(Mr){new bn,new bn(null),new bn(1.5),new bn(Mr)},!0)||(bn=nn(function(Mr,rr,sr,Uo){var Ho;return m(Mr,bn,On),Z(rr)?rr instanceof ke||"ArrayBuffer"==(Ho=X(rr))||"SharedArrayBuffer"==Ho?void 0!==Uo?new Xi(rr,ln(sr,jt),Uo):void 0!==sr?new Xi(rr,ln(sr,jt)):new Xi(rr):vn in rr?mi(bn,rr):It.call(bn,rr):new Xi(N(rr))}),st(jr!==Function.prototype?ne(Xi).concat(ne(jr)):ne(Xi),function(Mr){Mr in bn||P(bn,Mr,Xi[Mr])}),bn.prototype=ys,E||(ys.constructor=bn)):(bn=nn(function(Mr,rr,sr,Uo){m(Mr,bn,On,"_d");var Ho,pi,$l,zi,gm=0,mm=0;if(Z(rr)){if(!(rr instanceof ke||"ArrayBuffer"==(zi=X(rr))||"SharedArrayBuffer"==zi))return vn in rr?mi(bn,rr):It.call(bn,rr);Ho=rr,mm=ln(sr,jt);var Un=rr.byteLength;if(void 0===Uo){if(Un%jt||(pi=Un-mm)<0)throw yt("Wrong length!")}else if((pi=O(Uo)*jt)+mm>Un)throw yt("Wrong length!");$l=pi/jt}else $l=N(rr),Ho=new ke(pi=$l*jt);for(P(Mr,"_d",{b:Ho,o:mm,l:pi,e:$l,v:new ze(Ho)});gm<$l;)Td(Mr,gm++)}),ys=bn.prototype=Q(Ls),P(ys,"constructor",bn));var Fc=ys[Rn],Th=!!Fc&&("values"==Fc.name||null==Fc.name),$p=Tr.values;P(bn,Pi,!0),P(ys,vn,On),P(ys,Ue,!0),P(ys,tn,bn),(Ni?new bn(1)[li]==On:li in ys)||Ze(ys,li,{get:function(){return On}}),so[On]=bn,y(y.G+y.W+y.F*(bn!=Xi),so),y(y.S,On,{BYTES_PER_ELEMENT:jt}),y(y.S+y.F*T(function(){Xi.of.call(bn,1)}),On,{from:It,of:ir}),"BYTES_PER_ELEMENT"in ys||P(ys,"BYTES_PER_ELEMENT",jt),y(y.P,On,Pu),he(On),y(y.P+y.F*En,On,{set:ga}),y(y.P+y.F*!Th,On,Tr),E||ys.toString==Nt||(ys.toString=Nt),y(y.P+y.F*T(function(){new bn(1).slice()}),On,{slice:fa}),y(y.P+y.F*(T(function(){return[1,2].toLocaleString()!=new bn([1,2]).toLocaleString()})||!T(function(){ys.toLocaleString.call([1,2])})),On,{toLocaleString:pa}),ge[On]=Th?Fc:$p,E||Th||P(ys,Rn,$p)}}else z.exports=function(){}},function(z,A,h){var E=h(67),v=h(36),T=h(21),y=h(30),_=h(16),g=h(148),f=Object.getOwnPropertyDescriptor;A.f=h(11)?f:function(m,x){if(m=T(m),x=y(x,!0),g)try{return f(m,x)}catch(P){}if(_(m,x))return v(!E.f.call(m,x),m[x])}},function(z,A){var h=Math.ceil,E=Math.floor;z.exports=function(v){return isNaN(v=+v)?0:(v>0?E:h)(v)}},function(z,A){var h={}.toString;z.exports=function(E){return h.call(E).slice(8,-1)}},function(z,A){z.exports=function(h){if("function"!=typeof h)throw TypeError(h+" is not a function!");return h}},function(z,A,h){var E=h(26);z.exports=function(v,T,y){if(E(v),void 0===T)return v;switch(y){case 1:return function(_){return v.call(T,_)};case 2:return function(_,g){return v.call(T,_,g)};case 3:return function(_,g,f){return v.call(T,_,g,f)}}return function(){return v.apply(T,arguments)}}},function(z,A){z.exports=function(h){if(null==h)throw TypeError("Can't call method on  "+h);return h}},function(z,A,h){var E=h(35)("meta"),v=h(4),T=h(16),y=h(10).f,_=0,g=Object.isExtensible||function(){return!0},f=!h(3)(function(){return g(Object.preventExtensions({}))}),m=function(P){y(P,E,{value:{i:"O"+ ++_,w:{}}})},x=z.exports={KEY:E,NEED:!1,fastKey:function(P,p){if(!v(P))return"symbol"==typeof P?P:("string"==typeof P?"S":"P")+P;if(!T(P,E)){if(!g(P))return"F";if(!p)return"E";m(P)}return P[E].i},getWeak:function(P,p){if(!T(P,E)){if(!g(P))return!0;if(!p)return!1;m(P)}return P[E].w},onFreeze:function(P){return f&&x.NEED&&g(P)&&!T(P,E)&&m(P),P}}},function(z,A,h){var E=h(4);z.exports=function(v,T){if(!E(v))return v;var y,_;if(T&&"function"==typeof(y=v.toString)&&!E(_=y.call(v))||"function"==typeof(y=v.valueOf)&&!E(_=y.call(v))||!T&&"function"==typeof(y=v.toString)&&!E(_=y.call(v)))return _;throw TypeError("Can't convert object to primitive value")}},function(z,A,h){var E=h(16),v=h(14),T=h(93)("IE_PROTO"),y=Object.prototype;z.exports=Object.getPrototypeOf||function(_){return _=v(_),E(_,T)?_[T]:"function"==typeof _.constructor&&_ instanceof _.constructor?_.constructor.prototype:_ instanceof Object?y:null}},function(z,A,h){var E=h(146),v=h(92).concat("length","prototype");A.f=Object.getOwnPropertyNames||function(T){return E(T,v)}},function(z,A,h){var E=h(5),v=h(145),T=h(92),y=h(93)("IE_PROTO"),_=function(){},g=function(){var f,m=h(96)("iframe"),x=T.length;for(m.style.display="none",h(90).appendChild(m),m.src="javascript:",(f=m.contentWindow.document).open(),f.write("<script>document.F=Object<\/script>"),f.close(),g=f.F;x--;)delete g.prototype[T[x]];return g()};z.exports=Object.create||function(f,m){var x;return null!==f?(_.prototype=E(f),x=new _,_.prototype=null,x[y]=f):x=g(),void 0===m?x:v(x,m)}},function(z,A,h){var E=h(24),v=Math.max,T=Math.min;z.exports=function(y,_){return(y=E(y))<0?v(y+_,0):T(y,_)}},function(z,A){var h=0,E=Math.random();z.exports=function(v){return"Symbol(".concat(void 0===v?"":v,")_",(++h+E).toString(36))}},function(z,A){z.exports=function(h,E){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:E}}},function(z,A){var h=z.exports={version:"2.5.4"};"number"==typeof __e&&(__e=h)},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LogicOperator=A.MatchExpression=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(8);function T(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}var y=function(){function g(f,m,x){T(this,g),this._varName=f,this._condition=m,this._value=x,this._logicOp=null,this._next=null,this._parent=null,Object.seal(this)}return E(g,[{key:"and",value:function(f,m,x){return this._next=g.chainedMatchExpression(f,m,x,_.AND,this),this._next}},{key:"or",value:function(f,m,x){return this._next=g.chainedMatchExpression(f,m,x,_.OR,this),this._next}},{key:"hasNext",value:function(){return null!=this._next}},{key:"rewind",value:function(){for(var f=this;null!=f._parent;)f=f._parent;return f}},{key:"toString",value:function(){for(var f=this.rewind(),m=f.asString();f.hasNext();)m+=(f=f.next).asString();return m}},{key:"asString",value:function(){var f="";return null!=this._logicOp&&(f+=" "+this._logicOp.id+" "),f+"("+this._varName+" "+this._condition.symbol+" "+("string"==typeof this._value?"' "+this._value+" '":this._value)+")"}},{key:"toSFSArray",value:function(){var f=this.rewind(),m=new v.SFSArray;for(m.addSFSArray(f.expressionAsSFSArray());f.hasNext();)m.addSFSArray((f=f.next).expressionAsSFSArray());return m}},{key:"expressionAsSFSArray",value:function(){var f=new v.SFSArray;return null!=this._logicOp?f.addUtfString(this._logicOp.id):f.addNull(),f.addUtfString(this._varName),f.addByte(this._condition.type),f.addUtfString(this._condition.symbol),0===this._condition.type?f.addBool(this._value):1===this._condition.type?f.addDouble(this._value):f.addUtfString(this._value),f}},{key:"varName",get:function(){return this._varName}},{key:"condition",get:function(){return this._condition}},{key:"value",get:function(){return this._value}},{key:"logicOp",get:function(){return this._logicOp}},{key:"next",get:function(){return this._next}}],[{key:"chainedMatchExpression",value:function(f,m,x,P,p){var w=new g(f,m,x);return w._logicOp=P,w._parent=p,w}}]),g}(),_=function(){function g(f){T(this,g),this._id=f,Object.freeze(this)}return E(g,[{key:"id",get:function(){return this._id}}],[{key:"AND",get:function(){return new g("AND")}},{key:"OR",get:function(){return new g("OR")}}]),g}();A.MatchExpression=y,A.LogicOperator=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=function(){function _(){(function(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")})(this,_),this._listenersByEvent={}}return E(_,[{key:"addEventListener",value:function(g,f,m){this._listenersByEvent[g]||(this._listenersByEvent[g]=[]),this._listenersByEvent[g].push({callback:f,scope:m})}},{key:"removeEventListener",value:function(g,f){var m=this._listenersByEvent[g];if(m)for(var x=0;x<m.length;x++)if(m[x].callback===f){m.splice(x,1);break}}},{key:"dispatchEvent",value:function(g,f){var m=this._listenersByEvent[g];if(m){var x=!0,P=!1,p=void 0;try{for(var w,O=m[Symbol.iterator]();!(x=(w=O.next()).done);x=!0){var N=w.value;N.callback.call(N.scope,f)}}catch($){P=!0,p=$}finally{try{!x&&O.return&&O.return()}finally{if(P)throw p}}}}}]),_}(),T=Object.freeze({HANDSHAKE:"handshake",CONNECTION:"connection",CONNECTION_LOST:"connectionLost",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"}),y=Object.freeze({BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"});A.EventDispatcher=v,A.SFSEvent=T,A.SFSBuddyEvent=y},function(z,A,h){var E=h(4);z.exports=function(v,T){if(!E(v)||v._t!==T)throw TypeError("Incompatible receiver, "+T+" required!");return v}},function(z,A,h){var E=h(15);z.exports=function(v,T,y){for(var _ in T)E(v,_,T[_],y);return v}},function(z,A){z.exports=function(h,E,v,T){if(!(h instanceof E)||void 0!==T&&T in h)throw TypeError(v+": incorrect invocation!");return h}},function(z,A,h){"use strict";var E=h(6),v=h(10),T=h(11),y=h(7)("species");z.exports=function(_){var g=E[_];T&&g&&!g[y]&&v.f(g,y,{configurable:!0,get:function(){return this}})}},function(z,A){z.exports=!1},function(z,A,h){var E=h(10).f,v=h(16),T=h(7)("toStringTag");z.exports=function(y,_,g){y&&!v(y=g?y:y.prototype,T)&&E(y,T,{configurable:!0,value:_})}},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSBuddyVariable=A.ReservedBuddyVariables=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(48),T=Object.freeze({BV_ONLINE:"$__BV_ONLINE__",BV_STATE:"$__BV_STATE__",BV_NICKNAME:"$__BV_NICKNAME__"}),y=function(_){function g(f,m){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g);var P=function(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,f,m,x));return Object.freeze(P),P}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseVariable),E(g,null,[{key:"OFFLINE_PREFIX",get:function(){return"$"}}]),E(g,[{key:"toString",value:function(){return"[BuddyVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}},{key:"isOffline",get:function(){return this._name.charAt(0)===g.OFFLINE_PREFIX}}],[{key:"fromSFSArray",value:function(f){return new g(f.get(0),f.get(2),f.get(1))}}]),g}();A.ReservedBuddyVariables=T,A.SFSBuddyVariable=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.UserPrivileges=A.SFSUser=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(59),T=h(1),y=function(){function g(f,m){var x=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")})(this,g),this._id=f,this._name=m,this._isItMe=x,this._privilegeId=0,this._aoiEntryPoint=null,this._variables=new Map,this._playerIdByRoomId=new Map,this._userManager=null,this.properties={},Object.seal(this)}return E(g,[{key:"toString",value:function(){return"[User: "+this.name+", Id: "+this.id+", Is me: "+this.isItMe+"]"}},{key:"isJoinedInRoom",value:function(f){return f.containsUser(this)}},{key:"getPlayerId",value:function(f){var m=this._playerIdByRoomId.get(f.id);return null!=m?m:0}},{key:"isPlayerInRoom",value:function(f){return!!f.isGame&&this.getPlayerId(f)>0}},{key:"isSpectatorInRoom",value:function(f){return!!f.isGame&&this.getPlayerId(f)<0}},{key:"getVariable",value:function(f){return this._variables.get(f)}},{key:"containsVariable",value:function(f){return this._variables.has(f)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getUserManager",value:function(){return this._userManager}},{key:"_setPlayerId",value:function(f,m){this._playerIdByRoomId.set(m.id,f)}},{key:"_removePlayerId",value:function(f){this._playerIdByRoomId.delete(f.id)}},{key:"_setVariables",value:function(f){var m=!0,x=!1,P=void 0;try{for(var p,w=f[Symbol.iterator]();!(m=(p=w.next()).done);m=!0)this._setVariable(p.value)}catch(N){x=!0,P=N}finally{try{!m&&w.return&&w.return()}finally{if(x)throw P}}}},{key:"_setVariable",value:function(f){f.isNull?this._variables.delete(f.name):this._variables.set(f.name,f)}},{key:"_setUserManager",value:function(f){if(null!=this._userManager)throw new T.SFSError("User Manager already assigned to user "+this.toString());this._userManager=f}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isItMe",get:function(){return this._isItMe}},{key:"privilegeId",get:function(){return this._privilegeId}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"isGuest",get:function(){return this._privilegeId===_.GUEST}},{key:"isStandardUser",get:function(){return this._privilegeId===_.STANDARD}},{key:"isModerator",get:function(){return this._privilegeId===_.MODERATOR}},{key:"isAdmin",get:function(){return this.privilegeId===_.ADMINISTRATOR}},{key:"isPlayer",get:function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"isSpectator",get:function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)}}],[{key:"fromSFSArray",value:function(f){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,x=new g(f.get(0),f.get(1));x._privilegeId=f.get(2),null!=m&&x._setPlayerId(f.get(3),m);var P=f.get(4);if(null!=P)for(var p=0;p<P.size();p++)x._setVariable(v.SFSUserVariable.fromSFSArray(P.get(p)));return x}}]),g}(),_=Object.freeze({GUEST:0,STANDARD:1,MODERATOR:2,ADMINISTRATOR:3});A.SFSUser=y,A.UserPrivileges=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BaseVariable=A.VariableType=void 0;var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},v=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),T=h(8),y=Object.freeze({NULL:0,BOOLEAN:1,INT:2,DOUBLE:3,STRING:4,SFSOBJECT:5,SFSARRAY:6,getTypeName:function(g){return["null","boolean","int","double","string","SFSObject","SFSArray"][g]}}),_=function(){function g(f,m){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")})(this,g),this._name=f,this._value=m,this._type=x>-1?x:this._evalType()}return v(g,[{key:"toSFSArray",value:function(){var f=new T.SFSArray;return f.addUtfString(this.name),f.addByte(this._type),this._populateArrayWithValue(f),f}},{key:"_populateArrayWithValue",value:function(f){switch(this._type){case y.NULL:f.addNull();break;case y.BOOLEAN:f.addBool(this.value);break;case y.INT:f.addInt(this.value);break;case y.DOUBLE:f.addDouble(this.value);break;case y.STRING:f.addUtfString(this.value);break;case y.SFSOBJECT:f.addSFSObject(this.value);break;case y.SFSARRAY:f.addSFSArray(this.value)}}},{key:"_evalType",value:function(){if(null==this._value)return y.NULL;var f=E(this._value);if("boolean"===f)return y.BOOLEAN;if("number"===f){var m=this._value;return m===+m&&m===(0|m)?y.INT:y.DOUBLE}return"string"===f?y.STRING:"object"===f?this._value instanceof T.SFSArray?y.SFSARRAY:y.SFSOBJECT:void 0}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return y.getTypeName(this._type)}},{key:"isNull",get:function(){return this._type===y.NULL}}]),g}();A.VariableType=y,A.BaseVariable=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSRoomVariable=A.ReservedRoomVariables=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(48),T=Object.freeze({RV_GAME_STARTED:"$GS"}),y=function(_){function g(f,m){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g);var P=function(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,f,m,x));return P.isPrivate=!1,P.isPersistent=!1,Object.seal(P),P}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseVariable),E(g,[{key:"toString",value:function(){return"[RoomVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var f=function m(x,P,p){null===x&&(x=Function.prototype);var w=Object.getOwnPropertyDescriptor(x,P);if(void 0===w){var O=Object.getPrototypeOf(x);return null===O?void 0:m(O,P,p)}if("value"in w)return w.value;var N=w.get;return void 0!==N?N.call(p):void 0}(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"toSFSArray",this).call(this);return f.addBool(this.isPrivate),f.addBool(this.isPersistent),f}}],[{key:"fromSFSArray",value:function(f){var m=new g(f.get(0),f.get(2),f.get(1));return m.isPrivate=f.get(3),m.isPersistent=f.get(4),m}}]),g}();A.ReservedRoomVariables=T,A.SFSRoomVariable=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LoggerEvent=A.Logger=A.LogLevel=void 0;var E=function(){function m(x,P){for(var p=0;p<P.length;p++){var w=P[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,P,p){return P&&m(x.prototype,P),p&&m(x,p),x}}(),v=h(39),T=Object.freeze({DEBUG:0,INFO:1,WARN:2,ERROR:3,toString:function(m){return m===this.DEBUG?"DEBUG":m===this.INFO?"INFO":m===this.WARN?"WARN":m===this.ERROR?"ERROR":void 0}}),y=Object.freeze({DEBUG:"debug",INFO:"info",WARNING:"warn",ERROR:"error"}),_=Symbol(),g=Symbol(),f=function(m){function x(P){!function(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}(this,x);var p=function(w,O){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?w:O}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(P!==g)throw"Logger is a singleton class; you can't instantiate it";return p._enableConsoleOutput=void 0!==console,p._enableEventDispatching=!1,p._level=T.INFO,p._useBasicLog=!0,void 0!==console&&(p._useBasicLog="function"!=typeof console.debug||"function"!=typeof console.info||"function"!=typeof console.warn||"function"!=typeof console.error),p}return function(P,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);P.prototype=Object.create(p&&p.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(P,p):P.__proto__=p)}(x,v.EventDispatcher),E(x,[{key:"log",value:function(P){for(var p=this,w=arguments.length,O=Array(w>1?w-1:0),N=1;N<w;N++)O[N-1]=arguments[N];if(this.isValidLevel(P)&&P>=this._level){if(this._enableConsoleOutput){var $=function(V,J){p._useBasicLog&&(J=function(X){console.log(X)}),J("[ SFS2X | "+V+" ] "+O.join(" "))};switch(P){case T.DEBUG:$("DEBUG",function(V){console.debug(V)});break;case T.INFO:$("INFO",function(V){console.info(V)});break;case T.WARN:$("WARN",function(V){console.warn(V)});break;case T.ERROR:$("ERROR",function(V){console.error(V)})}}this._enableEventDispatching&&this.dispatchEvent(T.toString(P).toLowerCase(),{message:O.join(" ")})}}},{key:"debug",value:function(){for(var P=arguments.length,p=Array(P),w=0;w<P;w++)p[w]=arguments[w];this.log(T.DEBUG,p)}},{key:"info",value:function(){for(var P=arguments.length,p=Array(P),w=0;w<P;w++)p[w]=arguments[w];this.log(T.INFO,p)}},{key:"warn",value:function(){for(var P=arguments.length,p=Array(P),w=0;w<P;w++)p[w]=arguments[w];this.log(T.WARN,p)}},{key:"error",value:function(){for(var P=arguments.length,p=Array(P),w=0;w<P;w++)p[w]=arguments[w];this.log(T.ERROR,p)}},{key:"isValidLevel",value:function(P){if(!Number.isInteger(P)||P<T.DEBUG||P>T.ERROR)throw"Logging level must be set to a valid value (see LogLevel class)";return!0}},{key:"level",set:function(P){this.isValidLevel(P)&&(this._level=P)},get:function(){return this._level}},{key:"enableConsoleOutput",set:function(P){void 0!==console&&(this._enableConsoleOutput=P)},get:function(){return this._enableConsoleOutput}},{key:"enableEventDispatching",set:function(P){this._enableEventDispatching=P},get:function(){return this._enableEventDispatching}}],[{key:"instance",get:function(){return this[_]||(this[_]=new x(g)),Object.seal(this[_])}}]),x}();A.LogLevel=T,A.Logger=f,A.LoggerEvent=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=Object.freeze({IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown",getReason:function(y){switch(y){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}}}),T=function(){function y(){!function(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}(this,y)}return E(y,null,[{key:"prettyPrintByteArray",value:function(_){return null==_?"Null":_.length<32?_.toString():"Byte["+_.length+"]"}},{key:"prettyPrintDump",value:function(_){for(var g="",f=0,m=0;m<_.length;m++){var x=_.charAt(m);if(x==this.TOKEN_INDENT_OPEN)f++,g+=this.NEW_LINE+this.getFormatTabs(f);else if(x==this.TOKEN_INDENT_CLOSE){if(--f<0)throw"DumpFormatter: the indentPos is negative. TOKENS ARE NOT BALANCED!";g+=this.NEW_LINE+this.getFormatTabs(f)}else g+=x==this.TOKEN_DIVIDER?this.NEW_LINE+this.getFormatTabs(f):x}if(0!=f)throw"DumpFormatter: the indentPos is not === 0 ("+f+"). TOKENS ARE NOT BALANCED!";return g}},{key:"getFormatTabs",value:function(_){return this.strFill(this.TAB,_)}},{key:"strFill",value:function(_,g){for(var f="",m=0;m<g;m++)f+=_;return f}},{key:"hexDump",value:function(_){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===g&&(g=this.HEX_BYTES_PER_LINE);var f="Binary size: "+_.byteLength+this.NEW_LINE,m="",x="",P=0,p=0,w=null;do{var O=(w=_[P]).toString(16).toUpperCase();1===O.length&&(O="0"+O),m+=O+" ",x+=w>=33&&w<=126?String.fromCharCode(w):this.DOT,++p===g&&(p=0,f+=m+this.TAB+x+this.NEW_LINE,m="",x="")}while(++P<_.length);if(0!==p){for(var N=g-p;N>0;--N)m+="   ",x+=" ";f+=m+this.TAB+x+this.NEW_LINE}return f}},{key:"TOKEN_INDENT_OPEN",get:function(){return"{"}},{key:"TOKEN_INDENT_CLOSE",get:function(){return"}"}},{key:"TOKEN_DIVIDER",get:function(){return";"}},{key:"NEW_LINE",get:function(){return"\n"}},{key:"TAB",get:function(){return"\t"}},{key:"DOT",get:function(){return"."}},{key:"HEX_BYTES_PER_LINE",get:function(){return 16}}]),y}();A.ClientDisconnectionReason=v,A.DumpFormatter=T},function(z,A,h){var E=h(7)("unscopables"),v=Array.prototype;null==v[E]&&h(18)(v,E,{}),z.exports=function(T){v[E][T]=!0}},function(z,A){z.exports={}},function(z,A,h){var E=h(25);z.exports=Object("z").propertyIsEnumerable(0)?Object:function(v){return"String"==E(v)?v.split(""):Object(v)}},function(z,A,h){var E=h(146),v=h(92);z.exports=Object.keys||function(T){return E(T,v)}},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MessageRecipientMode=A.BanMode=A.MapLimits=A.RoomExtension=A.RoomEvents=A.RoomPermissions=A.MMORoomSettings=A.SFSGameSettings=A.RoomSettings=void 0;var E=function(){function p(w,O){for(var N=0;N<O.length;N++){var $=O[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(w,$.key,$)}}return function(w,O,N){return O&&p(w.prototype,O),N&&p(w,N),w}}(),v=h(1);function T(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}function y(p,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}function _(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}var g=function p(w){_(this,p),this.name=w,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.permissions=null,this.events=null,this.extension=null,this.allowOwnerOnlyInvitation=!0},f=function(p){function w(O){_(this,w);var N=T(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,O));return N.isPublic=!0,N.minPlayersToStartGame=2,N.invitedPlayers=null,N.searchableRooms=null,N.invitationExpiryTime=15,N.leaveLastJoinedRoom=!0,N.notifyGameStarted=!1,N.playerMatchExpression=null,N.spectatorMatchExpression=null,N.invitationParams=null,Object.seal(N),N}return y(w,g),w}(),m=function(p){function w(O,N){_(this,w);var $=T(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,O));return $.defaultAOI=N,$.mapLimits=null,$.userMaxLimboSeconds=50,$.proximityListUpdateMillis=250,$.sendAOIEntryPoint=!0,Object.seal($),$}return y(w,g),w}(),x=Object.freeze({BY_ADDRESS:0,BY_NAME:1}),P=function(){function p(w,O){if(_(this,p),w<p.TO_USER||w>p.TO_ZONE)throw new v.SFSError("Illegal recipient mode: "+w);this._mode=w,this._target=O,Object.freeze(this)}return E(p,null,[{key:"TO_USER",get:function(){return 0}},{key:"TO_ROOM",get:function(){return 1}},{key:"TO_GROUP",get:function(){return 2}},{key:"TO_ZONE",get:function(){return 3}}]),E(p,[{key:"mode",get:function(){return this._mode}},{key:"target",get:function(){return this._target}}]),p}();A.RoomSettings=g,A.SFSGameSettings=f,A.MMORoomSettings=m,A.RoomPermissions=function p(){_(this,p),this.allowNameChange=!1,this.allowPasswordStateChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1,Object.seal(this)},A.RoomEvents=function p(){_(this,p),this.allowUserCountChange=!1,this.allowUserEnter=!1,this.allowUserExit=!1,this.allowUserVariablesUpdate=!1,Object.seal(this)},A.RoomExtension=function p(w,O){_(this,p),this.id=w,this.className=O,this.propertiesFile="",Object.seal(this)},A.MapLimits=function p(w,O){if(_(this,p),null==w||null==O)throw new v.SFSError("Map limits arguments must be both non null!");this.lowerLimit=w,this.higherLimit=O,Object.seal(this)},A.BanMode=x,A.MessageRecipientMode=P},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.CreateRoomRequest=void 0;var E=function(){function x(P,p){for(var w=0;w<p.length;w++){var O=p[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,p,w){return p&&x(P.prototype,p),w&&x(P,w),P}}(),v=h(2),T=h(1),y=h(56),_=h(8),g=h(9),f=h(49),m=function(x){function P(p){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1],O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function($,V){if(!($ instanceof V))throw new TypeError("Cannot call a class as a function")}(this,P);var N=function($,V){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?$:V}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,v.Requests.CreateRoom));return N._settings=p,N._autoJoin=w,N._roomToLeave=O,Object.seal(N),N}return function(p,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}(P,v.BaseRequest),E(P,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}},{key:"KEY_PASSWORD",get:function(){return"p"}},{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ISGAME",get:function(){return"ig"}},{key:"KEY_MAXUSERS",get:function(){return"mu"}},{key:"KEY_MAXSPECTATORS",get:function(){return"ms"}},{key:"KEY_MAXVARS",get:function(){return"mv"}},{key:"KEY_ROOMVARS",get:function(){return"rv"}},{key:"KEY_PERMISSIONS",get:function(){return"pm"}},{key:"KEY_EVENTS",get:function(){return"ev"}},{key:"KEY_EXTID",get:function(){return"xn"}},{key:"KEY_EXTCLASS",get:function(){return"xc"}},{key:"KEY_EXTPROP",get:function(){return"xp"}},{key:"KEY_AUTOJOIN",get:function(){return"aj"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_ALLOW_JOIN_INVITATION_BY_OWNER",get:function(){return"aji"}},{key:"KEY_MMO_DEFAULT_AOI",get:function(){return"maoi"}},{key:"KEY_MMO_MAP_LOW_LIMIT",get:function(){return"mllm"}},{key:"KEY_MMO_MAP_HIGH_LIMIT",get:function(){return"mlhm"}},{key:"KEY_MMO_USER_MAX_LIMBO_SECONDS",get:function(){return"muls"}},{key:"KEY_MMO_PROXIMITY_UPDATE_MILLIS",get:function(){return"mpum"}},{key:"KEY_MMO_SEND_ENTRY_POINT",get:function(){return"msep"}}]),E(P,[{key:"validate",value:function(p){if(!(this._settings instanceof y.RoomSettings))throw new T.SFSValidationError("CreateRoomRequest Error",["Room configuration must be an instance of RoomSettings class"]);var w=[];if(null!=this._settings.name&&0!==this._settings.name.length||w.push("Missing Room name"),this._settings.maxUsers<=0&&w.push("Max number of users must be > 0"),this._settings.maxSpectators<0&&w.push("Max number of spectators must be >= 0"),this._settings.maxVariables<0&&w.push("Max number of Room Variables must be >= 0"),null!=this._settings.variables&&(this._settings.variables instanceof Array?this._settings.variables.every(function(O){return O instanceof f.SFSRoomVariable})||w.push("Each Room Variable must be an instance of SFSRoomVariable class"):w.push("Room Variables must be passed in an array")),null==this._settings.permissions||this._settings.permissions instanceof y.RoomPermissions||w.push("Allowed room permissions must be an instance of RoomPermissions class"),null==this._settings.events||this._settings.events instanceof y.RoomEvents||w.push("Allowed room events must be an instance of RoomEvents class"),null!=this._settings.extension&&(this._settings.extension instanceof y.RoomExtension?(null!=this._settings.extension.className&&0!==this._settings.extension.className.length||w.push("Missing Room Extension class name"),null!=this._settings.extension.id&&0!==this._settings.extension.id.length||w.push("Missing Room Extension id")):w.push("Room Extension settings must be an instance of RoomExtension class")),this._settings instanceof y.MMORoomSettings&&(null==this._settings.defaultAOI&&w.push("Missing MMORoom's default AoI (Area of Interest)"),this._settings.defaultAOI instanceof _.Vec3D||w.push("MMORoom's AoI (Area of Interest) must be an instance of Vec3D class"),null!=this._settings.mapLimits&&(this._settings.mapLimits instanceof y.MapLimits?(null!=this._settings.mapLimits.lowerLimit&&null!=this._settings.mapLimits.higherLimit||w.push("MMORoom's lower and higher map limits must be both set"),this._settings.mapLimits.lowerLimit instanceof _.Vec3D&&this._settings.mapLimits.higherLimit instanceof _.Vec3D||w.push("MMORoom's lower and higher map limits must be both instances of Vec3D class")):w.push("MMORoom's map limits must be set in an instance of MapLimits class"))),null==this._roomToLeave||this._roomToLeave instanceof g.SFSRoom||w.push("Room to leave must be an instance of SFSRoom class"),w.length>0)throw new T.SFSValidationError("CreateRoomRequest Error",w)}},{key:"execute",value:function(p){if(this._reqObj.putUtfString(P.KEY_NAME,this._settings.name),this._reqObj.putUtfString(P.KEY_GROUP_ID,this._settings.groupId),this._reqObj.putUtfString(P.KEY_PASSWORD,this._settings.password),this._reqObj.putBool(P.KEY_ISGAME,this._settings.isGame),this._reqObj.putShort(P.KEY_MAXUSERS,this._settings.maxUsers),this._reqObj.putShort(P.KEY_MAXSPECTATORS,this._settings.maxSpectators),this._reqObj.putShort(P.KEY_MAXVARS,this._settings.maxVariables),this._reqObj.putBool(P.KEY_ALLOW_JOIN_INVITATION_BY_OWNER,this._settings.allowOwnerOnlyInvitation),null!=this._settings.variables&&this._settings.variables.length>0){var w=new _.SFSArray,O=!0,N=!1,$=void 0;try{for(var V,J=this._settings.variables[Symbol.iterator]();!(O=(V=J.next()).done);O=!0)w.addSFSArray(V.value.toSFSArray())}catch(K){N=!0,$=K}finally{try{!O&&J.return&&J.return()}finally{if(N)throw $}}this._reqObj.putSFSArray(P.KEY_ROOMVARS,w)}if(null!=this._settings.permissions){var Z=[];Z.push(this._settings.permissions.allowNameChange),Z.push(this._settings.permissions.allowPasswordStateChange),Z.push(this._settings.permissions.allowPublicMessages),Z.push(this._settings.permissions.allowResizing),this._reqObj.putBoolArray(P.KEY_PERMISSIONS,Z)}if(null!=this._settings.events){var j=[];j.push(this._settings.events.allowUserEnter),j.push(this._settings.events.allowUserExit),j.push(this._settings.events.allowUserCountChange),j.push(this._settings.events.allowUserVariablesUpdate),this._reqObj.putBoolArray(P.KEY_EVENTS,j)}null!=this._settings.extension&&(this._reqObj.putUtfString(P.KEY_EXTID,this._settings.extension.id),this._reqObj.putUtfString(P.KEY_EXTCLASS,this._settings.extension.className),null!=this._settings.extension.propertiesFile&&this._settings.extension.propertiesFile.length>0&&this._reqObj.putUtfString(P.KEY_EXTPROP,this._settings.extension.propertiesFile)),this._settings instanceof y.MMORoomSettings&&(this._settings.defaultAOI.isFloat?(this._reqObj.putFloatArray(P.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putFloatArray(P.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putFloatArray(P.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))):(this._reqObj.putIntArray(P.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putIntArray(P.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putIntArray(P.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))),this._reqObj.putShort(P.KEY_MMO_USER_MAX_LIMBO_SECONDS,this._settings.userMaxLimboSeconds),this._reqObj.putShort(P.KEY_MMO_PROXIMITY_UPDATE_MILLIS,this._settings.proximityListUpdateMillis),this._reqObj.putBool(P.KEY_MMO_SEND_ENTRY_POINT,this._settings.sendAOIEntryPoint)),this._reqObj.putBool(P.KEY_AUTOJOIN,this._autoJoin),null!=this._roomToLeave&&this._reqObj.putInt(P.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),P}();A.CreateRoomRequest=m},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BuddyOnlineState=A.SFSBuddy=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(46),T=function(){function _(g,f){var m=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")})(this,_),this._id=g,this._name=f,this._isBlocked=m,this._isTemp=x,this._variables=new Map,Object.seal(this)}return E(_,[{key:"toString",value:function(){return"[Buddy: "+this.name+", Id: "+this.id+"]"}},{key:"getVariable",value:function(g){return this._variables.get(g)}},{key:"containsVariable",value:function(g){return this._variables.has(g)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getOfflineVariables",value:function(){return this.getVariables().filter(function(g){return g.name.charAt(0)===v.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"getOnlineVariables",value:function(){return this.getVariables().filter(function(g){return g.name.charAt(0)!==v.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"_setVariables",value:function(g){var f=!0,m=!1,x=void 0;try{for(var P,p=g[Symbol.iterator]();!(f=(P=p.next()).done);f=!0)this._setVariable(P.value)}catch(O){m=!0,x=O}finally{try{!f&&p.return&&p.return()}finally{if(m)throw x}}}},{key:"_setVariable",value:function(g){g.isNull?this._variables.delete(g.name):this._variables.set(g.name,g)}},{key:"_removeVariable",value:function(g){this._variables.delete(g)}},{key:"_clearVolatileVariables",value:function(){var g=!0,f=!1,m=void 0;try{for(var x,P=this.getOnlineVariables()[Symbol.iterator]();!(g=(x=P.next()).done);g=!0)this._removeVariable(x.value.name)}catch(w){f=!0,m=w}finally{try{!g&&P.return&&P.return()}finally{if(f)throw m}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"isTemp",get:function(){return this._isTemp}},{key:"isOnline",get:function(){var g=!0;return this.containsVariable(v.ReservedBuddyVariables.BV_ONLINE)&&(g=this.getVariable(v.ReservedBuddyVariables.BV_ONLINE).value),g&&this._id>-1}},{key:"state",get:function(){return this.containsVariable(v.ReservedBuddyVariables.BV_STATE)?this.getVariable(v.ReservedBuddyVariables.BV_STATE).value:null}},{key:"nickName",get:function(){return this.containsVariable(v.ReservedBuddyVariables.BV_NICKNAME)?this.getVariable(v.ReservedBuddyVariables.BV_NICKNAME).value:null}}],[{key:"fromSFSArray",value:function(g){var f=new _(g.get(0),g.get(1),g.get(2),g.size()>3&&g.get(4)),m=g.get(3);if(null!=m)for(var x=0;x<m.size();x++)f._setVariable(v.SFSBuddyVariable.fromSFSArray(m.get(x)));return f}}]),_}(),y=Object.freeze({ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2});A.SFSBuddy=T,A.BuddyOnlineState=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSUserVariable=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(48),T=function(y){function _(g,f){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,_);var x=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,g,f,m));return x.isPrivate=!1,Object.seal(x),x}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(_,v.BaseVariable),E(_,[{key:"toString",value:function(){return"[UserVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var g=function f(m,x,P){null===m&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,x);if(void 0===p){var w=Object.getPrototypeOf(m);return null===w?void 0:f(w,x,P)}if("value"in p)return p.value;var O=p.get;return void 0!==O?O.call(P):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"toSFSArray",this).call(this);return g.addBool(this.isPrivate),g}}],[{key:"fromSFSArray",value:function(g){var f=new _(g.get(0),g.get(2),g.get(1));return g.size()>3&&(f.isPrivate=g.get(3)),f}}]),_}();A.SFSUserVariable=T},function(z,A,h){for(var E,v=h(6),T=h(18),y=h(35),_=y("typed_array"),g=y("view"),f=!(!v.ArrayBuffer||!v.DataView),m=f,x=0,P="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");x<9;)(E=v[P[x++]])?(T(E.prototype,_,!0),T(E.prototype,g,!0)):m=!1;z.exports={ABV:f,CONSTR:m,TYPED:_,VIEW:g}},function(z,A,h){"use strict";var E=h(6),v=h(0),T=h(15),y=h(41),_=h(29),g=h(62),f=h(42),m=h(4),x=h(3),P=h(64),p=h(45),w=h(87);z.exports=function(O,N,$,V,J,X){var Z=E[O],j=Z,K=J?"set":"add",Q=j&&j.prototype,re={},ne=function(le){var Ce=Q[le];T(Q,le,"delete"==le||"has"==le?function(ge){return!(X&&!m(ge))&&Ce.call(this,0===ge?0:ge)}:"get"==le?function(ge){return X&&!m(ge)?void 0:Ce.call(this,0===ge?0:ge)}:"add"==le?function(ge){return Ce.call(this,0===ge?0:ge),this}:function(ge,Xe){return Ce.call(this,0===ge?0:ge,Xe),this})};if("function"==typeof j&&(X||Q.forEach&&!x(function(){(new j).entries().next()}))){var pe=new j,be=pe[K](X?{}:-0,1)!=pe,Le=x(function(){pe.has(1)}),Se=P(function(le){new j(le)}),xe=!X&&x(function(){for(var le=new j,Ce=5;Ce--;)le[K](Ce,Ce);return!le.has(-0)});Se||((j=N(function(le,Ce){f(le,j,O);var ge=w(new Z,le,j);return null!=Ce&&g(Ce,J,ge[K],ge),ge})).prototype=Q,Q.constructor=j),(Le||xe)&&(ne("delete"),ne("has"),J&&ne("get")),(xe||be)&&ne(K),X&&Q.clear&&delete Q.clear}else j=V.getConstructor(N,O,J,K),y(j.prototype,$),_.NEED=!0;return p(j,O),re[O]=j,v(v.G+v.W+v.F*(j!=Z),re),X||V.setStrong(j,O,J),j}},function(z,A,h){var E=h(27),v=h(132),T=h(80),y=h(5),_=h(12),g=h(79),f={},m={};(A=z.exports=function(x,P,p,w,O){var N,$,V,J,X=O?function(){return x}:g(x),Z=E(p,w,P?2:1),j=0;if("function"!=typeof X)throw TypeError(x+" is not iterable!");if(T(X)){for(N=_(x.length);N>j;j++)if((J=P?Z(y($=x[j])[0],$[1]):Z(x[j]))===f||J===m)return J}else for(V=X.call(x);!($=V.next()).done;)if((J=v(V,Z,$.value,P))===f||J===m)return J}).BREAK=f,A.RETURN=m},function(z,A,h){"use strict";var E=h(18),v=h(15),T=h(3),y=h(28),_=h(7);z.exports=function(g,f,m){var x=_(g),P=m(y,x,""[g]),p=P[0],w=P[1];T(function(){var O={};return O[x]=function(){return 7},7!=""[g](O)})&&(v(String.prototype,g,p),E(RegExp.prototype,x,2==f?function(O,N){return w.call(O,this,N)}:function(O){return w.call(O,this)}))}},function(z,A,h){var E=h(7)("iterator"),v=!1;try{var T=[7][E]();T.return=function(){v=!0},Array.from(T,function(){throw 2})}catch(y){}z.exports=function(y,_){if(!_&&!v)return!1;var g=!1;try{var f=[7],m=f[E]();m.next=function(){return{done:g=!0}},f[E]=function(){return m},y(f)}catch(x){}return g}},function(z,A,h){var E=h(0),v=h(28),T=h(3),y=h(88),_="["+y+"]",g=RegExp("^"+_+_+"*"),f=RegExp(_+_+"*$"),m=function(P,p,w){var O={},N=T(function(){return!!y[P]()||"\u200b\x85"!="\u200b\x85"[P]()}),$=O[P]=N?p(x):y[P];w&&(O[w]=$),E(E.P+E.F*N,"String",O)},x=m.trim=function(P,p){return P=String(v(P)),1&p&&(P=P.replace(g,"")),2&p&&(P=P.replace(f,"")),P};z.exports=m},function(z,A,h){var E=h(25),v=h(7)("toStringTag"),T="Arguments"==E(function(){return arguments}());z.exports=function(y){var _,g,f;return void 0===y?"Undefined":null===y?"Null":"string"==typeof(g=function(m,x){try{return m[x]}catch(P){}}(_=Object(y),v))?g:T?E(_):"Object"==(f=E(_))&&"function"==typeof _.callee?"Arguments":f}},function(z,A){A.f={}.propertyIsEnumerable},function(z,A){A.f=Object.getOwnPropertySymbols},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.InviteUsersRequest=void 0;var E=function(){function m(x,P){for(var p=0;p<P.length;p++){var w=P[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,P,p){return P&&m(x.prototype,P),p&&m(x,p),x}}(),v=h(2),T=h(1),y=h(47),_=h(58),g=h(8),f=function(m){function x(P,p){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(N,$){if(!(N instanceof $))throw new TypeError("Cannot call a class as a function")}(this,x);var O=function(N,$){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?N:$}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v.Requests.InviteUsers));return O._invitedUsers=P,O._secondsForAnswer=p,O._params=w,Object.seal(O),O}return function(P,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);P.prototype=Object.create(p&&p.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(P,p):P.__proto__=p)}(x,v.BaseRequest),E(x,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}]),E(x,[{key:"validate",value:function(P){var p=[];if(null==this._invitedUsers?p.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&p.push("No invited users"),this._invitedUsers.length>x.MAX_INVITATIONS_FROM_CLIENT_SIDE&&p.push("Too many invitations; "+x.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(w){return w instanceof y.SFSUser||w instanceof _.SFSBuddy})||p.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):p.push("Invited users must be passed in an array"),(this._secondsForAnswer<x.MIN_EXPIRY_TIME||this._secondsForAnswer>x.MAX_EXPIRY_TIME)&&p.push("secondsForAnswer value is out of range (min: "+x.MIN_EXPIRY_TIME+"; max: "+x.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof g.SFSObject||p.push("Custom invitation parameters must be set in a SFSObject class instance"),p.length>0)throw new T.SFSValidationError("InviteUsersRequest Error",p)}},{key:"execute",value:function(P){var p=[],w=!0,O=!1,N=void 0;try{for(var $,V=this._invitedUsers[Symbol.iterator]();!(w=($=V.next()).done);w=!0){var J=$.value;if(J instanceof y.SFSUser||J instanceof _.SFSBuddy){if(J===P.mySelf)continue;p.push(J.id)}}}catch(X){O=!0,N=X}finally{try{!w&&V.return&&V.return()}finally{if(O)throw N}}this._reqObj.putIntArray(x.KEY_INVITED_USERS,p),this._reqObj.putShort(x.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(x.KEY_PARAMS,this._params)}}]),x}();A.InviteUsersRequest=f},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AdminMessageRequest=A.ModeratorMessageRequest=A.ObjectMessageRequest=A.PrivateMessageRequest=A.PublicMessageRequest=A.GenericMessageRequest=A.GenericMessageType=void 0;var E=function(){function X(Z,j){for(var K=0;K<j.length;K++){var Q=j[K];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(Z,Q.key,Q)}}return function(Z,j,K){return j&&X(Z.prototype,j),K&&X(Z,K),Z}}(),v=h(2),T=h(1),y=h(56),_=h(8),g=h(9),f=h(47);function m(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}function x(X,Z){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Z||"object"!=typeof Z&&"function"!=typeof Z?X:Z}function P(X,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);X.prototype=Object.create(Z&&Z.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Z):X.__proto__=Z)}var p=Object.freeze({PUBLIC_MSG:0,PRIVATE_MSG:1,MODERATOR_MSG:2,ADMING_MSG:3,OBJECT_MSG:4,BUDDY_MSG:5}),w=function(X){function Z(){m(this,Z);var j=x(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,v.Requests.GenericMessage));return j._type=-1,j._room=null,j._user=null,j._message=null,j._params=null,j._recipient=null,j._sendMode=-1,Object.seal(j),j}return P(Z,v.BaseRequest),E(Z,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_MESSAGE_TYPE",get:function(){return"t"}},{key:"KEY_RECIPIENT",get:function(){return"rc"}},{key:"KEY_RECIPIENT_MODE",get:function(){return"rm"}},{key:"KEY_XTRA_PARAMS",get:function(){return"p"}},{key:"KEY_SENDER_DATA",get:function(){return"sd"}}]),E(Z,[{key:"validate",value:function(j){if(this._type<0)throw new T.SFSValidationError("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var K=[];switch(this._type){case p.PUBLIC_MSG:this._validatePublicMessage(j,K);break;case p.PRIVATE_MSG:this._validatePrivateMessage(j,K);break;case p.OBJECT_MSG:this._validateObjectMessage(j,K);break;case p.BUDDY_MSG:this._validateBuddyMessage(j,K);break;default:this._validateSuperUserMessage(j,K)}if(K.length>0)throw new T.SFSValidationError("GenericMessageRequest Error",K)}},{key:"execute",value:function(j){switch(this._reqObj.putByte(Z.KEY_MESSAGE_TYPE,this._type),this._type){case p.PUBLIC_MSG:this._executePublicMessage(j);break;case p.PRIVATE_MSG:this._executePrivateMessage(j);break;case p.OBJECT_MSG:this._executeObjectMessage(j);break;case p.BUDDY_MSG:this._executeBuddyMessage(j);break;default:this._executeSuperUserMessage(j)}}},{key:"_validatePublicMessage",value:function(j,K){null!=this._message&&0!==this._message.length||K.push("Public message is empty"),null==this._room&&(this._room=j.lastJoinedRoom),null==this._room?K.push("You must be joined in a Room to send a message"):this._room instanceof g.SFSRoom?j.getJoinedRooms().indexOf(this._room)<0&&K.push("You are not joined in the target Room: "+this._room):K.push("Target Room must be an instance of SFSRoom class"),null==this._params||this._params instanceof _.SFSObject||K.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validatePrivateMessage",value:function(j,K){null!=this._message&&0!==this._message.length||K.push("Private message is empty"),this._recipient<0&&K.push("Invalid recipient id: "+this._recipient),null==this._params||this._params instanceof _.SFSObject||K.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateObjectMessage",value:function(j,K){null==this._params?K.push("Object message is null"):this._params instanceof _.SFSObject||K.push("Message object must be an instance of SFSObject class"),null==this._room&&(this._room=j.lastJoinedRoom),null==this._room?K.push("You must be joined in a Room to send a message"):this._room instanceof g.SFSRoom?j.getJoinedRooms().indexOf(this._room)<0&&K.push("You are not joined in the target Room: "+this._room):K.push("Target Room must be an instance of SFSRoom class"),null!=this._recipient&&(this._recipient instanceof Array?this._recipient.every(function(Q){return Q instanceof f.SFSUser})||K.push("Each message recipient must be an instance of SFSUser class"):K.push("Message recipients must be passed in an array"),this._recipient.length>this._room.capacity&&K.push("The number of recipients is bigger than the target Room capacity: "+this._recipient.length))}},{key:"_validateBuddyMessage",value:function(j,K){j.buddyManager.isInited||K.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===j.buddyManager.myOnlineState&&K.push("Can't send messages while you are offline in the Buddy List system"),null!=this._message&&0!==this._message.length||K.push("Buddy message is empty"),this._recipient<0&&K.push("Recipient is offline or not in your Buddy List"),null==this._params||this._params instanceof _.SFSObject||K.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateSuperUserMessage",value:function(j,K){switch(null!=this._message&&0!==this._message.length||K.push("Moderator message is empty"),null==this._params||this._params instanceof _.SFSObject||K.push("Message parameters must be set in a SFSObject class instance"),this._sendMode){case y.MessageRecipientMode.TO_USER:this._recipient instanceof f.SFSUser||K.push("Recipient must be an instance of SFSUser class");break;case y.MessageRecipientMode.TO_ROOM:this._recipient instanceof g.SFSRoom||K.push("Recipient must be an instance of SFSRoom class");break;case y.MessageRecipientMode.TO_GROUP:"string"!=typeof this._recipient&&K.push("Recipient must be a string (the groupId)")}}},{key:"_executePublicMessage",value:function(j){this._reqObj.putInt(Z.KEY_ROOM_ID,this._room.id),this._reqObj.putInt(Z.KEY_USER_ID,j.mySelf.id),this._reqObj.putUtfString(Z.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(Z.KEY_XTRA_PARAMS,this._params)}},{key:"_executePrivateMessage",value:function(j){this._reqObj.putInt(Z.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(Z.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(Z.KEY_XTRA_PARAMS,this._params)}},{key:"_executeBuddyMessage",value:function(j){this._reqObj.putInt(Z.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(Z.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(Z.KEY_XTRA_PARAMS,this._params)}},{key:"_executeSuperUserMessage",value:function(j){switch(this._reqObj.putUtfString(Z.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(Z.KEY_XTRA_PARAMS,this._params),this._reqObj.putInt(Z.KEY_RECIPIENT_MODE,this._sendMode),this._sendMode){case y.MessageRecipientMode.TO_USER:case y.MessageRecipientMode.TO_ROOM:this._reqObj.putInt(Z.KEY_RECIPIENT,this._recipient.id);break;case y.MessageRecipientMode.TO_GROUP:this._reqObj.putUtfString(Z.KEY_RECIPIENT,this._recipient)}}},{key:"_executeObjectMessage",value:function(j){this._reqObj.putInt(Z.KEY_ROOM_ID,this._room.id),this._reqObj.putSFSObject(Z.KEY_XTRA_PARAMS,this._params);var K=new Set;if(null!=this._recipient){var Q=!0,re=!1,ne=void 0;try{for(var pe,be=this._recipient[Symbol.iterator]();!(Q=(pe=be.next()).done);Q=!0)K.add(pe.value.id)}catch(Se){re=!0,ne=Se}finally{try{!Q&&be.return&&be.return()}finally{if(re)throw ne}}}K.size>0&&this._reqObj.putIntArray(Z.KEY_RECIPIENT,Array.from(K))}}]),Z}(),O=function(X){function Z(j){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,Z);var re=x(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this));return re._type=p.OBJECT_MSG,re._params=j,re._room=K,re._recipient=Q,Object.seal(re),re}return P(Z,w),Z}(),N=function(X){function Z(j){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,Z);var re=x(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this));return re._type=p.PUBLIC_MSG,re._message=j,re._room=Q,re._params=K,Object.seal(re),re}return P(Z,w),Z}(),$=function(X){function Z(j,K){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,Z);var re=x(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this));return re._type=p.PRIVATE_MSG,re._message=j,re._recipient=K,re._params=Q,Object.seal(re),re}return P(Z,w),Z}(),V=function(X){function Z(j,K){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,Z);var re=x(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this));if(null==K)throw new T.SFSError("Recipient mode cannot be null");if(!(K instanceof y.MessageRecipientMode))throw new T.SFSError("Recipient mode must be an instance of MessageRecipientMode class");return re._type=p.MODERATOR_MSG,re._message=j,re._params=Q,re._recipient=K.target,re._sendMode=K.mode,Object.seal(re),re}return P(Z,w),Z}(),J=function(X){function Z(j,K){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,Z);var re=x(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this));if(null==K)throw new T.SFSError("Recipient mode cannot be null");if(!(K instanceof y.MessageRecipientMode))throw new T.SFSError("Recipient mode must an instance of MessageRecipientMode class");return re._type=p.ADMING_MSG,re._message=j,re._params=Q,re._recipient=K.target,re._sendMode=K.mode,Object.seal(re),re}return P(Z,w),Z}();A.GenericMessageType=p,A.GenericMessageRequest=w,A.PublicMessageRequest=N,A.PrivateMessageRequest=$,A.ObjectMessageRequest=O,A.ModeratorMessageRequest=V,A.AdminMessageRequest=J},function(z,A,h){"use strict";h.r(A),h.d(A,"MD5",function(){return E});var E=function(){this.hexcase=0,this.b64pad=""};E.prototype={},E.prototype.hex_md5=function(v){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(v)))},E.prototype.b64_md5=function(v){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(v)))},E.prototype.any_md5=function(v,T){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(v)),T)},E.prototype.hex_hmac_md5=function(v,T){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(v),this.str2rstr_utf8(T)))},E.prototype.b64_hmac_md5=function(v,T){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(v),this.str2rstr_utf8(T)))},E.prototype.any_hmac_md5=function(v,T,y){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(v),this.str2rstr_utf8(T)),y)},E.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},E.prototype.rstr_md5=function(v){return this.binl2rstr(this.binl_md5(this.rstr2binl(v),8*v.length))},E.prototype.rstr_hmac_md5=function(v,T){var y=this.rstr2binl(v);y.length>16&&(y=this.binl_md5(y,8*v.length));for(var _=Array(16),g=Array(16),f=0;f<16;f++)_[f]=909522486^y[f],g[f]=1549556828^y[f];var m=this.binl_md5(_.concat(this.rstr2binl(T)),512+8*T.length);return this.binl2rstr(this.binl_md5(g.concat(m),640))},E.prototype.rstr2hex=function(v){for(var T,y=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",_="",g=0;g<v.length;g++)T=v.charCodeAt(g),_+=y.charAt(T>>>4&15)+y.charAt(15&T);return _},E.prototype.rstr2b64=function(v){for(var T="",y=v.length,_=0;_<y;_+=3)for(var g=v.charCodeAt(_)<<16|(_+1<y?v.charCodeAt(_+1)<<8:0)|(_+2<y?v.charCodeAt(_+2):0),f=0;f<4;f++)T+=8*_+6*f>8*v.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>>6*(3-f)&63);return T},E.prototype.rstr2any=function(v,T){var y,_,g,f,m,x=T.length,P=Array(Math.ceil(v.length/2));for(y=0;y<P.length;y++)P[y]=v.charCodeAt(2*y)<<8|v.charCodeAt(2*y+1);var p=Math.ceil(8*v.length/(Math.log(T.length)/Math.log(2))),w=Array(p);for(_=0;_<p;_++){for(m=Array(),f=0,y=0;y<P.length;y++)f=(f<<16)+P[y],f-=(g=Math.floor(f/x))*x,(m.length>0||g>0)&&(m[m.length]=g);w[_]=f,P=m}var O="";for(y=w.length-1;y>=0;y--)O+=T.charAt(w[y]);return O},E.prototype.str2rstr_utf8=function(v){for(var T,y,_="",g=-1;++g<v.length;)T=v.charCodeAt(g),y=g+1<v.length?v.charCodeAt(g+1):0,55296<=T&&T<=56319&&56320<=y&&y<=57343&&(T=65536+((1023&T)<<10)+(1023&y),g++),T<=127?_+=String.fromCharCode(T):T<=2047?_+=String.fromCharCode(192|T>>>6&31,128|63&T):T<=65535?_+=String.fromCharCode(224|T>>>12&15,128|T>>>6&63,128|63&T):T<=2097151&&(_+=String.fromCharCode(240|T>>>18&7,128|T>>>12&63,128|T>>>6&63,128|63&T));return _},E.prototype.str2rstr_utf16le=function(v){for(var T="",y=0;y<v.length;y++)T+=String.fromCharCode(255&v.charCodeAt(y),v.charCodeAt(y)>>>8&255);return T},E.prototype.str2rstr_utf16be=function(v){for(var T="",y=0;y<v.length;y++)T+=String.fromCharCode(v.charCodeAt(y)>>>8&255,255&v.charCodeAt(y));return T},E.prototype.rstr2binl=function(v){for(var T=Array(v.length>>2),y=0;y<T.length;y++)T[y]=0;for(y=0;y<8*v.length;y+=8)T[y>>5]|=(255&v.charCodeAt(y/8))<<y%32;return T},E.prototype.binl2rstr=function(v){for(var T="",y=0;y<32*v.length;y+=8)T+=String.fromCharCode(v[y>>5]>>>y%32&255);return T},E.prototype.binl_md5=function(v,T){v[T>>5]|=128<<T%32,v[14+(T+64>>>9<<4)]=T;for(var y=1732584193,_=-271733879,g=-1732584194,f=271733878,m=0;m<v.length;m+=16){var x=y,P=_,p=g,w=f;y=this.md5_ff(y,_,g,f,v[m+0],7,-680876936),f=this.md5_ff(f,y,_,g,v[m+1],12,-389564586),g=this.md5_ff(g,f,y,_,v[m+2],17,606105819),_=this.md5_ff(_,g,f,y,v[m+3],22,-1044525330),y=this.md5_ff(y,_,g,f,v[m+4],7,-176418897),f=this.md5_ff(f,y,_,g,v[m+5],12,1200080426),g=this.md5_ff(g,f,y,_,v[m+6],17,-1473231341),_=this.md5_ff(_,g,f,y,v[m+7],22,-45705983),y=this.md5_ff(y,_,g,f,v[m+8],7,1770035416),f=this.md5_ff(f,y,_,g,v[m+9],12,-1958414417),g=this.md5_ff(g,f,y,_,v[m+10],17,-42063),_=this.md5_ff(_,g,f,y,v[m+11],22,-1990404162),y=this.md5_ff(y,_,g,f,v[m+12],7,1804603682),f=this.md5_ff(f,y,_,g,v[m+13],12,-40341101),g=this.md5_ff(g,f,y,_,v[m+14],17,-1502002290),_=this.md5_ff(_,g,f,y,v[m+15],22,1236535329),y=this.md5_gg(y,_,g,f,v[m+1],5,-165796510),f=this.md5_gg(f,y,_,g,v[m+6],9,-1069501632),g=this.md5_gg(g,f,y,_,v[m+11],14,643717713),_=this.md5_gg(_,g,f,y,v[m+0],20,-373897302),y=this.md5_gg(y,_,g,f,v[m+5],5,-701558691),f=this.md5_gg(f,y,_,g,v[m+10],9,38016083),g=this.md5_gg(g,f,y,_,v[m+15],14,-660478335),_=this.md5_gg(_,g,f,y,v[m+4],20,-405537848),y=this.md5_gg(y,_,g,f,v[m+9],5,568446438),f=this.md5_gg(f,y,_,g,v[m+14],9,-1019803690),g=this.md5_gg(g,f,y,_,v[m+3],14,-187363961),_=this.md5_gg(_,g,f,y,v[m+8],20,1163531501),y=this.md5_gg(y,_,g,f,v[m+13],5,-1444681467),f=this.md5_gg(f,y,_,g,v[m+2],9,-51403784),g=this.md5_gg(g,f,y,_,v[m+7],14,1735328473),_=this.md5_gg(_,g,f,y,v[m+12],20,-1926607734),y=this.md5_hh(y,_,g,f,v[m+5],4,-378558),f=this.md5_hh(f,y,_,g,v[m+8],11,-2022574463),g=this.md5_hh(g,f,y,_,v[m+11],16,1839030562),_=this.md5_hh(_,g,f,y,v[m+14],23,-35309556),y=this.md5_hh(y,_,g,f,v[m+1],4,-1530992060),f=this.md5_hh(f,y,_,g,v[m+4],11,1272893353),g=this.md5_hh(g,f,y,_,v[m+7],16,-155497632),_=this.md5_hh(_,g,f,y,v[m+10],23,-1094730640),y=this.md5_hh(y,_,g,f,v[m+13],4,681279174),f=this.md5_hh(f,y,_,g,v[m+0],11,-358537222),g=this.md5_hh(g,f,y,_,v[m+3],16,-722521979),_=this.md5_hh(_,g,f,y,v[m+6],23,76029189),y=this.md5_hh(y,_,g,f,v[m+9],4,-640364487),f=this.md5_hh(f,y,_,g,v[m+12],11,-421815835),g=this.md5_hh(g,f,y,_,v[m+15],16,530742520),_=this.md5_hh(_,g,f,y,v[m+2],23,-995338651),y=this.md5_ii(y,_,g,f,v[m+0],6,-198630844),f=this.md5_ii(f,y,_,g,v[m+7],10,1126891415),g=this.md5_ii(g,f,y,_,v[m+14],15,-1416354905),_=this.md5_ii(_,g,f,y,v[m+5],21,-57434055),y=this.md5_ii(y,_,g,f,v[m+12],6,1700485571),f=this.md5_ii(f,y,_,g,v[m+3],10,-1894986606),g=this.md5_ii(g,f,y,_,v[m+10],15,-1051523),_=this.md5_ii(_,g,f,y,v[m+1],21,-2054922799),y=this.md5_ii(y,_,g,f,v[m+8],6,1873313359),f=this.md5_ii(f,y,_,g,v[m+15],10,-30611744),g=this.md5_ii(g,f,y,_,v[m+6],15,-1560198380),_=this.md5_ii(_,g,f,y,v[m+13],21,1309151649),y=this.md5_ii(y,_,g,f,v[m+4],6,-145523070),f=this.md5_ii(f,y,_,g,v[m+11],10,-1120210379),g=this.md5_ii(g,f,y,_,v[m+2],15,718787259),_=this.md5_ii(_,g,f,y,v[m+9],21,-343485551),y=this.safe_add(y,x),_=this.safe_add(_,P),g=this.safe_add(g,p),f=this.safe_add(f,w)}return Array(y,_,g,f)},E.prototype.md5_cmn=function(v,T,y,_,g,f){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(T,v),this.safe_add(_,f)),g),y)},E.prototype.md5_ff=function(v,T,y,_,g,f,m){return this.md5_cmn(T&y|~T&_,v,T,g,f,m)},E.prototype.md5_gg=function(v,T,y,_,g,f,m){return this.md5_cmn(T&_|y&~_,v,T,g,f,m)},E.prototype.md5_hh=function(v,T,y,_,g,f,m){return this.md5_cmn(T^y^_,v,T,g,f,m)},E.prototype.md5_ii=function(v,T,y,_,g,f,m){return this.md5_cmn(y^(T|~_),v,T,g,f,m)},E.prototype.safe_add=function(v,T){var y=(65535&v)+(65535&T);return(v>>16)+(T>>16)+(y>>16)<<16|65535&y},E.prototype.bit_rol=function(v,T){return v<<T|v>>>32-T}},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=function(){function y(_,g){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")})(this,y),this._id=-1,this._inviter=_,this._invitee=g,this._secondsForAnswer=f,this._params=m,Object.seal(this)}return E(y,[{key:"id",get:function(){return this._id}},{key:"inviter",get:function(){return this._inviter}},{key:"invitee",get:function(){return this._invitee}},{key:"secondsForAnswer",get:function(){return this._secondsForAnswer}},{key:"params",get:function(){return this._params}}]),y}(),T=Object.freeze({ACCEPT:0,REFUSE:1,EXPIRED:255});A.SFSInvitation=v,A.InvitationReply=T},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MMOItemVariable=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(48),T=function(y){function _(g,f){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,_);var x=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,g,f,m));return Object.freeze(x),x}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(_,v.BaseVariable),E(_,[{key:"toString",value:function(){return"[ItemVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}}],[{key:"fromSFSArray",value:function(g){return new _(g.get(0),g.get(2),g.get(1))}}]),_}();A.MMOItemVariable=T},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=function(){function y(){throw function(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}(this,y),"Class SFSErrorCodes cannot be instantiated. Please check the documentation for more details on its usage"}return E(y,null,[{key:"setErrorMessage",value:function(_,g){this._errorsByCode[_]=g}},{key:"getErrorMessage",value:function(_,g){return this.stringFormat(this._errorsByCode[_],g)}},{key:"stringFormat",value:function(_,g){if(null==_)return"";if(null!=g)for(var f=0;f<g.length;f++)_=_.replace("{"+f+"}",g[f]);return _}},{key:"_errorsByCode",get:function(){return T}}]),y}();A.SFSErrorCodes=v;var T=["Client API version is obsolete: {0}; required version: {1}","Requested Zone {0} does not exist","User name {0} is not recognized","Wrong password for user {0}","User {0} is banned","Zone {0} is full","User {0} is already logged in Zone {1}","The server is full","Zone {0} is currently inactive","User name {0} contains bad words; filtered: {1}","Guest users not allowed in Zone {0}","IP address {0} is banned","A Room with the same name already exists: {0}","Requested Group is not available - Room: {0}; Group: {1}","Bad Room name length -  Min: {0}; max: {1}; passed name length: {2}","Room name contains bad words: {0}","Zone is full; can't add Rooms anymore","You have exceeded the number of Rooms that you can create per session: {0}","Room creation failed, wrong parameter: {0}","User {0} already joined in Room","Room {0} is full","Wrong password for Room {0}","Requested Room does not exist","Room {0} is locked","Group {0} is already subscribed","Group {0} does not exist","Group {0} is not subscribed","Group {0} does not exist","{0}","Room permission error; Room {0} cannot be renamed","Room permission error; Room {0} cannot change password state","Room permission error; Room {0} cannot change capacity","Switch user error; no player slots available in Room {0}","Switch user error; no spectator slots available in Room {0}","Switch user error; Room {0} is not a Game Room","Switch user error; you are not joined in Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"]},function(z,A,h){"use strict";var E=h(6),v=h(11),T=h(44),y=h(60),_=h(18),g=h(41),f=h(3),m=h(42),x=h(24),P=h(12),p=h(121),w=h(32).f,O=h(10).f,N=h(78),$=h(45),V="prototype",J="Wrong index!",X=E.ArrayBuffer,Z=E.DataView,j=E.Math,K=E.RangeError,Q=E.Infinity,re=X,ne=j.abs,pe=j.pow,be=j.floor,Le=j.log,Se=j.LN2,xe=v?"_b":"buffer",le=v?"_l":"byteLength",Ce=v?"_o":"byteOffset";function ge(Be,Ve,Qt){var Ut,rn,Dn,bt=new Array(Qt),Pt=8*Qt-Ve-1,Fe=(1<<Pt)-1,De=Fe>>1,$e=23===Ve?pe(2,-24)-pe(2,-77):0,qe=0,He=Be<0||0===Be&&1/Be<0?1:0;for((Be=ne(Be))!=Be||Be===Q?(rn=Be!=Be?1:0,Ut=Fe):(Ut=be(Le(Be)/Se),Be*(Dn=pe(2,-Ut))<1&&(Ut--,Dn*=2),(Be+=Ut+De>=1?$e/Dn:$e*pe(2,1-De))*Dn>=2&&(Ut++,Dn/=2),Ut+De>=Fe?(rn=0,Ut=Fe):Ut+De>=1?(rn=(Be*Dn-1)*pe(2,Ve),Ut+=De):(rn=Be*pe(2,De-1)*pe(2,Ve),Ut=0));Ve>=8;bt[qe++]=255&rn,rn/=256,Ve-=8);for(Ut=Ut<<Ve|rn,Pt+=Ve;Pt>0;bt[qe++]=255&Ut,Ut/=256,Pt-=8);return bt[--qe]|=128*He,bt}function Xe(Be,Ve,Qt){var Ut,rn=8*Qt-Ve-1,Dn=(1<<rn)-1,bt=Dn>>1,Pt=rn-7,Fe=Qt-1,De=Be[Fe--],$e=127&De;for(De>>=7;Pt>0;$e=256*$e+Be[Fe],Fe--,Pt-=8);for(Ut=$e&(1<<-Pt)-1,$e>>=-Pt,Pt+=Ve;Pt>0;Ut=256*Ut+Be[Fe],Fe--,Pt-=8);if(0===$e)$e=1-bt;else{if($e===Dn)return Ut?NaN:De?-Q:Q;Ut+=pe(2,Ve),$e-=bt}return(De?-1:1)*Ut*pe(2,$e-Ve)}function he(Be){return Be[3]<<24|Be[2]<<16|Be[1]<<8|Be[0]}function Te(Be){return[255&Be]}function Ne(Be){return[255&Be,Be>>8&255]}function Ke(Be){return[255&Be,Be>>8&255,Be>>16&255,Be>>24&255]}function ot(Be){return ge(Be,52,8)}function Ze(Be){return ge(Be,23,4)}function mt(Be,Ve,Qt){O(Be[V],Ve,{get:function(){return this[Qt]}})}function yt(Be,Ve,Qt,Ut){var rn=p(+Qt);if(rn+Ve>Be[le])throw K(J);var bt=rn+Be[Ce],Pt=Be[xe]._b.slice(bt,bt+Ve);return Ut?Pt:Pt.reverse()}function tt(Be,Ve,Qt,Ut,rn,Dn){var bt=p(+Qt);if(bt+Ve>Be[le])throw K(J);for(var Pt=Be[xe]._b,Fe=bt+Be[Ce],De=Ut(+rn),$e=0;$e<Ve;$e++)Pt[Fe+$e]=De[Dn?$e:Ve-$e-1]}if(y.ABV){if(!f(function(){X(1)})||!f(function(){new X(-1)})||f(function(){return new X,new X(1.5),new X(NaN),"ArrayBuffer"!=X.name})){for(var me,Ie=(X=function(Be){return m(this,X),new re(p(Be))})[V]=re[V],ke=w(re),ze=0;ke.length>ze;)(me=ke[ze++])in X||_(X,me,re[me]);T||(Ie.constructor=X)}var st=new Z(new X(2)),lt=Z[V].setInt8;st.setInt8(0,2147483648),st.setInt8(1,2147483649),!st.getInt8(0)&&st.getInt8(1)||g(Z[V],{setInt8:function(Be,Ve){lt.call(this,Be,Ve<<24>>24)},setUint8:function(Be,Ve){lt.call(this,Be,Ve<<24>>24)}},!0)}else X=function(Be){m(this,X,"ArrayBuffer");var Ve=p(Be);this._b=N.call(new Array(Ve),0),this[le]=Ve},Z=function(Be,Ve,Qt){m(this,Z,"DataView"),m(Be,X,"DataView");var Ut=Be[le],rn=x(Ve);if(rn<0||rn>Ut)throw K("Wrong offset!");if(rn+(Qt=void 0===Qt?Ut-rn:P(Qt))>Ut)throw K("Wrong length!");this[xe]=Be,this[Ce]=rn,this[le]=Qt},v&&(mt(X,"byteLength","_l"),mt(Z,"buffer","_b"),mt(Z,"byteLength","_l"),mt(Z,"byteOffset","_o")),g(Z[V],{getInt8:function(Be){return yt(this,1,Be)[0]<<24>>24},getUint8:function(Be){return yt(this,1,Be)[0]},getInt16:function(Be){var Ve=yt(this,2,Be,arguments[1]);return(Ve[1]<<8|Ve[0])<<16>>16},getUint16:function(Be){var Ve=yt(this,2,Be,arguments[1]);return Ve[1]<<8|Ve[0]},getInt32:function(Be){return he(yt(this,4,Be,arguments[1]))},getUint32:function(Be){return he(yt(this,4,Be,arguments[1]))>>>0},getFloat32:function(Be){return Xe(yt(this,4,Be,arguments[1]),23,4)},getFloat64:function(Be){return Xe(yt(this,8,Be,arguments[1]),52,8)},setInt8:function(Be,Ve){tt(this,1,Be,Te,Ve)},setUint8:function(Be,Ve){tt(this,1,Be,Te,Ve)},setInt16:function(Be,Ve){tt(this,2,Be,Ne,Ve,arguments[2])},setUint16:function(Be,Ve){tt(this,2,Be,Ne,Ve,arguments[2])},setInt32:function(Be,Ve){tt(this,4,Be,Ke,Ve,arguments[2])},setUint32:function(Be,Ve){tt(this,4,Be,Ke,Ve,arguments[2])},setFloat32:function(Be,Ve){tt(this,4,Be,Ze,Ve,arguments[2])},setFloat64:function(Be,Ve){tt(this,8,Be,ot,Ve,arguments[2])}});$(X,"ArrayBuffer"),$(Z,"DataView"),_(Z[V],y.VIEW,!0),A.ArrayBuffer=X,A.DataView=Z},function(z,A,h){var E=h(5),v=h(26),T=h(7)("species");z.exports=function(y,_){var g,f=E(y).constructor;return void 0===f||null==(g=E(f)[T])?_:v(g)}},function(z,A,h){"use strict";var E=h(5);z.exports=function(){var v=E(this),T="";return v.global&&(T+="g"),v.ignoreCase&&(T+="i"),v.multiline&&(T+="m"),v.unicode&&(T+="u"),v.sticky&&(T+="y"),T}},function(z,A,h){"use strict";var E=h(14),v=h(34),T=h(12);z.exports=function(y){for(var _=E(this),g=T(_.length),f=arguments.length,m=v(f>1?arguments[1]:void 0,g),x=f>2?arguments[2]:void 0,P=void 0===x?g:v(x,g);P>m;)_[m++]=y;return _}},function(z,A,h){var E=h(66),v=h(7)("iterator"),T=h(53);z.exports=h(37).getIteratorMethod=function(y){if(null!=y)return y[v]||y["@@iterator"]||T[E(y)]}},function(z,A,h){var E=h(53),v=h(7)("iterator"),T=Array.prototype;z.exports=function(y){return void 0!==y&&(E.Array===y||T[v]===y)}},function(z,A,h){var E=h(7)("match");z.exports=function(v){var T=/./;try{"/./"[v](T)}catch(y){try{return T[E]=!1,!"/./"[v](T)}catch(_){}}return!0}},function(z,A,h){var E=h(4),v=h(25),T=h(7)("match");z.exports=function(y){var _;return E(y)&&(void 0!==(_=y[T])?!!_:"RegExp"==v(y))}},function(z,A,h){var E=h(82),v=h(28);z.exports=function(T,y,_){if(E(y))throw TypeError("String#"+_+" doesn't accept regex!");return String(v(T))}},function(z,A,h){"use strict";var E=h(44),v=h(0),T=h(15),y=h(18),_=h(53),g=h(133),f=h(45),m=h(31),x=h(7)("iterator"),P=!([].keys&&"next"in[].keys()),p=function(){return this};z.exports=function(w,O,N,$,V,J,X){g(N,O,$);var Z,j,K,Q=function(Ce){if(!P&&Ce in be)return be[Ce];switch(Ce){case"keys":case"values":return function(){return new N(this,Ce)}}return function(){return new N(this,Ce)}},re=O+" Iterator",ne="values"==V,pe=!1,be=w.prototype,Le=be[x]||be["@@iterator"]||V&&be[V],Se=Le||Q(V),xe=V?ne?Q("entries"):Se:void 0,le="Array"==O&&be.entries||Le;if(le&&(K=m(le.call(new w)))!==Object.prototype&&K.next&&(f(K,re,!0),E||"function"==typeof K[x]||y(K,x,p)),ne&&Le&&"values"!==Le.name&&(pe=!0,Se=function(){return Le.call(this)}),E&&!X||!P&&!pe&&be[x]||y(be,x,Se),_[O]=Se,_[re]=p,V)if(Z={values:ne?Se:Q("values"),keys:J?Se:Q("keys"),entries:xe},X)for(j in Z)j in be||T(be,j,Z[j]);else v(v.P+v.F*(P||pe),O,Z);return Z}},function(z,A){var h=Math.expm1;z.exports=!h||h(10)>22025.465794806718||h(10)<22025.465794806718||-2e-17!=h(-2e-17)?function(E){return 0==(E=+E)?E:E>-1e-6&&E<1e-6?E+E*E/2:Math.exp(E)-1}:h},function(z,A){z.exports=Math.sign||function(h){return 0==(h=+h)||h!=h?h:h<0?-1:1}},function(z,A,h){var E=h(4),v=h(89).set;z.exports=function(T,y,_){var g,f=y.constructor;return f!==_&&"function"==typeof f&&(g=f.prototype)!==_.prototype&&E(g)&&v&&v(T,g),T}},function(z,A){z.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(z,A,h){var E=h(4),v=h(5),T=function(y,_){if(v(y),!E(_)&&null!==_)throw TypeError(_+": can't set as prototype!")};z.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(y,_,g){try{(g=h(27)(Function.call,h(23).f(Object.prototype,"__proto__").set,2))(y,[]),_=!(y instanceof Array)}catch(f){_=!0}return function(f,m){return T(f,m),_?f.__proto__=m:g(f,m),f}}({},!1):void 0),check:T}},function(z,A,h){var E=h(6).document;z.exports=E&&E.documentElement},function(z,A,h){var E=h(25);z.exports=Array.isArray||function(v){return"Array"==E(v)}},function(z,A){z.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(z,A,h){var E=h(95)("keys"),v=h(35);z.exports=function(T){return E[T]||(E[T]=v(T))}},function(z,A,h){var E=h(21),v=h(12),T=h(34);z.exports=function(y){return function(_,g,f){var m,x=E(_),P=v(x.length),p=T(f,P);if(y&&g!=g){for(;P>p;)if((m=x[p++])!=m)return!0}else for(;P>p;p++)if((y||p in x)&&x[p]===g)return y||p||0;return!y&&-1}}},function(z,A,h){var E=h(6),v=E["__core-js_shared__"]||(E["__core-js_shared__"]={});z.exports=function(T){return v[T]||(v[T]={})}},function(z,A,h){var E=h(4),v=h(6).document,T=E(v)&&E(v.createElement);z.exports=function(y){return T?v.createElement(y):{}}},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ExtensionRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(2),T=h(1),y=h(8),_=h(9),g=function(f){function m(x){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}(this,m);var w=function(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?O:N}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.Requests.CallExtension));return w._targetController=1,w._extCmd=x,w._params=P,w._room=p,null==w._params&&(w._params=new y.SFSObject),Object.seal(w),w}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,v.BaseRequest),E(m,null,[{key:"KEY_CMD",get:function(){return"c"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_ROOM",get:function(){return"r"}}]),E(m,[{key:"validate",value:function(x){var P=[];if(null!=this._extCmd&&0!==this._extCmd.length||P.push("Missing extension command"),null==this._params||this._params instanceof y.SFSObject||P.push("Custom parameters must be set in a SFSObject class instance"),null==this._room||this._room instanceof _.SFSRoom||P.push("Room must be an instance of SFSRoom class"),P.length>0)throw new T.SFSValidationError("ExtensionRequest Error",P)}},{key:"execute",value:function(x){this._reqObj.putUtfString(m.KEY_CMD,this._extCmd),this._reqObj.putInt(m.KEY_ROOM,null==this._room?-1:this._room.id),this._reqObj.putSFSObject(m.KEY_PARAMS,this._params)}}]),m}();A.ExtensionRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SetBuddyVariablesRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(2),T=h(1),y=h(8),_=h(46),g=function(f){function m(x){!function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}(this,m);var P=function(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.Requests.SetBuddyVariables));return P._buddyVariables=x,Object.seal(P),P}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,v.BaseRequest),E(m,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_VARS",get:function(){return"bv"}}]),E(m,[{key:"validate",value:function(x){var P=[];if(x.buddyManager.isInited||P.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===x.buddyManager.getMyOnlineState()&&P.push("Can't set Buddy Variables while you are offline in the Buddy List system"),null==this._buddyVariables?P.push("No Buddy Variables specified"):this._buddyVariables instanceof Array?0===this._buddyVariables.length?P.push("No Buddy Variables specified"):this._buddyVariables.every(function(p){return p instanceof _.SFSBuddyVariable})||P.push("Buddy Variables must be passed as instances of SFSBuddyVariable class"):P.push("Buddy Variables must be passed in an array"),P.length>0)throw new T.SFSValidationError("SetBuddyVariablesRequest Error",P)}},{key:"execute",value:function(x){var P=new y.SFSArray,p=!0,w=!1,O=void 0;try{for(var N,$=this._buddyVariables[Symbol.iterator]();!(p=(N=$.next()).done);p=!0)P.addSFSArray(N.value.toSFSArray())}catch(J){w=!0,O=J}finally{try{!p&&$.return&&$.return()}finally{if(w)throw O}}this._reqObj.putSFSArray(m.KEY_BUDDY_VARS,P)}}]),m}();A.SetBuddyVariablesRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.GoOnlineRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(f){!function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.GoOnline));return m._online=f,Object.seal(m),m}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_ONLINE",get:function(){return"o"}},{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_ID",get:function(){return"bi"}}]),E(g,[{key:"validate",value:function(f){var m=[];if(f.buddyManager.isInited||m.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),m.length>0)throw new T.SFSValidationError("GoOnlineRequest Error",m)}},{key:"execute",value:function(f){f.buddyManager._setMyOnlineState(this._online),this._reqObj.putBool(g.KEY_ONLINE,this._online)}}]),g}();A.GoOnlineRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BlockBuddyRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(f,m){!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,g);var x=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.BlockBuddy));return x._name=f,x._blocked=m,Object.seal(x),x}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_BLOCK_STATE",get:function(){return"bs"}},{key:"KEY_BUDDY",get:function(){return"bd"}}]),E(g,[{key:"validate",value:function(f){var m=[];if(f.buddyManager.isInited||m.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===f.buddyManager.getMyOnlineState()&&m.push("Can't block a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1)m.push("Invalid buddy name (null or empty string)");else{var x=f.buddyManager.getBuddyByName(this._name);null==x?m.push("Can't block buddy '"+this._name+"' because it isn't in your list"):x.isBlocked==this._blocked&&m.push("Block flag is already in the requested '"+this._blocked+"' state for buddy '"+this._name+"'")}if(m.length>0)throw new T.SFSValidationError("BlockBuddyRequest Error",m)}},{key:"execute",value:function(f){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name),this._reqObj.putBool(g.KEY_BUDDY_BLOCK_STATE,this._blocked)}}]),g}();A.BlockBuddyRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.RemoveBuddyRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(f){!function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.RemoveBuddy));return m._name=f,Object.seal(m),m}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),E(g,[{key:"validate",value:function(f){var m=[];if(f.buddyManager.isInited||m.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===f.buddyManager.getMyOnlineState()&&m.push("Can't remove a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1?m.push("Invalid buddy name (null or empty string)"):f.buddyManager.containsBuddy(this._name)||m.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),m.length>0)throw new T.SFSValidationError("RemoveBuddyRequest Error",m)}},{key:"execute",value:function(f){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name)}}]),g}();A.RemoveBuddyRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AddBuddyRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(f){!function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.AddBuddy));return m._name=f,Object.seal(m),m}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),E(g,[{key:"validate",value:function(f){var m=[];f.buddyManager.isInited||m.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||this._name.length<1)&&m.push("Invalid buddy name (null or empty string)"),!1===f.buddyManager.getMyOnlineState()&&m.push("Can't add a buddy while you are offline in the Buddy List system");var x=f.buddyManager.getBuddyByName(this._name);if(null==x||x.isTemp||m.push("Can't add buddy '"+this._name+"' because it is already in your list"),m.length>0)throw new T.SFSValidationError("AddBuddyRequest Error",m)}},{key:"execute",value:function(f){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name)}}]),g}();A.AddBuddyRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.InitBuddyListRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(){!function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g);var f=function(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?m:x}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.InitBuddyList));return Object.seal(f),f}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_BLIST",get:function(){return"bl"}},{key:"KEY_BUDDY_STATES",get:function(){return"bs"}},{key:"KEY_MY_VARS",get:function(){return"mv"}}]),E(g,[{key:"validate",value:function(f){var m=[];if(f.buddyManager.isInited&&m.push("Buddy List is already initialized"),m.length>0)throw new T.SFSValidationError("InitBuddyListRequest Error",m)}},{key:"execute",value:function(f){}}]),g}();A.InitBuddyListRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SetUserPositionRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(2),T=h(1),y=h(8),_=h(9),g=function(f){function m(x){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}(this,m);var p=function(w,O){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?w:O}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.Requests.SetUserPosition));return p._pos=x,p._room=P,Object.seal(p),p}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,v.BaseRequest),E(m,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_VEC3D",get:function(){return"v"}},{key:"KEY_PLUS_USER_LIST",get:function(){return"p"}},{key:"KEY_MINUS_USER_LIST",get:function(){return"m"}},{key:"KEY_PLUS_ITEM_LIST",get:function(){return"q"}},{key:"KEY_MINUS_ITEM_LIST",get:function(){return"n"}}]),E(m,[{key:"validate",value:function(x){var P=[];if(null!=this._pos&&this._pos instanceof y.Vec3D||P.push("Position must be an instance of Vec3D class"),null==this._room&&(this._room=x.lastJoinedRoom),null==this._room&&P.push("You are not joined in any room"),this._room instanceof _.MMORoom||P.push("Target room must be an instance of MMORoom class"),P.length>0)throw new T.SFSValidationError("SetUserPosition Error",P)}},{key:"execute",value:function(x){this._reqObj.putInt(m.KEY_ROOM,this._room.id),this._pos.isFloat?this._reqObj.putFloatArray(m.KEY_VEC3D,this._pos.toArray()):this._reqObj.putIntArray(m.KEY_VEC3D,this._pos.toArray())}}]),m}();A.SetUserPositionRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.FindUsersRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(2),T=h(1),y=h(9),_=h(38),g=function(f){function m(x){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}(this,m);var w=function(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?O:N}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.Requests.FindUsers));return w._matchExpr=x,w._target=P,w._limit=p,Object.seal(w),w}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,v.BaseRequest),E(m,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_USERS",get:function(){return"fu"}}]),E(m,[{key:"validate",value:function(x){var P=[];if(null==this._matchExpr&&P.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof _.MatchExpression||P.push("Match expression must be passed as an instance of MatchExpression class"),P.length>0)throw new T.SFSValidationError("FindUsersRequest Error",P)}},{key:"execute",value:function(x){this._reqObj.putSFSArray(m.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._target&&(this._target instanceof y.SFSRoom?this._reqObj.putInt(m.KEY_ROOM,this._target.id):"string"==typeof this._target?this._reqObj.putUtfString(m.KEY_GROUP,this._target):this._logger.warn("Unsupported target type for FindUsersRequest: "+this._target)),this._limit>0&&this._reqObj.putShort(m.KEY_LIMIT,this._limit)}}]),m}();A.FindUsersRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.FindRoomsRequest=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(2),T=h(1),y=h(38),_=function(g){function f(m){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}(this,f);var p=function(w,O){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?w:O}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.Requests.FindRooms));return p._matchExpr=m,p._groupId=x,p._limit=P,Object.seal(p),p}return function(m,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}(f,v.BaseRequest),E(f,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_ROOMS",get:function(){return"fr"}}]),E(f,[{key:"validate",value:function(m){var x=[];if(null==this._matchExpr&&x.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof y.MatchExpression||x.push("Match expression must be passed as an instance of MatchExpression class"),x.length>0)throw new T.SFSValidationError("FindRoomsRequest Error",x)}},{key:"execute",value:function(m){this._reqObj.putSFSArray(f.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._groupId&&this._reqObj.putUtfString(f.KEY_GROUP,this._groupId),this._limit>0&&this._reqObj.putShort(f.KEY_LIMIT,this._limit)}}]),f}();A.FindRoomsRequest=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PlayerToSpectatorRequest=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(2),T=h(1),y=h(9),_=function(g){function f(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,f);var x=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.Requests.PlayerToSpectator));return x._room=m,Object.seal(x),x}return function(m,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}(f,v.BaseRequest),E(f,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}}]),E(f,[{key:"validate",value:function(m){var x=[];if(m.getJoinedRooms().length<1&&x.push("You are not joined in any Room"),null==this._room||this._room instanceof y.SFSRoom||x.push("Target Room must be an instance of SFSRoom class"),x.length>0)throw new T.SFSValidationError("PlayerToSpectatorRequest Error",x)}},{key:"execute",value:function(m){null==this._room&&(this._room=m.lastJoinedRoom),this._reqObj.putInt(f.KEY_ROOM_ID,this._room.id)}}]),f}();A.PlayerToSpectatorRequest=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SpectatorToPlayerRequest=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(2),T=h(1),y=h(9),_=function(g){function f(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,f);var x=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.Requests.SpectatorToPlayer));return x._room=m,Object.seal(x),x}return function(m,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}(f,v.BaseRequest),E(f,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_PLAYER_ID",get:function(){return"p"}}]),E(f,[{key:"validate",value:function(m){var x=[];if(m.getJoinedRooms().length<1&&x.push("You are not joined in any Room"),null==this._room||this._room instanceof y.SFSRoom||x.push("Target Room must be an instance of SFSRoom class"),x.length>0)throw new T.SFSValidationError("SpectatorToPlayerRequest Error",x)}},{key:"execute",value:function(m){null==this._room&&(this._room=m.lastJoinedRoom),this._reqObj.putInt(f.KEY_ROOM_ID,this._room.id)}}]),f}();A.SpectatorToPlayerRequest=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.UnsubscribeRoomGroupRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(f){!function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.UnsubscribeRoomGroup));return m._groupId=f,Object.seal(m),m}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}}]),E(g,[{key:"validate",value:function(f){var m=[];if(null!=this._groupId&&0!==this._groupId.length||m.push("Invalid group id passed; must be a string with at least one character"),m.length>0)throw new T.SFSValidationError("UnsubscribeGroupRequest Error",m)}},{key:"execute",value:function(f){this._reqObj.putUtfString(g.KEY_GROUP_ID,this._groupId)}}]),g}();A.UnsubscribeRoomGroupRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SubscribeRoomGroupRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(f){!function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.SubscribeRoomGroup));return m._groupId=f,Object.seal(m),m}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ROOM_LIST",get:function(){return"rl"}}]),E(g,[{key:"validate",value:function(f){var m=[];if(null!=this._groupId&&0!==this._groupId.length||m.push("Invalid group id passed; must be a string with at least one character"),m.length>0)throw new T.SFSValidationError("SubscribeGroupRequest Error",m)}},{key:"execute",value:function(f){this._reqObj.putUtfString(g.KEY_GROUP_ID,this._groupId)}}]),g}();A.SubscribeRoomGroupRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SetUserVariablesRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(2),T=h(1),y=h(8),_=h(59),g=function(f){function m(x){!function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}(this,m);var P=function(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.Requests.SetUserVariables));return P._userVariables=x,Object.seal(P),P}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,v.BaseRequest),E(m,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),E(m,[{key:"validate",value:function(x){var P=[];if(null==this._userVariables?P.push("No User Variables specified"):this._userVariables instanceof Array?0===this._userVariables.length?P.push("No User Variables specified"):this._userVariables.every(function(p){return p instanceof _.SFSUserVariable})||P.push("User Variables must be passed as instances of SFSUserVariable class"):P.push("User Variables must be passed in an array"),P.length>0)throw new T.SFSValidationError("SetUserVariablesRequest Error",P)}},{key:"execute",value:function(x){var P=new y.SFSArray,p=!0,w=!1,O=void 0;try{for(var N,$=this._userVariables[Symbol.iterator]();!(p=(N=$.next()).done);p=!0)P.addSFSArray(N.value.toSFSArray())}catch(J){w=!0,O=J}finally{try{!p&&$.return&&$.return()}finally{if(w)throw O}}this._reqObj.putSFSArray(m.KEY_VAR_LIST,P)}}]),m}();A.SetUserVariablesRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SetRoomVariablesRequest=void 0;var E=function(){function m(x,P){for(var p=0;p<P.length;p++){var w=P[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,P,p){return P&&m(x.prototype,P),p&&m(x,p),x}}(),v=h(2),T=h(1),y=h(8),_=h(9),g=h(49),f=function(m){function x(P){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}(this,x);var w=function(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?O:N}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v.Requests.SetRoomVariables));return w._roomVariables=P,w._room=p,Object.seal(w),w}return function(P,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);P.prototype=Object.create(p&&p.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(P,p):P.__proto__=p)}(x,v.BaseRequest),E(x,null,[{key:"KEY_VAR_ROOM",get:function(){return"r"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),E(x,[{key:"validate",value:function(P){var p=[];if(null==this._room&&(this._room=P.lastJoinedRoom),null==this._room?p.push("You must be joined in a Room to send a message"):this._room instanceof _.SFSRoom?P.getJoinedRooms().indexOf(this._room)<0&&p.push("You are not joined in the target Room: "+this._room):p.push("Target Room must be an instance of SFSRoom class"),null==this._roomVariables?p.push("No Room Variables specified"):this._roomVariables instanceof Array?0===this._roomVariables.length?p.push("No Room Variables specified"):this._roomVariables.every(function(w){return w instanceof g.SFSRoomVariable})||p.push("Room Variables must be passed as instances of SFSRoomVariable class"):p.push("Room Variables must be passed in an array"),p.length>0)throw new T.SFSValidationError("SetRoomVariablesRequest Error",p)}},{key:"execute",value:function(P){var p=new y.SFSArray,w=!0,O=!1,N=void 0;try{for(var $,V=this._roomVariables[Symbol.iterator]();!(w=($=V.next()).done);w=!0)p.addSFSArray($.value.toSFSArray())}catch(X){O=!0,N=X}finally{try{!w&&V.return&&V.return()}finally{if(O)throw N}}this._reqObj.putSFSArray(x.KEY_VAR_LIST,p),this._reqObj.putInt(x.KEY_VAR_ROOM,this._room.id)}}]),x}();A.SetRoomVariablesRequest=f},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ChangeRoomCapacityRequest=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(2),T=h(1),y=h(9),_=function(g){function f(m,x,P){!function(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}(this,f);var p=function(w,O){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?w:O}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.Requests.ChangeRoomCapacity));return p._room=m,p._newMaxUsers=x,p._newMaxSpect=P,Object.seal(p),p}return function(m,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}(f,v.BaseRequest),E(f,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_SIZE",get:function(){return"u"}},{key:"KEY_SPEC_SIZE",get:function(){return"s"}}]),E(f,[{key:"validate",value:function(m){var x=[];if(this._room instanceof y.SFSRoom||x.push("Room must be an instance of SFSRoom class"),x.length>0)throw new T.SFSValidationError("ChangeRoomCapacityRequest Error",x)}},{key:"execute",value:function(m){this._reqObj.putInt(f.KEY_ROOM,this._room.id),this._reqObj.putInt(f.KEY_USER_SIZE,this._newMaxUsers),this._reqObj.putInt(f.KEY_SPEC_SIZE,this._newMaxSpect)}}]),f}();A.ChangeRoomCapacityRequest=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ChangeRoomPasswordStateRequest=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(2),T=h(1),y=h(9),_=function(g){function f(m,x){!function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}(this,f);var P=function(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.Requests.ChangeRoomPassword));return P._room=m,P._newPass=x,Object.seal(P),P}return function(m,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}(f,v.BaseRequest),E(f,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_PASS",get:function(){return"p"}}]),E(f,[{key:"validate",value:function(m){var x=[];if(this._room instanceof y.SFSRoom||x.push("Room must be an instance of SFSRoom class"),null==this._newPass&&x.push("New room password must be a non-null string (empty string to remove the password)"),x.length>0)throw new T.SFSValidationError("ChangeRoomPasswordStateRequest Error",x)}},{key:"execute",value:function(m){this._reqObj.putInt(f.KEY_ROOM,this._room.id),this._reqObj.putUtfString(f.KEY_PASS,this._newPass)}}]),f}();A.ChangeRoomPasswordStateRequest=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ChangeRoomNameRequest=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(2),T=h(1),y=h(9),_=function(g){function f(m,x){!function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}(this,f);var P=function(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.Requests.ChangeRoomName));return P._room=m,P._newName=x,Object.seal(P),P}return function(m,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}(f,v.BaseRequest),E(f,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}}]),E(f,[{key:"validate",value:function(m){var x=[];if(this._room instanceof y.SFSRoom||x.push("Room must be an instance of SFSRoom class"),null!=this._newName&&0!==this._newName.length||x.push("New room name must be a non-null and non-empty string"),x.length>0)throw new T.SFSValidationError("ChangeRoomNameRequest Error",x)}},{key:"execute",value:function(m){this._reqObj.putInt(f.KEY_ROOM,this._room.id),this._reqObj.putUtfString(f.KEY_NAME,this._newName)}}]),f}();A.ChangeRoomNameRequest=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.JoinRoomRequest=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(2),T=h(1),y=h(9),_=function(g){function f(m){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}(this,f);var w=function(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?O:N}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.Requests.JoinRoom));return"string"==typeof m?w._rName=m:"number"==typeof m?w._rId=m:m instanceof y.SFSRoom&&(w._rId=m.id,w._rName=m.name),w._password=x,w._roomIdToLeave=P,w._asSpectator=p,Object.seal(w),w}return function(m,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}(f,v.BaseRequest),E(f,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_LIST",get:function(){return"ul"}},{key:"KEY_ROOM_NAME",get:function(){return"n"}},{key:"KEY_ROOM_ID",get:function(){return"i"}},{key:"KEY_PASS",get:function(){return"p"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_AS_SPECTATOR",get:function(){return"sp"}}]),E(f,[{key:"validate",value:function(m){if(null==this._rId&&null==this._rName)throw new T.SFSValidationError("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing SFSRoom object"])}},{key:"execute",value:function(m){m._isJoining=!0,this._rId>=0?this._reqObj.putInt(f.KEY_ROOM_ID,this._rId):null!=this._rName&&this._reqObj.putUtfString(f.KEY_ROOM_NAME,this._rName),null!=this._password&&this._reqObj.putUtfString(f.KEY_PASS,this._password),null!=this._roomIdToLeave&&this._reqObj.putInt(f.KEY_ROOM_TO_LEAVE,this._roomIdToLeave),this._asSpectator&&this._reqObj.putBool(f.KEY_AS_SPECTATOR,this._asSpectator)}}]),f}();A.JoinRoomRequest=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LogoutRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(){!function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}(this,g);var f=function(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?m:x}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.Logout));return Object.seal(f),f}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}}]),E(g,[{key:"validate",value:function(f){if(null==f.mySelf)throw new T.SFSValidationError("LogoutRequest error",["You are not logged in"])}},{key:"execute",value:function(f){}}]),g}();A.LogoutRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LoginRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(71),T=h(2),y=h(1),_=h(8),g=function(f){function m(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(N,$){if(!(N instanceof $))throw new TypeError("Cannot call a class as a function")}(this,m);var O=function(N,$){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?N:$}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,T.Requests.Login));return O._userName=x,O._password=P,O._params=p,O._zoneName=w,Object.seal(O),O}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,T.BaseRequest),E(m,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}},{key:"KEY_USER_NAME",get:function(){return"un"}},{key:"KEY_PASSWORD",get:function(){return"pw"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_PRIVILEGE_ID",get:function(){return"pi"}},{key:"KEY_ID",get:function(){return"id"}},{key:"KEY_ROOMLIST",get:function(){return"rl"}},{key:"KEY_RECONNECTION_SECONDS",get:function(){return"rs"}}]),E(m,[{key:"validate",value:function(x){if(null!=x.mySelf)throw new y.SFSValidationError("LoginRequest error",["You are already logged in; logout before attempting a new login"]);var P=[],p=null!=x.config&&null!=x.config.zone?x.config.zone:null;if(null!=this._zoneName&&(p=this._zoneName),null==p||0===p.length?P.push("Missing Zone name"):this._zoneName=p,null==this._params||this._params instanceof _.SFSObject||P.push("Custom parameters must be passed in a SFSObject"),P.length>0)throw new y.SFSValidationError("LoginRequest Error",P)}},{key:"execute",value:function(x){null==this._userName&&(this._userName=""),null==this._password&&(this._password=""),this._reqObj.putUtfString(m.KEY_ZONE_NAME,this._zoneName),this._reqObj.putUtfString(m.KEY_USER_NAME,this._userName),this._reqObj.putUtfString(m.KEY_PASSWORD,this._password.length>0?(new v.MD5).hex_md5(x.sessionToken+this._password):""),null!=this._params&&this._reqObj.putSFSObject(m.KEY_PARAMS,this._params)}}]),m}();A.LoginRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}();function v(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}var T=function(){function _(g){v(this,_),this._sfs=g,this._usersById=new Map,this._usersByName=new Map}return E(_,[{key:"containsUserName",value:function(g){return this._usersByName.has(g)}},{key:"containsUserId",value:function(g){return this._usersById.has(g)}},{key:"containsUser",value:function(g){return this._usersById.has(g.id)}},{key:"getUserById",value:function(g){return this._usersById.get(g)}},{key:"getUserByName",value:function(g){return this._usersByName.get(g)}},{key:"getUserCount",value:function(){return this._usersById.size}},{key:"getUserList",value:function(){return Array.from(this._usersById.values())}},{key:"_addUser",value:function(g){this.__addUser(g)}},{key:"__addUser",value:function(g){this._usersByName.set(g.name,g),this._usersById.set(g.id,g)}},{key:"_removeUser",value:function(g){this._usersById.delete(g.id),this._usersByName.delete(g.name)}},{key:"_clearAll",value:function(){this._usersById.clear(),this._usersByName.clear()}}]),_}(),y=function(_){function g(f){v(this,g);var m=function(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,f));return m._roomRefCount=new Map,Object.freeze(m),m}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,T),E(g,[{key:"_addUser",value:function(f){this._roomRefCount.has(f)?this._roomRefCount.set(f,this._roomRefCount.get(f)+1):this._roomRefCount.set(f,1),this.__addUser(f)}},{key:"_removeUser",value:function(f){this._removeUserReference(f,!1)}},{key:"_removeUserReference",value:function(f,m){var x=this._roomRefCount.get(f);x<1&&null!=this._sfs?this._sfs.logger.warn("GlobalUserManager RefCount is already at zero. User: "+f):(this._roomRefCount.set(f,this._roomRefCount.get(f)-1),(0===x||m)&&(function P(p,w,O){null===p&&(p=Function.prototype);var N=Object.getOwnPropertyDescriptor(p,w);if(void 0===N){var $=Object.getPrototypeOf(p);return null===$?void 0:P($,w,O)}if("value"in N)return N.value;var V=N.get;return void 0!==V?V.call(O):void 0}(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"_removeUser",this).call(this,f),this._roomRefCount.delete(f)))}}]),g}();A.SFSUserManager=T,A.GlobalUserManager=y},function(z,A,h){(function(E){var v,T=function(y,_,g){this._byteOffset=_||0,y instanceof ArrayBuffer?this.buffer=y:"object"==typeof y?(this.dataView=y,_&&(this._byteOffset+=_)):this.buffer=new ArrayBuffer(y||1),this.position=0,this.endianness=null==g?T.LITTLE_ENDIAN:g};T.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),T.prototype.save=function(y){var _=new Blob(this.buffer),g=window.webkitURL||window.URL;if(!g||!g.createObjectURL)throw"DataStream.save: Can't create object URL.";var f=g.createObjectURL(_),m=document.createElement("a");m.setAttribute("href",f),m.setAttribute("download",y),m.click(),g.revokeObjectURL(f)},T.BIG_ENDIAN=!1,T.LITTLE_ENDIAN=!0,T.prototype._dynamicSize=!0,Object.defineProperty(T.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(y){y||this._trimAlloc(),this._dynamicSize=y}}),T.prototype._byteLength=0,Object.defineProperty(T.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(T.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(y){this._buffer=y,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(y){this._byteOffset=y,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"dataView",{get:function(){return this._dataView},set:function(y){this._byteOffset=y.byteOffset,this._buffer=y.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+y.byteLength}}),T.prototype._realloc=function(y){if(this._dynamicSize){var _=this._byteOffset+this.position+y,g=this._buffer.byteLength;if(_<=g)_>this._byteLength&&(this._byteLength=_);else{for(g<1&&(g=1);_>g;)g*=2;var f=new ArrayBuffer(g),m=new Uint8Array(this._buffer);new Uint8Array(f,0,m.length).set(m),this.buffer=f,this._byteLength=_}}},T.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var y=new ArrayBuffer(this._byteLength),_=new Uint8Array(y),g=new Uint8Array(this._buffer,0,_.length);_.set(g),this.buffer=y}},T.prototype.seek=function(y){var _=Math.max(0,Math.min(this.byteLength,y));this.position=isNaN(_)||!isFinite(_)?0:_},T.prototype.isEof=function(){return this.position>=this.byteLength},T.prototype.mapInt32Array=function(y,_){this._realloc(4*y);var g=new Int32Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==_?this.endianness:_),this.position+=4*y,g},T.prototype.mapInt16Array=function(y,_){this._realloc(2*y);var g=new Int16Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==_?this.endianness:_),this.position+=2*y,g},T.prototype.mapInt8Array=function(y){this._realloc(1*y);var _=new Int8Array(this._buffer,this.byteOffset+this.position,y);return this.position+=1*y,_},T.prototype.mapUint32Array=function(y,_){this._realloc(4*y);var g=new Uint32Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==_?this.endianness:_),this.position+=4*y,g},T.prototype.mapUint16Array=function(y,_){this._realloc(2*y);var g=new Uint16Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==_?this.endianness:_),this.position+=2*y,g},T.prototype.mapUint8Array=function(y){this._realloc(1*y);var _=new Uint8Array(this._buffer,this.byteOffset+this.position,y);return this.position+=1*y,_},T.prototype.mapFloat64Array=function(y,_){this._realloc(8*y);var g=new Float64Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==_?this.endianness:_),this.position+=8*y,g},T.prototype.mapFloat32Array=function(y,_){this._realloc(4*y);var g=new Float32Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==_?this.endianness:_),this.position+=4*y,g},T.prototype.readInt32Array=function(y,_){y=null==y?this.byteLength-this.position/4:y;var g=new Int32Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==_?this.endianness:_),this.position+=g.byteLength,g},T.prototype.readInt16Array=function(y,_){y=null==y?this.byteLength-this.position/2:y;var g=new Int16Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==_?this.endianness:_),this.position+=g.byteLength,g},T.prototype.readInt8Array=function(y){y=null==y?this.byteLength-this.position:y;var _=new Int8Array(y);return T.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,y*_.BYTES_PER_ELEMENT),this.position+=_.byteLength,_},T.prototype.readUint32Array=function(y,_){y=null==y?this.byteLength-this.position/4:y;var g=new Uint32Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==_?this.endianness:_),this.position+=g.byteLength,g},T.prototype.readUint16Array=function(y,_){y=null==y?this.byteLength-this.position/2:y;var g=new Uint16Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==_?this.endianness:_),this.position+=g.byteLength,g},T.prototype.readUint8Array=function(y){y=null==y?this.byteLength-this.position:y;var _=new Uint8Array(y);return T.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,y*_.BYTES_PER_ELEMENT),this.position+=_.byteLength,_},T.prototype.readFloat64Array=function(y,_){y=null==y?this.byteLength-this.position/8:y;var g=new Float64Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==_?this.endianness:_),this.position+=g.byteLength,g},T.prototype.readFloat32Array=function(y,_){y=null==y?this.byteLength-this.position/4:y;var g=new Float32Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==_?this.endianness:_),this.position+=g.byteLength,g},T.prototype.writeInt32Array=function(y,_){if(this._realloc(4*y.length),y instanceof Int32Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapInt32Array(y.length,_);else for(var g=0;g<y.length;g++)this.writeInt32(y[g],_)},T.prototype.writeInt16Array=function(y,_){if(this._realloc(2*y.length),y instanceof Int16Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapInt16Array(y.length,_);else for(var g=0;g<y.length;g++)this.writeInt16(y[g],_)},T.prototype.writeInt8Array=function(y){if(this._realloc(1*y.length),y instanceof Int8Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapInt8Array(y.length);else for(var _=0;_<y.length;_++)this.writeInt8(y[_])},T.prototype.writeUint32Array=function(y,_){if(this._realloc(4*y.length),y instanceof Uint32Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapUint32Array(y.length,_);else for(var g=0;g<y.length;g++)this.writeUint32(y[g],_)},T.prototype.writeUint16Array=function(y,_){if(this._realloc(2*y.length),y instanceof Uint16Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapUint16Array(y.length,_);else for(var g=0;g<y.length;g++)this.writeUint16(y[g],_)},T.prototype.writeUint8Array=function(y){if(this._realloc(1*y.length),y instanceof Uint8Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapUint8Array(y.length);else for(var _=0;_<y.length;_++)this.writeUint8(y[_])},T.prototype.writeFloat64Array=function(y,_){if(this._realloc(8*y.length),y instanceof Float64Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapFloat64Array(y.length,_);else for(var g=0;g<y.length;g++)this.writeFloat64(y[g],_)},T.prototype.writeFloat32Array=function(y,_){if(this._realloc(4*y.length),y instanceof Float32Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapFloat32Array(y.length,_);else for(var g=0;g<y.length;g++)this.writeFloat32(y[g],_)},T.prototype.readInt32=function(y){var _=this._dataView.getInt32(this.position,null==y?this.endianness:y);return this.position+=4,_},T.prototype.readInt16=function(y){var _=this._dataView.getInt16(this.position,null==y?this.endianness:y);return this.position+=2,_},T.prototype.readInt8=function(){var y=this._dataView.getInt8(this.position);return this.position+=1,y},T.prototype.readUint32=function(y){var _=this._dataView.getUint32(this.position,null==y?this.endianness:y);return this.position+=4,_},T.prototype.readUint16=function(y){var _=this._dataView.getUint16(this.position,null==y?this.endianness:y);return this.position+=2,_},T.prototype.readUint8=function(){var y=this._dataView.getUint8(this.position);return this.position+=1,y},T.prototype.readFloat32=function(y){var _=this._dataView.getFloat32(this.position,null==y?this.endianness:y);return this.position+=4,_},T.prototype.readFloat64=function(y){var _=this._dataView.getFloat64(this.position,null==y?this.endianness:y);return this.position+=8,_},T.prototype.writeInt32=function(y,_){this._realloc(4),this._dataView.setInt32(this.position,y,null==_?this.endianness:_),this.position+=4},T.prototype.writeInt16=function(y,_){this._realloc(2),this._dataView.setInt16(this.position,y,null==_?this.endianness:_),this.position+=2},T.prototype.writeInt8=function(y){this._realloc(1),this._dataView.setInt8(this.position,y),this.position+=1},T.prototype.writeUint32=function(y,_){this._realloc(4),this._dataView.setUint32(this.position,y,null==_?this.endianness:_),this.position+=4},T.prototype.writeUint16=function(y,_){this._realloc(2),this._dataView.setUint16(this.position,y,null==_?this.endianness:_),this.position+=2},T.prototype.writeUint8=function(y){this._realloc(1),this._dataView.setUint8(this.position,y),this.position+=1},T.prototype.writeFloat32=function(y,_){this._realloc(4),this._dataView.setFloat32(this.position,y,null==_?this.endianness:_),this.position+=4},T.prototype.writeFloat64=function(y,_){this._realloc(8),this._dataView.setFloat64(this.position,y,null==_?this.endianness:_),this.position+=8},T.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,T.memcpy=function(y,_,g,f,m){var x=new Uint8Array(y,_,m),P=new Uint8Array(g,f,m);x.set(P)},T.arrayToNative=function(y,_){return _==this.endianness?y:this.flipArrayEndianness(y)},T.nativeToEndian=function(y,_){return this.endianness==_?y:this.flipArrayEndianness(y)},T.flipArrayEndianness=function(y){for(var _=new Uint8Array(y.buffer,y.byteOffset,y.byteLength),g=0;g<y.byteLength;g+=y.BYTES_PER_ELEMENT)for(var f=g+y.BYTES_PER_ELEMENT-1,m=g;f>m;f--,m++){var x=_[m];_[m]=_[f],_[f]=x}return y},T.createStringFromArray=function(y){for(var _=[],g=0;g<y.length;g+=32768)_.push(String.fromCharCode.apply(null,y.subarray(g,g+32768)));return _.join("")},T.prototype.failurePosition=0,T.prototype.readStruct=function(y){for(var g,f={},m=this.position,x=0;x<y.length;x+=2){if(null==(g=this.readType(y[x+1],f)))return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=m,null;f[y[x]]=g}return f},T.prototype.readUCS2String=function(y,_){return T.createStringFromArray(this.readUint16Array(y,_))},T.prototype.writeUCS2String=function(y,_,g){null==g&&(g=y.length);for(var f=0;f<y.length&&f<g;f++)this.writeUint16(y.charCodeAt(f),_);for(;f<g;f++)this.writeUint16(0)},T.prototype.readString=function(y,_){return null==_||"ASCII"==_?T.createStringFromArray(this.mapUint8Array(null==y?this.byteLength-this.position:y)):new TextDecoder(_).decode(this.mapUint8Array(y))},T.prototype.writeString=function(y,_,g){if(null==_||"ASCII"==_)if(null!=g){var f=0,m=Math.min(y.length,g);for(f=0;f<m;f++)this.writeUint8(y.charCodeAt(f));for(;f<g;f++)this.writeUint8(0)}else for(f=0;f<y.length;f++)this.writeUint8(y.charCodeAt(f));else this.writeUint8Array(new TextEncoder(_).encode(y.substring(0,g)))},T.prototype.readCString=function(y){var _=this.byteLength-this.position,g=new Uint8Array(this._buffer,this._byteOffset+this.position),f=_;null!=y&&(f=Math.min(y,_));for(var m=0;m<f&&0!=g[m];m++);var x=T.createStringFromArray(this.mapUint8Array(m));return null!=y?this.position+=f-m:m!=_&&(this.position+=1),x},T.prototype.writeCString=function(y,_){if(null!=_){var g=0,f=Math.min(y.length,_);for(g=0;g<f;g++)this.writeUint8(y.charCodeAt(g));for(;g<_;g++)this.writeUint8(0)}else{for(g=0;g<y.length;g++)this.writeUint8(y.charCodeAt(g));this.writeUint8(0)}},T.prototype.readType=function(y,_){if("function"==typeof y)return y(this,_);if(!("object"!=typeof y||y instanceof Array))return y.get(this,_);if(y instanceof Array&&3!=y.length)return this.readStruct(y,_);var g,f=null,m=null,x="ASCII",P=this.position;switch("string"==typeof y&&/:/.test(y)&&(y=(g=y.split(":"))[0],m=null!=_[p=g[1]]?parseInt(_[p]):parseInt(g[1])),"string"==typeof y&&/,/.test(y)&&(y=(g=y.split(","))[0],x=parseInt(g[1])),y){case"uint8":f=this.readUint8();break;case"int8":f=this.readInt8();break;case"uint16":f=this.readUint16(this.endianness);break;case"int16":f=this.readInt16(this.endianness);break;case"uint32":f=this.readUint32(this.endianness);break;case"int32":f=this.readInt32(this.endianness);break;case"float32":f=this.readFloat32(this.endianness);break;case"float64":f=this.readFloat64(this.endianness);break;case"uint16be":f=this.readUint16(T.BIG_ENDIAN);break;case"int16be":f=this.readInt16(T.BIG_ENDIAN);break;case"uint32be":f=this.readUint32(T.BIG_ENDIAN);break;case"int32be":f=this.readInt32(T.BIG_ENDIAN);break;case"float32be":f=this.readFloat32(T.BIG_ENDIAN);break;case"float64be":f=this.readFloat64(T.BIG_ENDIAN);break;case"uint16le":f=this.readUint16(T.LITTLE_ENDIAN);break;case"int16le":f=this.readInt16(T.LITTLE_ENDIAN);break;case"uint32le":f=this.readUint32(T.LITTLE_ENDIAN);break;case"int32le":f=this.readInt32(T.LITTLE_ENDIAN);break;case"float32le":f=this.readFloat32(T.LITTLE_ENDIAN);break;case"float64le":f=this.readFloat64(T.LITTLE_ENDIAN);break;case"cstring":f=this.readCString(m);break;case"string":f=this.readString(m,x);break;case"u16string":f=this.readUCS2String(m,this.endianness);break;case"u16stringle":f=this.readUCS2String(m,T.LITTLE_ENDIAN);break;case"u16stringbe":f=this.readUCS2String(m,T.BIG_ENDIAN);break;default:if(3==y.length){var p,w=y[1],O=0;if(O="function"==typeof(p=y[2])?p(_,this,y):"string"==typeof p&&null!=_[p]?parseInt(_[p]):parseInt(p),"string"==typeof w){var N=w.replace(/(le|be)$/,""),$=null;switch(/le$/.test(w)?$=T.LITTLE_ENDIAN:/be$/.test(w)&&($=T.BIG_ENDIAN),"*"==p&&(O=null),N){case"uint8":f=this.readUint8Array(O);break;case"uint16":f=this.readUint16Array(O,$);break;case"uint32":f=this.readUint32Array(O,$);break;case"int8":f=this.readInt8Array(O);break;case"int16":f=this.readInt16Array(O,$);break;case"int32":f=this.readInt32Array(O,$);break;case"float32":f=this.readFloat32Array(O,$);break;case"float64":f=this.readFloat64Array(O,$);break;case"cstring":case"utf16string":case"string":if(null==O)for(f=[];!this.isEof()&&null!=(Z=this.readType(w,_));)f.push(Z);else{f=new Array(O);for(var V=0;V<O;V++)f[V]=this.readType(w,_)}}}else if("*"==p)for(f=[];;){var J=this.position;try{var X=this.readType(w,_);if(null==X){this.position=J;break}f.push(X)}catch(j){this.position=J;break}}else for(f=new Array(O),V=0;V<O;V++){var Z;if(null==(Z=this.readType(w,_)))return null;f[V]=Z}break}}return null!=m&&(this.position=P+m),f},T.prototype.writeStruct=function(y,_){for(var g=0;g<y.length;g+=2)this.writeType(y[g+1],_[y[g]],_)},T.prototype.writeType=function(y,_,g){if("function"==typeof y)return y(this,_);if("object"==typeof y&&!(y instanceof Array))return y.set(this,_,g);var f,m=null,x="ASCII",P=this.position;switch("string"==typeof y&&/:/.test(y)&&(y=(f=y.split(":"))[0],m=parseInt(f[1])),"string"==typeof y&&/,/.test(y)&&(y=(f=y.split(","))[0],x=parseInt(f[1])),y){case"uint8":this.writeUint8(_);break;case"int8":this.writeInt8(_);break;case"uint16":this.writeUint16(_,this.endianness);break;case"int16":this.writeInt16(_,this.endianness);break;case"uint32":this.writeUint32(_,this.endianness);break;case"int32":this.writeInt32(_,this.endianness);break;case"float32":this.writeFloat32(_,this.endianness);break;case"float64":this.writeFloat64(_,this.endianness);break;case"uint16be":this.writeUint16(_,T.BIG_ENDIAN);break;case"int16be":this.writeInt16(_,T.BIG_ENDIAN);break;case"uint32be":this.writeUint32(_,T.BIG_ENDIAN);break;case"int32be":this.writeInt32(_,T.BIG_ENDIAN);break;case"float32be":this.writeFloat32(_,T.BIG_ENDIAN);break;case"float64be":this.writeFloat64(_,T.BIG_ENDIAN);break;case"uint16le":this.writeUint16(_,T.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(_,T.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(_,T.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(_,T.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(_,T.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(_,T.LITTLE_ENDIAN);break;case"cstring":this.writeCString(_,m);break;case"string":this.writeString(_,x,m);break;case"u16string":this.writeUCS2String(_,this.endianness,m);break;case"u16stringle":this.writeUCS2String(_,T.LITTLE_ENDIAN,m);break;case"u16stringbe":this.writeUCS2String(_,T.BIG_ENDIAN,m);break;default:if(3==y.length){for(var p=y[1],w=0;w<_.length;w++)this.writeType(p,_[w]);break}this.writeStruct(y,_)}null!=m&&(this.position=P,this._realloc(m),this.position=P+m)},void 0===(v=function(){return T}.apply(A,[]))||(E.exports=v),"object"==typeof E&&E&&E.exports&&(E.exports=T)}).call(this,h(173)(z))},function(z,A,h){var E=h(24),v=h(12);z.exports=function(T){if(void 0===T)return 0;var y=E(T),_=v(y);if(y!==_)throw RangeError("Wrong length!");return _}},function(z,A,h){"use strict";var E=h(41),v=h(29).getWeak,T=h(5),y=h(4),_=h(42),g=h(62),f=h(19),m=h(16),x=h(40),P=f(5),p=f(6),w=0,O=function(V){return V._l||(V._l=new N)},N=function(){this.a=[]},$=function(V,J){return P(V.a,function(X){return X[0]===J})};N.prototype={get:function(V){var J=$(this,V);if(J)return J[1]},has:function(V){return!!$(this,V)},set:function(V,J){var X=$(this,V);X?X[1]=J:this.a.push([V,J])},delete:function(V){var J=p(this.a,function(X){return X[0]===V});return~J&&this.a.splice(J,1),!!~J}},z.exports={getConstructor:function(V,J,X,Z){var j=V(function(K,Q){_(K,j,J,"_i"),K._t=J,K._i=w++,K._l=void 0,null!=Q&&g(Q,X,K[Z],K)});return E(j.prototype,{delete:function(K){if(!y(K))return!1;var Q=v(K);return!0===Q?O(x(this,J)).delete(K):Q&&m(Q,this._i)&&delete Q[this._i]},has:function(K){if(!y(K))return!1;var Q=v(K);return!0===Q?O(x(this,J)).has(K):Q&&m(Q,this._i)}}),j},def:function(V,J,X){var Z=v(T(J),!0);return!0===Z?O(V).set(J,X):Z[V._i]=X,V},ufstore:O}},function(z,A,h){"use strict";var E=h(10).f,v=h(33),T=h(41),y=h(27),_=h(42),g=h(62),f=h(84),m=h(127),x=h(43),P=h(11),p=h(29).fastKey,w=h(40),O=P?"_s":"size",N=function($,V){var J,X=p(V);if("F"!==X)return $._i[X];for(J=$._f;J;J=J.n)if(J.k==V)return J};z.exports={getConstructor:function($,V,J,X){var Z=$(function(j,K){_(j,Z,V,"_i"),j._t=V,j._i=v(null),j._f=void 0,j._l=void 0,j[O]=0,null!=K&&g(K,J,j[X],j)});return T(Z.prototype,{clear:function(){for(var j=w(this,V),K=j._i,Q=j._f;Q;Q=Q.n)Q.r=!0,Q.p&&(Q.p=Q.p.n=void 0),delete K[Q.i];j._f=j._l=void 0,j[O]=0},delete:function(j){var K=w(this,V),Q=N(K,j);if(Q){var re=Q.n,ne=Q.p;delete K._i[Q.i],Q.r=!0,ne&&(ne.n=re),re&&(re.p=ne),K._f==Q&&(K._f=re),K._l==Q&&(K._l=ne),K[O]--}return!!Q},forEach:function(j){w(this,V);for(var K,Q=y(j,arguments.length>1?arguments[1]:void 0,3);K=K?K.n:this._f;)for(Q(K.v,K.k,this);K&&K.r;)K=K.p},has:function(j){return!!N(w(this,V),j)}}),P&&E(Z.prototype,"size",{get:function(){return w(this,V)[O]}}),Z},def:function($,V,J){var X,Z,j=N($,V);return j?j.v=J:($._l=j={i:Z=p(V,!0),k:V,v:J,p:X=$._l,n:void 0,r:!1},$._f||($._f=j),X&&(X.n=j),$[O]++,"F"!==Z&&($._i[Z]=j)),$},getEntry:N,setStrong:function($,V,J){f($,V,function(X,Z){this._t=w(X,V),this._k=Z,this._l=void 0},function(){for(var X=this._k,Z=this._l;Z&&Z.r;)Z=Z.p;return this._t&&(this._l=Z=Z?Z.n:this._t._f)?m(0,"keys"==X?Z.k:"values"==X?Z.v:[Z.k,Z.v]):(this._t=void 0,m(1))},J?"entries":"values",!J,!0),x(V)}}},function(z,A,h){"use strict";var E=h(26);z.exports.f=function(v){return new function(T){var y,_;this.promise=new T(function(g,f){if(void 0!==y||void 0!==_)throw TypeError("Bad Promise constructor");y=g,_=f}),this.resolve=E(y),this.reject=E(_)}(v)}},function(z,A,h){var E,v,T,y=h(27),_=h(141),g=h(90),f=h(96),m=h(6),x=m.process,P=m.setImmediate,p=m.clearImmediate,w=m.MessageChannel,O=m.Dispatch,N=0,$={},V=function(){var X=+this;if($.hasOwnProperty(X)){var Z=$[X];delete $[X],Z()}},J=function(X){V.call(X.data)};P&&p||(P=function(X){for(var Z=[],j=1;arguments.length>j;)Z.push(arguments[j++]);return $[++N]=function(){_("function"==typeof X?X:Function(X),Z)},E(N),N},p=function(X){delete $[X]},"process"==h(25)(x)?E=function(X){x.nextTick(y(V,X,1))}:O&&O.now?E=function(X){O.now(y(V,X,1))}:w?(T=(v=new w).port2,v.port1.onmessage=J,E=y(T.postMessage,T,1)):m.addEventListener&&"function"==typeof postMessage&&!m.importScripts?(E=function(X){m.postMessage(X+"","*")},m.addEventListener("message",J,!1)):E="onreadystatechange"in f("script")?function(X){g.appendChild(f("script")).onreadystatechange=function(){g.removeChild(this),V.call(X)}}:function(X){setTimeout(y(V,X,1),0)}),z.exports={set:P,clear:p}},function(z,A,h){h(11)&&"g"!=/./g.flags&&h(10).f(RegExp.prototype,"flags",{configurable:!0,get:h(77)})},function(z,A){z.exports=function(h,E){return{value:E,done:!!h}}},function(z,A,h){"use strict";var E=h(52),v=h(127),T=h(53),y=h(21);z.exports=h(84)(Array,"Array",function(_,g){this._t=y(_),this._i=0,this._k=g},function(){var _=this._t,g=this._k,f=this._i++;return!_||f>=_.length?(this._t=void 0,v(1)):v(0,"keys"==g?f:"values"==g?_[f]:[f,_[f]])},"values"),T.Arguments=T.Array,E("keys"),E("values"),E("entries")},function(z,A,h){"use strict";var E=h(14),v=h(34),T=h(12);z.exports=[].copyWithin||function(y,_){var g=E(this),f=T(g.length),m=v(y,f),x=v(_,f),P=arguments.length>2?arguments[2]:void 0,p=Math.min((void 0===P?f:v(P,f))-x,f-m),w=1;for(x<m&&m<x+p&&(w=-1,x+=p-1,m+=p-1);p-- >0;)x in g?g[m]=g[x]:delete g[m],m+=w,x+=w;return g}},function(z,A,h){var E=h(26),v=h(14),T=h(54),y=h(12);z.exports=function(_,g,f,m,x){E(g);var P=v(_),p=T(P),w=y(P.length),O=x?w-1:0,N=x?-1:1;if(f<2)for(;;){if(O in p){m=p[O],O+=N;break}if(O+=N,x?O<0:w<=O)throw TypeError("Reduce of empty array with no initial value")}for(;x?O>=0:w>O;O+=N)O in p&&(m=g(m,p[O],O,P));return m}},function(z,A,h){"use strict";var E=h(10),v=h(36);z.exports=function(T,y,_){y in T?E.f(T,y,v(0,_)):T[y]=_}},function(z,A,h){var E=h(5);z.exports=function(v,T,y,_){try{return _?T(E(y)[0],y[1]):T(y)}catch(f){var g=v.return;throw void 0!==g&&E(g.call(v)),f}}},function(z,A,h){"use strict";var E=h(33),v=h(36),T=h(45),y={};h(18)(y,h(7)("iterator"),function(){return this}),z.exports=function(_,g,f){_.prototype=E(y,{next:v(1,f)}),T(_,g+" Iterator")}},function(z,A,h){var E=h(24),v=h(28);z.exports=function(T){return function(y,_){var g,f,m=String(v(y)),x=E(_),P=m.length;return x<0||x>=P?T?"":void 0:(g=m.charCodeAt(x))<55296||g>56319||x+1===P||(f=m.charCodeAt(x+1))<56320||f>57343?T?m.charAt(x):g:T?m.slice(x,x+2):f-56320+(g-55296<<10)+65536}}},function(z,A){z.exports=Math.log1p||function(h){return(h=+h)>-1e-8&&h<1e-8?h-h*h/2:Math.log(1+h)}},function(z,A,h){var E=h(4),v=Math.floor;z.exports=function(T){return!E(T)&&isFinite(T)&&v(T)===T}},function(z,A,h){"use strict";var E=h(24),v=h(28);z.exports=function(T){var y=String(v(this)),_="",g=E(T);if(g<0||g==1/0)throw RangeError("Count can't be negative");for(;g>0;(g>>>=1)&&(y+=y))1&g&&(_+=y);return _}},function(z,A,h){var E=h(25);z.exports=function(v,T){if("number"!=typeof v&&"Number"!=E(v))throw TypeError(T);return+v}},function(z,A,h){var E=h(6).parseFloat,v=h(65).trim;z.exports=1/E(h(88)+"-0")!=-1/0?function(T){var y=v(String(T),3),_=E(y);return 0===_&&"-"==y.charAt(0)?-0:_}:E},function(z,A,h){var E=h(6).parseInt,v=h(65).trim,T=h(88),y=/^[-+]?0[xX]/;z.exports=8!==E(T+"08")||22!==E(T+"0x16")?function(_,g){var f=v(String(_),3);return E(f,g>>>0||(y.test(f)?16:10))}:E},function(z,A){z.exports=function(h,E,v){var T=void 0===v;switch(E.length){case 0:return T?h():h.call(v);case 1:return T?h(E[0]):h.call(v,E[0]);case 2:return T?h(E[0],E[1]):h.call(v,E[0],E[1]);case 3:return T?h(E[0],E[1],E[2]):h.call(v,E[0],E[1],E[2]);case 4:return T?h(E[0],E[1],E[2],E[3]):h.call(v,E[0],E[1],E[2],E[3])}return h.apply(v,E)}},function(z,A,h){"use strict";var E=h(26),v=h(4),T=h(141),y=[].slice,_={};z.exports=Function.bind||function(g){var f=E(this),m=y.call(arguments,1),x=function(){var P=m.concat(y.call(arguments));return this instanceof x?function(p,w,O){if(!(w in _)){for(var N=[],$=0;$<w;$++)N[$]="a["+$+"]";_[w]=Function("F,a","return new F("+N.join(",")+")")}return _[w](p,O)}(f,P.length,P):T(f,P,g)};return v(f.prototype)&&(x.prototype=f.prototype),x}},function(z,A,h){"use strict";var E=h(55),v=h(68),T=h(67),y=h(14),_=h(54),g=Object.assign;z.exports=!g||h(3)(function(){var f={},m={},x=Symbol(),P="abcdefghijklmnopqrst";return f[x]=7,P.split("").forEach(function(p){m[p]=p}),7!=g({},f)[x]||Object.keys(g({},m)).join("")!=P})?function(f,m){for(var x=y(f),P=arguments.length,p=1,w=v.f,O=T.f;P>p;)for(var N,$=_(arguments[p++]),V=w?E($).concat(w($)):E($),J=V.length,X=0;J>X;)O.call($,N=V[X++])&&(x[N]=$[N]);return x}:g},function(z,A,h){var E=h(21),v=h(32).f,T={}.toString,y="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];z.exports.f=function(_){return y&&"[object Window]"==T.call(_)?function(g){try{return v(g)}catch(f){return y.slice()}}(_):v(E(_))}},function(z,A,h){var E=h(10),v=h(5),T=h(55);z.exports=h(11)?Object.defineProperties:function(y,_){v(y);for(var g,f=T(_),m=f.length,x=0;m>x;)E.f(y,g=f[x++],_[g]);return y}},function(z,A,h){var E=h(16),v=h(21),T=h(94)(!1),y=h(93)("IE_PROTO");z.exports=function(_,g){var f,m=v(_),x=0,P=[];for(f in m)f!=y&&E(m,f)&&P.push(f);for(;g.length>x;)E(m,f=g[x++])&&(~T(P,f)||P.push(f));return P}},function(z,A,h){A.f=h(7)},function(z,A,h){z.exports=!h(11)&&!h(3)(function(){return 7!=Object.defineProperty(h(96)("div"),"a",{get:function(){return 7}}).a})},function(z,A,h){"use strict";Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991),Number.isInteger=Number.isInteger||function(E){return"number"==typeof E&&isFinite(E)&&Math.floor(E)===E},Number.isSafeInteger=Number.isSafeInteger||function(E){return Number.isInteger(E)&&Math.abs(E)<=Number.MAX_SAFE_INTEGER},Number.isFinite=Number.isFinite||function(E){return"number"==typeof E&&isFinite(E)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(E){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof E)throw new TypeError("predicate must be a function");for(var v=Object(this),T=v.length>>>0,y=arguments[1],_=0;_!==T;_++)if(E.call(y,this[_],_,v))return this[_]}})},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BuddyMessageRequest=void 0;var E=h(70),v=h(1),T=h(58),y=function(_){function g(f,m){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g);var P=function(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(null!=m&&!(m instanceof T.SFSBuddy))throw new v.SFSError("Target buddy must be an instance of SFSBuddy class");return P._type=E.GenericMessageType.BUDDY_MSG,P._message=f,P._recipient=null!=m?m.id:-1,P._params=x,Object.seal(P),P}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,E.GenericMessageRequest),g}();A.BuddyMessageRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.QuickJoinGameRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(2),T=h(1),y=h(9),_=h(38),g=function(f){function m(x,P){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}(this,m);var w=function(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?O:N}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.Requests.QuickJoinGame));return w._matchExpression=x,w._whereToSearch=P,w._roomToLeave=p,Object.seal(w),w}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,v.BaseRequest),E(m,null,[{key:"KEY_ROOM_LIST",get:function(){return"rl"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"MAX_ROOMS",get:function(){return 32}}]),E(m,[{key:"validate",value:function(x){var P=[];if(null==this._matchExpression||this._matchExpression instanceof _.MatchExpression||P.push("Match expression must be an instance of MatchExpression class"),null==this._whereToSearch||this._whereToSearch.length<1?P.push("Missing list of Rooms or Group names where to search the game to join"):this._whereToSearch.length>m.MAX_ROOMS&&P.push("Too many Rooms specified in list where to search the game to join; client limit is: "+m.MAX_ROOMS),null==this._roomToLeave||this._roomToLeave instanceof y.SFSRoom||P.push("Room to leave must be an instance of SFSRoom class"),P.length>0)throw new T.SFSValidationError("QuickJoinGameRequest Error",P)}},{key:"execute",value:function(x){if("string"==typeof this._whereToSearch[0])this._reqObj.putUtfStringArray(m.KEY_GROUP_LIST,this._whereToSearch);else{if(!(this._whereToSearch[0]instanceof y.SFSRoom))throw new T.SFSError("Invalid type in whereToSearch parameter");var P=[],p=!0,w=!1,O=void 0;try{for(var N,$=this._whereToSearch[Symbol.iterator]();!(p=(N=$.next()).done);p=!0){var V=N.value;V instanceof y.SFSRoom&&P.push(V.id)}}catch(J){w=!0,O=J}finally{try{!p&&$.return&&$.return()}finally{if(w)throw O}}this._reqObj.putIntArray(m.KEY_ROOM_LIST,P)}null!=this._roomToLeave&&this._reqObj.putInt(m.KEY_ROOM_TO_LEAVE,this._roomToLeave.id),null!=this._matchExpression&&this._reqObj.putSFSArray(m.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray())}}]),m}();A.QuickJoinGameRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.JoinRoomInvitationRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(2),T=h(1),y=h(9),_=h(8),g=function(f){function m(x,P){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,O=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function($,V){if(!($ instanceof V))throw new TypeError("Cannot call a class as a function")}(this,m);var N=function($,V){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?$:V}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.Requests.JoinRoomInvite));return N._targetRoom=x,N._invitedUserNames=P,N._params=p,N._expirySeconds=w,N._asSpectator=O,Object.seal(N),N}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,v.BaseRequest),E(m,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_EXPIRY_SECONDS",get:function(){return"es"}},{key:"KEY_INVITED_NAMES",get:function(){return"in"}},{key:"KEY_AS_SPECT",get:function(){return"as"}},{key:"KEY_OPTIONAL_PARAMS",get:function(){return"op"}}]),E(m,[{key:"validate",value:function(x){var P=[];if(null==this._targetRoom&&P.push("Missing target room"),null==this._targetRoom||this._targetRoom instanceof y.SFSRoom||P.push("Target room must be an instance of SFSRoom class"),null==this._invitedUserNames?P.push("No invitees provided"):this._invitedUserNames instanceof Array?this._invitedUserNames.length<1&&P.push("No invitees provided"):P.push("Invited user names must be passed in an array"),null==this._params||this._params instanceof _.SFSObject||P.push("Custom invitation parameters must be set in a SFSObject class instance"),P.length>0)throw new T.SFSValidationError("JoinRoomInvitationRequest Error",P)}},{key:"execute",value:function(x){this._reqObj.putInt(m.KEY_ROOM_ID,this._targetRoom.id),this._reqObj.putUtfStringArray(m.KEY_INVITED_NAMES,this._invitedUserNames),this._reqObj.putInt(m.KEY_EXPIRY_SECONDS,this._expirySeconds),this._reqObj.putBool(m.KEY_AS_SPECT,this._asSpectator),null!=this._params&&this._reqObj.putSFSObject(m.KEY_OPTIONAL_PARAMS,this._params)}}]),m}();A.JoinRoomInvitationRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.InvitationReplyRequest=void 0;var E=function(){function f(m,x){for(var P=0;P<x.length;P++){var p=x[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,x,P){return x&&f(m.prototype,x),P&&f(m,P),m}}(),v=h(2),T=h(1),y=h(8),_=h(72),g=function(f){function m(x,P){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}(this,m);var w=function(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?O:N}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.Requests.InvitationReply));return w._invitation=x,w._reply=P,w._params=p,Object.seal(w),w}return function(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}(m,v.BaseRequest),E(m,null,[{key:"KEY_INVITATION_ID",get:function(){return"i"}},{key:"KEY_INVITATION_REPLY",get:function(){return"r"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"p"}}]),E(m,[{key:"validate",value:function(x){var P=[];if(null==this._invitation?P.push("Missing invitation object"):this._invitation instanceof _.SFSInvitation||P.push("Invitation object must be an instance of Invitation class"),null==this._params||this._params instanceof y.SFSObject||P.push("Custom invitation parameters must be set in a SFSObject class instance"),P.length>0)throw new T.SFSValidationError("InvitationReplyRequest Error",P)}},{key:"execute",value:function(x){this._reqObj.putInt(m.KEY_INVITATION_ID,this._invitation.id),this._reqObj.putByte(m.KEY_INVITATION_REPLY,this._reply),null!=this._params&&this._reqObj.putSFSObject(m.KEY_INVITATION_PARAMS,this._params)}}]),m}();A.InvitationReplyRequest=g},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.CreateSFSGameRequest=void 0;var E=function(){function w(O,N){for(var $=0;$<N.length;$++){var V=N[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(O,V.key,V)}}return function(O,N,$){return N&&w(O.prototype,N),$&&w(O,$),O}}(),v=h(2),T=h(1),y=h(56),_=h(57),g=h(69),f=h(47),m=h(58),x=h(8),P=h(38),p=function(w){function O(N){!function(V,J){if(!(V instanceof J))throw new TypeError("Cannot call a class as a function")}(this,O);var $=function(V,J){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!J||"object"!=typeof J&&"function"!=typeof J?V:J}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,v.Requests.CreateSFSGame));return $._settings=N,$._createRoomRequest=new _.CreateRoomRequest(N,!1,null),Object.seal($),$}return function(N,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);N.prototype=Object.create($&&$.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(N,$):N.__proto__=$)}(O,v.BaseRequest),E(O,null,[{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_SEARCHABLE_ROOMS",get:function(){return"gsr"}},{key:"KEY_PLAYER_MATCH_EXP",get:function(){return"gpme"}},{key:"KEY_SPECTATOR_MATCH_EXP",get:function(){return"gsme"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_LEAVE_ROOM",get:function(){return"glr"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}]),E(O,[{key:"validate",value:function(N){if(!(this._settings instanceof y.SFSGameSettings))throw new T.SFSValidationError("CreateSFSGameRequest Error",["Room configuration must be an instance of SFSGameSettings class"]);var $=[];try{this._createRoomRequest.validate(N)}catch(V){$=V.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&$.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<g.InviteUsersRequest.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>g.InviteUsersRequest.MAX_EXPIRY_TIME)&&$.push("Invitation expiration time value is out of range (min: "+g.InviteUsersRequest.MIN_EXPIRY_TIME+"; max: "+g.InviteUsersRequest.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&(this._settings.invitedPlayers instanceof Array?(this._settings.invitedPlayers.length>g.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE&&$.push("Can't invite more than "+g.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),this._settings.invitedPlayers.every(function(V){return V instanceof f.SFSUser||V instanceof m.SFSBuddy})||$.push("Each invited player must be an instance of SFSUser or SFSBuddy classes")):$.push("Invited players must be passed in an array")),null==this._settings.playerMatchExpression||this._settings.playerMatchExpression instanceof P.MatchExpression||$.push("Player match expression must be an instance of MatchExpression class"),null==this._settings.spectatorMatchExpression||this._settings.spectatorMatchExpression instanceof P.MatchExpression||$.push("Spectator match expression must be an instance of MatchExpression class"),null==this._settings.invitationParams||this._settings.invitationParams instanceof x.SFSObject||$.push("Custom invitation parameters must be set in a SFSObject class instance"),$.length>0)throw new T.SFSValidationError("CreateSFSGameRequest Error",$)}},{key:"execute",value:function(N){if(this._createRoomRequest.execute(N),this._reqObj=this._createRoomRequest._reqObj,this._reqObj.putBool(O.KEY_IS_PUBLIC,this._settings.isPublic),this._reqObj.putShort(O.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),this._reqObj.putShort(O.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),this._reqObj.putBool(O.KEY_LEAVE_ROOM,this._settings.leaveLastJoinedRoom),this._reqObj.putBool(O.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted),null!=this._settings.playerMatchExpression&&this._reqObj.putSFSArray(O.KEY_PLAYER_MATCH_EXP,this._settings.playerMatchExpression.toSFSArray()),null!=this._settings.spectatorMatchExpression&&this._reqObj.putSFSArray(O.KEY_SPECTATOR_MATCH_EXP,this._settings.spectatorMatchExpression.toSFSArray()),null!=this._settings.invitedPlayers){var $=[],V=!0,J=!1,X=void 0;try{for(var Z,j=this._settings.invitedPlayers[Symbol.iterator]();!(V=(Z=j.next()).done);V=!0)$.push(Z.value.id)}catch(Q){J=!0,X=Q}finally{try{!V&&j.return&&j.return()}finally{if(J)throw X}}this._reqObj.putIntArray(O.KEY_INVITED_PLAYERS,$)}null!=this._settings.searchableRooms&&this._reqObj.putUtfStringArray(O.KEY_SEARCHABLE_ROOMS,this._settings.searchableRooms),null!=this._settings.invitationParams&&this._reqObj.putSFSObject(O.KEY_INVITATION_PARAMS,this._settings.invitationParams)}}]),O}();A.CreateSFSGameRequest=p},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BanUserRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(f){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;!function(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}(this,g);var w=function(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?O:N}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.BanUser));return w._userId=f,w._message=m,w._banMode=x,w._delay=P,w._durationHours=p,Object.seal(w),w}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}},{key:"KEY_BAN_MODE",get:function(){return"b"}},{key:"KEY_BAN_DURATION_HOURS",get:function(){return"dh"}}]),E(g,[{key:"validate",value:function(f){var m=[];if(m.length>0)throw new T.SFSValidationError("BanUserRequest Error",m)}},{key:"execute",value:function(f){this._reqObj.putInt(g.KEY_USER_ID,this._userId),this._reqObj.putInt(g.KEY_DELAY,this._delay),this._reqObj.putInt(g.KEY_BAN_MODE,this._banMode),this._reqObj.putInt(g.KEY_BAN_DURATION_HOURS,this._durationHours),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(g.KEY_MESSAGE,this._message)}}]),g}();A.BanUserRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.KickUserRequest=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(2),T=h(1),y=function(_){function g(f){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g);var P=function(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?p:w}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v.Requests.KickUser));return x<0&&(x=0),P._userId=f,P._message=m,P._delay=x,Object.seal(P),P}return function(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(g,v.BaseRequest),E(g,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}}]),E(g,[{key:"validate",value:function(f){var m=[];if(m.length>0)throw new T.SFSValidationError("KickUserRequest Error",m)}},{key:"execute",value:function(f){this._reqObj.putInt(g.KEY_USER_ID,this._userId),this._reqObj.putInt(g.KEY_DELAY,this._delay),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(g.KEY_MESSAGE,this._message)}}]),g}();A.KickUserRequest=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LeaveRoomRequest=void 0;var E=function(){function g(f,m){for(var x=0;x<m.length;x++){var P=m[x];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(f,P.key,P)}}return function(f,m,x){return m&&g(f.prototype,m),x&&g(f,x),f}}(),v=h(2),T=h(1),y=h(9),_=function(g){function f(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,f);var x=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.Requests.LeaveRoom));return x._room=m,Object.seal(x),x}return function(m,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}(f,v.BaseRequest),E(f,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}}]),E(f,[{key:"validate",value:function(m){var x=[];if(m.getJoinedRooms().length<1&&x.push("You are not joined in any Room"),null==this._room||this._room instanceof y.SFSRoom||x.push("Room must be an instance of SFSRoom class"),x.length>0)throw new T.SFSValidationError("LeaveRoomRequest Error",x)}},{key:"execute",value:function(m){null!=this._room&&this._reqObj.putInt(f.KEY_ROOM_ID,this._room.id)}}]),f}();A.LeaveRoomRequest=_},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.QuickJoinOrCreateRoomRequest=void 0;var E=function(){function m(x,P){for(var p=0;p<P.length;p++){var w=P[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(x,w.key,w)}}return function(x,P,p){return P&&m(x.prototype,P),p&&m(x,p),x}}(),v=h(2),T=h(57),y=h(1),_=h(9),g=h(38),f=function(m){function x(P,p,w){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function($,V){if(!($ instanceof V))throw new TypeError("Cannot call a class as a function")}(this,x);var N=function($,V){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?$:V}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v.Requests.QuickJoinOrCreateRoom));return N._matchExpression=P,N._groupList=p,N._settings=w,N._roomToLeave=O,N._createRoomRequest=new T.CreateRoomRequest(w,!1,null),Object.seal(N),N}return function(P,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);P.prototype=Object.create(p&&p.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(P,p):P.__proto__=p)}(x,v.BaseRequest),E(x,null,[{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}}]),E(x,[{key:"validate",value:function(P){if(!(this._matchExpression instanceof g.MatchExpression))throw new y.SFSValidationError("QuickJoinOrCreateRoomRequest Error",["Match expression must be an instance of MatchExpression class"]);var p=[];(null==this._groupList||this._groupList.length<1)&&p.push("Missing list of Group names where to search the game to join"),null==this._roomToLeave||this._roomToLeave instanceof _.SFSRoom||p.push("Room to leave must be an instance of SFSRoom class");try{this._createRoomRequest.validate(P)}catch(w){p=p.concat(w.errors)}if(p.length>0)throw new y.SFSValidationError("QuickJoinOrCreateRoomRequest Error",p)}},{key:"execute",value:function(P){this._createRoomRequest.execute(P);var p=this._createRoomRequest.getMessage().content;this._reqObj.putSFSArray(x.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),this._reqObj.putUtfStringArray(x.KEY_GROUP_LIST,this._groupList),this._reqObj.putSFSObject(x.KEY_ROOM_SETTINGS,p),null!=this._roomToLeave&&this._reqObj.putInt(x.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),x}();A.QuickJoinOrCreateRoomRequest=f},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PasswordUtil=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(71),T=function(){function y(){throw function(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}(this,y),"Class PasswordUtil cannot be instantiated. Please check the documentation for more details on its usage"}return E(y,null,[{key:"md5Password",value:function(_){return(new v.MD5).hex_md5(_)}}]),y}();A.PasswordUtil=T},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var E=Object.freeze({NAME:"${N}",GROUP_ID:"${G}",MAX_USERS:"${MXU}",MAX_SPECTATORS:"${MXS}",USER_COUNT:"${UC}",SPECTATOR_COUNT:"${SC}",IS_GAME:"${ISG}",IS_PRIVATE:"${ISP}",HAS_FREE_PLAYER_SLOTS:"${HFP}",IS_TYPE_SFSGAME:"${IST}",IS_TYPE_MMO:"${ISM}",IS_TYPE_DEFAULT:"${ISD}"}),v=Object.freeze({NAME:"${N}",IS_PLAYER:"${ISP}",IS_SPECTATOR:"${ISS}",IS_NPC:"${ISN}",PRIVILEGE_ID:"${PRID}",IS_IN_ANY_ROOM:"${IAR}"});A.RoomProperties=E,A.UserProperties=v},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var E=function(){function x(P,p){for(var w=0;w<p.length;w++){var O=p[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,p,w){return p&&x(P.prototype,p),w&&x(P,w),P}}();function v(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}function T(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}function y(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}var _=function(){function x(P,p){y(this,x),this._type=P,this._symbol=p,Object.freeze(this)}return E(x,[{key:"type",get:function(){return this._type}},{key:"symbol",get:function(){return this._symbol}}]),x}(),g=function(x){function P(p){y(this,P);var w=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,0,p));return Object.freeze(w),w}return T(P,_),E(P,null,[{key:"EQUALS",get:function(){return new P("==")}},{key:"NOT_EQUALS",get:function(){return new P("!=")}}]),P}(),f=function(x){function P(p){y(this,P);var w=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,1,p));return Object.freeze(w),w}return T(P,_),E(P,null,[{key:"EQUALS",get:function(){return new P("==")}},{key:"NOT_EQUALS",get:function(){return new P("!=")}},{key:"GREATER_THAN",get:function(){return new P(">")}},{key:"GREATER_THAN_OR_EQUAL_TO",get:function(){return new P(">=")}},{key:"LESS_THAN",get:function(){return new P("<")}},{key:"LESS_THAN_OR_EQUAL_TO",get:function(){return new P("<=")}}]),P}(),m=function(x){function P(p){y(this,P);var w=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,2,p));return Object.freeze(w),w}return T(P,_),E(P,null,[{key:"EQUALS",get:function(){return new P("==")}},{key:"NOT_EQUALS",get:function(){return new P("!=")}},{key:"CONTAINS",get:function(){return new P("contains")}},{key:"STARTS_WITH",get:function(){return new P("startsWith")}},{key:"ENDS_WITH",get:function(){return new P("endsWith")}}]),P}();A.BoolMatch=g,A.NumberMatch=f,A.StringMatch=m},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PingPongRequest=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(2),T=function(y){function _(){!function(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,_);var g=function(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,v.Requests.PingPong));return Object.seal(g),g}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(_,v.BaseRequest),E(_,[{key:"validate",value:function(g){}},{key:"execute",value:function(g){}}]),_}();A.PingPongRequest=T},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LagMonitor=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(162),T=function(){function y(_){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,y),this._sfs=_,this._valueQueue=[],this._interval=g,this._queueSize=f,this._thread=null,this._lastReqTime=-1}return E(y,[{key:"start",value:function(){this.isRunning||null==this._sfs||(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))}},{key:"stop",value:function(){this.isRunning&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])}},{key:"destroy",value:function(){this.stop(),this._sfs=null}},{key:"getLastPingTime",value:function(){return this._valueQueue.length>0?this._valueQueue[this._valueQueue.length-1]:0}},{key:"_threadRunner",value:function(_){_._lastReqTime=(new Date).getTime(),_._sfs.send(new v.PingPongRequest)}},{key:"_onPingPong",value:function(){var _=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(_),this._getAveragePingTime()}},{key:"_getAveragePingTime",value:function(){if(0==this._valueQueue.length)return 0;for(var _=0,g=0;g<this._valueQueue.length;g++)_+=this._valueQueue[g];return _/this._valueQueue.length}},{key:"isRunning",get:function(){return null!=this._thread}}]),y}();A.LagMonitor=T},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.HandshakeRequest=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(2),T=function(y){function _(g,f){!function(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}(this,_);var m=function(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?x:P}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,v.Requests.Handshake));return m._apiVersion=g,m._clientDetails=f,Object.seal(m),m}return function(g,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}(_,v.BaseRequest),E(_,null,[{key:"KEY_SESSION_TOKEN",get:function(){return"tk"}},{key:"KEY_API",get:function(){return"api"}},{key:"KEY_COMPRESSION_THRESHOLD",get:function(){return"ct"}},{key:"KEY_CLIENT_TYPE",get:function(){return"cl"}},{key:"KEY_MAX_MESSAGE_SIZE",get:function(){return"ms"}}]),E(_,[{key:"validate",value:function(g){}},{key:"execute",value:function(g){this._reqObj.putUtfString(_.KEY_API,this._apiVersion),this._reqObj.putUtfString(_.KEY_CLIENT_TYPE,this._clientDetails)}}]),_}();A.HandshakeRequest=T},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSBuddyManager=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(46),T=function(){function y(_){(function(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")})(this,y),this._sfs=_,this._buddiesByName=new Map,this._myVariables=new Map,this._inited=!1,this._buddyStates=new Set,Object.seal(this)}return E(y,[{key:"containsBuddy",value:function(_){return this._buddiesByName.has(_)}},{key:"getBuddyById",value:function(_){return this.getBuddyList().find(function(g){return g.id===_})}},{key:"getBuddyByName",value:function(_){return this._buddiesByName.get(_)}},{key:"getBuddyByNickName",value:function(_){return this.getBuddyList().find(function(g){return g.nickName===_})}},{key:"getOfflineBuddies",value:function(){return this.getBuddyList().filter(function(_){return!_.isOnline})}},{key:"getOnlineBuddies",value:function(){return this.getBuddyList().filter(function(_){return _.isOnline})}},{key:"getBuddyList",value:function(){return Array.from(this._buddiesByName.values())}},{key:"getMyVariable",value:function(_){return this._myVariables.get(_)}},{key:"getMyVariables",value:function(){return Array.from(this._myVariables.values())}},{key:"getMyOnlineState",value:function(){if(!this._inited)return!1;var _=this.getMyVariable(v.ReservedBuddyVariables.BV_ONLINE);return null==_||_.value}},{key:"getMyNickName",value:function(){var _=this.getMyVariable(v.ReservedBuddyVariables.BV_NICKNAME);return null!=_?_.value:null}},{key:"getMyState",value:function(){var _=this.getMyVariable(v.ReservedBuddyVariables.BV_STATE);return null!=_?_.value:null}},{key:"getBuddyStates",value:function(){return Array.from(this._buddyStates.values())}},{key:"_setInited",value:function(){this._inited=!0}},{key:"_addBuddy",value:function(_){this._buddiesByName.set(_.name,_)}},{key:"_clearAll",value:function(){this._buddiesByName.clear()}},{key:"_removeBuddyById",value:function(_){var g=this.getBuddyById(_);return null!=g&&this._buddiesByName.delete(g.name),g}},{key:"_removeBuddyByName",value:function(_){var g=this.getBuddyByName(_);return null!=g&&this._buddiesByName.delete(_),g}},{key:"_setMyVariables",value:function(_){var g=!0,f=!1,m=void 0;try{for(var x,P=_[Symbol.iterator]();!(g=(x=P.next()).done);g=!0)this._setMyVariable(x.value)}catch(w){f=!0,m=w}finally{try{!g&&P.return&&P.return()}finally{if(f)throw m}}}},{key:"_setMyVariable",value:function(_){_.isNull?this._myVariables.delete(_.name):this._myVariables.set(_.name,_)}},{key:"_setMyOnlineState",value:function(_){this._setMyVariable(new v.SFSBuddyVariable(v.ReservedBuddyVariables.BV_ONLINE,_))}},{key:"_setMyNickName",value:function(_){this._setMyVariable(new v.SFSBuddyVariable(v.ReservedBuddyVariables.BV_NICKNAME,_))}},{key:"_setMyState",value:function(_){this._setMyVariable(new v.SFSBuddyVariable(v.ReservedBuddyVariables.BV_STATE,_))}},{key:"_setBuddyStates",value:function(_){this._buddyStates=new Set(_)}},{key:"isInited",get:function(){return this._inited}}]),y}();A.SFSBuddyManager=T},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSRoomManager=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(9),T=function(){function y(_){(function(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")})(this,y),this._sfs=_,this._groups=new Set,this._roomsById=new Map,this._roomsByName=new Map,Object.seal(this)}return E(y,[{key:"getRoomGroups",value:function(){return Array.from(this._groups)}},{key:"containsGroup",value:function(_){return this._groups.has(_)}},{key:"containsRoom",value:function(_){return"number"==typeof _?this._roomsById.has(_):this._roomsByName.has(_)}},{key:"containsRoomInGroup",value:function(_,g){return this.getRoomListFromGroup(g).some("number"==typeof _?function(m){return m.id===_}:function(m){return m.name===_})}},{key:"getRoomById",value:function(_){return this._roomsById.get(_)}},{key:"getRoomByName",value:function(_){return this._roomsByName.get(_)}},{key:"getRoomList",value:function(){return Array.from(this._roomsById.values())}},{key:"getRoomCount",value:function(){return this._roomsById.size}},{key:"getRoomListFromGroup",value:function(_){return this.getRoomList().filter(function(g){return g.groupId===_})}},{key:"getJoinedRooms",value:function(){return this.getRoomList().filter(function(_){return _.isJoined})}},{key:"getUserRooms",value:function(_){return this.getRoomList().filter(function(g){return g.containsUser(_)})}},{key:"_addRoom",value:function(_){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._roomsById.set(_.id,_),this._roomsByName.set(_.name,_),_._setRoomManager(this),g?this._addGroup(_.groupId):_._isManaged=!1}},{key:"_replaceRoom",value:function(_){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this.getRoomById(_.id);return null!=f?(f._merge(_),f):(this._addRoom(_,g),_)}},{key:"_removeRoom",value:function(_){this._roomsById.delete(_.id),this._roomsByName.delete(_.name)}},{key:"_removeRoomById",value:function(_){var g=this.getRoomById(_);null!=g&&this._removeRoom(g)}},{key:"_removeRoomByName",value:function(_){var g=this.getRoomByName(_);null!=g&&this._removeRoom(g)}},{key:"_changeRoomName",value:function(_,g){var f=_.name;_._name=g,this._roomsByName.set(g,_),this._roomsByName.delete(f)}},{key:"_changeRoomPasswordState",value:function(_,g){_._isPasswordProtected=g}},{key:"_changeRoomCapacity",value:function(_,g,f){_._maxUsers=g,_._maxSpectators=f}},{key:"_addGroup",value:function(_){this.containsGroup(_)||this._groups.add(_)}},{key:"_removeGroup",value:function(_){this._groups.delete(_);var g=this.getRoomListFromGroup(_),f=!0,m=!1,x=void 0;try{for(var P,p=g[Symbol.iterator]();!(f=(P=p.next()).done);f=!0){var w=P.value;w.isJoined?w._isManaged=!1:this._removeRoom(w)}}catch(O){m=!0,x=O}finally{try{!f&&p.return&&p.return()}finally{if(m)throw x}}}},{key:"_removeUser",value:function(_){var g=!0,f=!1,m=void 0;try{for(var x,P=this.getUserRooms(_)[Symbol.iterator]();!(g=(x=P.next()).done);g=!0){var p=x.value;p instanceof v.MMORoom||p._removeUser(_)}}catch(w){f=!0,m=w}finally{try{!g&&P.return&&P.return()}finally{if(f)throw m}}}}]),y}();A.SFSRoomManager=T},function(z,A){(function(){"use strict";function h(Fe){throw Fe}var E=void 0,v=!0,T=this;function y(Fe,De){var $e,qe=Fe.split("."),He=T;for((!(qe[0]in He)&&He.execScript&&He.execScript("var "+qe[0]));qe.length&&($e=qe.shift());)qe.length||De===E?He=He[$e]?He[$e]:He[$e]={}:He[$e]=De}var _="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function g(Fe,De){this.index="number"==typeof De?De:0,this.i=0,this.buffer=Fe instanceof(_?Uint8Array:Array)?Fe:new(_?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&h(Error("invalid index")),this.buffer.length<=this.index&&this.f()}g.prototype.f=function(){var Fe,De=this.buffer,$e=De.length,qe=new(_?Uint8Array:Array)($e<<1);if(_)qe.set(De);else for(Fe=0;Fe<$e;++Fe)qe[Fe]=De[Fe];return this.buffer=qe},g.prototype.d=function(Fe,De,$e){var qe,He=this.buffer,it=this.index,xt=this.i,Nt=He[it];if($e&&1<De&&(Fe=8<De?(w[255&Fe]<<24|w[Fe>>>8&255]<<16|w[Fe>>>16&255]<<8|w[Fe>>>24&255])>>32-De:w[Fe]>>8-De),8>De+xt)Nt=Nt<<De|Fe,xt+=De;else for(qe=0;qe<De;++qe)Nt=Nt<<1|Fe>>De-qe-1&1,8==++xt&&(xt=0,He[it++]=w[Nt],Nt=0,it===He.length&&(He=this.f()));He[it]=Nt,this.buffer=He,this.i=xt,this.index=it},g.prototype.finish=function(){var Fe,De=this.buffer,$e=this.index;return 0<this.i&&(De[$e]<<=8-this.i,De[$e]=w[De[$e]],$e++),_?Fe=De.subarray(0,$e):(De.length=$e,Fe=De),Fe};var f,m=new(_?Uint8Array:Array)(256);for(f=0;256>f;++f){for(var x=p=f,P=7,p=p>>>1;p;p>>>=1)x<<=1,x|=1&p,--P;m[f]=(x<<P&255)>>>0}var w=m;function O(Fe){this.buffer=new(_?Uint16Array:Array)(2*Fe),this.length=0}function N(Fe){var De,$e,qe,He,it,xt,Nt,Ft,Rn,li,Pi=Fe.length,tn=0,ii=Number.POSITIVE_INFINITY;for(Ft=0;Ft<Pi;++Ft)Fe[Ft]>tn&&(tn=Fe[Ft]),Fe[Ft]<ii&&(ii=Fe[Ft]);for(De=1<<tn,$e=new(_?Uint32Array:Array)(De),qe=1,He=0,it=2;qe<=tn;){for(Ft=0;Ft<Pi;++Ft)if(Fe[Ft]===qe){for(xt=0,Nt=He,Rn=0;Rn<qe;++Rn)xt=xt<<1|1&Nt,Nt>>=1;for(li=qe<<16|Ft,Rn=xt;Rn<De;Rn+=it)$e[Rn]=li;++He}++qe,He<<=1,it<<=1}return[$e,tn,ii]}function $(Fe,De){this.h=J,this.w=0,this.input=_&&Fe instanceof Array?new Uint8Array(Fe):Fe,this.b=0,De&&(De.lazy&&(this.w=De.lazy),"number"==typeof De.compressionType&&(this.h=De.compressionType),De.outputBuffer&&(this.a=_&&De.outputBuffer instanceof Array?new Uint8Array(De.outputBuffer):De.outputBuffer),"number"==typeof De.outputIndex&&(this.b=De.outputIndex)),this.a||(this.a=new(_?Uint8Array:Array)(32768))}O.prototype.getParent=function(Fe){return 2*((Fe-2)/4|0)},O.prototype.push=function(Fe,De){var $e,qe,He,it=this.buffer;for($e=this.length,it[this.length++]=De,it[this.length++]=Fe;0<$e&&(qe=this.getParent($e),it[$e]>it[qe]);)He=it[$e],it[$e]=it[qe],it[qe]=He,He=it[$e+1],it[$e+1]=it[qe+1],it[qe+1]=He,$e=qe;return this.length},O.prototype.pop=function(){var Fe,De,$e,qe,He,it=this.buffer;for(De=it[0],Fe=it[1],this.length-=2,it[0]=it[this.length],it[1]=it[this.length+1],He=0;!((qe=2*He+2)>=this.length)&&(qe+2<this.length&&it[qe+2]>it[qe]&&(qe+=2),it[qe]>it[He]);)$e=it[He],it[He]=it[qe],it[qe]=$e,$e=it[He+1],it[He+1]=it[qe+1],it[qe+1]=$e,He=qe;return{index:Fe,value:De,length:this.length}};var V,J=2,X={NONE:0,r:1,k:J,O:3},Z=[];for(V=0;288>V;V++)switch(v){case 143>=V:Z.push([V+48,8]);break;case 255>=V:Z.push([V-144+400,9]);break;case 279>=V:Z.push([V-256+0,7]);break;case 287>=V:Z.push([V-280+192,8]);break;default:h("invalid literal: "+V)}$.prototype.j=function(){var Fe,De,$e,qe,He=this.input;switch(this.h){case 0:for($e=0,qe=He.length;$e<qe;){var xt,Nt,Ft=De=_?He.subarray($e,$e+65535):He.slice($e,$e+65535),Rn=($e+=De.length)===qe,li=E,Pi=E,tn=this.a,ii=this.b;if(_){for(tn=new Uint8Array(this.a.buffer);tn.length<=ii+Ft.length+5;)tn=new Uint8Array(tn.length<<1);tn.set(this.a)}if(tn[ii++]=0|(Rn?1:0),Nt=65536+~(xt=Ft.length)&65535,tn[ii++]=255&xt,tn[ii++]=xt>>>8&255,tn[ii++]=255&Nt,tn[ii++]=Nt>>>8&255,_)tn.set(Ft,ii),tn=tn.subarray(0,ii+=Ft.length);else{for(li=0,Pi=Ft.length;li<Pi;++li)tn[ii++]=Ft[li];tn.length=ii}this.b=ii,this.a=tn}break;case 1:var vn=new g(_?new Uint8Array(this.a.buffer):this.a,this.b);vn.d(1,1,v),vn.d(1,2,v);var Ue,Ye,mn,En=Q(this,He);for(Ue=0,Ye=En.length;Ue<Ye;Ue++)if(g.prototype.d.apply(vn,Z[mn=En[Ue]]),256<mn)vn.d(En[++Ue],En[++Ue],v),vn.d(En[++Ue],5),vn.d(En[++Ue],En[++Ue],v);else if(256===mn)break;this.a=vn.finish(),this.b=this.a.length;break;case J:var ln,Rt,Si,un,mi,Wi,It,ir,Yi,pa,Pu,fa,ga,Tr,_s,rs=new g(_?new Uint8Array(this.a.buffer):this.a,this.b),ma=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ls=Array(19);for(ln=J,rs.d(1,1,v),rs.d(ln,2,v),Rt=Q(this,He),It=pe(Wi=ne(this.M,15)),Yi=pe(ir=ne(this.L,7)),Si=286;257<Si&&0===Wi[Si-1];Si--);for(un=30;1<un&&0===ir[un-1];un--);var vt,jt,nn,Ni,On,dr,To=Si,bn=un,Xi=new(_?Uint32Array:Array)(To+bn),jr=new(_?Uint32Array:Array)(316),Us=new(_?Uint8Array:Array)(19);for(vt=jt=0;vt<To;vt++)Xi[jt++]=Wi[vt];for(vt=0;vt<bn;vt++)Xi[jt++]=ir[vt];if(!_)for(vt=0,Ni=Us.length;vt<Ni;++vt)Us[vt]=0;for(vt=On=0,Ni=Xi.length;vt<Ni;vt+=jt){for(jt=1;vt+jt<Ni&&Xi[vt+jt]===Xi[vt];++jt);if(nn=jt,0===Xi[vt])if(3>nn)for(;0<nn--;)jr[On++]=0,Us[0]++;else for(;0<nn;)(dr=138>nn?nn:138)>nn-3&&dr<nn&&(dr=nn-3),10>=dr?(jr[On++]=17,jr[On++]=dr-3,Us[17]++):(jr[On++]=18,jr[On++]=dr-11,Us[18]++),nn-=dr;else if(jr[On++]=Xi[vt],Us[Xi[vt]]++,3>--nn)for(;0<nn--;)jr[On++]=Xi[vt],Us[Xi[vt]]++;else for(;0<nn;)(dr=6>nn?nn:6)>nn-3&&dr<nn&&(dr=nn-3),jr[On++]=16,jr[On++]=dr-3,Us[16]++,nn-=dr}for(Fe=_?jr.subarray(0,On):jr.slice(0,On),pa=ne(Us,7),Tr=0;19>Tr;Tr++)Ls[Tr]=pa[ma[Tr]];for(mi=19;4<mi&&0===Ls[mi-1];mi--);for(Pu=pe(pa),rs.d(Si-257,5,v),rs.d(un-1,5,v),rs.d(mi-4,4,v),Tr=0;Tr<mi;Tr++)rs.d(Ls[Tr],3,v);for(Tr=0,_s=Fe.length;Tr<_s;Tr++)if(rs.d(Pu[fa=Fe[Tr]],pa[fa],v),16<=fa){switch(Tr++,fa){case 16:ga=2;break;case 17:ga=3;break;case 18:ga=7;break;default:h("invalid code: "+fa)}rs.d(Fe[Tr],ga,v)}var so,ys,Td,Fc,Th,$p,Mr,rr,sr=[It,Wi],Uo=[Yi,ir];for(Th=sr[0],$p=sr[1],Mr=Uo[0],rr=Uo[1],so=0,ys=Rt.length;so<ys;++so)if(rs.d(Th[Td=Rt[so]],$p[Td],v),256<Td)rs.d(Rt[++so],Rt[++so],v),Fc=Rt[++so],rs.d(Mr[Fc],rr[Fc],v),rs.d(Rt[++so],Rt[++so],v);else if(256===Td)break;this.a=rs.finish(),this.b=this.a.length;break;default:h("invalid compression type")}return this.a};var j=function(){function Fe(He){switch(v){case 3===He:return[257,He-3,0];case 4===He:return[258,He-4,0];case 5===He:return[259,He-5,0];case 6===He:return[260,He-6,0];case 7===He:return[261,He-7,0];case 8===He:return[262,He-8,0];case 9===He:return[263,He-9,0];case 10===He:return[264,He-10,0];case 12>=He:return[265,He-11,1];case 14>=He:return[266,He-13,1];case 16>=He:return[267,He-15,1];case 18>=He:return[268,He-17,1];case 22>=He:return[269,He-19,2];case 26>=He:return[270,He-23,2];case 30>=He:return[271,He-27,2];case 34>=He:return[272,He-31,2];case 42>=He:return[273,He-35,3];case 50>=He:return[274,He-43,3];case 58>=He:return[275,He-51,3];case 66>=He:return[276,He-59,3];case 82>=He:return[277,He-67,4];case 98>=He:return[278,He-83,4];case 114>=He:return[279,He-99,4];case 130>=He:return[280,He-115,4];case 162>=He:return[281,He-131,5];case 194>=He:return[282,He-163,5];case 226>=He:return[283,He-195,5];case 257>=He:return[284,He-227,5];case 258===He:return[285,He-258,0];default:h("invalid length: "+He)}}var De,$e,qe=[];for(De=3;258>=De;De++)$e=Fe(De),qe[De]=$e[2]<<24|$e[1]<<16|$e[0];return qe}(),K=_?new Uint32Array(j):j;function Q(Fe,De){function $e(ln,Rt){var Si,un,mi,Wi,It=ln.H,ir=[],Yi=0;switch(ir[Yi++]=65535&(Si=K[ln.length]),ir[Yi++]=Si>>16&255,ir[Yi++]=Si>>24,v){case 1===It:un=[0,It-1,0];break;case 2===It:un=[1,It-2,0];break;case 3===It:un=[2,It-3,0];break;case 4===It:un=[3,It-4,0];break;case 6>=It:un=[4,It-5,1];break;case 8>=It:un=[5,It-7,1];break;case 12>=It:un=[6,It-9,2];break;case 16>=It:un=[7,It-13,2];break;case 24>=It:un=[8,It-17,3];break;case 32>=It:un=[9,It-25,3];break;case 48>=It:un=[10,It-33,4];break;case 64>=It:un=[11,It-49,4];break;case 96>=It:un=[12,It-65,5];break;case 128>=It:un=[13,It-97,5];break;case 192>=It:un=[14,It-129,6];break;case 256>=It:un=[15,It-193,6];break;case 384>=It:un=[16,It-257,7];break;case 512>=It:un=[17,It-385,7];break;case 768>=It:un=[18,It-513,8];break;case 1024>=It:un=[19,It-769,8];break;case 1536>=It:un=[20,It-1025,9];break;case 2048>=It:un=[21,It-1537,9];break;case 3072>=It:un=[22,It-2049,10];break;case 4096>=It:un=[23,It-3073,10];break;case 6144>=It:un=[24,It-4097,11];break;case 8192>=It:un=[25,It-6145,11];break;case 12288>=It:un=[26,It-8193,12];break;case 16384>=It:un=[27,It-12289,12];break;case 24576>=It:un=[28,It-16385,13];break;case 32768>=It:un=[29,It-24577,13];break;default:h("invalid distance")}for(ir[Yi++]=(Si=un)[0],ir[Yi++]=Si[1],ir[Yi++]=Si[2],mi=0,Wi=ir.length;mi<Wi;++mi)ii[vn++]=ir[mi];Ye[ir[0]]++,mn[ir[3]]++,Ue=ln.length+Rt-1,li=null}var qe,He,it,xt,Nt,Ft,Rn,li,Pi,tn={},ii=_?new Uint16Array(2*De.length):[],vn=0,Ue=0,Ye=new(_?Uint32Array:Array)(286),mn=new(_?Uint32Array:Array)(30),En=Fe.w;if(!_){for(it=0;285>=it;)Ye[it++]=0;for(it=0;29>=it;)mn[it++]=0}for(Ye[256]=1,qe=0,He=De.length;qe<He;++qe){for(it=Nt=0,xt=3;it<xt&&qe+it!==He;++it)Nt=Nt<<8|De[qe+it];if(tn[Nt]===E&&(tn[Nt]=[]),Ft=tn[Nt],!(0<Ue--)){for(;0<Ft.length&&32768<qe-Ft[0];)Ft.shift();if(qe+3>=He){for(li&&$e(li,-1),it=0,xt=He-qe;it<xt;++it)ii[vn++]=Pi=De[qe+it],++Ye[Pi];break}0<Ft.length?(Rn=re(De,qe,Ft),li?li.length<Rn.length?(ii[vn++]=Pi=De[qe-1],++Ye[Pi],$e(Rn,0)):$e(li,-1):Rn.length<En?li=Rn:$e(Rn,0)):li?$e(li,-1):(ii[vn++]=Pi=De[qe],++Ye[Pi])}Ft.push(qe)}return ii[vn++]=256,Ye[256]++,Fe.M=Ye,Fe.L=mn,_?ii.subarray(0,vn):ii}function re(Fe,De,$e){var qe,He,it,xt,Nt,Ft,Rn=0,li=Fe.length;xt=0,Ft=$e.length;e:for(;xt<Ft;xt++){if(qe=$e[Ft-xt-1],it=3,3<Rn){for(Nt=Rn;3<Nt;Nt--)if(Fe[qe+Nt-1]!==Fe[De+Nt-1])continue e;it=Rn}for(;258>it&&De+it<li&&Fe[qe+it]===Fe[De+it];)++it;if(it>Rn&&(He=qe,Rn=it),258===it)break}return new function(Pi,tn){this.length=Pi,this.H=tn}(Rn,De-He)}function ne(Fe,De){var $e,qe,He,it,xt,Nt=Fe.length,Ft=new O(572),Rn=new(_?Uint8Array:Array)(Nt);if(!_)for(it=0;it<Nt;it++)Rn[it]=0;for(it=0;it<Nt;++it)0<Fe[it]&&Ft.push(it,Fe[it]);if($e=Array(Ft.length/2),qe=new(_?Uint32Array:Array)(Ft.length/2),1===$e.length)return Rn[Ft.pop().index]=1,Rn;for(it=0,xt=Ft.length/2;it<xt;++it)$e[it]=Ft.pop(),qe[it]=$e[it].value;for(He=function(li,Pi,tn){function ii(Yi){var pa=mi[Yi][Wi[Yi]];pa===Pi?(ii(Yi+1),ii(Yi+1)):--Si[pa],++Wi[Yi]}var vn,Ue,Ye,mn,En,ln=new(_?Uint16Array:Array)(tn),Rt=new(_?Uint8Array:Array)(tn),Si=new(_?Uint8Array:Array)(Pi),un=Array(tn),mi=Array(tn),Wi=Array(tn),It=(1<<tn)-Pi,ir=1<<tn-1;for(ln[tn-1]=Pi,Ue=0;Ue<tn;++Ue)It<ir?Rt[Ue]=0:(Rt[Ue]=1,It-=ir),It<<=1,ln[tn-2-Ue]=(ln[tn-1-Ue]/2|0)+Pi;for(ln[0]=Rt[0],un[0]=Array(ln[0]),mi[0]=Array(ln[0]),Ue=1;Ue<tn;++Ue)ln[Ue]>2*ln[Ue-1]+Rt[Ue]&&(ln[Ue]=2*ln[Ue-1]+Rt[Ue]),un[Ue]=Array(ln[Ue]),mi[Ue]=Array(ln[Ue]);for(vn=0;vn<Pi;++vn)Si[vn]=tn;for(Ye=0;Ye<ln[tn-1];++Ye)un[tn-1][Ye]=li[Ye],mi[tn-1][Ye]=Ye;for(vn=0;vn<tn;++vn)Wi[vn]=0;for(1===Rt[tn-1]&&(--Si[0],++Wi[tn-1]),Ue=tn-2;0<=Ue;--Ue){for(mn=vn=0,En=Wi[Ue+1],Ye=0;Ye<ln[Ue];Ye++)(mn=un[Ue+1][En]+un[Ue+1][En+1])>li[vn]?(un[Ue][Ye]=mn,mi[Ue][Ye]=Pi,En+=2):(un[Ue][Ye]=li[vn],mi[Ue][Ye]=vn,++vn);Wi[Ue]=0,1===Rt[Ue]&&ii(Ue)}return Si}(qe,qe.length,De),it=0,xt=$e.length;it<xt;++it)Rn[$e[it].index]=He[it];return Rn}function pe(Fe){var De,$e,qe,He,it=new(_?Uint16Array:Array)(Fe.length),xt=[],Nt=[],Ft=0;for(De=0,$e=Fe.length;De<$e;De++)xt[Fe[De]]=1+(0|xt[Fe[De]]);for(De=1,$e=16;De<=$e;De++)Nt[De]=Ft,Ft+=0|xt[De],Ft<<=1;for(De=0,$e=Fe.length;De<$e;De++)for(Ft=Nt[Fe[De]],Nt[Fe[De]]+=1,qe=it[De]=0,He=Fe[De];qe<He;qe++)it[De]=it[De]<<1|1&Ft,Ft>>>=1;return it}function be(Fe,De){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=_?new Uint8Array(Fe):Fe,this.s=!1,this.n=Se,this.C=!1,!De&&(De={})||(De.index&&(this.c=De.index),De.bufferSize&&(this.m=De.bufferSize),De.bufferType&&(this.n=De.bufferType),De.resize&&(this.C=De.resize)),this.n){case Le:this.b=32768,this.a=new(_?Uint8Array:Array)(32768+this.m+258);break;case Se:this.b=0,this.a=new(_?Uint8Array:Array)(this.m),this.f=this.K,this.t=this.I,this.o=this.J;break;default:h(Error("invalid inflate mode"))}}var Le=0,Se=1,xe={F:Le,D:Se};be.prototype.p=function(){for(;!this.s;){var Fe=lt(this,3);switch(1&Fe&&(this.s=v),Fe>>>=1){case 0:var De=this.input,$e=this.c,qe=this.a,He=this.b,it=De.length,xt=E,Nt=qe.length,Ft=E;switch(this.e=this.g=0,$e+1>=it&&h(Error("invalid uncompressed block header: LEN")),xt=De[$e++]|De[$e++]<<8,$e+1>=it&&h(Error("invalid uncompressed block header: NLEN")),xt===~(De[$e++]|De[$e++]<<8)&&h(Error("invalid uncompressed block header: length verify")),$e+xt>De.length&&h(Error("input buffer is broken")),this.n){case Le:for(;He+xt>qe.length;){if(xt-=Ft=Nt-He,_)qe.set(De.subarray($e,$e+Ft),He),He+=Ft,$e+=Ft;else for(;Ft--;)qe[He++]=De[$e++];this.b=He,qe=this.f(),He=this.b}break;case Se:for(;He+xt>qe.length;)qe=this.f({v:2});break;default:h(Error("invalid inflate mode"))}if(_)qe.set(De.subarray($e,$e+xt),He),He+=xt,$e+=xt;else for(;xt--;)qe[He++]=De[$e++];this.c=$e,this.b=He,this.a=qe;break;case 1:this.o(ke,st);break;case 2:Ve(this);break;default:h(Error("unknown BTYPE: "+Fe))}}return this.t()};var le,Ce,ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Xe=_?new Uint16Array(ge):ge,he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],Te=_?new Uint16Array(he):he,Ne=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Ke=_?new Uint8Array(Ne):Ne,ot=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Ze=_?new Uint16Array(ot):ot,mt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],yt=_?new Uint8Array(mt):mt,tt=new(_?Uint8Array:Array)(288);for(le=0,Ce=tt.length;le<Ce;++le)tt[le]=143>=le?8:255>=le?9:279>=le?7:8;var me,Ie,ke=N(tt),ze=new(_?Uint8Array:Array)(30);for(me=0,Ie=ze.length;me<Ie;++me)ze[me]=5;var st=N(ze);function lt(Fe,De){for(var $e,qe=Fe.g,He=Fe.e,it=Fe.input,xt=Fe.c,Nt=it.length;He<De;)xt>=Nt&&h(Error("input buffer is broken")),qe|=it[xt++]<<He,He+=8;return $e=qe&(1<<De)-1,Fe.g=qe>>>De,Fe.e=He-De,Fe.c=xt,$e}function Be(Fe,De){for(var $e,qe,He=Fe.g,it=Fe.e,xt=Fe.input,Nt=Fe.c,Ft=xt.length,Rn=De[0],li=De[1];it<li&&!(Nt>=Ft);)He|=xt[Nt++]<<it,it+=8;return qe=($e=Rn[He&(1<<li)-1])>>>16,Fe.g=He>>qe,Fe.e=it-qe,Fe.c=Nt,65535&$e}function Ve(Fe){function De(li,Pi,tn){var ii,vn,Ue,Ye=this.z;for(Ue=0;Ue<li;)switch(ii=Be(this,Pi),ii){case 16:for(vn=3+lt(this,2);vn--;)tn[Ue++]=Ye;break;case 17:for(vn=3+lt(this,3);vn--;)tn[Ue++]=0;Ye=0;break;case 18:for(vn=11+lt(this,7);vn--;)tn[Ue++]=0;Ye=0;break;default:Ye=tn[Ue++]=ii}return this.z=Ye,tn}var $e,qe,He,it,xt=lt(Fe,5)+257,Nt=lt(Fe,5)+1,Ft=lt(Fe,4)+4,Rn=new(_?Uint8Array:Array)(Xe.length);for(it=0;it<Ft;++it)Rn[Xe[it]]=lt(Fe,3);if(!_)for(it=Ft,Ft=Rn.length;it<Ft;++it)Rn[Xe[it]]=0;$e=N(Rn),qe=new(_?Uint8Array:Array)(xt),He=new(_?Uint8Array:Array)(Nt),Fe.z=0,Fe.o(N(De.call(Fe,xt,$e,qe)),N(De.call(Fe,Nt,$e,He)))}function Qt(Fe){if("string"==typeof Fe){var De,$e,qe=Fe.split("");for(De=0,$e=qe.length;De<$e;De++)qe[De]=(255&qe[De].charCodeAt(0))>>>0;Fe=qe}for(var He,it=1,xt=0,Nt=Fe.length,Ft=0;0<Nt;){Nt-=He=1024<Nt?1024:Nt;do{xt+=it+=Fe[Ft++]}while(--He);it%=65521,xt%=65521}return(xt<<16|it)>>>0}function Ut(Fe,De){var $e,qe;this.input=Fe,this.c=0,!De&&(De={})||(De.index&&(this.c=De.index),De.verify&&(this.N=De.verify)),$e=Fe[this.c++],qe=Fe[this.c++],(15&$e)===rn?this.method=rn:h(Error("unsupported compression method")),(($e<<8)+qe)%31!=0&&h(Error("invalid fcheck flag:"+(($e<<8)+qe)%31)),32&qe&&h(Error("fdict flag is not supported")),this.B=new be(Fe,{index:this.c,bufferSize:De.bufferSize,bufferType:De.bufferType,resize:De.resize})}be.prototype.o=function(Fe,De){var $e=this.a,qe=this.b;this.u=Fe;for(var He,it,xt,Nt,Ft=$e.length-258;256!==(He=Be(this,Fe));)if(256>He)qe>=Ft&&(this.b=qe,$e=this.f(),qe=this.b),$e[qe++]=He;else for(Nt=Te[it=He-257],0<Ke[it]&&(Nt+=lt(this,Ke[it])),He=Be(this,De),xt=Ze[He],0<yt[He]&&(xt+=lt(this,yt[He])),qe>=Ft&&(this.b=qe,$e=this.f(),qe=this.b);Nt--;)$e[qe]=$e[qe++-xt];for(;8<=this.e;)this.e-=8,this.c--;this.b=qe},be.prototype.J=function(Fe,De){var $e=this.a,qe=this.b;this.u=Fe;for(var He,it,xt,Nt,Ft=$e.length;256!==(He=Be(this,Fe));)if(256>He)qe>=Ft&&(Ft=($e=this.f()).length),$e[qe++]=He;else for(Nt=Te[it=He-257],0<Ke[it]&&(Nt+=lt(this,Ke[it])),He=Be(this,De),xt=Ze[He],0<yt[He]&&(xt+=lt(this,yt[He])),qe+Nt>Ft&&(Ft=($e=this.f()).length);Nt--;)$e[qe]=$e[qe++-xt];for(;8<=this.e;)this.e-=8,this.c--;this.b=qe},be.prototype.f=function(){var Fe,De,$e=new(_?Uint8Array:Array)(this.b-32768),qe=this.b-32768,He=this.a;if(_)$e.set(He.subarray(32768,$e.length));else for(Fe=0,De=$e.length;Fe<De;++Fe)$e[Fe]=He[Fe+32768];if(this.l.push($e),this.q+=$e.length,_)He.set(He.subarray(qe,qe+32768));else for(Fe=0;32768>Fe;++Fe)He[Fe]=He[qe+Fe];return this.b=32768,He},be.prototype.K=function(Fe){var De,$e,qe,He=this.input.length/this.c+1|0,xt=this.a;return Fe&&("number"==typeof Fe.v&&(He=Fe.v),"number"==typeof Fe.G&&(He+=Fe.G)),$e=2>He?(qe=(this.input.length-this.c)/this.u[2]/2*258|0)<xt.length?xt.length+qe:xt.length<<1:xt.length*He,_?(De=new Uint8Array($e)).set(xt):De=xt,this.a=De},be.prototype.t=function(){var Fe,De,$e,qe,He,it=0,xt=this.a,Nt=this.l,Ft=new(_?Uint8Array:Array)(this.q+(this.b-32768));if(0===Nt.length)return _?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(De=0,$e=Nt.length;De<$e;++De)for(qe=0,He=(Fe=Nt[De]).length;qe<He;++qe)Ft[it++]=Fe[qe];for(De=32768,$e=this.b;De<$e;++De)Ft[it++]=xt[De];return this.l=[],this.buffer=Ft},be.prototype.I=function(){var Fe,De=this.b;return _?this.C?(Fe=new Uint8Array(De)).set(this.a.subarray(0,De)):Fe=this.a.subarray(0,De):(this.a.length>De&&(this.a.length=De),Fe=this.a),this.buffer=Fe},Ut.prototype.p=function(){var Fe,De=this.input;return Fe=this.B.p(),this.c=this.B.c,this.N&&(De[this.c++]<<24|De[this.c++]<<16|De[this.c++]<<8|De[this.c++])>>>0!==Qt(Fe)&&h(Error("invalid adler-32 checksum")),Fe};var rn=8;function Dn(Fe,De){this.input=Fe,this.a=new(_?Uint8Array:Array)(32768),this.h=bt.k;var $e,qe={};for($e in!De&&(De={})||"number"!=typeof De.compressionType||(this.h=De.compressionType),De)qe[$e]=De[$e];qe.outputBuffer=this.a,this.A=new $(this.input,qe)}var bt=X;function Pt(Fe,De){var $e,qe,He,it;if(Object.keys)$e=Object.keys(De);else for(qe in $e=[],He=0,De)$e[He++]=qe;for(He=0,it=$e.length;He<it;++He)y(Fe+"."+(qe=$e[He]),De[qe])}Dn.prototype.j=function(){var Fe,De,$e,qe,He,it,xt,Nt=0;if(xt=this.a,(Fe=rn)===rn?De=Math.LOG2E*Math.log(32768)-8:h(Error("invalid compression method")),xt[Nt++]=$e=De<<4|Fe,Fe===rn)switch(this.h){case bt.NONE:He=0;break;case bt.r:He=1;break;case bt.k:He=2;break;default:h(Error("unsupported compression type"))}else h(Error("invalid compression method"));return xt[Nt++]=(qe=He<<6|0)|31-(256*$e+qe)%31,it=Qt(this.input),this.A.b=Nt,Nt=(xt=this.A.j()).length,_&&((xt=new Uint8Array(xt.buffer)).length<=Nt+4&&(this.a=new Uint8Array(xt.length+4),this.a.set(xt),xt=this.a),xt=xt.subarray(0,Nt+4)),xt[Nt++]=it>>24&255,xt[Nt++]=it>>16&255,xt[Nt++]=it>>8&255,xt[Nt++]=255&it,xt},y("Zlib.Inflate",Ut),y("Zlib.Inflate.prototype.decompress",Ut.prototype.p),Pt("Zlib.Inflate.BufferType",{ADAPTIVE:xe.D,BLOCK:xe.F}),y("Zlib.Deflate",Dn),y("Zlib.Deflate.compress",function(Fe,De){return new Dn(Fe,De).j()}),y("Zlib.Deflate.prototype.compress",Dn.prototype.j),Pt("Zlib.Deflate.CompressionType",{NONE:bt.NONE,FIXED:bt.r,DYNAMIC:bt.k})}).call(this)},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SocketEngine=A.SocketEvent=void 0;var E,v=function(){function V(J,X){for(var Z=0;Z<X.length;Z++){var j=X[Z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(J,j.key,j)}}return function(J,X,Z){return X&&V(J.prototype,X),Z&&V(J,Z),J}}(),y=(E=h(120))&&E.__esModule?E:{default:E},_=h(167),g=h(39),f=h(8),m=h(2),x=h(50),P=h(51),p=h(1);function w(V,J){if(!(V instanceof J))throw new TypeError("Cannot call a class as a function")}var O=Object.freeze({CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"socketData",IOERROR:"socketIOError"}),N=function(V){function J(X){w(this,J);var Z=function(j,K){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!K||"object"!=typeof K&&"function"!=typeof K?j:K}(this,(J.__proto__||Object.getPrototypeOf(J)).call(this));return Z._sfs=X,Z._logger=x.Logger.instance,Z._isConnected=!1,Z._isConnecting=!1,Z._socket=null,Z._protocolCodec=new $(X),Z._disconnectionReason=P.ClientDisconnectionReason.UNKNOWN,Object.seal(Z),Z}return function(X,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);X.prototype=Object.create(Z&&Z.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Z):X.__proto__=Z)}(J,g.EventDispatcher),v(J,[{key:"connect",value:function(X,Z,j){this._isConnecting=!0,this._socket=new WebSocket("ws"+(j?"s":"")+"://"+X+":"+Z+"/BlueBox/websocket"),this._socket.binaryType="arraybuffer",this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError}},{key:"disconnect",value:function(X){this._disconnectionReason=X,this._socket.close()}},{key:"addController",value:function(X,Z){null==this._controllers[X]&&(this._controllers[X]=Z)}},{key:"removeController",value:function(X){delete this._controllers[X]}},{key:"send",value:function(X){this._sfs.debug&&this._logger.debug("OUTGOING MESSAGE: "+X.dump());var Z=this._protocolCodec.onPacketWrite(X);this._socket.send(Z)}},{key:"_onSocketConnect",value:function(){this._scope._sfs.debug&&this._scope._logger.debug("Socket connection established"),this._scope._isConnected=!0,this._scope._isConnecting=!1,this._scope.dispatchEvent(O.CONNECT,{success:!0})}},{key:"_onSocketDisconnect",value:function(){this._scope._isConnected=!1,this._scope.isConnecting?(this._scope._sfs.debug&&this._scope._logger.debug("Can't establish socket connection"),this._scope._isConnecting=!1,this._scope.dispatchEvent(O.CONNECT,{success:!1})):(this._scope._sfs.debug&&this._scope._logger.debug("Socket disconnection occurred"),this._scope.dispatchEvent(O.DISCONNECT,{reason:this._scope._disconnectionReason}),this._scope._disconnectionReason=P.ClientDisconnectionReason.UNKNOWN)}},{key:"_onSocketData",value:function(X){var Z=this._scope._protocolCodec.onPacketRead(X.data);this._scope._sfs.debug&&this._scope._logger.debug("INCOMING MESSAGE: "+Z.dump()),this._scope.dispatchEvent(O.DATA,Z)}},{key:"_onSocketError",value:function(X){this._scope.dispatchEvent(O.IOERROR,X.data)}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"maxMessageSize",get:function(){return this._protocolCodec.maxMessageSize},set:function(X){this._protocolCodec.maxMessageSize=X}},{key:"compressionThreshold",get:function(){return this._protocolCodec.compressionThreshold},set:function(X){this._protocolCodec.compressionThreshold=X}}]),J}(),$=function(){function V(J){w(this,V),this.CONTROLLER_ID="c",this.ACTION_ID="a",this.PARAM_ID="p",this._maxMessageSize=1e4,this._compressionThreshold=1024,this._sfs=J,this._logger=x.Logger.instance,Object.seal(this)}return v(V,[{key:"onPacketRead",value:function(J){if(0!==J.byteLength){var X=new y.default(J,0,y.default.BIG_ENDIAN),Z=X.readUint8(),j=(32&Z)>0,K=(8&Z)>0?X.readUint32():X.readUint16(),Q=X.readUint8Array(K);j&&(Q=this.decompress(Q)),this._sfs.debug&&this._logger.debug(J.byteLength>1024?"DATA READ - Binary size > 1024; dump omitted":"DATA READ - "+P.DumpFormatter.hexDump(Q));var re=f.SFSObject.newFromBinaryData(Q);return new m.Message(re.get(this.ACTION_ID),re.get(this.CONTROLLER_ID),re.get(this.PARAM_ID))}this._logger.error("Unexpected empty packet data: no readable bytes available!")}},{key:"onPacketWrite",value:function(J){var X=new f.SFSObject;X.put(this.CONTROLLER_ID,J.targetController,f.SFSDataType.BYTE),X.put(this.ACTION_ID,J.id,f.SFSDataType.SHORT),X.put(this.PARAM_ID,J.content,f.SFSDataType.SFS_OBJECT);var Z=X.toBinary(),j=Z.byteLength,K=new y.default(new ArrayBuffer(0),0,y.default.BIG_ENDIAN),Q=128;j>this.compressionThreshold&&(Q+=32,j=(Z=this.compress(Z)).byteLength);var re=j>65335;re&&(Q+=8),K.writeUint8(Q),re?K.writeUint32(j):K.writeUint16(j),K.writeUint8Array(Z);var ne=new Uint8Array(K.buffer);if(ne.byteLength>this.maxMessageSize)throw new p.SFSError("Message size is too big: "+ne.byteLength+"; the server limit is: "+this.maxMessageSize);return this._sfs.debug&&this._logger.debug("DATA WRITTEN - "+P.DumpFormatter.hexDump(ne)),ne}},{key:"decompress",value:function(J){return new _.Zlib.Inflate(J).decompress()}},{key:"compress",value:function(J){return new _.Zlib.Deflate(J).compress()}},{key:"maxMessageSize",get:function(){return this._maxMessageSize},set:function(J){this._maxMessageSize=J}},{key:"compressionThreshold",get:function(){return this._compressionThreshold},set:function(J){this._compressionThreshold=J}}]),V}();A.SocketEvent=O,A.SocketEngine=N},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ExtensionController=void 0;var E=function(){function _(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,f,m){return f&&_(g.prototype,f),m&&_(g,m),g}}(),v=h(39),T=h(97),y=function(){function _(g){(function(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")})(this,_),this._sfs=g,this._logger=g.logger,this._id=1,Object.freeze(this)}return E(_,[{key:"handleMessage",value:function(g,f){this._sfs.debug&&this._logger.info("Handling Extension response");var m={};m.cmd=g.get(T.ExtensionRequest.KEY_CMD),m.params=g.get(T.ExtensionRequest.KEY_PARAMS);var x=g.get(T.ExtensionRequest.KEY_ROOM);null!=x&&(m.room=this._sfs.roomManager.getRoomById(x)),this._sfs.dispatchEvent(v.SFSEvent.EXTENSION_RESPONSE,m)}},{key:"id",get:function(){return this._id}}]),_}();A.ExtensionController=y},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var E=function(){function T(y,_){for(var g=0;g<_.length;g++){var f=_[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}return function(y,_,g){return _&&T(y.prototype,_),g&&T(y,g),y}}(),v=function(){function T(){!function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}(this,T)}return E(T,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_ITEM_ID",get:function(){return"i"}},{key:"KEY_VAR_LIST",get:function(){return"v"}}]),T}();A.SetMMOItemVariables=v},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MMOItem=void 0;var E=function(){function y(_,g){for(var f=0;f<g.length;f++){var m=g[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,g,f){return g&&y(_.prototype,g),f&&y(_,f),_}}(),v=h(73),T=function(){function y(_){(function(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")})(this,y),this._id=_,this._aoiEntryPoint=null,this._variables=new Map,Object.seal(this)}return E(y,[{key:"toString",value:function(){return"[Item: "+this.id+"]"}},{key:"getVariable",value:function(_){return this._variables.get(_)}},{key:"containsVariable",value:function(_){return this._variables.has(_)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"_setVariables",value:function(_){var g=!0,f=!1,m=void 0;try{for(var x,P=_[Symbol.iterator]();!(g=(x=P.next()).done);g=!0)this._setVariable(x.value)}catch(w){f=!0,m=w}finally{try{!g&&P.return&&P.return()}finally{if(f)throw m}}}},{key:"_setVariable",value:function(_){_.isNull?this._variables.delete(_.name):this._variables.set(_.name,_)}},{key:"id",get:function(){return this._id}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}}],[{key:"fromSFSArray",value:function(_){var g=new y(_.get(0)),f=_.get(1);if(null!=f)for(var m=0;m<f.size();m++)g._setVariable(v.MMOItemVariable.fromSFSArray(f.get(m)));return g}}]),y}();A.MMOItem=T},function(z,A){!function(h){"use strict";function E(j,K,Q){return K<=j&&j<=Q}function v(j,K){return Math.floor(j/K)}var T=-1,y=-1;function _(j,K){if(j)throw new Error("EncodingError");return K||65533}function g(j){throw new Error("EncodingError")}function f(j){if(j=String(j).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(x,j))return x[j];throw new Error("EncodingError: Unknown encoding: "+j)}var m={},x={};function P(j,K){return(K||[])[j]||null}function p(j,K){var Q=K.indexOf(j);return-1===Q?null:Q}[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}].forEach(function(j){j.encodings.forEach(function(K){m[K.name]=K,K.labels.forEach(function(Q){x[Q]=K})})});var w=h["encoding-indexes"]||{};function O(j,K){var Q=K.fatal,re=0,ne=0,pe=0;this.decode=function(be){var Le,Se=be.get();if(Se===T&&0===re&&0===ne&&0===pe)return y;if(Se!==T||0===re&&0===ne&&0===pe||(re=0,ne=0,pe=0,_(Q)),be.offset(1),0!==pe)return Le=null,E(Se,48,57)&&(Le=function(ge){if(ge>39419&&ge<189e3||ge>1237575)return null;var Xe,he=0,Te=0,Ne=w.gb18030;for(Xe=0;Xe<Ne.length;++Xe){var Ke=Ne[Xe];if(!(Ke[0]<=ge))break;he=Ke[0],Te=Ke[1]}return Te+ge-he}(10*(126*(10*(re-129)+(ne-48))+(pe-129))+Se-48)),re=0,ne=0,pe=0,null===Le?(be.offset(-3),_(Q)):Le;if(0!==ne)return E(Se,129,254)?(pe=Se,null):(be.offset(-2),re=0,ne=0,_(Q));if(0!==re){if(E(Se,48,57)&&j)return ne=Se,null;var xe=re,le=null;re=0;var Ce=Se<127?64:65;return(E(Se,64,126)||E(Se,128,254))&&(le=190*(xe-129)+(Se-Ce)),Le=null===le?null:P(le,w.gbk),null===le&&be.offset(-1),null===Le?_(Q):Le}return E(Se,0,127)?Se:128===Se?8364:E(Se,129,254)?(re=Se,null):_(Q)}}function N(j,K){this.encode=function(Q,re){var ne=re.get();if(ne===y)return T;if(re.offset(1),E(ne,0,127))return Q.emit(ne);var pe=p(ne,w.gbk);if(null!==pe){var be=v(pe,190)+129,Le=pe%190;return Q.emit(be,Le+(Le<63?64:65))}if(null===pe&&!j)return g();var xe=v(v(v(pe=function(Xe){var he,Te=0,Ne=0,Ke=w.gb18030;for(he=0;he<Ke.length;++he){var ot=Ke[he];if(!(ot[1]<=Xe))break;Te=ot[1],Ne=ot[0]}return Ne+Xe-Te}(ne),10),126),10),le=v(v(pe-=10*xe*126*10,10),126),Ce=v(pe-=10*le*126,10);return Q.emit(xe+129,le+48,Ce+129,pe-10*Ce+48)}}function $(j,K){var Q=K.fatal,re=null,ne=null;this.decode=function(pe){var be,Le=pe.get();if(Le===T&&null===re&&null===ne)return y;if(Le===T&&(null!==re||null!==ne))return _(Q);if(pe.offset(1),null===re)return re=Le,null;if(be=j?(re<<8)+Le:(Le<<8)+re,re=null,null!==ne){var Se=ne;return ne=null,E(be,56320,57343)?65536+1024*(Se-55296)+(be-56320):(pe.offset(-2),_(Q))}return E(be,55296,56319)?(ne=be,null):E(be,56320,57343)?_(Q):be}}function V(j,K){this.encode=function(Q,re){function ne(Le){var Se=Le>>8,xe=255&Le;return j?Q.emit(Se,xe):Q.emit(xe,Se)}var pe=re.get();if(pe===y)return T;if(re.offset(1),E(pe,55296,57343)&&g(),pe<=65535)return ne(pe);var be=(pe-65536)%1024+56320;return ne(v(pe-65536,1024)+55296),ne(be)}}m["utf-8"].getEncoder=function(j){return new function(K){this.encode=function(Q,re){var ne,pe,be=re.get();if(be===y)return T;if(re.offset(1),E(be,55296,57343))return g();if(E(be,0,127))return Q.emit(be);E(be,128,2047)?(ne=1,pe=192):E(be,2048,65535)?(ne=2,pe=224):E(be,65536,1114111)&&(ne=3,pe=240);for(var Le=Q.emit(v(be,Math.pow(64,ne))+pe);ne>0;){var Se=v(be,Math.pow(64,ne-1));Le=Q.emit(128+Se%64),ne-=1}return Le}}(j)},m["utf-8"].getDecoder=function(j){return new function(K){var Q=K.fatal,re=0,ne=0,pe=0,be=0;this.decode=function(Le){var Se=Le.get();if(Se===T)return 0!==ne?_(Q):y;if(Le.offset(1),0===ne){if(E(Se,0,127))return Se;if(E(Se,194,223))ne=1,be=128,re=Se-192;else if(E(Se,224,239))ne=2,be=2048,re=Se-224;else{if(!E(Se,240,244))return _(Q);ne=3,be=65536,re=Se-240}return re*=Math.pow(64,ne),null}if(!E(Se,128,191))return re=0,ne=0,pe=0,be=0,Le.offset(-1),_(Q);if(pe+=1,re+=(Se-128)*Math.pow(64,ne-pe),pe!==ne)return null;var xe=re,le=be;return re=0,ne=0,pe=0,be=0,E(xe,le,1114111)&&!E(xe,55296,57343)?xe:_(Q)}}(j)},["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(j){var K=m[j],Q=w[j];K.getDecoder=function(re){return new function(ne,pe){var be=pe.fatal;this.decode=function(Le){var Se=Le.get();if(Se===T)return y;if(Le.offset(1),E(Se,0,127))return Se;var xe=ne[Se-128];return null===xe?_(be):xe}}(Q,re)},K.getEncoder=function(re){return new function(ne,pe){this.encode=function(be,Le){var Se=Le.get();if(Se===y)return T;if(Le.offset(1),E(Se,0,127))return be.emit(Se);var xe=p(Se,ne);return null===xe&&g(),be.emit(xe+128)}}(Q,re)}}),m.gbk.getEncoder=function(j){return new N(!1,j)},m.gbk.getDecoder=function(j){return new O(!1,j)},m.gb18030.getEncoder=function(j){return new N(!0,j)},m.gb18030.getDecoder=function(j){return new O(!0,j)},m["hz-gb-2312"].getEncoder=function(j){return new function(K){var Q=!1;this.encode=function(re,ne){var pe=ne.get();if(pe===y)return T;if(ne.offset(1),E(pe,0,127)&&Q)return ne.offset(-1),Q=!1,re.emit(126,125);if(126===pe)return re.emit(126,126);if(E(pe,0,127))return re.emit(pe);if(!Q)return ne.offset(-1),Q=!0,re.emit(126,123);var be=p(pe,w.gbk);if(null===be)return g();var Le=v(be,190)+1,Se=be%190-63;return E(Le,33,126)&&E(Se,33,126)?re.emit(Le,Se):g()}}(j)},m["hz-gb-2312"].getDecoder=function(j){return new function(K){var Q=K.fatal,re=!1,ne=0;this.decode=function(pe){var be=pe.get();if(be===T&&0===ne)return y;if(be===T&&0!==ne)return ne=0,_(Q);if(pe.offset(1),126===ne)return ne=0,123===be?(re=!0,null):125===be?(re=!1,null):126===be?126:10===be?null:(pe.offset(-1),_(Q));if(0!==ne){var Le=ne;ne=0;var Se=null;return E(be,33,126)&&(Se=P(190*(Le-1)+(be+63),w.gbk)),10===be&&(re=!1),null===Se?_(Q):Se}return 126===be?(ne=126,null):re?E(be,32,127)?(ne=be,null):(10===be&&(re=!1),_(Q)):E(be,0,127)?be:_(Q)}}(j)},m.big5.getEncoder=function(j){return new function(K){this.encode=function(Q,re){var ne=re.get();if(ne===y)return T;if(re.offset(1),E(ne,0,127))return Q.emit(ne);var pe=p(ne,w.big5);if(null===pe)return g();var be=v(pe,157)+129,Le=pe%157;return Q.emit(be,Le+(Le<63?64:98))}}(j)},m.big5.getDecoder=function(j){return new function(K){var Q=K.fatal,re=0,ne=null;this.decode=function(pe){if(null!==ne){var be=ne;return ne=null,be}var Le=pe.get();if(Le===T&&0===re)return y;if(Le===T&&0!==re)return re=0,_(Q);if(pe.offset(1),0!==re){var Se=re,xe=null;re=0;var le=Le<127?64:98;if((E(Le,64,126)||E(Le,161,254))&&(xe=157*(Se-129)+(Le-le)),1133===xe)return ne=772,202;if(1135===xe)return ne=780,202;if(1164===xe)return ne=772,234;if(1166===xe)return ne=780,234;var Ce=null===xe?null:P(xe,w.big5);return null===xe&&pe.offset(-1),null===Ce?_(Q):Ce}return E(Le,0,127)?Le:E(Le,129,254)?(re=Le,null):_(Q)}}(j)},m["euc-jp"].getEncoder=function(j){return new function(K){this.encode=function(Q,re){var ne=re.get();if(ne===y)return T;if(re.offset(1),E(ne,0,127))return Q.emit(ne);if(165===ne)return Q.emit(92);if(8254===ne)return Q.emit(126);if(E(ne,65377,65439))return Q.emit(142,ne-65377+161);var pe=p(ne,w.jis0208);if(null===pe)return g();var be=v(pe,94)+161;return Q.emit(be,pe%94+161)}}(j)},m["euc-jp"].getDecoder=function(j){return new function(K){var Q=K.fatal,re=0,ne=0;this.decode=function(pe){var be,Le,Se=pe.get();return Se===T?0===re&&0===ne?y:(re=0,ne=0,_(Q)):(pe.offset(1),0!==ne?(be=ne,ne=0,Le=null,E(be,161,254)&&E(Se,161,254)&&(Le=P(94*(be-161)+Se-161,w.jis0212)),E(Se,161,254)||pe.offset(-1),null===Le?_(Q):Le):142===re&&E(Se,161,223)?(re=0,65377+Se-161):143===re&&E(Se,161,254)?(re=0,ne=Se,null):0!==re?(be=re,re=0,Le=null,E(be,161,254)&&E(Se,161,254)&&(Le=P(94*(be-161)+Se-161,w.jis0208)),E(Se,161,254)||pe.offset(-1),null===Le?_(Q):Le):E(Se,0,127)?Se:142===Se||143===Se||E(Se,161,254)?(re=Se,null):_(Q))}}(j)},m["iso-2022-jp"].getEncoder=function(j){return new function(K){var pe=0;this.encode=function(be,Le){var Se=Le.get();if(Se===y)return T;if(Le.offset(1),(E(Se,0,127)||165===Se||8254===Se)&&0!==pe)return Le.offset(-1),pe=0,be.emit(27,40,66);if(E(Se,0,127))return be.emit(Se);if(165===Se)return be.emit(92);if(8254===Se)return be.emit(126);if(E(Se,65377,65439)&&2!==pe)return Le.offset(-1),pe=2,be.emit(27,40,73);if(E(Se,65377,65439))return be.emit(Se-65377-33);if(1!==pe)return Le.offset(-1),pe=1,be.emit(27,36,66);var xe=p(Se,w.jis0208);if(null===xe)return g();var le=v(xe,94)+33;return be.emit(le,xe%94+33)}}(j)},m["iso-2022-jp"].getDecoder=function(j){return new function(K){var Q=K.fatal,le=0,Ce=!1,ge=0;this.decode=function(Xe){var he=Xe.get();switch(he!==T&&Xe.offset(1),le){default:case 0:return 27===he?(le=1,null):E(he,0,127)?he:he===T?y:_(Q);case 1:return 36===he||40===he?(ge=he,le=2,null):(he!==T&&Xe.offset(-1),le=0,_(Q));case 2:var Te=ge;return ge=0,36!==Te||64!==he&&66!==he?36===Te&&40===he?(le=3,null):40!==Te||66!==he&&74!==he?40===Te&&73===he?(le=6,null):(Xe.offset(he===T?-1:-2),le=0,_(Q)):(le=0,null):(Ce=!1,le=4,null);case 3:return 68===he?(Ce=!0,le=4,null):(Xe.offset(he===T?-2:-3),le=0,_(Q));case 4:return 10===he?(le=0,_(Q,10)):27===he?(le=1,null):he===T?y:(ge=he,le=5,null);case 5:if(le=4,he===T)return _(Q);var Ne=null,Ke=94*(ge-33)+he-33;return E(ge,33,126)&&E(he,33,126)&&(Ne=P(Ke,!1===Ce?w.jis0208:w.jis0212)),null===Ne?_(Q):Ne;case 6:return 27===he?(le=1,null):E(he,33,95)?65377+he-33:he===T?y:_(Q)}}}(j)},m.shift_jis.getEncoder=function(j){return new function(K){this.encode=function(Q,re){var ne=re.get();if(ne===y)return T;if(re.offset(1),E(ne,0,128))return Q.emit(ne);if(165===ne)return Q.emit(92);if(8254===ne)return Q.emit(126);if(E(ne,65377,65439))return Q.emit(ne-65377+161);var pe=p(ne,w.jis0208);if(null===pe)return g();var be=v(pe,188),Se=pe%188;return Q.emit(be+(be<31?129:193),Se+(Se<63?64:65))}}(j)},m.shift_jis.getDecoder=function(j){return new function(K){var Q=K.fatal,re=0;this.decode=function(ne){var pe=ne.get();if(pe===T&&0===re)return y;if(pe===T&&0!==re)return re=0,_(Q);if(ne.offset(1),0!==re){var be=re;if(re=0,E(pe,64,126)||E(pe,128,252)){var Le=P(188*(be-(be<160?129:193))+pe-(pe<127?64:65),w.jis0208);return null===Le?_(Q):Le}return ne.offset(-1),_(Q)}return E(pe,0,128)?pe:E(pe,161,223)?65377+pe-161:E(pe,129,159)||E(pe,224,252)?(re=pe,null):_(Q)}}(j)},m["euc-kr"].getEncoder=function(j){return new function(K){this.encode=function(Q,re){var ne=re.get();if(ne===y)return T;if(re.offset(1),E(ne,0,127))return Q.emit(ne);var pe,be,Le=p(ne,w["euc-kr"]);if(null===Le)return g();if(Le<12460){pe=v(Le,178)+129;var Se=(be=Le%178)<26?65:be<52?71:77;return Q.emit(pe,be+Se)}return pe=v(Le-=12460,94)+199,Q.emit(pe,be=Le%94+161)}}(j)},m["euc-kr"].getDecoder=function(j){return new function(K){var Q=K.fatal,re=0;this.decode=function(ne){var pe=ne.get();if(pe===T&&0===re)return y;if(pe===T&&0!==re)return re=0,_(Q);if(ne.offset(1),0!==re){var be=re,Le=null;if(re=0,E(be,129,198)){var Se=178*(be-129);E(pe,65,90)?Le=Se+pe-65:E(pe,97,122)?Le=Se+26+pe-97:E(pe,129,254)&&(Le=Se+26+26+pe-129)}E(be,199,253)&&E(pe,161,254)&&(Le=12460+94*(be-199)+(pe-161));var xe=null===Le?null:P(Le,w["euc-kr"]);return null===Le&&ne.offset(-1),null===xe?_(Q):xe}return E(pe,0,127)?pe:E(pe,129,253)?(re=pe,null):_(Q)}}(j)},m["iso-2022-kr"].getEncoder=function(j){return new function(K){var ne=!1,pe=0;this.encode=function(be,Le){var Se=Le.get();if(Se===y)return T;if(ne||(ne=!0,be.emit(27,36,41,67)),Le.offset(1),E(Se,0,127)&&0!==pe)return Le.offset(-1),pe=0,be.emit(15);if(E(Se,0,127))return be.emit(Se);if(1!==pe)return Le.offset(-1),pe=1,be.emit(14);var xe,le,Ce=p(Se,w["euc-kr"]);return null===Ce?g():Ce<12460?(le=Ce%178-26-26+1,E(xe=v(Ce,178)+1,33,70)&&E(le,33,126)?be.emit(xe,le):g()):(le=(Ce-=12460)%94+33,E(xe=v(Ce,94)+71,71,126)&&E(le,33,126)?be.emit(xe,le):g())}}(j)},m["iso-2022-kr"].getDecoder=function(j){return new function(K){var Q=K.fatal,xe=0,le=0;this.decode=function(Ce){var ge=Ce.get();switch(ge!==T&&Ce.offset(1),xe){default:case 0:return 14===ge?(xe=4,null):15===ge?null:27===ge?(xe=1,null):E(ge,0,127)?ge:ge===T?y:_(Q);case 1:return 36===ge?(xe=2,null):(ge!==T&&Ce.offset(-1),xe=0,_(Q));case 2:return 41===ge?(xe=3,null):(Ce.offset(ge===T?-1:-2),xe=0,_(Q));case 3:return 67===ge?(xe=0,null):(Ce.offset(ge===T?-2:-3),xe=0,_(Q));case 4:return 10===ge?(xe=0,_(Q,10)):14===ge?null:15===ge?(xe=0,null):ge===T?y:(le=ge,xe=5,null);case 5:if(xe=4,ge===T)return _(Q);var Xe=null;return E(le,33,70)&&E(ge,33,126)?Xe=P(178*(le-1)+26+26+ge-1,w["euc-kr"]):E(le,71,126)&&E(ge,33,126)&&(Xe=P(12460+94*(le-71)+(ge-33),w["euc-kr"])),null!==Xe?Xe:_(Q)}}}(j)},m["utf-16"].getEncoder=function(j){return new V(!1,j)},m["utf-16"].getDecoder=function(j){return new $(!1,j)},m["utf-16be"].getEncoder=function(j){return new V(!0,j)},m["utf-16be"].getDecoder=function(j){return new $(!0,j)};var J="utf-8";function X(j,K){return this&&this!==h?(j=j?String(j):J,K=Object(K),this._encoding=f(j),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(K.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new X(j,K)}function Z(j,K){return this&&this!==h?(j=j?String(j):J,K=Object(K),this._encoding=f(j),this._streaming=!1,this._decoder=null,this._options={fatal:Boolean(K.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new Z(j,K)}X.prototype={encode:function(j,K){j=j?String(j):"",K=Object(K),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(K.stream);for(var Q=[],re=new function(be){var Le=0;this.emit=function(Se){var xe,le=T;for(xe=0;xe<arguments.length;++xe)le=Number(arguments[xe]),be[Le++]=le;return le}}(Q),ne=new function(be){var Le=0,Se=function(){for(var xe=[],le=0,Ce=be.length;le<be.length;){var ge=be.charCodeAt(le);if(E(ge,55296,57343))if(E(ge,56320,57343))xe.push(65533);else if(le===Ce-1)xe.push(65533);else{var Xe=be.charCodeAt(le+1);E(Xe,56320,57343)?(le+=1,xe.push(65536+((1023&ge)<<10)+(1023&Xe))):xe.push(65533)}else xe.push(ge);le+=1}return xe}();this.offset=function(xe){if((Le+=xe)<0)throw new Error("Seeking past start of the buffer");if(Le>Se.length)throw new Error("Seeking past EOF")},this.get=function(){return Le>=Se.length?y:Se[Le]}}(j);ne.get()!==y;)this._encoder.encode(re,ne);if(!this._streaming){var pe;do{pe=this._encoder.encode(re,ne)}while(pe!==T);this._encoder=null}return new Uint8Array(Q)}},Z.prototype={decode:function(j,K){if(j&&!("buffer"in j&&"byteOffset"in j&&"byteLength"in j))throw new TypeError("Expected ArrayBufferView");j||(j=new Uint8Array(0)),K=Object(K),this._streaming||(this._decoder=this._encoding.getDecoder(this._options)),this._streaming=Boolean(K.stream);var pe,be,Q=new function(pe){var be=0;this.get=function(){return be>=pe.length?T:Number(pe[be])},this.offset=function(Le){if((be+=Le)<0)throw new Error("Seeking past start of the buffer");if(be>pe.length)throw new Error("Seeking past EOF")},this.match=function(Le){if(Le.length>be+pe.length)return!1;var Se;for(Se=0;Se<Le.length;Se+=1)if(Number(pe[be+Se])!==Le[Se])return!1;return!0}}(new Uint8Array(j.buffer,j.byteOffset,j.byteLength));if(f((pe=this._encoding.name,(be=Q).match([255,254])?(be.offset(2),"utf-16"):be.match([254,255])?(be.offset(2),"utf-16be"):be.match([239,187,191])?(be.offset(3),"utf-8"):pe))!==this._encoding)throw new Error("BOM mismatch");for(var re,ne=new function(){var pe="";this.string=function(){return pe},this.emit=function(be){be<=65535?pe+=String.fromCharCode(be):(be-=65536,pe+=String.fromCharCode(55296+(be>>10&1023)),pe+=String.fromCharCode(56320+(1023&be)))}};Q.get()!==T;)null!==(re=this._decoder.decode(Q))&&re!==y&&ne.emit(re);if(!this._streaming){do{null!==(re=this._decoder.decode(Q))&&re!==y&&ne.emit(re)}while(re!==y);this._decoder=null}return ne.string()}},h.TextEncoder=h.TextEncoder||X,h.TextDecoder=h.TextDecoder||Z}(this)},function(z,A){z.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSDataSerializer=void 0;var E,v=function(){function P(p,w){for(var O=0;O<w.length;O++){var N=w[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}return function(p,w,O){return w&&P(p.prototype,w),O&&P(p,O),p}}(),y=(E=h(120))&&E.__esModule?E:{default:E},_=h(172),g=h(8),f=Symbol(),m=Symbol(),x=function(){function P(p){if(function(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")}(this,P),p!==m)throw"SFSDataSerializer is a singleton class; you can't instantiate it"}return v(P,[{key:"object2binary",value:function(p){var w=new y.default(new ArrayBuffer(0),0,y.default.BIG_ENDIAN);return w.writeInt8(g.SFSDataType.SFS_OBJECT),w.writeInt16(p.size()),this.obj2bin(p,w),new Uint8Array(w.buffer)}},{key:"obj2bin",value:function(p,w){var O=!0,N=!1,$=void 0;try{for(var V,J=p.keys()[Symbol.iterator]();!(O=(V=J.next()).done);O=!0){var X=V.value,Z=p.getWrappedItem(X);this.encodeSFSObjectKey(w,X),this.encodeObject(w,Z)}}catch(j){N=!0,$=j}finally{try{!O&&J.return&&J.return()}finally{if(N)throw $}}}},{key:"array2binary",value:function(p){var w=new y.default(new ArrayBuffer(0),0,y.default.BIG_ENDIAN);return w.writeInt8(g.SFSDataType.SFS_ARRAY),w.writeInt16(p.size()),this.arr2bin(p,w),new Uint8Array(w.buffer)}},{key:"arr2bin",value:function(p,w){for(var O=0;O<p.size();O++){var N=p.getWrappedItem(O);this.encodeObject(w,N)}}},{key:"encodeSFSObjectKey",value:function(p,w){p.writeInt16(w.length),p.writeUint8Array(new _.TextEncoder("utf-8").encode(w))}},{key:"encodeObject",value:function(p,w){var O=w.type;if(O===g.SFSDataType.NULL)this.binEncode_NULL(p,w);else if(O===g.SFSDataType.BOOL)this.binEncode_BOOL(p,w);else if(O===g.SFSDataType.BOOL_ARRAY)this.binEncode_BOOL_ARRAY(p,w);else if(O===g.SFSDataType.BYTE)this.binEncode_BYTE(p,w);else if(O===g.SFSDataType.BYTE_ARRAY)this.binEncode_BYTE_ARRAY(p,w);else if(O===g.SFSDataType.SHORT)this.binEncode_SHORT(p,w);else if(O===g.SFSDataType.SHORT_ARRAY)this.binEncode_SHORT_ARRAY(p,w);else if(O===g.SFSDataType.INT)this.binEncode_INT(p,w);else if(O===g.SFSDataType.INT_ARRAY)this.binEncode_INT_ARRAY(p,w);else if(O===g.SFSDataType.LONG)this.binEncode_LONG(p,w);else if(O===g.SFSDataType.LONG_ARRAY)this.binEncode_LONG_ARRAY(p,w);else if(O===g.SFSDataType.FLOAT)this.binEncode_FLOAT(p,w);else if(O===g.SFSDataType.FLOAT_ARRAY)this.binEncode_FLOAT_ARRAY(p,w);else if(O===g.SFSDataType.DOUBLE)this.binEncode_DOUBLE(p,w);else if(O===g.SFSDataType.DOUBLE_ARRAY)this.binEncode_DOUBLE_ARRAY(p,w);else if(O===g.SFSDataType.UTF_STRING)this.binEncode_UTF_STRING(p,w);else if(O===g.SFSDataType.TEXT)this.binEncode_TEXT(p,w);else if(O===g.SFSDataType.UTF_STRING_ARRAY)this.binEncode_UTF_STRING_ARRAY(p,w);else if(O===g.SFSDataType.SFS_ARRAY)p.writeUint8Array(this.array2binary(w.value));else{if(O!==g.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+O;p.writeUint8Array(this.object2binary(w.value))}return p}},{key:"binEncode_NULL",value:function(p,w){p.writeUint8(w.type)}},{key:"binEncode_BOOL",value:function(p,w){p.writeUint8(w.type),p.writeUint8(w.value?1:0)}},{key:"binEncode_BOOL_ARRAY",value:function(p,w){var O=w.value;p.writeUint8(w.type),p.writeUint16(O.length);for(var N=0;N<O.length;N++)p.writeUint8(O[N]?1:0)}},{key:"binEncode_BYTE",value:function(p,w){p.writeUint8(w.type),p.writeUint8(w.value)}},{key:"binEncode_BYTE_ARRAY",value:function(p,w){var O=w.value;p.writeUint8(w.type),p.writeUint32(O.length),p.writeUint8Array(O)}},{key:"binEncode_SHORT",value:function(p,w){p.writeUint8(w.type),p.writeUint16(w.value)}},{key:"binEncode_SHORT_ARRAY",value:function(p,w){var O=w.value;p.writeUint8(w.type),p.writeUint16(O.length);for(var N=0;N<O.length;N++)p.writeUint16(O[N])}},{key:"binEncode_INT",value:function(p,w){p.writeUint8(w.type),p.writeUint32(w.value)}},{key:"binEncode_INT_ARRAY",value:function(p,w){var O=w.value;p.writeUint8(w.type),p.writeUint16(O.length);for(var N=0;N<O.length;N++)p.writeUint32(O[N])}},{key:"binEncode_LONG",value:function(p,w){var O=w.value,N=Math.floor(O/Math.pow(2,32)),$=O%Math.pow(2,32);p.writeUint8(w.type),p.writeInt32(N),p.writeInt32($)}},{key:"binEncode_LONG_ARRAY",value:function(p,w){var O=w.value;p.writeUint8(w.type),p.writeUint16(O.length);for(var N=0;N<O.length;N++){var $=O[N],V=Math.floor($/Math.pow(2,32)),J=$%Math.pow(2,32);p.writeInt32(V),p.writeInt32(J)}}},{key:"binEncode_FLOAT",value:function(p,w){p.writeUint8(w.type),p.writeFloat32(w.value)}},{key:"binEncode_FLOAT_ARRAY",value:function(p,w){var O=w.value;p.writeUint8(w.type),p.writeUint16(O.length);for(var N=0;N<O.length;N++)p.writeFloat32(O[N])}},{key:"binEncode_DOUBLE",value:function(p,w){p.writeUint8(w.type),p.writeFloat64(w.value)}},{key:"binEncode_DOUBLE_ARRAY",value:function(p,w){var O=w.value;p.writeUint8(w.type),p.writeUint16(O.length);for(var N=0;N<O.length;N++)p.writeFloat64(O[N])}},{key:"binEncode_UTF_STRING",value:function(p,w){var O=new _.TextEncoder("utf-8").encode(w.value);p.writeUint8(w.type),p.writeUint16(O.length),p.writeUint8Array(O)}},{key:"binEncode_TEXT",value:function(p,w){var O=new _.TextEncoder("utf-8").encode(w.value);p.writeUint8(w.type),p.writeUint32(O.length),p.writeUint8Array(O)}},{key:"binEncode_UTF_STRING_ARRAY",value:function(p,w){var O=w.value;p.writeUint8(w.type),p.writeUint16(O.length);for(var N=0;N<O.length;N++){var $=new _.TextEncoder("utf-8").encode(O[N]);p.writeUint16($.byteLength),p.writeUint8Array($)}}},{key:"binary2object",value:function(p){if(p.byteLength<3)throw"Can't decode an SFSObject. Byte data is insufficient. Size: "+p.byteLength+" bytes";return this.decodeSFSObject(new y.default(p,0,y.default.BIG_ENDIAN))}},{key:"binary2array",value:function(p){if(p.byteLength<3)throw"Can't decode an SFSArray. Byte data is insufficient. Size: "+p.byteLength+" bytes";return this.decodeSFSArray(new y.default(p,0,y.default.BIG_ENDIAN))}},{key:"decodeSFSObject",value:function(p){var w=new g.SFSObject,O=p.readUint8();if(O!==g.SFSDataType.SFS_OBJECT)throw"Invalid SFSDataType. Expected: "+g.SFSDataType.SFS_OBJECT+", found: "+O;var N=p.readUint16();if(N<0)throw"Can't decode SFSObject. Size is negative: "+N;try{for(var $=0;$<N;$++){var V=p.readUint16();if(V<0||V>255)throw"Invalid SFSObject key length. Found: "+V;var J=p.readUint8Array(V),X=String.fromCharCode.apply(String,J),Z=this.decodeObject(p);if(null==Z)throw"Could not decode value for key: "+X;w.put(X,Z.value,Z.type,!0)}}catch(j){throw j}return w}},{key:"decodeSFSArray",value:function(p){var w=new g.SFSArray,O=p.readUint8();if(O!==g.SFSDataType.SFS_ARRAY)throw"Invalid SFSDataType. Expected: "+g.SFSDataType.SFS_ARRAY+", found: "+O;var N=p.readInt16();if(N<0)throw"Can't decode SFSArray. Size is negative: "+N;try{for(var $=0;$<N;$++){var V=this.decodeObject(p);if(null==V)throw"Could not decode value for index: "+$;w.add(V.value,V.type,!0)}}catch(J){throw J}return w}},{key:"decodeObject",value:function(p){var w=null,O=p.readUint8();if(O===g.SFSDataType.NULL)w=this.binDecode_NULL(p);else if(O===g.SFSDataType.BOOL)w=this.binDecode_BOOL(p);else if(O===g.SFSDataType.BOOL_ARRAY)w=this.binDecode_BOOL_ARRAY(p);else if(O===g.SFSDataType.BYTE)w=this.binDecode_BYTE(p);else if(O===g.SFSDataType.BYTE_ARRAY)w=this.binDecode_BYTE_ARRAY(p);else if(O===g.SFSDataType.SHORT)w=this.binDecode_SHORT(p);else if(O===g.SFSDataType.SHORT_ARRAY)w=this.binDecode_SHORT_ARRAY(p);else if(O===g.SFSDataType.INT)w=this.binDecode_INT(p);else if(O===g.SFSDataType.INT_ARRAY)w=this.binDecode_INT_ARRAY(p);else if(O===g.SFSDataType.LONG)w=this.binDecode_LONG(p);else if(O===g.SFSDataType.LONG_ARRAY)w=this.binDecode_LONG_ARRAY(p);else if(O===g.SFSDataType.FLOAT)w=this.binDecode_FLOAT(p);else if(O===g.SFSDataType.FLOAT_ARRAY)w=this.binDecode_FLOAT_ARRAY(p);else if(O===g.SFSDataType.DOUBLE)w=this.binDecode_DOUBLE(p);else if(O===g.SFSDataType.DOUBLE_ARRAY)w=this.binDecode_DOUBLE_ARRAY(p);else if(O===g.SFSDataType.UTF_STRING)w=this.binDecode_UTF_STRING(p);else if(O===g.SFSDataType.TEXT)w=this.binDecode_TEXT(p);else if(O===g.SFSDataType.UTF_STRING_ARRAY)w=this.binDecode_UTF_STRING_ARRAY(p);else if(O===g.SFSDataType.SFS_ARRAY){p.seek(p.position-1);var N=this.decodeSFSArray(p);w=new g.SFSDataWrapper(O,N)}else{if(O!==g.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+O;p.seek(p.position-1);var $=this.decodeSFSObject(p);w=new g.SFSDataWrapper(O,$)}return w}},{key:"binDecode_NULL",value:function(p){return new g.SFSDataWrapper(g.SFSDataType.NULL,null)}},{key:"binDecode_BOOL",value:function(p){var w=p.readUint8(),O=null;if(0===w)O=!1;else{if(1!==w)throw"Error decoding Bool type. Illegal value: "+w;O=!0}return new g.SFSDataWrapper(g.SFSDataType.BOOL,O)}},{key:"binDecode_BOOL_ARRAY",value:function(p){for(var w=this.getTypedArraySize(p),O=[],N=0;N<w;N++){var $=p.readUint8(),V=null;if(0===$)V=!1;else{if(1!==$)throw"Error decoding Bool type. Illegal value: "+$;V=!0}O.push(V)}return new g.SFSDataWrapper(g.SFSDataType.BOOL_ARRAY,O)}},{key:"binDecode_BYTE",value:function(p){var w=p.readUint8();return new g.SFSDataWrapper(g.SFSDataType.BYTE,w)}},{key:"binDecode_BYTE_ARRAY",value:function(p){var w=p.readInt32();if(w<0)throw"Error decoding typed array size. Negative size: "+w;for(var O=new Uint8Array(w),N=0;N<w;N++)O[N]=p.readUint8();return new g.SFSDataWrapper(g.SFSDataType.BYTE_ARRAY,O)}},{key:"binDecode_SHORT",value:function(p){var w=p.readInt16();return new g.SFSDataWrapper(g.SFSDataType.SHORT,w)}},{key:"binDecode_SHORT_ARRAY",value:function(p){for(var w=this.getTypedArraySize(p),O=[],N=0;N<w;N++)O.push(p.readInt16());return new g.SFSDataWrapper(g.SFSDataType.SHORT_ARRAY,O)}},{key:"binDecode_INT",value:function(p){var w=p.readInt32();return new g.SFSDataWrapper(g.SFSDataType.INT,w)}},{key:"binDecode_INT_ARRAY",value:function(p){for(var w=this.getTypedArraySize(p),O=[],N=0;N<w;N++)O.push(p.readInt32());return new g.SFSDataWrapper(g.SFSDataType.INT_ARRAY,O)}},{key:"binDecode_LONG",value:function(p){var w=p.readInt32(),O=p.readUint32(),N=w*Math.pow(2,32)+O;return new g.SFSDataWrapper(g.SFSDataType.LONG,N)}},{key:"binDecode_LONG_ARRAY",value:function(p){for(var w=this.getTypedArraySize(p),O=[],N=0;N<w;N++){var $=p.readInt32(),V=p.readUint32(),J=$*Math.pow(2,32)+V;O.push(J)}return new g.SFSDataWrapper(g.SFSDataType.LONG_ARRAY,O)}},{key:"binDecode_FLOAT",value:function(p){var w=p.readFloat32();return new g.SFSDataWrapper(g.SFSDataType.FLOAT,w)}},{key:"binDecode_FLOAT_ARRAY",value:function(p){for(var w=this.getTypedArraySize(p),O=[],N=0;N<w;N++)O.push(p.readFloat32());return new g.SFSDataWrapper(g.SFSDataType.FLOAT_ARRAY,O)}},{key:"binDecode_DOUBLE",value:function(p){var w=p.readFloat64();return new g.SFSDataWrapper(g.SFSDataType.DOUBLE,w)}},{key:"binDecode_DOUBLE_ARRAY",value:function(p){for(var w=this.getTypedArraySize(p),O=[],N=0;N<w;N++)O.push(p.readFloat64());return new g.SFSDataWrapper(g.SFSDataType.DOUBLE_ARRAY,O)}},{key:"binDecode_UTF_STRING",value:function(p){var w=p.readInt16();if(w<0)throw"Error decoding UTF_STRING. Negative size: "+w;var O=p.readUint8Array(w),N=new _.TextDecoder("utf-8").decode(O);return new g.SFSDataWrapper(g.SFSDataType.UTF_STRING,N)}},{key:"binDecode_UTF_STRING_ARRAY",value:function(p){for(var w=this.getTypedArraySize(p),O=[],N=0;N<w;N++){var $=p.readInt16();if($<0)throw"Error decoding UTF_STRING. Negative size: "+$;var V=p.readUint8Array($),J=new _.TextDecoder("utf-8").decode(V);O.push(J)}return new g.SFSDataWrapper(g.SFSDataType.UTF_STRING_ARRAY,O)}},{key:"binDecode_TEXT",value:function(p){var w=p.readInt32();if(w<0)throw"Error decoding TEXT. Negative size: "+w;var O=p.readUint8Array(w),N=new _.TextDecoder("utf-8").decode(O);return new g.SFSDataWrapper(g.SFSDataType.TEXT,N)}},{key:"getTypedArraySize",value:function(p){var w=p.readUint16();if(w<0)throw"Error decoding typed array size. Negative size: "+w;return w}}],[{key:"instance",get:function(){return this[f]||(this[f]=new P(m)),Object.seal(this[f])}}]),P}();A.SFSDataSerializer=x},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SystemController=void 0;var E=function(){function tt(me,Ie){for(var ke=0;ke<Ie.length;ke++){var ze=Ie[ke];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(me,ze.key,ze)}}return function(me,Ie,ke){return Ie&&tt(me.prototype,Ie),ke&&tt(me,ke),me}}(),v=h(2),T=h(39),y=h(74),_=h(8),g=h(9),f=h(47),m=h(171),x=h(58),P=h(72),p=h(59),w=h(49),O=h(73),N=h(46),$=h(51),V=h(118),J=h(117),X=h(116),Z=h(57),j=h(115),K=h(114),Q=h(113),re=h(70),ne=h(112),pe=h(111),be=h(110),Le=h(109),Se=h(108),xe=h(107),le=h(106),Ce=h(105),ge=h(69),Xe=h(170),he=h(104),Te=h(103),Ne=h(102),Ke=h(101),ot=h(100),Ze=h(99),mt=h(98),yt=function(){function tt(me){(function(Ie,ke){if(!(Ie instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,tt),this._sfs=me,this._logger=me.logger,this._id=0,this._messageHandlers=new Map,this._initMessageHandlers(),Object.freeze(this)}return E(tt,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}},{key:"ROOM_PARAM",get:function(){return"r"}},{key:"USER_PARAM",get:function(){return"u"}},{key:"USER_COUNT_PARAM",get:function(){return"uc"}},{key:"SPECT_COUNT_PARAM",get:function(){return"sc"}},{key:"DISCONNECTION_REASON_PARAM",get:function(){return"dr"}}]),E(tt,[{key:"handleMessage",value:function(me,Ie){var ke=this._messageHandlers.get(Ie);null!=ke?(this._sfs.debug&&this._logger.info("Handling server event: "+ke.name+" ("+Ie+")"),ke.handler.call(this,me)):this._logger.warn("Unknown server event received; id: "+Ie)}},{key:"_initMessageHandlers",value:function(){this._setHandler(v.Requests.Handshake,this._fnHandshake),this._setHandler(v.Requests.Login,this._fnLogin),this._setHandler(v.Requests.Logout,this._fnLogout),this._setHandler(v.Requests.JoinRoom,this._fnJoinRoom),this._setHandler(v.Requests.CreateRoom,this._fnCreateRoom),this._setHandler(v.Requests.ChangeRoomName,this._fnChangeRoomName),this._setHandler(v.Requests.ChangeRoomPassword,this._fnChangeRoomPassword),this._setHandler(v.Requests.ChangeRoomCapacity,this._fnChangeRoomCapacity),this._setHandler(v.Requests.GenericMessage,this._fnGenericMessage),this._setHandler(v.Requests.SetRoomVariables,this._fnSetRoomVariables),this._setHandler(v.Requests.SetUserVariables,this._fnSetUserVariables),this._setHandler(v.Requests.SubscribeRoomGroup,this._fnSubscribeRoomGroup),this._setHandler(v.Requests.UnsubscribeRoomGroup,this._fnUnsubscribeRoomGroup),this._setHandler(v.Requests.SpectatorToPlayer,this._fnSpectatorToPlayer),this._setHandler(v.Requests.PlayerToSpectator,this._fnPlayerToSpectator),this._setHandler(v.Requests.FindRooms,this._fnFindRooms),this._setHandler(v.Requests.FindUsers,this._fnFindUsers),this._setHandler(v.Requests.PingPong,this._fnPingPong),this._setHandler(v.Requests.InitBuddyList,this._fnInitBuddyList),this._setHandler(v.Requests.AddBuddy,this._fnAddBuddy),this._setHandler(v.Requests.RemoveBuddy,this._fnRemoveBuddy),this._setHandler(v.Requests.BlockBuddy,this._fnBlockBuddy),this._setHandler(v.Requests.GoOnline,this._fnGoOnline),this._setHandler(v.Requests.SetBuddyVariables,this._fnSetBuddyVariables),this._setHandler(v.Requests.QuickJoinGame,this._fnQuickJoinGame),this._setHandler(v.Requests.InviteUsers,this._fnInviteUsers),this._setHandler(v.Requests.InvitationReply,this._fnInvitationReply),this._setHandler(v.Requests.SetUserPosition,this._fnSetUserPosition),this._setHandler(1e3,this._fnUserEnterRoom,"UserEnterRoom"),this._setHandler(1001,this._fnUserCountChange,"UserCountChange"),this._setHandler(1002,this._fnUserLost,"UserLost"),this._setHandler(1003,this._fnRoomLost,"RoomLost"),this._setHandler(1004,this._fnUserExitRoom,"UserExitRoom"),this._setHandler(1005,this._fnClientDisconnection,"ClientDisconnection"),this._setHandler(1007,this._fnSetMMOItemVariables,"SetMMOItemVariables")}},{key:"_setHandler",value:function(me,Ie){var ke=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==ke&&(ke=v.Requests.getNameFromId(me)),this._messageHandlers.set(me,{name:ke,handler:Ie})}},{key:"_fnHandshake",value:function(me){this._sfs._handleHandShake(me)}},{key:"_fnLogin",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){this._populateRoomList(me.get(V.LoginRequest.KEY_ROOMLIST)),this._sfs._mySelf=new f.SFSUser(me.get(V.LoginRequest.KEY_ID),me.get(V.LoginRequest.KEY_USER_NAME),!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf._privilegeId=me.get(V.LoginRequest.KEY_PRIVILEGE_ID),this._sfs.userManager._addUser(this._sfs.mySelf);var Ie={};Ie.zone=me.get(V.LoginRequest.KEY_ZONE_NAME),Ie.user=this._sfs.mySelf,Ie.data=me.get(V.LoginRequest.KEY_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.LOGIN,Ie)}else this._dispatchError(T.SFSEvent.LOGIN_ERROR,me)}},{key:"_fnLogout",value:function(me){this._sfs._handleLogout();var Ie={};Ie.zone=me.get(J.LogoutRequest.KEY_ZONE_NAME),this._sfs.dispatchEvent(T.SFSEvent.LOGOUT,Ie)}},{key:"_fnJoinRoom",value:function(me){if(this._sfs._isJoining=!1,null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(X.JoinRoomRequest.KEY_ROOM),ke=me.get(X.JoinRoomRequest.KEY_USER_LIST),ze=this._sfs.roomManager,st=g.SFSRoom.fromSFSArray(Ie);st=ze._replaceRoom(st,ze.containsGroup(st.groupId));for(var lt=0;lt<ke.size();lt++){var Be=ke.get(lt),Ve=this._getOrCreateUser(Be,!0,st);st._addUser(Ve)}st._isJoined=!0,this._sfs._lastJoinedRoom=st;var Qt={};Qt.room=st,this._sfs.dispatchEvent(T.SFSEvent.ROOM_JOIN,Qt)}else this._dispatchError(T.SFSEvent.ROOM_JOIN_ERROR,me)}},{key:"_fnCreateRoom",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=g.SFSRoom.fromSFSArray(me.get(Z.CreateRoomRequest.KEY_ROOM));this._sfs.roomManager._addRoom(Ie);var ke={};ke.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.ROOM_ADD,ke)}else this._dispatchError(T.SFSEvent.ROOM_CREATION_ERROR,me)}},{key:"_fnChangeRoomName",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(j.ChangeRoomNameRequest.KEY_ROOM),ke=this._sfs.roomManager.getRoomById(Ie);if(null!=ke){var ze=ke.name;this._sfs.roomManager._changeRoomName(ke,me.get(j.ChangeRoomNameRequest.KEY_NAME));var st={};st.oldName=ze,st.room=ke,this._sfs.dispatchEvent(T.SFSEvent.ROOM_NAME_CHANGE,st)}else this._logger.warn("Unexpected RoomNameChange event error; unknown Room id: "+Ie)}else this._dispatchError(T.SFSEvent.ROOM_NAME_CHANGE_ERROR,me)}},{key:"_fnChangeRoomPassword",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(K.ChangeRoomPasswordStateRequest.KEY_ROOM),ke=this._sfs.roomManager.getRoomById(Ie);if(null!=ke){this._sfs.roomManager._changeRoomPasswordState(ke,me.get(K.ChangeRoomPasswordStateRequest.KEY_PASS));var ze={};ze.room=ke,this._sfs.dispatchEvent(T.SFSEvent.ROOM_PASSWORD_STATE_CHANGE,ze)}else this._logger.warn("Unexpected RoomPasswordChange event error; unknown Room id: "+Ie)}else this._dispatchError(T.SFSEvent.ROOM_PASSWORD_STATE_CHANGE_ERROR,me)}},{key:"_fnChangeRoomCapacity",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(Q.ChangeRoomCapacityRequest.KEY_ROOM),ke=this._sfs.roomManager.getRoomById(Ie);if(null!=ke){this._sfs.roomManager._changeRoomCapacity(ke,me.get(Q.ChangeRoomCapacityRequest.KEY_USER_SIZE),me.get(Q.ChangeRoomCapacityRequest.KEY_SPEC_SIZE));var ze={};ze.room=ke,this._sfs.dispatchEvent(T.SFSEvent.ROOM_CAPACITY_CHANGE,ze)}else this._logger.warn("Unexpected RoomCapacityChange event error; unknown Room id: "+Ie)}else this._dispatchError(T.SFSEvent.ROOM_CAPACITY_CHANGE_ERROR,me)}},{key:"_fnGenericMessage",value:function(me){switch(me.get(re.GenericMessageRequest.KEY_MESSAGE_TYPE)){case re.GenericMessageType.PUBLIC_MSG:this._handlePublicMessage(me);break;case re.GenericMessageType.PRIVATE_MSG:this._handlePrivateMessage(me);break;case re.GenericMessageType.BUDDY_MSG:this._handleBuddyMessage(me);break;case re.GenericMessageType.MODERATOR_MSG:this._handleModMessage(me);break;case re.GenericMessageType.ADMING_MSG:this._handleAdminMessage(me);break;case re.GenericMessageType.OBJECT_MSG:this._handleObjectMessage(me)}}},{key:"_handlePublicMessage",value:function(me){var Ie=me.get(re.GenericMessageRequest.KEY_ROOM_ID),ke=this._sfs.roomManager.getRoomById(Ie);if(null!=ke){var ze={};ze.room=ke,ze.sender=this._sfs.userManager.getUserById(me.get(re.GenericMessageRequest.KEY_USER_ID)),ze.message=me.get(re.GenericMessageRequest.KEY_MESSAGE),ze.data=me.get(re.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.PUBLIC_MESSAGE,ze)}else this._logger.warn("Unexpected PublicMessage event error; unknown Room id: "+Ie)}},{key:"_handlePrivateMessage",value:function(me){var Ie=me.get(re.GenericMessageRequest.KEY_USER_ID),ke=this._sfs.userManager.getUserById(Ie);if(null==ke){if(null==me.get(re.GenericMessageRequest.KEY_SENDER_DATA))return void this._logger.warn("Unexpected PublicMessage event error; missing sender details");ke=f.SFSUser.fromSFSArray(me.get(re.GenericMessageRequest.KEY_SENDER_DATA))}var ze={};ze.sender=ke,ze.message=me.get(re.GenericMessageRequest.KEY_MESSAGE),ze.data=me.get(re.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.PRIVATE_MESSAGE,ze)}},{key:"_handleBuddyMessage",value:function(me){var Ie=me.get(re.GenericMessageRequest.KEY_USER_ID),ke=this._sfs.buddyManager.getBuddyById(Ie),ze={};ze.isItMe=this._sfs.mySelf.id===Ie,ze.buddy=ke,ze.message=me.get(re.GenericMessageRequest.KEY_MESSAGE),ze.data=me.get(re.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_MESSAGE,ze)}},{key:"_handleObjectMessage",value:function(me){var Ie={};Ie.sender=this._sfs.userManager.getUserById(me.get(re.GenericMessageRequest.KEY_USER_ID)),Ie.message=me.get(re.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.OBJECT_MESSAGE,Ie)}},{key:"_handleModMessage",value:function(me){var Ie={};Ie.sender=f.SFSUser.fromSFSArray(me.get(re.GenericMessageRequest.KEY_SENDER_DATA)),Ie.message=me.get(re.GenericMessageRequest.KEY_MESSAGE),Ie.data=me.get(re.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.MODERATOR_MESSAGE,Ie)}},{key:"_handleAdminMessage",value:function(me){var Ie={};Ie.sender=f.SFSUser.fromSFSArray(me.get(re.GenericMessageRequest.KEY_SENDER_DATA)),Ie.message=me.get(re.GenericMessageRequest.KEY_MESSAGE),Ie.data=me.get(re.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.ADMIN_MESSAGE,Ie)}},{key:"_fnSetRoomVariables",value:function(me){var Ie=me.get(ne.SetRoomVariablesRequest.KEY_VAR_ROOM),ke=me.get(ne.SetRoomVariablesRequest.KEY_VAR_LIST),ze=this._sfs.roomManager.getRoomById(Ie),st=new Set;if(null!=ze){for(var lt=0;lt<ke.size();lt++){var Be=w.SFSRoomVariable.fromSFSArray(ke.get(lt));ze._setVariable(Be),st.add(Be.name)}var Ve={};Ve.changedVars=Array.from(st),Ve.room=ze,this._sfs.dispatchEvent(T.SFSEvent.ROOM_VARIABLES_UPDATE,Ve)}else this._logger.warn("Unexpected RoomVariablesUpdate event error; unknown Room id: "+Ie)}},{key:"_fnSetUserVariables",value:function(me){var Ie=me.get(pe.SetUserVariablesRequest.KEY_USER),ke=me.get(pe.SetUserVariablesRequest.KEY_VAR_LIST),ze=this._sfs.userManager.getUserById(Ie),st=new Set;if(null!=ze){for(var lt=0;lt<ke.size();lt++){var Be=p.SFSUserVariable.fromSFSArray(ke.get(lt));ze._setVariable(Be),st.add(Be.name)}var Ve={};Ve.changedVars=Array.from(st),Ve.user=ze,this._sfs.dispatchEvent(T.SFSEvent.USER_VARIABLES_UPDATE,Ve)}else this._logger.warn("Unexpected UserVariablesUpdate event error; unknown User id: "+Ie)}},{key:"_fnSubscribeRoomGroup",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(be.SubscribeRoomGroupRequest.KEY_GROUP_ID),ke=me.get(be.SubscribeRoomGroupRequest.KEY_ROOM_LIST);this._sfs.roomManager.containsGroup(Ie)&&this._logger.warn("Unexpected SubscribeRoomGroup event error; group already subscribed: "+Ie),this._sfs.roomManager._addGroup(Ie),this._populateRoomList(ke);var ze={};ze.groupId=Ie,ze.newRooms=this._sfs.roomManager.getRoomListFromGroup(Ie),this._sfs.dispatchEvent(T.SFSEvent.ROOM_GROUP_SUBSCRIBE,ze)}else this._dispatchError(T.SFSEvent.ROOM_GROUP_SUBSCRIBE_ERROR,me)}},{key:"_fnUnsubscribeRoomGroup",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(Le.UnsubscribeRoomGroupRequest.KEY_GROUP_ID);this._sfs.roomManager.containsGroup(Ie)||this._logger.warn("Unexpected UnsubscribeRoomGroup event error; group not found: "+Ie+" (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(Ie);var ke={};ke.groupId=Ie,this._sfs.dispatchEvent(T.SFSEvent.ROOM_GROUP_UNSUBSCRIBE,ke)}else this._dispatchError(T.SFSEvent.ROOM_GROUP_UNSUBSCRIBE_ERROR,me)}},{key:"_fnSpectatorToPlayer",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(Se.SpectatorToPlayerRequest.KEY_ROOM_ID),ke=me.get(Se.SpectatorToPlayerRequest.KEY_USER_ID),ze=me.get(Se.SpectatorToPlayerRequest.KEY_PLAYER_ID),st=this._sfs.userManager.getUserById(ke),lt=this._sfs.roomManager.getRoomById(Ie);if(null!=lt)if(null!=st)if(st.isJoinedInRoom(lt)){st._setPlayerId(ze,lt);var Be={};Be.room=lt,Be.user=st,Be.playerId=ze,this._sfs.dispatchEvent(T.SFSEvent.SPECTATOR_TO_PLAYER,Be)}else this._logger.warn("Unexpected SpectatorToPlayer event error; User "+st+" not in Room "+lt);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+ke);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+Ie)}else this._dispatchError(T.SFSEvent.SPECTATOR_TO_PLAYER_ERROR,me)}},{key:"_fnPlayerToSpectator",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(xe.PlayerToSpectatorRequest.KEY_ROOM_ID),ke=me.get(xe.PlayerToSpectatorRequest.KEY_USER_ID),ze=this._sfs.userManager.getUserById(ke),st=this._sfs.roomManager.getRoomById(Ie);if(null!=st)if(null!=ze)if(ze.isJoinedInRoom(st)){ze._setPlayerId(-1,st);var lt={};lt.room=st,lt.user=ze,this._sfs.dispatchEvent(T.SFSEvent.PLAYER_TO_SPECTATOR,lt)}else this._logger.warn("Unexpected PlayerToSpectator event error; User "+ze+" not in Room "+st);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+ke);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+Ie)}else this._dispatchError(T.SFSEvent.PLAYER_TO_SPECTATOR_ERROR,me)}},{key:"_fnPingPong",value:function(me){var Ie={};Ie.lagValue=this._sfs._lagMonitor._onPingPong(),this._sfs.dispatchEvent(T.SFSEvent.PING_PONG,Ie)}},{key:"_fnFindRooms",value:function(me){for(var Ie=me.get(le.FindRoomsRequest.KEY_FILTERED_ROOMS),ke=[],ze=0;ze<Ie.size();ze++){var st=Ie.get(ze),lt=g.SFSRoom.fromSFSArray(st),Be=this._sfs.roomManager.getRoomById(lt.id);null!=Be&&(lt._isJoined=Be._isJoined),ke.push(lt)}var Ve={};Ve.rooms=ke,this._sfs.dispatchEvent(T.SFSEvent.ROOM_FIND_RESULT,Ve)}},{key:"_fnFindUsers",value:function(me){for(var Ie=me.get(Ce.FindUsersRequest.KEY_FILTERED_USERS),ke=[],ze=this._sfs.mySelf,st=0;st<Ie.size();st++){var lt=Ie.get(st),Be=f.SFSUser.fromSFSArray(lt);Be.id===ze.id&&(Be=ze),ke.push(Be)}var Ve={};Ve.users=ke,this._sfs.dispatchEvent(T.SFSEvent.USER_FIND_RESULT,Ve)}},{key:"_fnQuickJoinGame",value:function(me){null!=me.get(tt.KEY_ERROR_CODE)&&this._dispatchError(T.SFSEvent.ROOM_JOIN_ERROR,me)}},{key:"_fnInviteUsers",value:function(me){var Ie;Ie=null!=me.get(ge.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(me.get(ge.InviteUsersRequest.KEY_USER_ID)):f.SFSUser.fromSFSArray(me.get(ge.InviteUsersRequest.KEY_USER));var ke=me.get(ge.InviteUsersRequest.KEY_TIME),ze=me.get(ge.InviteUsersRequest.KEY_INVITATION_ID),st=me.get(ge.InviteUsersRequest.KEY_PARAMS),lt=new P.SFSInvitation(Ie,this._sfs.mySelf,ke,st);lt._id=ze;var Be={};Be.invitation=lt,this._sfs.dispatchEvent(T.SFSEvent.INVITATION,Be)}},{key:"_fnInvitationReply",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie;Ie=null!=me.get(ge.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(me.get(ge.InviteUsersRequest.KEY_USER_ID)):f.SFSUser.fromSFSArray(me.get(ge.InviteUsersRequest.KEY_USER));var ke=me.get(ge.InviteUsersRequest.KEY_REPLY_ID),ze=me.get(ge.InviteUsersRequest.KEY_PARAMS),st={};st.invitee=Ie,st.reply=ke,st.data=ze,this._sfs.dispatchEvent(T.SFSEvent.INVITATION_REPLY,st)}else this._dispatchError(T.SFSEvent.INVITATION_REPLY_ERROR,me)}},{key:"_fnSetUserPosition",value:function(me){var Ie=me.get(he.SetUserPositionRequest.KEY_ROOM),ke=this._sfs.roomManager.getRoomById(Ie),ze=me.get(he.SetUserPositionRequest.KEY_MINUS_USER_LIST),st=me.get(he.SetUserPositionRequest.KEY_PLUS_USER_LIST),lt=me.get(he.SetUserPositionRequest.KEY_MINUS_ITEM_LIST),Be=me.get(he.SetUserPositionRequest.KEY_PLUS_ITEM_LIST),Ve=[],Qt=[],Ut=[],rn=[];if(null!=ze){var Dn=!0,bt=!1,Pt=void 0;try{for(var Fe,De=ze[Symbol.iterator]();!(Dn=(Fe=De.next()).done);Dn=!0){var qe=ke.getUserById(Fe.value);null!=qe&&(ke._removeUser(qe),Qt.push(qe))}}catch(Rt){bt=!0,Pt=Rt}finally{try{!Dn&&De.return&&De.return()}finally{if(bt)throw Pt}}}if(null!=st)for(var He=0;He<st.size();He++){var it=st.get(He),xt=this._getOrCreateUser(it,!0,ke);Ve.push(xt),ke._addUser(xt);var Nt=it.get(5);null!=Nt&&(xt._aoiEntryPoint=_.Vec3D.fromArray(Nt))}if(null!=lt){var Ft=!0,Rn=!1,li=void 0;try{for(var Pi,tn=lt[Symbol.iterator]();!(Ft=(Pi=tn.next()).done);Ft=!0){var vn=ke.getMMOItem(Pi.value);null!=vn&&(ke._removeItem(vn.id),rn.push(vn))}}catch(Rt){Rn=!0,li=Rt}finally{try{!Ft&&tn.return&&tn.return()}finally{if(Rn)throw li}}}if(null!=Be)for(var Ue=0;Ue<Be.size();Ue++){var Ye=Be.get(Ue),mn=m.MMOItem.fromSFSArray(Ye);Ut.push(mn),ke._addMMOItem(mn);var En=Ye.get(2);null!=En&&(mn._aoiEntryPoint=_.Vec3D.fromArray(En))}var ln={};ln.addedItems=Ut,ln.removedItems=rn,ln.removedUsers=Qt,ln.addedUsers=Ve,ln.room=ke,this._sfs.dispatchEvent(T.SFSEvent.PROXIMITY_LIST_UPDATE,ln)}},{key:"_fnInitBuddyList",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(Te.InitBuddyListRequest.KEY_BLIST),ke=me.get(Te.InitBuddyListRequest.KEY_MY_VARS),ze=me.get(Te.InitBuddyListRequest.KEY_BUDDY_STATES);this._sfs.buddyManager._clearAll();for(var st=0;st<Ie.size();st++){var lt=x.SFSBuddy.fromSFSArray(Ie.get(st));this._sfs.buddyManager._addBuddy(lt)}null!=ze&&this._sfs.buddyManager._setBuddyStates(ze);for(var Be=[],Ve=0;Ve<ke.size();Ve++){var Qt=N.SFSBuddyVariable.fromSFSArray(ke.get(Ve));Be.push(Qt)}this._sfs.buddyManager._setMyVariables(Be),this._sfs.buddyManager._setInited();var Ut={};Ut.buddyList=this._sfs.buddyManager.getBuddyList(),Ut.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_LIST_INIT,Ut)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,me)}},{key:"_fnAddBuddy",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=x.SFSBuddy.fromSFSArray(me.get(Ne.AddBuddyRequest.KEY_BUDDY_NAME));this._sfs.buddyManager._addBuddy(Ie);var ke={};ke.buddy=Ie,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_ADD,ke)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,me)}},{key:"_fnRemoveBuddy",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(Ke.RemoveBuddyRequest.KEY_BUDDY_NAME),ke=this._sfs.buddyManager._removeBuddyByName(Ie);if(null!=ke){var ze={};ze.buddy=ke,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_REMOVE,ze)}else this._logger.warn("Unexpected RemoveBuddy event error; can't find "+Ie+" in local buddy list")}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,me)}},{key:"_fnBlockBuddy",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(ot.BlockBuddyRequest.KEY_BUDDY_NAME),ke=this._sfs.buddyManager.getBuddyByName(Ie);null!=me.get(ot.BlockBuddyRequest.KEY_BUDDY)?(ke=x.SFSBuddy.fromSFSArray(me.get(ot.BlockBuddyRequest.KEY_BUDDY)),this._sfs.buddyManager._addBuddy(ke)):null!=ke?ke._isBlocked=me.get(ot.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE):this._logger.warn("Unexpected BlockBuddy event error; can't find "+Ie+" in local buddy list");var ze={};ze.buddy=ke,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_BLOCK,ze)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,me)}},{key:"_fnGoOnline",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){var Ie=me.get(Ze.GoOnlineRequest.KEY_BUDDY_NAME),ke=this._sfs.buddyManager.getBuddyByName(Ie),ze=Ie===this._sfs.mySelf.name,st=me.get(Ze.GoOnlineRequest.KEY_ONLINE),lt=st===x.BuddyOnlineState.ONLINE,Be=!0;if(ze)this._sfs.buddyManager.getMyOnlineState()!=lt&&(this._logger.warn("Unexpected GoOnline event error; current user's online state is not in synch with the server; resynching to: "+lt),this._sfs.buddyManager._setMyOnlineState(lt));else{if(null==ke)return void this._logger.warn("Unexpected GoOnline event error; can't find "+Ie+" in local buddy list");ke._id=me.get(Ze.GoOnlineRequest.KEY_BUDDY_ID),ke._setVariable(new N.SFSBuddyVariable(N.ReservedBuddyVariables.BV_ONLINE,lt)),st===x.BuddyOnlineState.LEFT_THE_SERVER&&ke._clearVolatileVariables(),Be=this._sfs.buddyManager.getMyOnlineState()}if(Be){var Ve={};Ve.buddy=ke,Ve.isItMe=ze,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_ONLINE_STATE_CHANGE,Ve)}}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,me)}},{key:"_fnSetBuddyVariables",value:function(me){if(null==me.get(tt.KEY_ERROR_CODE)){for(var Ie=me.get(mt.SetBuddyVariablesRequest.KEY_BUDDY_NAME),ke=me.get(mt.SetBuddyVariablesRequest.KEY_BUDDY_VARS),ze=this._sfs.buddyManager.getBuddyByName(Ie),st=Ie===this._sfs.mySelf.name,lt=[],Be=[],Ve=!0,Qt=0;Qt<ke.size();Qt++){var Ut=N.SFSBuddyVariable.fromSFSArray(ke.get(Qt));Be.push(Ut),lt.push(Ut.name)}if(st)this._sfs.buddyManager._setMyVariables(Be);else{if(null==ze)return void this._logger.warn("Unexpected SetBuddyVariables event error; can't find "+Ie+" in local buddy list");ze._setVariables(Be),Ve=this._sfs.buddyManager.getMyOnlineState()}if(Ve){var rn={};rn.buddy=ze,rn.isItMe=st,rn.changedVars=lt,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_VARIABLES_UPDATE,rn)}}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,me)}},{key:"_fnUserEnterRoom",value:function(me){var Ie=this._sfs.roomManager.getRoomById(me.get(tt.ROOM_PARAM));if(null!=Ie){var ke=me.get(tt.USER_PARAM),ze=this._getOrCreateUser(ke,!0,Ie);Ie._addUser(ze);var st={};st.user=ze,st.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.USER_ENTER_ROOM,st)}}},{key:"_fnUserCountChange",value:function(me){var Ie=this._sfs.roomManager.getRoomById(me.get(tt.ROOM_PARAM));if(null!=Ie){var ke=me.get(tt.USER_COUNT_PARAM),ze=null!=me.get(tt.SPECT_COUNT_PARAM)?me.get(tt.SPECT_COUNT_PARAM):0;Ie._userCount=ke,Ie._specCount=ze;var st={};st.room=Ie,st.uCount=ke,st.sCount=ze,this._sfs.dispatchEvent(T.SFSEvent.USER_COUNT_CHANGE,st)}}},{key:"_fnUserLost",value:function(me){var Ie=this._sfs.userManager.getUserById(me.get(tt.USER_PARAM));if(null!=Ie){var ke=this._sfs.roomManager.getUserRooms(Ie);this._sfs.roomManager._removeUser(Ie),this._sfs.userManager._removeUserReference(Ie,!0);var ze=!0,st=!1,lt=void 0;try{for(var Be,Ve=ke[Symbol.iterator]();!(ze=(Be=Ve.next()).done);ze=!0){var Qt=Be.value,Ut={};Ut.user=Ie,Ut.room=Qt,this._sfs.dispatchEvent(T.SFSEvent.USER_EXIT_ROOM,Ut)}}catch(rn){st=!0,lt=rn}finally{try{!ze&&Ve.return&&Ve.return()}finally{if(st)throw lt}}}}},{key:"_fnRoomLost",value:function(me){var Ie=this._sfs.roomManager.getRoomById(me.get(tt.ROOM_PARAM));if(null!=Ie){this._sfs.roomManager._removeRoom(Ie);var ke=!0,ze=!1,st=void 0;try{for(var lt,Be=Ie.getUserList()[Symbol.iterator]();!(ke=(lt=Be.next()).done);ke=!0)this._sfs.userManager._removeUser(lt.value)}catch(Ut){ze=!0,st=Ut}finally{try{!ke&&Be.return&&Be.return()}finally{if(ze)throw st}}var Qt={};Qt.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.ROOM_REMOVE,Qt)}}},{key:"_fnUserExitRoom",value:function(me){var Ie=this._sfs.roomManager.getRoomById(me.get(tt.ROOM_PARAM)),ke=this._sfs.userManager.getUserById(me.get(tt.USER_PARAM));if(null!=Ie&&null!=ke){Ie._removeUser(ke),this._sfs.userManager._removeUser(ke),ke.isItMe&&Ie.isJoined&&(Ie._isJoined=!1,0!==this._sfs.roomManager.getJoinedRooms().length&&this._sfs._lastJoinedRoom!==Ie||(this._sfs._lastJoinedRoom=null),Ie._isManaged||this._sfs.roomManager._removeRoom(Ie));var ze={};ze.user=ke,ze.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.USER_EXIT_ROOM,ze)}else this._logger.debug("Failed to handle UserExit event; Room: "+Ie+", User: "+ke)}},{key:"_fnClientDisconnection",value:function(me){var Ie=me.get(tt.DISCONNECTION_REASON_PARAM);this._sfs._handleClientDisconnection($.ClientDisconnectionReason.getReason(Ie))}},{key:"_fnSetMMOItemVariables",value:function(me){var Ie=me.get(Xe.SetMMOItemVariables.KEY_ROOM_ID),ke=me.get(Xe.SetMMOItemVariables.KEY_ITEM_ID),ze=me.get(Xe.SetMMOItemVariables.KEY_VAR_LIST),st=this._sfs.roomManager.getRoomById(Ie),lt=new Set;if(null!=st){var Be=st.getMMOItem(ke);if(null!=Be){for(var Ve=0;Ve<ze.size();Ve++){var Qt=O.MMOItemVariable.fromSFSArray(ze.get(Ve));Be._setVariable(Qt),lt.add(Qt.name)}var Ut={};Ut.changedVars=Array.from(lt),Ut.mmoItem=Be,Ut.room=st,this._sfs.dispatchEvent(T.SFSEvent.MMOITEM_VARIABLES_UPDATE,Ut)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMOItem id: "+ke)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMORoom id: "+Ie)}},{key:"_dispatchError",value:function(me,Ie){var ke={};ke.errorCode=Ie.get(tt.KEY_ERROR_CODE),ke.errorMessage=y.SFSErrorCodes.getErrorMessage(ke.errorCode,Ie.get(tt.KEY_ERROR_PARAMS)),this._sfs.dispatchEvent(me,ke)}},{key:"_populateRoomList",value:function(me){for(var Ie=0;Ie<me.size();Ie++){var ke=g.SFSRoom.fromSFSArray(me.get(Ie));this._sfs.roomManager._replaceRoom(ke)}}},{key:"_getOrCreateUser",value:function(me,Ie,ke){var ze=me.get(0),st=this._sfs.userManager.getUserById(ze);if(null==st)(st=f.SFSUser.fromSFSArray(me,ke))._setUserManager(this._sfs.userManager);else{st._setPlayerId(me.get(3),ke);var lt=me.get(4);if(null!=lt)for(var Be=0;Be<lt.size();Be++)st._setVariable(p.SFSUserVariable.fromSFSArray(lt.get(Be)))}return Ie&&this._sfs.userManager._addUser(st),st}},{key:"id",get:function(){return this._id}}]),tt}();A.SystemController=yt},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SmartFox=void 0;var E=function(){function J(X,Z){for(var j=0;j<Z.length;j++){var K=Z[j];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(X,K.key,K)}}return function(X,Z,j){return Z&&J(X.prototype,Z),j&&J(X,j),X}}(),v=h(175),T=h(169),y=h(39),_=h(1),g=h(168),f=h(119),m=h(166),x=h(165),P=h(2),p=h(164),w=h(74),O=h(50),N=h(163),$=h(51),V=function(J){function X(){var Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(K,Q){if(!(K instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,X);var j=function(K,Q){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Q||"object"!=typeof Q&&"function"!=typeof Q?K:Q}(this,(X.__proto__||Object.getPrototypeOf(X)).call(this));return j._majVersion=1,j._minVersion=7,j._subVersion=19,j._configData=Z,j._logger=O.Logger.instance,j._sessionToken=null,j._socketEngine=new g.SocketEngine(j),j._socketEngine.addEventListener(g.SocketEvent.CONNECT,j._onSocketConnect,j),j._socketEngine.addEventListener(g.SocketEvent.DISCONNECT,j._onSocketDisconnect,j),j._socketEngine.addEventListener(g.SocketEvent.DATA,j._onSocketData,j),j._socketEngine.addEventListener(g.SocketEvent.IOERROR,j._onSocketIOError,j),j._controllers={},j._controllers[0]=new v.SystemController(j),j._controllers[1]=new T.ExtensionController(j),j._reset(),j._clientDetails="JavaScript",j.debug=null!=j.config&&j.config.debug,j.debug&&(j._logger.info("SmartFox instance ready"),j._logger.info("SFS2X JavaScript API v"+j.version)),Object.seal(j),j}return function(Z,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);Z.prototype=Object.create(j&&j.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,j):Z.__proto__=j)}(X,y.EventDispatcher),E(X,[{key:"setClientDetails",value:function(Z,j){this.isConnected?this._logger.warn("Method setClientDetails must be called before the connection is started"):(Z=null!=Z?Z.replace(":"," "):"",j=null!=j?j.replace(":"," "):"",this._clientDetails=Z+":"+j)}},{key:"connect",value:function(){var Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.debug&&this._logger.info("Attempting connection to server"),this.isConnected)this._logger.warn("Connection attempt interrupted: already connected");else if(this._socketEngine.isConnecting)this._logger.warn("Connection attempt interrupted: another attempt is already in progress");else{var Q=null!=this.config&&null!=this.config.host?this.config.host:null,re=null!=this.config&&null!=this.config.port?this.config.port:null,ne=null!=this.config&&this.config.useSSL;null!=Z&&(Q=Z),j>-1&&(re=j),null!=K&&(ne=K),null!=Q&&"string"==typeof Q&&0!==Q.length?"number"!=typeof re||re<0||re>65535?this._logger.error("Invalid TCP connection port: "+re):("boolean"!=typeof ne&&(ne=!1),this._socketEngine.connect(Q,re,ne)):this._logger.error("Invalid connection host/address")}}},{key:"disconnect",value:function(){this.isConnected&&this._handleClientDisconnection($.ClientDisconnectionReason.MANUAL)}},{key:"enableLagMonitor",value:function(Z){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;null!=this.mySelf?(null!=this._lagMonitor&&this._lagMonitor.destroy(),Z&&(this._lagMonitor=new N.LagMonitor(this,j,K),this._lagMonitor.start())):this._logger.warn("Lag monitoring requires that you are logged in a Zone; please retry after completing the login process")}},{key:"send",value:function(Z){if(this.isConnected){if(null!=Z.validate&&null!=Z.execute){this.debug&&this._logger.info("Sending request '"+P.Requests.getNameFromId(Z.id)+"' to server");try{Z.validate(this),Z.execute(this)}catch(Q){if(!(Q instanceof _.SFSValidationError&&null!=Q.message))throw Q;var j=Q.message;if(null!=Q.errors){j+=":";for(var K=0;K<Q.errors.length;K++)Q.errors.length>1&&(j+=" "+(K+1)+")"),j+=" "+Q.errors[K]}return this._logger.error("Request failed | "+j),!1}return this._socketEngine.send(Z.getMessage()),!0}this._logger.error("An invalid request was passed: "+Z)}else this._logger.error("You are not connected. Request cannot be sent: "+P.Requests.getNameFromId(Z.id))}},{key:"getRoomById",value:function(Z){return this.roomManager.getRoomById(Z)}},{key:"getRoomByName",value:function(Z){return this.roomManager.getRoomByName(Z)}},{key:"getRoomList",value:function(){return this.roomManager.getRoomList()}},{key:"getRoomListFromGroup",value:function(Z){return this.roomManager.getRoomListFromGroup(Z)}},{key:"getJoinedRooms",value:function(){return this.roomManager.getJoinedRooms()}},{key:"_reset",value:function(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this._buddyManager&&(this._buddyManager._clearAll(),this._buddyManager._inited=!1),this._userManager=new f.GlobalUserManager(this),this._roomManager=new m.SFSRoomManager(this),this._buddyManager=new x.SFSBuddyManager(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._lagMonitor=null,this._isJoining=!1,this._currentZone=null,this._lastJoinedRoom=null,this._mySelf=null,Z&&(this._sessionToken=null)}},{key:"_onSocketConnect",value:function(Z){Z.success?this.send(new p.HandshakeRequest(this.version,this._clientDetails)):this.dispatchEvent(y.SFSEvent.CONNECTION,{success:!1})}},{key:"_onSocketDisconnect",value:function(Z){this.dispatchEvent(y.SFSEvent.CONNECTION_LOST,{reason:Z.reason}),this._reset(!0)}},{key:"_onSocketData",value:function(Z){var j=Z.targetController,K=Z.id;null!=j?null!=K?this._controllers[j].handleMessage(Z.content,K):this._logger.error("Incoming message rejected: Command ID is missing"):this._logger.error("Incoming message rejected: Controller ID is missing")}},{key:"_onSocketIOError",value:function(Z){this.dispatchEvent(y.SFSEvent.SOCKET_ERROR,{message:Z})}},{key:"_handleHandShake",value:function(Z){var j=Z.get(P.BaseRequest.KEY_ERROR_CODE);if(null==j)this._sessionToken=Z.get(p.HandshakeRequest.KEY_SESSION_TOKEN),this._socketEngine.maxMessageSize=Z.get(p.HandshakeRequest.KEY_MAX_MESSAGE_SIZE),this._socketEngine.compressionThreshold=Z.get(p.HandshakeRequest.KEY_COMPRESSION_THRESHOLD),this.dispatchEvent(y.SFSEvent.CONNECTION,{success:!0});else{var K={success:!1,errorMessage:w.SFSErrorCodes.getErrorMessage(j,Z.get(P.BaseRequest.KEY_ERROR_PARAMS)),errorCode:j};this.dispatchEvent(y.SFSEvent.CONNECTION,K)}}},{key:"_handleLogout",value:function(){this._reset()}},{key:"_handleClientDisconnection",value:function(Z){this.isConnected&&this._socketEngine.disconnect(Z)}},{key:"version",get:function(){return this._majVersion+"."+this._minVersion+"."+this._subVersion}},{key:"config",get:function(){return this._configData}},{key:"logger",get:function(){return this._logger}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"roomManager",get:function(){return this._roomManager}},{key:"userManager",get:function(){return this._userManager}},{key:"buddyManager",get:function(){return this._buddyManager}},{key:"mySelf",get:function(){return this._mySelf}},{key:"lastJoinedRoom",get:function(){return this._lastJoinedRoom}},{key:"isConnected",get:function(){return null!=this._socketEngine&&this._socketEngine.isConnected}},{key:"maxMessageSize",get:function(){return null!=this._socketEngine?this._socketEngine.maxMessageSize:0}}]),X}();A.SmartFox=V},function(z,A,h){var E=h(0),v=h(89);v&&E(E.S,"Reflect",{setPrototypeOf:function(T,y){v.check(T,y);try{return v.set(T,y),!0}catch(_){return!1}}})},function(z,A,h){var E=h(10),v=h(23),T=h(31),y=h(16),_=h(0),g=h(36),f=h(5),m=h(4);_(_.S,"Reflect",{set:function x(P,p,w){var O,N,$=arguments.length<4?P:arguments[3],V=v.f(f(P),p);if(!V){if(m(N=T(P)))return x(N,p,w,$);V=g(0)}return y(V,"value")?!(!1===V.writable||!m($)||((O=v.f($,p)||g(0)).value=w,E.f($,p,O),0)):void 0!==V.set&&(V.set.call($,w),!0)}})},function(z,A,h){var E=h(0),v=h(5),T=Object.preventExtensions;E(E.S,"Reflect",{preventExtensions:function(y){v(y);try{return T&&T(y),!0}catch(_){return!1}}})},function(z,A,h){var E=h(32),v=h(68),T=h(5),y=h(6).Reflect;z.exports=y&&y.ownKeys||function(_){var g=E.f(T(_)),f=v.f;return f?g.concat(f(_)):g}},function(z,A,h){var E=h(0);E(E.S,"Reflect",{ownKeys:h(180)})},function(z,A,h){var E=h(0),v=h(5),T=Object.isExtensible;E(E.S,"Reflect",{isExtensible:function(y){return v(y),!T||T(y)}})},function(z,A,h){var E=h(0);E(E.S,"Reflect",{has:function(v,T){return T in v}})},function(z,A,h){var E=h(0),v=h(31),T=h(5);E(E.S,"Reflect",{getPrototypeOf:function(y){return v(T(y))}})},function(z,A,h){var E=h(23),v=h(0),T=h(5);v(v.S,"Reflect",{getOwnPropertyDescriptor:function(y,_){return E.f(T(y),_)}})},function(z,A,h){var E=h(23),v=h(31),T=h(16),y=h(0),_=h(4),g=h(5);y(y.S,"Reflect",{get:function f(m,x){var P,p,w=arguments.length<3?m:arguments[2];return g(m)===w?m[x]:(P=E.f(m,x))?T(P,"value")?P.value:void 0!==P.get?P.get.call(w):void 0:_(p=v(m))?f(p,x,w):void 0}})},function(z,A,h){"use strict";var E=h(0),v=h(5),T=function(y){this._t=v(y),this._i=0;var _,g=this._k=[];for(_ in y)g.push(_)};h(133)(T,"Object",function(){var y,_=this._k;do{if(this._i>=_.length)return{value:void 0,done:!0}}while(!((y=_[this._i++])in this._t));return{value:y,done:!1}}),E(E.S,"Reflect",{enumerate:function(y){return new T(y)}})},function(z,A,h){var E=h(0),v=h(23).f,T=h(5);E(E.S,"Reflect",{deleteProperty:function(y,_){var g=v(T(y),_);return!(g&&!g.configurable)&&delete y[_]}})},function(z,A,h){var E=h(10),v=h(0),T=h(5),y=h(30);v(v.S+v.F*h(3)(function(){Reflect.defineProperty(E.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(_,g,f){T(_),g=y(g,!0),T(f);try{return E.f(_,g,f),!0}catch(m){return!1}}})},function(z,A,h){var E=h(0),v=h(33),T=h(26),y=h(5),_=h(4),g=h(3),f=h(142),m=(h(6).Reflect||{}).construct,x=g(function(){function p(){}return!(m(function(){},[],p)instanceof p)}),P=!g(function(){m(function(){})});E(E.S+E.F*(x||P),"Reflect",{construct:function(p,w){T(p),y(w);var O=arguments.length<3?p:T(arguments[2]);if(P&&!x)return m(p,w,O);if(p==O){switch(w.length){case 0:return new p;case 1:return new p(w[0]);case 2:return new p(w[0],w[1]);case 3:return new p(w[0],w[1],w[2]);case 4:return new p(w[0],w[1],w[2],w[3])}var N=[null];return N.push.apply(N,w),new(f.apply(p,N))}var $=O.prototype,V=v(_($)?$:Object.prototype),J=Function.apply.call(p,V,w);return _(J)?J:V}})},function(z,A,h){var E=h(0),v=h(26),T=h(5),y=(h(6).Reflect||{}).apply,_=Function.apply;E(E.S+E.F*!h(3)(function(){y(function(){})}),"Reflect",{apply:function(g,f,m){var x=v(g),P=T(m);return y?y(x,f,P):_.call(x,f,P)}})},function(z,A,h){h(22)("Float64",8,function(E){return function(v,T,y){return E(this,v,T,y)}})},function(z,A,h){h(22)("Float32",4,function(E){return function(v,T,y){return E(this,v,T,y)}})},function(z,A,h){h(22)("Uint32",4,function(E){return function(v,T,y){return E(this,v,T,y)}})},function(z,A,h){h(22)("Int32",4,function(E){return function(v,T,y){return E(this,v,T,y)}})},function(z,A,h){h(22)("Uint16",2,function(E){return function(v,T,y){return E(this,v,T,y)}})},function(z,A,h){h(22)("Int16",2,function(E){return function(v,T,y){return E(this,v,T,y)}})},function(z,A,h){h(22)("Uint8",1,function(E){return function(v,T,y){return E(this,v,T,y)}},!0)},function(z,A,h){h(22)("Uint8",1,function(E){return function(v,T,y){return E(this,v,T,y)}})},function(z,A,h){h(22)("Int8",1,function(E){return function(v,T,y){return E(this,v,T,y)}})},function(z,A,h){var E=h(0);E(E.G+E.W+E.F*!h(60).ABV,{DataView:h(75).DataView})},function(z,A,h){"use strict";var E=h(0),v=h(60),T=h(75),y=h(5),_=h(34),g=h(12),f=h(4),m=h(6).ArrayBuffer,x=h(76),P=T.ArrayBuffer,p=T.DataView,w=v.ABV&&m.isView,O=P.prototype.slice,N=v.VIEW;E(E.G+E.W+E.F*(m!==P),{ArrayBuffer:P}),E(E.S+E.F*!v.CONSTR,"ArrayBuffer",{isView:function($){return w&&w($)||f($)&&N in $}}),E(E.P+E.U+E.F*h(3)(function(){return!new P(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function($,V){if(void 0!==O&&void 0===V)return O.call(y(this),$);for(var J=y(this).byteLength,X=_($,J),Z=_(void 0===V?J:V,J),j=new(x(this,P))(g(Z-X)),K=new p(this),Q=new p(j),re=0;X<Z;)Q.setUint8(re++,K.getUint8(X++));return j}}),h(43)("ArrayBuffer")},function(z,A,h){"use strict";var E=h(122),v=h(40);h(61)("WeakSet",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{add:function(T){return E.def(v(this,"WeakSet"),T,!0)}},E,!1,!0)},function(z,A,h){"use strict";var E,v=h(19)(0),T=h(15),y=h(29),_=h(143),g=h(122),f=h(4),m=h(3),x=h(40),P=y.getWeak,p=Object.isExtensible,w=g.ufstore,O={},N=function(J){return function(){return J(this,arguments.length>0?arguments[0]:void 0)}},$={get:function(J){if(f(J)){var X=P(J);return!0===X?w(x(this,"WeakMap")).get(J):X?X[this._i]:void 0}},set:function(J,X){return g.def(x(this,"WeakMap"),J,X)}},V=z.exports=h(61)("WeakMap",N,$,g,!0,!0);m(function(){return 7!=(new V).set((Object.freeze||Object)(O),7).get(O)})&&(_((E=g.getConstructor(N,"WeakMap")).prototype,$),y.NEED=!0,v(["delete","has","get","set"],function(J){var X=V.prototype,Z=X[J];T(X,J,function(j,K){if(f(j)&&!p(j)){this._f||(this._f=new E);var Q=this._f[J](j,K);return"set"==J?this:Q}return Z.call(this,j,K)})}))},function(z,A,h){"use strict";var E=h(123),v=h(40);z.exports=h(61)("Set",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{add:function(T){return E.def(v(this,"Set"),T=0===T?0:T,T)}},E)},function(z,A,h){"use strict";var E=h(123),v=h(40);z.exports=h(61)("Map",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{get:function(T){var y=E.getEntry(v(this,"Map"),T);return y&&y.v},set:function(T,y){return E.def(v(this,"Map"),0===T?0:T,y)}},E,!0)},function(z,A,h){var E=h(5),v=h(4),T=h(124);z.exports=function(y,_){if(E(y),v(_)&&_.constructor===y)return _;var g=T.f(y);return(0,g.resolve)(_),g.promise}},function(z,A){z.exports=function(h){try{return{e:!1,v:h()}}catch(E){return{e:!0,v:E}}}},function(z,A,h){var E=h(6),v=h(125).set,T=E.MutationObserver||E.WebKitMutationObserver,y=E.process,_=E.Promise,g="process"==h(25)(y);z.exports=function(){var f,m,x,P=function(){var N,$;for(g&&(N=y.domain)&&N.exit();f;){$=f.fn,f=f.next;try{$()}catch(V){throw f?x():m=void 0,V}}m=void 0,N&&N.enter()};if(g)x=function(){y.nextTick(P)};else if(!T||E.navigator&&E.navigator.standalone)if(_&&_.resolve){var p=_.resolve();x=function(){p.then(P)}}else x=function(){v.call(E,P)};else{var w=!0,O=document.createTextNode("");new T(P).observe(O,{characterData:!0}),x=function(){O.data=w=!w}}return function(N){var $={fn:N,next:void 0};m&&(m.next=$),f||(f=$,x()),m=$}}},function(z,A,h){"use strict";var E,v,T,y,_=h(44),g=h(6),f=h(27),m=h(66),x=h(0),P=h(4),p=h(26),w=h(42),O=h(62),N=h(76),$=h(125).set,V=h(209)(),J=h(124),X=h(208),Z=h(207),j=g.TypeError,K=g.process,Q=g.Promise,re="process"==m(K),ne=function(){},pe=v=J.f,be=!!function(){try{var he=Q.resolve(1),Te=(he.constructor={})[h(7)("species")]=function(Ne){Ne(ne,ne)};return(re||"function"==typeof PromiseRejectionEvent)&&he.then(ne)instanceof Te}catch(Ne){}}(),Le=function(he){var Te;return!(!P(he)||"function"!=typeof(Te=he.then))&&Te},Se=function(he,Te){if(!he._n){he._n=!0;var Ne=he._c;V(function(){for(var Ke=he._v,ot=1==he._s,Ze=0,mt=function(yt){var tt,me,Ie,ke=ot?yt.ok:yt.fail,ze=yt.resolve,st=yt.reject,lt=yt.domain;try{ke?(ot||(2==he._h&&Ce(he),he._h=1),!0===ke?tt=Ke:(lt&&lt.enter(),tt=ke(Ke),lt&&(lt.exit(),Ie=!0)),tt===yt.promise?st(j("Promise-chain cycle")):(me=Le(tt))?me.call(tt,ze,st):ze(tt)):st(Ke)}catch(Be){lt&&!Ie&&lt.exit(),st(Be)}};Ne.length>Ze;)mt(Ne[Ze++]);he._c=[],he._n=!1,Te&&!he._h&&xe(he)})}},xe=function(he){$.call(g,function(){var Te,Ne,Ke,ot=he._v,Ze=le(he);if(Ze&&(Te=X(function(){re?K.emit("unhandledRejection",ot,he):(Ne=g.onunhandledrejection)?Ne({promise:he,reason:ot}):(Ke=g.console)&&Ke.error&&Ke.error("Unhandled promise rejection",ot)}),he._h=re||le(he)?2:1),he._a=void 0,Ze&&Te.e)throw Te.v})},le=function(he){return 1!==he._h&&0===(he._a||he._c).length},Ce=function(he){$.call(g,function(){var Te;re?K.emit("rejectionHandled",he):(Te=g.onrejectionhandled)&&Te({promise:he,reason:he._v})})},ge=function(he){var Te=this;Te._d||(Te._d=!0,(Te=Te._w||Te)._v=he,Te._s=2,Te._a||(Te._a=Te._c.slice()),Se(Te,!0))},Xe=function(he){var Te,Ne=this;if(!Ne._d){Ne._d=!0,Ne=Ne._w||Ne;try{if(Ne===he)throw j("Promise can't be resolved itself");(Te=Le(he))?V(function(){var Ke={_w:Ne,_d:!1};try{Te.call(he,f(Xe,Ke,1),f(ge,Ke,1))}catch(ot){ge.call(Ke,ot)}}):(Ne._v=he,Ne._s=1,Se(Ne,!1))}catch(Ke){ge.call({_w:Ne,_d:!1},Ke)}}};be||(Q=function(he){w(this,Q,"Promise","_h"),p(he),E.call(this);try{he(f(Xe,this,1),f(ge,this,1))}catch(Te){ge.call(this,Te)}},(E=function(he){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=h(41)(Q.prototype,{then:function(he,Te){var Ne=pe(N(this,Q));return Ne.ok="function"!=typeof he||he,Ne.fail="function"==typeof Te&&Te,Ne.domain=re?K.domain:void 0,this._c.push(Ne),this._a&&this._a.push(Ne),this._s&&Se(this,!1),Ne.promise},catch:function(he){return this.then(void 0,he)}}),T=function(){var he=new E;this.promise=he,this.resolve=f(Xe,he,1),this.reject=f(ge,he,1)},J.f=pe=function(he){return he===Q||he===y?new T(he):v(he)}),x(x.G+x.W+x.F*!be,{Promise:Q}),h(45)(Q,"Promise"),h(43)("Promise"),y=h(37).Promise,x(x.S+x.F*!be,"Promise",{reject:function(he){var Te=pe(this);return(0,Te.reject)(he),Te.promise}}),x(x.S+x.F*(_||!be),"Promise",{resolve:function(he){return Z(_&&this===y?Q:this,he)}}),x(x.S+x.F*!(be&&h(64)(function(he){Q.all(he).catch(ne)})),"Promise",{all:function(he){var Te=this,Ne=pe(Te),Ke=Ne.resolve,ot=Ne.reject,Ze=X(function(){var mt=[],yt=0,tt=1;O(he,!1,function(me){var Ie=yt++,ke=!1;mt.push(void 0),tt++,Te.resolve(me).then(function(ze){ke||(ke=!0,mt[Ie]=ze,--tt||Ke(mt))},ot)}),--tt||Ke(mt)});return Ze.e&&ot(Ze.v),Ne.promise},race:function(he){var Te=this,Ne=pe(Te),Ke=Ne.reject,ot=X(function(){O(he,!1,function(Ze){Te.resolve(Ze).then(Ne.resolve,Ke)})});return ot.e&&Ke(ot.v),Ne.promise}})},function(z,A,h){h(63)("split",2,function(E,v,T){"use strict";var y=h(82),_=T,g=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var f=void 0===/()??/.exec("")[1];T=function(m,x){var P=String(this);if(void 0===m&&0===x)return[];if(!y(m))return _.call(P,m,x);var p,w,O,N,$,V=[],J=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(m.sticky?"y":""),X=0,Z=void 0===x?4294967295:x>>>0,j=new RegExp(m.source,J+"g");for(f||(p=new RegExp("^"+j.source+"$(?!\\s)",J));(w=j.exec(P))&&!((O=w.index+w[0].length)>X&&(V.push(P.slice(X,w.index)),!f&&w.length>1&&w[0].replace(p,function(){for($=1;$<arguments.length-2;$++)void 0===arguments[$]&&(w[$]=void 0)}),w.length>1&&w.index<P.length&&g.apply(V,w.slice(1)),N=w[0].length,X=O,V.length>=Z));)j.lastIndex===w.index&&j.lastIndex++;return X===P.length?!N&&j.test("")||V.push(""):V.push(P.slice(X)),V.length>Z?V.slice(0,Z):V}}else"0".split(void 0,0).length&&(T=function(m,x){return void 0===m&&0===x?[]:_.call(this,m,x)});return[function(m,x){var P=E(this),p=null==m?void 0:m[v];return void 0!==p?p.call(m,P,x):T.call(String(P),m,x)},T]})},function(z,A,h){h(63)("search",1,function(E,v,T){return[function(y){"use strict";var _=E(this),g=null==y?void 0:y[v];return void 0!==g?g.call(y,_):new RegExp(y)[v](String(_))},T]})},function(z,A,h){h(63)("replace",2,function(E,v,T){return[function(y,_){"use strict";var g=E(this),f=null==y?void 0:y[v];return void 0!==f?f.call(y,g,_):T.call(String(g),y,_)},T]})},function(z,A,h){h(63)("match",1,function(E,v,T){return[function(y){"use strict";var _=E(this),g=null==y?void 0:y[v];return void 0!==g?g.call(y,_):new RegExp(y)[v](String(_))},T]})},function(z,A,h){"use strict";h(126);var E=h(5),v=h(77),T=h(11),y=/./.toString,_=function(g){h(15)(RegExp.prototype,"toString",g,!0)};h(3)(function(){return"/a/b"!=y.call({source:"a",flags:"b"})})?_(function(){var g=E(this);return"/".concat(g.source,"/","flags"in g?g.flags:!T&&g instanceof RegExp?v.call(g):void 0)}):"toString"!=y.name&&_(function(){return y.call(this)})},function(z,A,h){var E=h(6),v=h(87),T=h(10).f,y=h(32).f,_=h(82),g=h(77),f=E.RegExp,m=f,x=f.prototype,P=/a/g,p=/a/g,w=new f(P)!==P;if(h(11)&&(!w||h(3)(function(){return p[h(7)("match")]=!1,f(P)!=P||f(p)==p||"/a/i"!=f(P,"i")}))){f=function(V,J){var X=this instanceof f,Z=_(V),j=void 0===J;return!X&&Z&&V.constructor===f&&j?V:v(w?new m(Z&&!j?V.source:V,J):m((Z=V instanceof f)?V.source:V,Z&&j?g.call(V):J),X?this:x,f)};for(var O=function(V){V in f||T(f,V,{configurable:!0,get:function(){return m[V]},set:function(J){m[V]=J}})},N=y(m),$=0;N.length>$;)O(N[$++]);x.constructor=f,f.prototype=x,h(15)(E,"RegExp",f)}h(43)("RegExp")},function(z,A,h){h(43)("Array")},function(z,A,h){"use strict";var E=h(0),v=h(19)(6),T="findIndex",y=!0;T in[]&&Array(1)[T](function(){y=!1}),E(E.P+E.F*y,"Array",{findIndex:function(_){return v(this,_,arguments.length>1?arguments[1]:void 0)}}),h(52)(T)},function(z,A,h){"use strict";var E=h(0),v=h(19)(5),T=!0;"find"in[]&&Array(1).find(function(){T=!1}),E(E.P+E.F*T,"Array",{find:function(y){return v(this,y,arguments.length>1?arguments[1]:void 0)}}),h(52)("find")},function(z,A,h){var E=h(0);E(E.P,"Array",{fill:h(78)}),h(52)("fill")},function(z,A,h){var E=h(0);E(E.P,"Array",{copyWithin:h(129)}),h(52)("copyWithin")},function(z,A,h){"use strict";var E=h(0),v=h(21),T=h(24),y=h(12),_=[].lastIndexOf,g=!!_&&1/[1].lastIndexOf(1,-0)<0;E(E.P+E.F*(g||!h(17)(_)),"Array",{lastIndexOf:function(f){if(g)return _.apply(this,arguments)||0;var m=v(this),x=y(m.length),P=x-1;for(arguments.length>1&&(P=Math.min(P,T(arguments[1]))),P<0&&(P=x+P);P>=0;P--)if(P in m&&m[P]===f)return P||0;return-1}})},function(z,A,h){"use strict";var E=h(0),v=h(94)(!1),T=[].indexOf,y=!!T&&1/[1].indexOf(1,-0)<0;E(E.P+E.F*(y||!h(17)(T)),"Array",{indexOf:function(_){return y?T.apply(this,arguments)||0:v(this,_,arguments[1])}})},function(z,A,h){"use strict";var E=h(0),v=h(130);E(E.P+E.F*!h(17)([].reduceRight,!0),"Array",{reduceRight:function(T){return v(this,T,arguments.length,arguments[1],!0)}})},function(z,A,h){"use strict";var E=h(0),v=h(130);E(E.P+E.F*!h(17)([].reduce,!0),"Array",{reduce:function(T){return v(this,T,arguments.length,arguments[1],!1)}})},function(z,A,h){"use strict";var E=h(0),v=h(19)(4);E(E.P+E.F*!h(17)([].every,!0),"Array",{every:function(T){return v(this,T,arguments[1])}})},function(z,A,h){"use strict";var E=h(0),v=h(19)(3);E(E.P+E.F*!h(17)([].some,!0),"Array",{some:function(T){return v(this,T,arguments[1])}})},function(z,A,h){"use strict";var E=h(0),v=h(19)(2);E(E.P+E.F*!h(17)([].filter,!0),"Array",{filter:function(T){return v(this,T,arguments[1])}})},function(z,A,h){"use strict";var E=h(0),v=h(19)(1);E(E.P+E.F*!h(17)([].map,!0),"Array",{map:function(T){return v(this,T,arguments[1])}})},function(z,A,h){var E=h(4),v=h(91),T=h(7)("species");z.exports=function(y){var _;return v(y)&&("function"!=typeof(_=y.constructor)||_!==Array&&!v(_.prototype)||(_=void 0),E(_)&&null===(_=_[T])&&(_=void 0)),void 0===_?Array:_}},function(z,A,h){var E=h(230);z.exports=function(v,T){return new(E(v))(T)}},function(z,A,h){"use strict";var E=h(0),v=h(19)(0),T=h(17)([].forEach,!0);E(E.P+E.F*!T,"Array",{forEach:function(y){return v(this,y,arguments[1])}})},function(z,A,h){"use strict";var E=h(0),v=h(26),T=h(14),y=h(3),_=[].sort,g=[1,2,3];E(E.P+E.F*(y(function(){g.sort(void 0)})||!y(function(){g.sort(null)})||!h(17)(_)),"Array",{sort:function(f){return void 0===f?_.call(T(this)):_.call(T(this),v(f))}})},function(z,A,h){"use strict";var E=h(0),v=h(90),T=h(25),y=h(34),_=h(12),g=[].slice;E(E.P+E.F*h(3)(function(){v&&g.call(v)}),"Array",{slice:function(f,m){var x=_(this.length),P=T(this);if(m=void 0===m?x:m,"Array"==P)return g.call(this,f,m);for(var p=y(f,x),w=y(m,x),O=_(w-p),N=new Array(O),$=0;$<O;$++)N[$]="String"==P?this.charAt(p+$):this[p+$];return N}})},function(z,A,h){"use strict";var E=h(0),v=h(21),T=[].join;E(E.P+E.F*(h(54)!=Object||!h(17)(T)),"Array",{join:function(y){return T.call(v(this),void 0===y?",":y)}})},function(z,A,h){"use strict";var E=h(0),v=h(131);E(E.S+E.F*h(3)(function(){function T(){}return!(Array.of.call(T)instanceof T)}),"Array",{of:function(){for(var T=0,y=arguments.length,_=new("function"==typeof this?this:Array)(y);y>T;)v(_,T,arguments[T++]);return _.length=y,_}})},function(z,A,h){"use strict";var E=h(27),v=h(0),T=h(14),y=h(132),_=h(80),g=h(12),f=h(131),m=h(79);v(v.S+v.F*!h(64)(function(x){Array.from(x)}),"Array",{from:function(x){var P,p,w,O,N=T(x),$="function"==typeof this?this:Array,V=arguments.length,J=V>1?arguments[1]:void 0,X=void 0!==J,Z=0,j=m(N);if(X&&(J=E(J,V>2?arguments[2]:void 0,2)),null==j||$==Array&&_(j))for(p=new $(P=g(N.length));P>Z;Z++)f(p,Z,X?J(N[Z],Z):N[Z]);else for(O=j.call(N),p=new $;!(w=O.next()).done;Z++)f(p,Z,X?y(O,J,[w.value,Z],!0):w.value);return p.length=Z,p}})},function(z,A,h){var E=h(0);E(E.S,"Array",{isArray:h(91)})},function(z,A,h){"use strict";var E=h(5),v=h(30);z.exports=function(T){if("string"!==T&&"number"!==T&&"default"!==T)throw TypeError("Incorrect hint");return v(E(this),"number"!=T)}},function(z,A,h){var E=h(7)("toPrimitive"),v=Date.prototype;E in v||h(18)(v,E,h(239))},function(z,A,h){var E=Date.prototype,v=E.toString,T=E.getTime;new Date(NaN)+""!="Invalid Date"&&h(15)(E,"toString",function(){var y=T.call(this);return y==y?v.call(this):"Invalid Date"})},function(z,A,h){"use strict";var E=h(3),v=Date.prototype.getTime,T=Date.prototype.toISOString,y=function(_){return _>9?_:"0"+_};z.exports=E(function(){return"0385-07-25T07:06:39.999Z"!=T.call(new Date(-50000000000001))})||!E(function(){T.call(new Date(NaN))})?function(){if(!isFinite(v.call(this)))throw RangeError("Invalid time value");var _=this,g=_.getUTCFullYear(),f=_.getUTCMilliseconds(),m=g<0?"-":g>9999?"+":"";return m+("00000"+Math.abs(g)).slice(m?-6:-4)+"-"+y(_.getUTCMonth()+1)+"-"+y(_.getUTCDate())+"T"+y(_.getUTCHours())+":"+y(_.getUTCMinutes())+":"+y(_.getUTCSeconds())+"."+(f>99?f:"0"+y(f))+"Z"}:T},function(z,A,h){var E=h(0),v=h(242);E(E.P+E.F*(Date.prototype.toISOString!==v),"Date",{toISOString:v})},function(z,A,h){"use strict";var E=h(0),v=h(14),T=h(30);E(E.P+E.F*h(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(y){var _=v(this),g=T(_);return"number"!=typeof g||isFinite(g)?_.toISOString():null}})},function(z,A,h){var E=h(0);E(E.S,"Date",{now:function(){return(new Date).getTime()}})},function(z,A,h){"use strict";h(13)("sup",function(E){return function(){return E(this,"sup","","")}})},function(z,A,h){"use strict";h(13)("sub",function(E){return function(){return E(this,"sub","","")}})},function(z,A,h){"use strict";h(13)("strike",function(E){return function(){return E(this,"strike","","")}})},function(z,A,h){"use strict";h(13)("small",function(E){return function(){return E(this,"small","","")}})},function(z,A,h){"use strict";h(13)("link",function(E){return function(v){return E(this,"a","href",v)}})},function(z,A,h){"use strict";h(13)("italics",function(E){return function(){return E(this,"i","","")}})},function(z,A,h){"use strict";h(13)("fontsize",function(E){return function(v){return E(this,"font","size",v)}})},function(z,A,h){"use strict";h(13)("fontcolor",function(E){return function(v){return E(this,"font","color",v)}})},function(z,A,h){"use strict";h(13)("fixed",function(E){return function(){return E(this,"tt","","")}})},function(z,A,h){"use strict";h(13)("bold",function(E){return function(){return E(this,"b","","")}})},function(z,A,h){"use strict";h(13)("blink",function(E){return function(){return E(this,"blink","","")}})},function(z,A,h){"use strict";h(13)("big",function(E){return function(){return E(this,"big","","")}})},function(z,A,h){"use strict";h(13)("anchor",function(E){return function(v){return E(this,"a","name",v)}})},function(z,A,h){"use strict";var E=h(0),v=h(12),T=h(83),y="".startsWith;E(E.P+E.F*h(81)("startsWith"),"String",{startsWith:function(_){var g=T(this,_,"startsWith"),f=v(Math.min(arguments.length>1?arguments[1]:void 0,g.length)),m=String(_);return y?y.call(g,m,f):g.slice(f,f+m.length)===m}})},function(z,A,h){var E=h(0);E(E.P,"String",{repeat:h(137)})},function(z,A,h){"use strict";var E=h(0),v=h(83);E(E.P+E.F*h(81)("includes"),"String",{includes:function(T){return!!~v(this,T,"includes").indexOf(T,arguments.length>1?arguments[1]:void 0)}})},function(z,A,h){"use strict";var E=h(0),v=h(12),T=h(83),y="".endsWith;E(E.P+E.F*h(81)("endsWith"),"String",{endsWith:function(_){var g=T(this,_,"endsWith"),f=arguments.length>1?arguments[1]:void 0,m=v(g.length),x=void 0===f?m:Math.min(v(f),m),P=String(_);return y?y.call(g,P,x):g.slice(x-P.length,x)===P}})},function(z,A,h){"use strict";var E=h(0),v=h(134)(!1);E(E.P,"String",{codePointAt:function(T){return v(this,T)}})},function(z,A,h){"use strict";var E=h(134)(!0);h(84)(String,"String",function(v){this._t=String(v),this._i=0},function(){var v,T=this._t,y=this._i;return y>=T.length?{value:void 0,done:!0}:(v=E(T,y),this._i+=v.length,{value:v,done:!1})})},function(z,A,h){"use strict";h(65)("trim",function(E){return function(){return E(this,3)}})},function(z,A,h){var E=h(0),v=h(21),T=h(12);E(E.S,"String",{raw:function(y){for(var _=v(y.raw),g=T(_.length),f=arguments.length,m=[],x=0;g>x;)m.push(String(_[x++])),x<f&&m.push(String(arguments[x]));return m.join("")}})},function(z,A,h){var E=h(0),v=h(34),T=String.fromCharCode,y=String.fromCodePoint;E(E.S+E.F*(!!y&&1!=y.length),"String",{fromCodePoint:function(_){for(var g,f=[],m=arguments.length,x=0;m>x;){if(g=+arguments[x++],v(g,1114111)!==g)throw RangeError(g+" is not a valid code point");f.push(g<65536?T(g):T(55296+((g-=65536)>>10),g%1024+56320))}return f.join("")}})},function(z,A,h){var E=h(0);E(E.S,"Math",{trunc:function(v){return(v>0?Math.floor:Math.ceil)(v)}})},function(z,A,h){var E=h(0),v=h(85),T=Math.exp;E(E.S,"Math",{tanh:function(y){var _=v(y=+y),g=v(-y);return _==1/0?1:g==1/0?-1:(_-g)/(T(y)+T(-y))}})},function(z,A,h){var E=h(0),v=h(85),T=Math.exp;E(E.S+E.F*h(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(y){return Math.abs(y=+y)<1?(v(y)-v(-y))/2:(T(y-1)-T(-y-1))*(Math.E/2)}})},function(z,A,h){var E=h(0);E(E.S,"Math",{sign:h(86)})},function(z,A,h){var E=h(0);E(E.S,"Math",{log2:function(v){return Math.log(v)/Math.LN2}})},function(z,A,h){var E=h(0);E(E.S,"Math",{log1p:h(135)})},function(z,A,h){var E=h(0);E(E.S,"Math",{log10:function(v){return Math.log(v)*Math.LOG10E}})},function(z,A,h){var E=h(0),v=Math.imul;E(E.S+E.F*h(3)(function(){return-5!=v(4294967295,5)||2!=v.length}),"Math",{imul:function(T,y){var _=+T,g=+y,f=65535&_,m=65535&g;return 0|f*m+((65535&_>>>16)*m+f*(65535&g>>>16)<<16>>>0)}})},function(z,A,h){var E=h(0),v=Math.abs;E(E.S,"Math",{hypot:function(T,y){for(var _,g,f=0,m=0,x=arguments.length,P=0;m<x;)P<(_=v(arguments[m++]))?(f=f*(g=P/_)*g+1,P=_):f+=_>0?(g=_/P)*g:_;return P===1/0?1/0:P*Math.sqrt(f)}})},function(z,A,h){var E=h(86),v=Math.pow,T=v(2,-52),y=v(2,-23),_=v(2,127)*(2-y),g=v(2,-126);z.exports=Math.fround||function(f){var m,x,P=Math.abs(f),p=E(f);return P<g?p*(P/g/y+1/T-1/T)*g*y:(x=(m=(1+y/T)*P)-(m-P))>_||x!=x?p*(1/0):p*x}},function(z,A,h){var E=h(0);E(E.S,"Math",{fround:h(277)})},function(z,A,h){var E=h(0),v=h(85);E(E.S+E.F*(v!=Math.expm1),"Math",{expm1:v})},function(z,A,h){var E=h(0),v=Math.exp;E(E.S,"Math",{cosh:function(T){return(v(T=+T)+v(-T))/2}})},function(z,A,h){var E=h(0);E(E.S,"Math",{clz32:function(v){return(v>>>=0)?31-Math.floor(Math.log(v+.5)*Math.LOG2E):32}})},function(z,A,h){var E=h(0),v=h(86);E(E.S,"Math",{cbrt:function(T){return v(T=+T)*Math.pow(Math.abs(T),1/3)}})},function(z,A,h){var E=h(0),v=Math.atanh;E(E.S+E.F*!(v&&1/v(-0)<0),"Math",{atanh:function(T){return 0==(T=+T)?T:Math.log((1+T)/(1-T))/2}})},function(z,A,h){var E=h(0),v=Math.asinh;E(E.S+E.F*!(v&&1/v(0)>0),"Math",{asinh:function T(y){return isFinite(y=+y)&&0!=y?y<0?-T(-y):Math.log(y+Math.sqrt(y*y+1)):y}})},function(z,A,h){var E=h(0),v=h(135),T=Math.sqrt,y=Math.acosh;E(E.S+E.F*!(y&&710==Math.floor(y(Number.MAX_VALUE))&&y(1/0)==1/0),"Math",{acosh:function(_){return(_=+_)<1?NaN:_>94906265.62425156?Math.log(_)+Math.LN2:v(_-1+T(_-1)*T(_+1))}})},function(z,A,h){var E=h(0),v=h(140);E(E.S+E.F*(Number.parseInt!=v),"Number",{parseInt:v})},function(z,A,h){var E=h(0),v=h(139);E(E.S+E.F*(Number.parseFloat!=v),"Number",{parseFloat:v})},function(z,A,h){var E=h(0);E(E.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(z,A,h){var E=h(0);E(E.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(z,A,h){var E=h(0),v=h(136),T=Math.abs;E(E.S,"Number",{isSafeInteger:function(y){return v(y)&&T(y)<=9007199254740991}})},function(z,A,h){var E=h(0);E(E.S,"Number",{isNaN:function(v){return v!=v}})},function(z,A,h){var E=h(0);E(E.S,"Number",{isInteger:h(136)})},function(z,A,h){var E=h(0),v=h(6).isFinite;E(E.S,"Number",{isFinite:function(T){return"number"==typeof T&&v(T)}})},function(z,A,h){var E=h(0);E(E.S,"Number",{EPSILON:Math.pow(2,-52)})},function(z,A,h){"use strict";var E=h(0),v=h(3),T=h(138),y=1..toPrecision;E(E.P+E.F*(v(function(){return"1"!==y.call(1,void 0)})||!v(function(){y.call({})})),"Number",{toPrecision:function(_){var g=T(this,"Number#toPrecision: incorrect invocation!");return void 0===_?y.call(g):y.call(g,_)}})},function(z,A,h){"use strict";var E=h(0),v=h(24),T=h(138),y=h(137),_=1..toFixed,g=Math.floor,f=[0,0,0,0,0,0],m="Number.toFixed: incorrect invocation!",x=function(O,N){for(var $=-1,V=N;++$<6;)f[$]=(V+=O*f[$])%1e7,V=g(V/1e7)},P=function(O){for(var N=6,$=0;--N>=0;)f[N]=g(($+=f[N])/O),$=$%O*1e7},p=function(){for(var O=6,N="";--O>=0;)if(""!==N||0===O||0!==f[O]){var $=String(f[O]);N=""===N?$:N+y.call("0",7-$.length)+$}return N},w=function(O,N,$){return 0===N?$:N%2==1?w(O,N-1,$*O):w(O*O,N/2,$)};E(E.P+E.F*(!!_&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!h(3)(function(){_.call({})})),"Number",{toFixed:function(O){var N,$,V,J,X=T(this,m),Z=v(O),j="",K="0";if(Z<0||Z>20)throw RangeError(m);if(X!=X)return"NaN";if(X<=-1e21||X>=1e21)return String(X);if(X<0&&(j="-",X=-X),X>1e-21)if($=(N=function(Q){for(var re=0,ne=Q;ne>=4096;)re+=12,ne/=4096;for(;ne>=2;)re+=1,ne/=2;return re}(X*w(2,69,1))-69)<0?X*w(2,-N,1):X/w(2,N,1),$*=4503599627370496,(N=52-N)>0){for(x(0,$),V=Z;V>=7;)x(1e7,0),V-=7;for(x(w(10,V,1),0),V=N-1;V>=23;)P(1<<23),V-=23;P(1<<V),x(1,1),P(2),K=p()}else x(0,$),x(1<<-N,0),K=p()+y.call("0",Z);return Z>0?j+((J=K.length)<=Z?"0."+y.call("0",Z-J)+K:K.slice(0,J-Z)+"."+K.slice(J-Z)):j+K}})},function(z,A,h){"use strict";var E=h(6),v=h(16),T=h(25),y=h(87),_=h(30),g=h(3),f=h(32).f,m=h(23).f,x=h(10).f,P=h(65).trim,p=E.Number,w=p,O=p.prototype,N="Number"==T(h(33)(O)),$="trim"in String.prototype,V=function(j){var K=_(j,!1);if("string"==typeof K&&K.length>2){var Q,re,ne,pe=(K=$?K.trim():P(K,3)).charCodeAt(0);if(43===pe||45===pe){if(88===(Q=K.charCodeAt(2))||120===Q)return NaN}else if(48===pe){switch(K.charCodeAt(1)){case 66:case 98:re=2,ne=49;break;case 79:case 111:re=8,ne=55;break;default:return+K}for(var be,Le=K.slice(2),Se=0,xe=Le.length;Se<xe;Se++)if((be=Le.charCodeAt(Se))<48||be>ne)return NaN;return parseInt(Le,re)}}return+K};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(j){var K=arguments.length<1?0:j,Q=this;return Q instanceof p&&(N?g(function(){O.valueOf.call(Q)}):"Number"!=T(Q))?y(new w(V(K)),Q,p):V(K)};for(var J,X=h(11)?f(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Z=0;X.length>Z;Z++)v(w,J=X[Z])&&!v(p,J)&&x(p,J,m(w,J));p.prototype=O,O.constructor=p,h(15)(E,"Number",p)}},function(z,A,h){var E=h(0),v=h(139);E(E.G+E.F*(parseFloat!=v),{parseFloat:v})},function(z,A,h){var E=h(0),v=h(140);E(E.G+E.F*(parseInt!=v),{parseInt:v})},function(z,A,h){"use strict";var E=h(4),v=h(31),T=h(7)("hasInstance"),y=Function.prototype;T in y||h(10).f(y,T,{value:function(_){if("function"!=typeof this||!E(_))return!1;if(!E(this.prototype))return _ instanceof this;for(;_=v(_);)if(this.prototype===_)return!0;return!1}})},function(z,A,h){var E=h(10).f,v=Function.prototype,T=/^\s*function ([^ (]*)/;"name"in v||h(11)&&E(v,"name",{configurable:!0,get:function(){try{return(""+this).match(T)[1]}catch(y){return""}}})},function(z,A,h){var E=h(0);E(E.P,"Function",{bind:h(142)})},function(z,A,h){"use strict";var E=h(66),v={};v[h(7)("toStringTag")]="z",v+""!="[object z]"&&h(15)(Object.prototype,"toString",function(){return"[object "+E(this)+"]"},!0)},function(z,A,h){var E=h(0);E(E.S,"Object",{setPrototypeOf:h(89).set})},function(z,A){z.exports=Object.is||function(h,E){return h===E?0!==h||1/h==1/E:h!=h&&E!=E}},function(z,A,h){var E=h(0);E(E.S,"Object",{is:h(305)})},function(z,A,h){var E=h(0);E(E.S+E.F,"Object",{assign:h(143)})},function(z,A,h){var E=h(4);h(20)("isExtensible",function(v){return function(T){return!!E(T)&&(!v||v(T))}})},function(z,A,h){var E=h(4);h(20)("isSealed",function(v){return function(T){return!E(T)||!!v&&v(T)}})},function(z,A,h){var E=h(4);h(20)("isFrozen",function(v){return function(T){return!E(T)||!!v&&v(T)}})},function(z,A,h){var E=h(4),v=h(29).onFreeze;h(20)("preventExtensions",function(T){return function(y){return T&&E(y)?T(v(y)):y}})},function(z,A,h){var E=h(4),v=h(29).onFreeze;h(20)("seal",function(T){return function(y){return T&&E(y)?T(v(y)):y}})},function(z,A,h){var E=h(4),v=h(29).onFreeze;h(20)("freeze",function(T){return function(y){return T&&E(y)?T(v(y)):y}})},function(z,A,h){h(20)("getOwnPropertyNames",function(){return h(144).f})},function(z,A,h){var E=h(14),v=h(55);h(20)("keys",function(){return function(T){return v(E(T))}})},function(z,A,h){var E=h(14),v=h(31);h(20)("getPrototypeOf",function(){return function(T){return v(E(T))}})},function(z,A,h){var E=h(21),v=h(23).f;h(20)("getOwnPropertyDescriptor",function(){return function(T,y){return v(E(T),y)}})},function(z,A,h){var E=h(0);E(E.S+E.F*!h(11),"Object",{defineProperties:h(145)})},function(z,A,h){var E=h(0);E(E.S+E.F*!h(11),"Object",{defineProperty:h(10).f})},function(z,A,h){var E=h(0);E(E.S,"Object",{create:h(33)})},function(z,A,h){var E=h(55),v=h(68),T=h(67);z.exports=function(y){var _=E(y),g=v.f;if(g)for(var f,m=g(y),x=T.f,P=0;m.length>P;)x.call(y,f=m[P++])&&_.push(f);return _}},function(z,A,h){var E=h(6),v=h(37),T=h(44),y=h(147),_=h(10).f;z.exports=function(g){var f=v.Symbol||(v.Symbol=T?{}:E.Symbol||{});"_"==g.charAt(0)||g in f||_(f,g,{value:y.f(g)})}},function(z,A,h){"use strict";var E=h(6),v=h(16),T=h(11),y=h(0),_=h(15),g=h(29).KEY,f=h(3),m=h(95),x=h(45),P=h(35),p=h(7),w=h(147),O=h(322),N=h(321),$=h(91),V=h(5),J=h(4),X=h(21),Z=h(30),j=h(36),K=h(33),Q=h(144),re=h(23),ne=h(10),pe=h(55),be=re.f,Le=ne.f,Se=Q.f,xe=E.Symbol,le=E.JSON,Ce=le&&le.stringify,ge=p("_hidden"),Xe=p("toPrimitive"),he={}.propertyIsEnumerable,Te=m("symbol-registry"),Ne=m("symbols"),Ke=m("op-symbols"),ot=Object.prototype,Ze="function"==typeof xe,mt=E.QObject,yt=!mt||!mt.prototype||!mt.prototype.findChild,tt=T&&f(function(){return 7!=K(Le({},"a",{get:function(){return Le(this,"a",{value:7}).a}})).a})?function(bt,Pt,Fe){var De=be(ot,Pt);De&&delete ot[Pt],Le(bt,Pt,Fe),De&&bt!==ot&&Le(ot,Pt,De)}:Le,me=function(bt){var Pt=Ne[bt]=K(xe.prototype);return Pt._k=bt,Pt},Ie=Ze&&"symbol"==typeof xe.iterator?function(bt){return"symbol"==typeof bt}:function(bt){return bt instanceof xe},ke=function(bt,Pt,Fe){return bt===ot&&ke(Ke,Pt,Fe),V(bt),Pt=Z(Pt,!0),V(Fe),v(Ne,Pt)?(Fe.enumerable?(v(bt,ge)&&bt[ge][Pt]&&(bt[ge][Pt]=!1),Fe=K(Fe,{enumerable:j(0,!1)})):(v(bt,ge)||Le(bt,ge,j(1,{})),bt[ge][Pt]=!0),tt(bt,Pt,Fe)):Le(bt,Pt,Fe)},ze=function(bt,Pt){V(bt);for(var Fe,De=N(Pt=X(Pt)),$e=0,qe=De.length;qe>$e;)ke(bt,Fe=De[$e++],Pt[Fe]);return bt},st=function(bt){var Pt=he.call(this,bt=Z(bt,!0));return!(this===ot&&v(Ne,bt)&&!v(Ke,bt))&&(!(Pt||!v(this,bt)||!v(Ne,bt)||v(this,ge)&&this[ge][bt])||Pt)},lt=function(bt,Pt){if(bt=X(bt),Pt=Z(Pt,!0),bt!==ot||!v(Ne,Pt)||v(Ke,Pt)){var Fe=be(bt,Pt);return!Fe||!v(Ne,Pt)||v(bt,ge)&&bt[ge][Pt]||(Fe.enumerable=!0),Fe}},Be=function(bt){for(var Pt,Fe=Se(X(bt)),De=[],$e=0;Fe.length>$e;)v(Ne,Pt=Fe[$e++])||Pt==ge||Pt==g||De.push(Pt);return De},Ve=function(bt){for(var Pt,Fe=bt===ot,De=Se(Fe?Ke:X(bt)),$e=[],qe=0;De.length>qe;)!v(Ne,Pt=De[qe++])||Fe&&!v(ot,Pt)||$e.push(Ne[Pt]);return $e};Ze||(_((xe=function(){if(this instanceof xe)throw TypeError("Symbol is not a constructor!");var bt=P(arguments.length>0?arguments[0]:void 0),Pt=function(Fe){this===ot&&Pt.call(Ke,Fe),v(this,ge)&&v(this[ge],bt)&&(this[ge][bt]=!1),tt(this,bt,j(1,Fe))};return T&&yt&&tt(ot,bt,{configurable:!0,set:Pt}),me(bt)}).prototype,"toString",function(){return this._k}),re.f=lt,ne.f=ke,h(32).f=Q.f=Be,h(67).f=st,h(68).f=Ve,T&&!h(44)&&_(ot,"propertyIsEnumerable",st,!0),w.f=function(bt){return me(p(bt))}),y(y.G+y.W+y.F*!Ze,{Symbol:xe});for(var Qt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ut=0;Qt.length>Ut;)p(Qt[Ut++]);for(var rn=pe(p.store),Dn=0;rn.length>Dn;)O(rn[Dn++]);y(y.S+y.F*!Ze,"Symbol",{for:function(bt){return v(Te,bt+="")?Te[bt]:Te[bt]=xe(bt)},keyFor:function(bt){if(!Ie(bt))throw TypeError(bt+" is not a symbol!");for(var Pt in Te)if(Te[Pt]===bt)return Pt},useSetter:function(){yt=!0},useSimple:function(){yt=!1}}),y(y.S+y.F*!Ze,"Object",{create:function(bt,Pt){return void 0===Pt?K(bt):ze(K(bt),Pt)},defineProperty:ke,defineProperties:ze,getOwnPropertyDescriptor:lt,getOwnPropertyNames:Be,getOwnPropertySymbols:Ve}),le&&y(y.S+y.F*(!Ze||f(function(){var bt=xe();return"[null]"!=Ce([bt])||"{}"!=Ce({a:bt})||"{}"!=Ce(Object(bt))})),"JSON",{stringify:function(bt){for(var Pt,Fe,De=[bt],$e=1;arguments.length>$e;)De.push(arguments[$e++]);if(Fe=Pt=De[1],(J(Pt)||void 0!==bt)&&!Ie(bt))return $(Pt)||(Pt=function(qe,He){if("function"==typeof Fe&&(He=Fe.call(this,qe,He)),!Ie(He))return He}),De[1]=Pt,Ce.apply(le,De)}}),xe.prototype[Xe]||h(18)(xe.prototype,Xe,xe.prototype.valueOf),x(xe,"Symbol"),x(Math,"Math",!0),x(E.JSON,"JSON",!0)},function(z,A,h){h(323),h(320),h(319),h(318),h(317),h(316),h(315),h(314),h(313),h(312),h(311),h(310),h(309),h(308),h(307),h(306),h(304),h(303),h(302),h(301),h(300),h(299),h(298),h(297),h(296),h(295),h(294),h(293),h(292),h(291),h(290),h(289),h(288),h(287),h(286),h(285),h(284),h(283),h(282),h(281),h(280),h(279),h(278),h(276),h(275),h(274),h(273),h(272),h(271),h(270),h(269),h(268),h(267),h(266),h(265),h(264),h(263),h(262),h(261),h(260),h(259),h(258),h(257),h(256),h(255),h(254),h(253),h(252),h(251),h(250),h(249),h(248),h(247),h(246),h(245),h(244),h(243),h(241),h(240),h(238),h(237),h(236),h(235),h(234),h(233),h(232),h(229),h(228),h(227),h(226),h(225),h(224),h(223),h(222),h(221),h(220),h(219),h(218),h(217),h(128),h(216),h(215),h(126),h(214),h(213),h(212),h(211),h(210),h(206),h(205),h(204),h(203),h(202),h(201),h(200),h(199),h(198),h(197),h(196),h(195),h(194),h(193),h(192),h(191),h(190),h(189),h(188),h(187),h(186),h(185),h(184),h(183),h(182),h(181),h(179),h(178),h(177),z.exports=h(37)},function(z,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MD5=A.SFSRoom=A.SetBuddyVariablesRequest=A.RemoveBuddyRequest=A.InitBuddyListRequest=A.GoOnlineRequest=A.BuddyMessageRequest=A.BlockBuddyRequest=A.AddBuddyRequest=A.SetUserPositionRequest=A.QuickJoinGameRequest=A.JoinRoomInvitationRequest=A.InviteUsersRequest=A.InvitationReplyRequest=A.CreateSFSGameRequest=A.BanUserRequest=A.KickUserRequest=A.ExtensionRequest=A.FindUsersRequest=A.FindRoomsRequest=A.PlayerToSpectatorRequest=A.SpectatorToPlayerRequest=A.UnsubscribeRoomGroupRequest=A.SubscribeRoomGroupRequest=A.SetUserVariablesRequest=A.SetRoomVariablesRequest=A.AdminMessageRequest=A.ModeratorMessageRequest=A.ObjectMessageRequest=A.PrivateMessageRequest=A.PublicMessageRequest=A.ChangeRoomCapacityRequest=A.ChangeRoomPasswordStateRequest=A.ChangeRoomNameRequest=A.LeaveRoomRequest=A.QuickJoinOrCreateRoomRequest=A.CreateRoomRequest=A.JoinRoomRequest=A.LogoutRequest=A.LoginRequest=A.PasswordUtil=A.ClientDisconnectionReason=A.LoggerEvent=A.LogLevel=A.SFSErrorCodes=A.MessageRecipientMode=A.BanMode=A.MapLimits=A.RoomExtension=A.RoomEvents=A.RoomPermissions=A.MMORoomSettings=A.SFSGameSettings=A.RoomSettings=A.UserProperties=A.RoomProperties=A.StringMatch=A.NumberMatch=A.BoolMatch=A.LogicOperator=A.MatchExpression=A.MMOItemVariable=A.ReservedBuddyVariables=A.SFSBuddyVariable=A.ReservedRoomVariables=A.SFSRoomVariable=A.SFSUserVariable=A.VariableType=A.UserPrivileges=A.InvitationReply=A.Vec3D=A.SFSArray=A.SFSObject=A.SFSDataType=A.SFSBuddyEvent=A.SFSEvent=A.SmartFox=void 0;var E=h(324);Object.keys(E).forEach(function(Pt){"default"!==Pt&&"__esModule"!==Pt&&Object.defineProperty(A,Pt,{enumerable:!0,get:function(){return E[Pt]}})});var v=h(176);Object.defineProperty(A,"SmartFox",{enumerable:!0,get:function(){return v.SmartFox}});var T=h(39);Object.defineProperty(A,"SFSEvent",{enumerable:!0,get:function(){return T.SFSEvent}}),Object.defineProperty(A,"SFSBuddyEvent",{enumerable:!0,get:function(){return T.SFSBuddyEvent}});var y=h(8);Object.defineProperty(A,"SFSDataType",{enumerable:!0,get:function(){return y.SFSDataType}}),Object.defineProperty(A,"SFSObject",{enumerable:!0,get:function(){return y.SFSObject}}),Object.defineProperty(A,"SFSArray",{enumerable:!0,get:function(){return y.SFSArray}}),Object.defineProperty(A,"Vec3D",{enumerable:!0,get:function(){return y.Vec3D}});var _=h(72);Object.defineProperty(A,"InvitationReply",{enumerable:!0,get:function(){return _.InvitationReply}});var g=h(47);Object.defineProperty(A,"UserPrivileges",{enumerable:!0,get:function(){return g.UserPrivileges}});var f=h(48);Object.defineProperty(A,"VariableType",{enumerable:!0,get:function(){return f.VariableType}});var m=h(59);Object.defineProperty(A,"SFSUserVariable",{enumerable:!0,get:function(){return m.SFSUserVariable}});var x=h(49);Object.defineProperty(A,"SFSRoomVariable",{enumerable:!0,get:function(){return x.SFSRoomVariable}}),Object.defineProperty(A,"ReservedRoomVariables",{enumerable:!0,get:function(){return x.ReservedRoomVariables}});var P=h(46);Object.defineProperty(A,"SFSBuddyVariable",{enumerable:!0,get:function(){return P.SFSBuddyVariable}}),Object.defineProperty(A,"ReservedBuddyVariables",{enumerable:!0,get:function(){return P.ReservedBuddyVariables}});var p=h(73);Object.defineProperty(A,"MMOItemVariable",{enumerable:!0,get:function(){return p.MMOItemVariable}});var w=h(38);Object.defineProperty(A,"MatchExpression",{enumerable:!0,get:function(){return w.MatchExpression}}),Object.defineProperty(A,"LogicOperator",{enumerable:!0,get:function(){return w.LogicOperator}});var O=h(161);Object.defineProperty(A,"BoolMatch",{enumerable:!0,get:function(){return O.BoolMatch}}),Object.defineProperty(A,"NumberMatch",{enumerable:!0,get:function(){return O.NumberMatch}}),Object.defineProperty(A,"StringMatch",{enumerable:!0,get:function(){return O.StringMatch}});var N=h(160);Object.defineProperty(A,"RoomProperties",{enumerable:!0,get:function(){return N.RoomProperties}}),Object.defineProperty(A,"UserProperties",{enumerable:!0,get:function(){return N.UserProperties}});var $=h(56);Object.defineProperty(A,"RoomSettings",{enumerable:!0,get:function(){return $.RoomSettings}}),Object.defineProperty(A,"SFSGameSettings",{enumerable:!0,get:function(){return $.SFSGameSettings}}),Object.defineProperty(A,"MMORoomSettings",{enumerable:!0,get:function(){return $.MMORoomSettings}}),Object.defineProperty(A,"RoomPermissions",{enumerable:!0,get:function(){return $.RoomPermissions}}),Object.defineProperty(A,"RoomEvents",{enumerable:!0,get:function(){return $.RoomEvents}}),Object.defineProperty(A,"RoomExtension",{enumerable:!0,get:function(){return $.RoomExtension}}),Object.defineProperty(A,"MapLimits",{enumerable:!0,get:function(){return $.MapLimits}}),Object.defineProperty(A,"BanMode",{enumerable:!0,get:function(){return $.BanMode}}),Object.defineProperty(A,"MessageRecipientMode",{enumerable:!0,get:function(){return $.MessageRecipientMode}});var V=h(74);Object.defineProperty(A,"SFSErrorCodes",{enumerable:!0,get:function(){return V.SFSErrorCodes}});var J=h(50);Object.defineProperty(A,"LogLevel",{enumerable:!0,get:function(){return J.LogLevel}}),Object.defineProperty(A,"LoggerEvent",{enumerable:!0,get:function(){return J.LoggerEvent}});var X=h(51);Object.defineProperty(A,"ClientDisconnectionReason",{enumerable:!0,get:function(){return X.ClientDisconnectionReason}});var Z=h(159);Object.defineProperty(A,"PasswordUtil",{enumerable:!0,get:function(){return Z.PasswordUtil}});var j=h(118);Object.defineProperty(A,"LoginRequest",{enumerable:!0,get:function(){return j.LoginRequest}});var K=h(117);Object.defineProperty(A,"LogoutRequest",{enumerable:!0,get:function(){return K.LogoutRequest}});var Q=h(116);Object.defineProperty(A,"JoinRoomRequest",{enumerable:!0,get:function(){return Q.JoinRoomRequest}});var re=h(57);Object.defineProperty(A,"CreateRoomRequest",{enumerable:!0,get:function(){return re.CreateRoomRequest}});var ne=h(158);Object.defineProperty(A,"QuickJoinOrCreateRoomRequest",{enumerable:!0,get:function(){return ne.QuickJoinOrCreateRoomRequest}});var pe=h(157);Object.defineProperty(A,"LeaveRoomRequest",{enumerable:!0,get:function(){return pe.LeaveRoomRequest}});var be=h(115);Object.defineProperty(A,"ChangeRoomNameRequest",{enumerable:!0,get:function(){return be.ChangeRoomNameRequest}});var Le=h(114);Object.defineProperty(A,"ChangeRoomPasswordStateRequest",{enumerable:!0,get:function(){return Le.ChangeRoomPasswordStateRequest}});var Se=h(113);Object.defineProperty(A,"ChangeRoomCapacityRequest",{enumerable:!0,get:function(){return Se.ChangeRoomCapacityRequest}});var xe=h(70);Object.defineProperty(A,"PublicMessageRequest",{enumerable:!0,get:function(){return xe.PublicMessageRequest}}),Object.defineProperty(A,"PrivateMessageRequest",{enumerable:!0,get:function(){return xe.PrivateMessageRequest}}),Object.defineProperty(A,"ObjectMessageRequest",{enumerable:!0,get:function(){return xe.ObjectMessageRequest}}),Object.defineProperty(A,"ModeratorMessageRequest",{enumerable:!0,get:function(){return xe.ModeratorMessageRequest}}),Object.defineProperty(A,"AdminMessageRequest",{enumerable:!0,get:function(){return xe.AdminMessageRequest}});var le=h(112);Object.defineProperty(A,"SetRoomVariablesRequest",{enumerable:!0,get:function(){return le.SetRoomVariablesRequest}});var Ce=h(111);Object.defineProperty(A,"SetUserVariablesRequest",{enumerable:!0,get:function(){return Ce.SetUserVariablesRequest}});var ge=h(110);Object.defineProperty(A,"SubscribeRoomGroupRequest",{enumerable:!0,get:function(){return ge.SubscribeRoomGroupRequest}});var Xe=h(109);Object.defineProperty(A,"UnsubscribeRoomGroupRequest",{enumerable:!0,get:function(){return Xe.UnsubscribeRoomGroupRequest}});var he=h(108);Object.defineProperty(A,"SpectatorToPlayerRequest",{enumerable:!0,get:function(){return he.SpectatorToPlayerRequest}});var Te=h(107);Object.defineProperty(A,"PlayerToSpectatorRequest",{enumerable:!0,get:function(){return Te.PlayerToSpectatorRequest}});var Ne=h(106);Object.defineProperty(A,"FindRoomsRequest",{enumerable:!0,get:function(){return Ne.FindRoomsRequest}});var Ke=h(105);Object.defineProperty(A,"FindUsersRequest",{enumerable:!0,get:function(){return Ke.FindUsersRequest}});var ot=h(97);Object.defineProperty(A,"ExtensionRequest",{enumerable:!0,get:function(){return ot.ExtensionRequest}});var Ze=h(156);Object.defineProperty(A,"KickUserRequest",{enumerable:!0,get:function(){return Ze.KickUserRequest}});var mt=h(155);Object.defineProperty(A,"BanUserRequest",{enumerable:!0,get:function(){return mt.BanUserRequest}});var yt=h(154);Object.defineProperty(A,"CreateSFSGameRequest",{enumerable:!0,get:function(){return yt.CreateSFSGameRequest}});var tt=h(153);Object.defineProperty(A,"InvitationReplyRequest",{enumerable:!0,get:function(){return tt.InvitationReplyRequest}});var me=h(69);Object.defineProperty(A,"InviteUsersRequest",{enumerable:!0,get:function(){return me.InviteUsersRequest}});var Ie=h(152);Object.defineProperty(A,"JoinRoomInvitationRequest",{enumerable:!0,get:function(){return Ie.JoinRoomInvitationRequest}});var ke=h(151);Object.defineProperty(A,"QuickJoinGameRequest",{enumerable:!0,get:function(){return ke.QuickJoinGameRequest}});var ze=h(104);Object.defineProperty(A,"SetUserPositionRequest",{enumerable:!0,get:function(){return ze.SetUserPositionRequest}});var st=h(102);Object.defineProperty(A,"AddBuddyRequest",{enumerable:!0,get:function(){return st.AddBuddyRequest}});var lt=h(100);Object.defineProperty(A,"BlockBuddyRequest",{enumerable:!0,get:function(){return lt.BlockBuddyRequest}});var Be=h(150);Object.defineProperty(A,"BuddyMessageRequest",{enumerable:!0,get:function(){return Be.BuddyMessageRequest}});var Ve=h(99);Object.defineProperty(A,"GoOnlineRequest",{enumerable:!0,get:function(){return Ve.GoOnlineRequest}});var Qt=h(103);Object.defineProperty(A,"InitBuddyListRequest",{enumerable:!0,get:function(){return Qt.InitBuddyListRequest}});var Ut=h(101);Object.defineProperty(A,"RemoveBuddyRequest",{enumerable:!0,get:function(){return Ut.RemoveBuddyRequest}});var rn=h(98);Object.defineProperty(A,"SetBuddyVariablesRequest",{enumerable:!0,get:function(){return rn.SetBuddyVariablesRequest}});var Dn=h(9);Object.defineProperty(A,"SFSRoom",{enumerable:!0,get:function(){return Dn.SFSRoom}});var bt=h(71);Object.defineProperty(A,"MD5",{enumerable:!0,get:function(){return bt.MD5}}),h(149)}])},8971:(Me,z,A)=>{"use strict";var h=A(7024),E=A(2844),v=function(f,m,x){for(var p,P=f;null!=(p=P.next);P=p)if(p.key===m)return P.next=p.next,x||(p.next=f.next,f.next=p),p};Me.exports=function(){var m,x={assert:function(P){if(!x.has(P))throw new E("Side channel does not contain "+h(P))},delete:function(P){var p=m&&m.next,w=function(f,m){if(f)return v(f,m,!0)}(m,P);return w&&p&&p===w&&(m=void 0),!!w},get:function(P){return function(f,m){if(f){var x=v(f,m);return x&&x.value}}(m,P)},has:function(P){return function(f,m){return!!f&&!!v(f,m)}(m,P)},set:function(P,p){m||(m={next:void 0}),function(f,m,x){var P=v(f,m);P?P.value=x:f.next={key:m,next:f.next,value:x}}(m,P,p)}};return x}},3201:(Me,z,A)=>{"use strict";var h=A(5203),E=A(3e3),v=A(7024),T=A(2844),y=h("%Map%",!0),_=E("Map.prototype.get",!0),g=E("Map.prototype.set",!0),f=E("Map.prototype.has",!0),m=E("Map.prototype.delete",!0),x=E("Map.prototype.size",!0);Me.exports=!!y&&function(){var p,w={assert:function(O){if(!w.has(O))throw new T("Side channel does not contain "+v(O))},delete:function(O){if(p){var N=m(p,O);return 0===x(p)&&(p=void 0),N}return!1},get:function(O){if(p)return _(p,O)},has:function(O){return!!p&&f(p,O)},set:function(O,N){p||(p=new y),g(p,O,N)}};return w}},683:(Me,z,A)=>{"use strict";var h=A(5203),E=A(3e3),v=A(7024),T=A(3201),y=A(2844),_=h("%WeakMap%",!0),g=E("WeakMap.prototype.get",!0),f=E("WeakMap.prototype.set",!0),m=E("WeakMap.prototype.has",!0),x=E("WeakMap.prototype.delete",!0);Me.exports=_?function(){var p,w,O={assert:function(N){if(!O.has(N))throw new y("Side channel does not contain "+v(N))},delete:function(N){if(_&&N&&("object"==typeof N||"function"==typeof N)){if(p)return x(p,N)}else if(T&&w)return w.delete(N);return!1},get:function(N){return _&&N&&("object"==typeof N||"function"==typeof N)&&p?g(p,N):w&&w.get(N)},has:function(N){return _&&N&&("object"==typeof N||"function"==typeof N)&&p?m(p,N):!!w&&w.has(N)},set:function(N,$){_&&N&&("object"==typeof N||"function"==typeof N)?(p||(p=new _),f(p,N,$)):T&&(w||(w=T()),w.set(N,$))}};return O}:T},8475:(Me,z,A)=>{"use strict";var h=A(2844),E=A(7024),v=A(8971),T=A(3201),_=A(683)||T||v;Me.exports=function(){var f,m={assert:function(x){if(!m.has(x))throw new h("Side channel does not contain "+E(x))},delete:function(x){return!!f&&f.delete(x)},get:function(x){return f&&f.get(x)},has:function(x){return!!f&&f.has(x)},set:function(x,P){f||(f=_()),f.set(x,P)}};return m}},209:(Me,z,A)=>{"use strict";var h=A(8810);Me.exports=A(3096)(h),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},8265:(Me,z,A)=>{"use strict";var h=A(3894),E=A(4532);function v(){E.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}h(v,E),Me.exports=v},17:(Me,z,A)=>{"use strict";var h=A(3894),E=A(9895);function v(){E.call(this)}h(v,E),v.prototype.removeAllListeners=function(T){T?delete this._listeners[T]:this._listeners={}},v.prototype.once=function(T,y){var _=this,g=!1;this.on(T,function f(){_.removeListener(T,f),g||(g=!0,y.apply(this,arguments))})},v.prototype.emit=function(){var T=arguments[0],y=this._listeners[T];if(y){for(var _=arguments.length,g=new Array(_-1),f=1;f<_;f++)g[f-1]=arguments[f];for(var m=0;m<y.length;m++)y[m].apply(this,g)}},v.prototype.on=v.prototype.addListener=E.prototype.addEventListener,v.prototype.removeListener=E.prototype.removeEventListener,Me.exports.v=v},4532:Me=>{"use strict";function z(A){this.type=A}z.prototype.initEvent=function(A,h,E){return this.type=A,this.bubbles=h,this.cancelable=E,this.timeStamp=+new Date,this},z.prototype.stopPropagation=function(){},z.prototype.preventDefault=function(){},z.CAPTURING_PHASE=1,z.AT_TARGET=2,z.BUBBLING_PHASE=3,Me.exports=z},9895:Me=>{"use strict";function z(){this._listeners={}}z.prototype.addEventListener=function(A,h){A in this._listeners||(this._listeners[A]=[]);var E=this._listeners[A];-1===E.indexOf(h)&&(E=E.concat([h])),this._listeners[A]=E},z.prototype.removeEventListener=function(A,h){var E=this._listeners[A];if(E){var v=E.indexOf(h);if(-1!==v)return void(E.length>1?this._listeners[A]=E.slice(0,v).concat(E.slice(v+1)):delete this._listeners[A])}},z.prototype.dispatchEvent=function(){var A=arguments[0],h=A.type,E=1===arguments.length?[A]:Array.apply(null,arguments);if(this["on"+h]&&this["on"+h].apply(this,E),h in this._listeners)for(var v=this._listeners[h],T=0;T<v.length;T++)v[T].apply(this,E)},Me.exports=z},4572:(Me,z,A)=>{"use strict";var h=A(3894),E=A(4532);function v(T){E.call(this),this.initEvent("message",!1,!1),this.data=T}h(v,E),Me.exports=v},7299:(Me,z,A)=>{"use strict";var h=A(8075);function E(v){this._transport=v,v.on("message",this._transportMessage.bind(this)),v.on("close",this._transportClose.bind(this))}E.prototype._transportClose=function(v,T){h.postMessage("c",JSON.stringify([v,T]))},E.prototype._transportMessage=function(v){h.postMessage("t",v)},E.prototype._send=function(v){this._transport.send(v)},E.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Me.exports=E},737:(Me,z,A)=>{"use strict";var h=A(1493),E=A(3865),v=A(7299),T=A(5841),y=A(8075),_=A(205);Me.exports=function(f,m){var P,x={};m.forEach(function(p){p.facadeTransport&&(x[p.facadeTransport.transportName]=p.facadeTransport)}),x[T.transportName]=T,f.bootstrap_iframe=function(){var p;y.currentWindowId=_.hash.slice(1),E.attachEvent("message",function(O){if(O.source===parent&&(void 0===P&&(P=O.origin),O.origin===P)){var N;try{N=JSON.parse(O.data)}catch(j){return}if(N.windowId===y.currentWindowId)switch(N.type){case"s":var $;try{$=JSON.parse(N.data)}catch(j){break}var V=$[0],J=$[1],X=$[2],Z=$[3];if(V!==f.version)throw new Error('Incompatible SockJS! Main site uses: "'+V+'", the iframe: "'+f.version+'".');if(!h.isOriginEqual(X,_.href)||!h.isOriginEqual(Z,_.href))throw new Error("Can't connect to different domain from within an iframe. ("+_.href+", "+X+", "+Z+")");p=new v(new x[J](X,Z));break;case"m":p._send(N.data);break;case"c":p&&p._close(),p=null}}}),y.postMessage("s")}}},8834:(Me,z,A)=>{"use strict";var h=A(17).v,E=A(3894),v=A(2923);function y(_,g){h.call(this);var f=this,m=+new Date;this.xo=new g("GET",_),this.xo.once("finish",function(x,P){var p,w;if(200===x){if(w=+new Date-m,P)try{p=JSON.parse(P)}catch(O){}v.isObject(p)||(p={})}f.emit("finish",p,w),f.removeAllListeners()})}E(y,h),y.prototype.close=function(){this.removeAllListeners(),this.xo.close()},Me.exports=y},5841:(Me,z,A)=>{"use strict";var h=A(3894),E=A(17).v,v=A(7898),T=A(8834);function y(_){var g=this;E.call(this),this.ir=new T(_,v),this.ir.once("finish",function(f,m){g.ir=null,g.emit("message",JSON.stringify([f,m]))})}h(y,E),y.transportName="iframe-info-receiver",y.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Me.exports=y},5672:(Me,z,A)=>{"use strict";var h=A(17).v,E=A(3894),v=A(3865),T=A(7415),y=A(5841);function g(f,m){var x=this;h.call(this);var P=function(){var p=x.ifr=new T(y.transportName,m,f);p.once("message",function(w){if(w){var O;try{O=JSON.parse(w)}catch(V){return x.emit("finish"),void x.close()}x.emit("finish",O[0],O[1])}x.close()}),p.once("close",function(){x.emit("finish"),x.close()})};global.document.body?P():v.attachEvent("load",P)}E(g,h),g.enabled=function(){return T.enabled()},g.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},Me.exports=g},6689:(Me,z,A)=>{"use strict";var h=A(17).v,E=A(3894),v=A(1493),T=A(5705),y=A(7807),_=A(7898),g=A(9312),f=A(5672),m=A(8834);function P(p,w){var O=this;h.call(this),setTimeout(function(){O.doXhr(p,w)},0)}E(P,h),P._getReceiver=function(p,w,O){return O.sameOrigin?new m(w,_):y.enabled?new m(w,y):T.enabled&&O.sameScheme?new m(w,T):f.enabled()?new f(p,w):new m(w,g)},P.prototype.doXhr=function(p,w){var O=this,N=v.addPath(p,"/info");this.xo=P._getReceiver(p,N,w),this.timeoutRef=setTimeout(function(){O._cleanup(!1),O.emit("finish")},P.timeout),this.xo.once("finish",function($,V){O._cleanup(!0),O.emit("finish",$,V)})},P.prototype._cleanup=function(p){clearTimeout(this.timeoutRef),this.timeoutRef=null,!p&&this.xo&&this.xo.close(),this.xo=null},P.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},P.timeout=8e3,Me.exports=P},205:Me=>{"use strict";Me.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3096:(Me,z,A)=>{"use strict";A(5904);var J,h=A(7629),E=A(3894),v=A(347),T=A(8481),y=A(1493),_=A(3865),g=A(2264),f=A(2923),m=A(480),x=A(1433),P=A(4532),p=A(9895),w=A(205),O=A(8265),N=A(4572),$=A(6689);function X(j,K,Q){if(!(this instanceof X))return new X(j,K,Q);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");p.call(this),this.readyState=X.CONNECTING,this.extensions="",this.protocol="",(Q=Q||{}).protocols_whitelist&&x.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=Q.transports,this._transportOptions=Q.transportOptions||{},this._timeout=Q.timeout||0;var re=Q.sessionId||8;if("function"==typeof re)this._generateSessionId=re;else{if("number"!=typeof re)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return v.string(re)}}this._server=Q.server||v.numberString(1e3);var ne=new h(j);if(!ne.host||!ne.protocol)throw new SyntaxError("The URL '"+j+"' is invalid");if(ne.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==ne.protocol&&"https:"!==ne.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+ne.protocol+"' is not allowed.");var pe="https:"===ne.protocol;if("https:"===w.protocol&&!pe&&!y.isLoopbackAddr(ne.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");K?Array.isArray(K)||(K=[K]):K=[];var be=K.sort();be.forEach(function(Se,xe){if(!Se)throw new SyntaxError("The protocols entry '"+Se+"' is invalid.");if(xe<be.length-1&&Se===be[xe+1])throw new SyntaxError("The protocols entry '"+Se+"' is duplicated.")});var Le=y.getOrigin(w.href);this._origin=Le?Le.toLowerCase():null,ne.set("pathname",ne.pathname.replace(/\/+$/,"")),this.url=ne.href,this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:y.isOriginEqual(this.url,w.href),sameScheme:y.isSchemeEqual(this.url,w.href)},this._ir=new $(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function Z(j){return 1e3===j||j>=3e3&&j<=4999}E(X,p),X.prototype.close=function(j,K){if(j&&!Z(j))throw new Error("InvalidAccessError: Invalid code");if(K&&K.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==X.CLOSING&&this.readyState!==X.CLOSED&&this._close(j||1e3,K||"Normal closure",!0)},X.prototype.send=function(j){if("string"!=typeof j&&(j=""+j),this.readyState===X.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===X.OPEN&&this._transport.send(T.quote(j))},X.version=A(947),X.CONNECTING=0,X.OPEN=1,X.CLOSING=2,X.CLOSED=3,X.prototype._receiveInfo=function(j,K){if(this._ir=null,j){this._rto=this.countRTO(K),this._transUrl=j.base_url?j.base_url:this.url,j=f.extend(j,this._urlInfo);var Q=J.filterToEnabled(this._transportsWhitelist,j);this._transports=Q.main,this._connect()}else this._close(1002,"Cannot connect to server")},X.prototype._connect=function(){for(var j=this._transports.shift();j;j=this._transports.shift()){if(j.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(j),void _.attachEvent("load",this._connect.bind(this));var K=Math.max(this._timeout,this._rto*j.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),K);var ne=new j(y.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[j.transportName]);return ne.on("message",this._transportMessage.bind(this)),ne.once("close",this._transportClose.bind(this)),ne.transportName=j.transportName,void(this._transport=ne)}this._close(2e3,"All transports failed",!1)},X.prototype._transportTimeout=function(){this.readyState===X.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},X.prototype._transportMessage=function(j){var ne,K=this,Q=j.slice(0,1),re=j.slice(1);switch(Q){case"o":return void this._open();case"h":return void this.dispatchEvent(new P("heartbeat"))}if(re)try{ne=JSON.parse(re)}catch(pe){}if(void 0!==ne)switch(Q){case"a":Array.isArray(ne)&&ne.forEach(function(pe){K.dispatchEvent(new N(pe))});break;case"m":this.dispatchEvent(new N(ne));break;case"c":Array.isArray(ne)&&2===ne.length&&this._close(ne[0],ne[1],!0)}},X.prototype._transportClose=function(j,K){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),Z(j)||2e3===j||this.readyState!==X.CONNECTING?this._close(j,K):this._connect()},X.prototype._open=function(){this.readyState===X.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=X.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new P("open"))):this._close(1006,"Server lost session")},X.prototype._close=function(j,K,Q){var re=!1;if(this._ir&&(re=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===X.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=X.CLOSING,setTimeout(function(){this.readyState=X.CLOSED,re&&this.dispatchEvent(new P("error"));var ne=new O("close");ne.wasClean=Q||!1,ne.code=j||1e3,ne.reason=K,this.dispatchEvent(ne),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},X.prototype.countRTO=function(j){return j>100?4*j:300+j},Me.exports=function(j){return J=g(j),A(737)(X,j),X}},5904:()=>{"use strict";var f,Me=Array.prototype,z=Object.prototype,A=Function.prototype,h=String.prototype,E=Me.slice,v=z.toString,T=function(j){return"[object Function]"===z.toString.call(j)},_=function(K){return"[object String]"===v.call(K)},g=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(j){return!1}}();f=g?function(j,K,Q,re){!re&&K in j||Object.defineProperty(j,K,{configurable:!0,enumerable:!1,writable:!0,value:Q})}:function(j,K,Q,re){!re&&K in j||(j[K]=Q)};var m=function(j,K,Q){for(var re in K)z.hasOwnProperty.call(K,re)&&f(j,re,K[re],Q)},x=function(j){if(null==j)throw new TypeError("can't convert "+j+" to object");return Object(j)};function P(j){var K=+j;return K!=K?K=0:0!==K&&K!==1/0&&K!==-1/0&&(K=(K>0||-1)*Math.floor(Math.abs(K))),K}function w(){}m(A,{bind:function(K){var Q=this;if(!T(Q))throw new TypeError("Function.prototype.bind called on incompatible "+Q);for(var re=E.call(arguments,1),ne=function(){if(this instanceof Se){var xe=Q.apply(this,re.concat(E.call(arguments)));return Object(xe)===xe?xe:this}return Q.apply(K,re.concat(E.call(arguments)))},pe=Math.max(0,Q.length-re.length),be=[],Le=0;Le<pe;Le++)be.push("$"+Le);var Se=Function("binder","return function ("+be.join(",")+"){ return binder.apply(this, arguments); }")(ne);return Q.prototype&&(w.prototype=Q.prototype,Se.prototype=new w,w.prototype=null),Se}}),m(Array,{isArray:function(K){return"[object Array]"===v.call(K)}});var K,Q,re,O=Object("a"),N="a"!==O[0]||!(0 in O);m(Me,{forEach:function(K){var Q=x(this),re=N&&_(this)?this.split(""):Q,ne=arguments[1],pe=-1,be=re.length>>>0;if(!T(K))throw new TypeError;for(;++pe<be;)pe in re&&K.call(ne,re[pe],pe,Q)}},(Q=!0,re=!0,(K=Me.forEach)&&(K.call("foo",function(ne,pe,be){"object"!=typeof be&&(Q=!1)}),K.call([1],function(){re="string"==typeof this},"x")),!(K&&Q&&re)));var V=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);m(Me,{indexOf:function(K){var Q=N&&_(this)?this.split(""):x(this),re=Q.length>>>0;if(!re)return-1;var ne=0;for(arguments.length>1&&(ne=P(arguments[1])),ne=ne>=0?ne:Math.max(0,re+ne);ne<re;ne++)if(ne in Q&&Q[ne]===K)return ne;return-1}},V);var j,J=h.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(j=void 0===/()??/.exec("")[1],h.split=function(K,Q){var re=this;if(void 0===K&&0===Q)return[];if("[object RegExp]"!==v.call(K))return J.call(this,K,Q);var Le,Se,xe,le,ne=[],pe=(K.ignoreCase?"i":"")+(K.multiline?"m":"")+(K.extended?"x":"")+(K.sticky?"y":""),be=0;for(K=new RegExp(K.source,pe+"g"),re+="",j||(Le=new RegExp("^"+K.source+"$(?!\\s)",pe)),Q=void 0===Q?-1>>>0:function p(j){return j>>>0}(Q);(Se=K.exec(re))&&!((xe=Se.index+Se[0].length)>be&&(ne.push(re.slice(be,Se.index)),!j&&Se.length>1&&Se[0].replace(Le,function(){for(var Ce=1;Ce<arguments.length-2;Ce++)void 0===arguments[Ce]&&(Se[Ce]=void 0)}),Se.length>1&&Se.index<re.length&&Me.push.apply(ne,Se.slice(1)),le=Se[0].length,be=xe,ne.length>=Q));)K.lastIndex===Se.index&&K.lastIndex++;return be===re.length?(le||!K.test(""))&&ne.push(""):ne.push(re.slice(be)),ne.length>Q?ne.slice(0,Q):ne}):"0".split(void 0,0).length&&(h.split=function(K,Q){return void 0===K&&0===Q?[]:J.call(this,K,Q)});var X=h.substr;m(h,{substr:function(K,Q){return X.call(this,K<0&&(K=this.length+K)<0?0:K,Q)}},"".substr&&"b"!=="0b".substr(-1))},8810:(Me,z,A)=>{"use strict";Me.exports=[A(7040),A(3897),A(4053),A(1591),A(9802)(A(1591)),A(3362),A(9802)(A(3362)),A(7237),A(8931),A(9802)(A(7237)),A(545)]},3134:(Me,z,A)=>{"use strict";var h=A(17).v,E=A(3894),v=A(3865),T=A(1493),y=global.XMLHttpRequest;function g(x,P,p,w){var O=this;h.call(this),setTimeout(function(){O._start(x,P,p,w)},0)}E(g,h),g.prototype._start=function(x,P,p,w){var O=this;try{this.xhr=new y}catch($){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();P=T.addQuery(P,"t="+ +new Date),this.unloadRef=v.unloadAdd(function(){O._cleanup(!0)});try{this.xhr.open(x,P,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){O.emit("finish",0,""),O._cleanup(!1)})}catch($){return this.emit("finish",0,""),void this._cleanup(!1)}if((!w||!w.noCredentials)&&g.supportsCORS&&(this.xhr.withCredentials=!0),w&&w.headers)for(var N in w.headers)this.xhr.setRequestHeader(N,w.headers[N]);this.xhr.onreadystatechange=function(){if(O.xhr){var V,J,$=O.xhr;switch($.readyState){case 3:try{J=$.status,V=$.responseText}catch(X){}1223===J&&(J=204),200===J&&V&&V.length>0&&O.emit("chunk",J,V);break;case 4:1223===(J=$.status)&&(J=204),(12005===J||12029===J)&&(J=0),O.emit("finish",J,$.responseText),O._cleanup(!1)}}};try{O.xhr.send(p)}catch($){O.emit("finish",0,""),O._cleanup(!1)}},g.prototype._cleanup=function(x){if(this.xhr){if(this.removeAllListeners(),v.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),x)try{this.xhr.abort()}catch(P){}this.unloadRef=this.xhr=null}},g.prototype.close=function(){this._cleanup(!0)},g.enabled=!!y;var f=["Active"].concat("Object").join("X");!g.enabled&&f in global&&(g.enabled=!!new(y=function(){try{return new global[f]("Microsoft.XMLHTTP")}catch(x){return null}}));var m=!1;try{m="withCredentials"in new y}catch(x){}g.supportsCORS=m,Me.exports=g},8513:Me=>{Me.exports=global.EventSource},3848:Me=>{"use strict";var z=global.WebSocket||global.MozWebSocket;Me.exports=z?function(h){return new z(h)}:void 0},1591:(Me,z,A)=>{"use strict";var h=A(3894),E=A(4172),v=A(3436),T=A(7807),y=A(8513);function _(g){if(!_.enabled())throw new Error("Transport created when disabled");E.call(this,g,"/eventsource",v,T)}h(_,E),_.enabled=function(){return!!y},_.transportName="eventsource",_.roundTrips=2,Me.exports=_},3362:(Me,z,A)=>{"use strict";var h=A(3894),E=A(288),v=A(7898),T=A(4172);function y(_){if(!E.enabled)throw new Error("Transport created when disabled");T.call(this,_,"/htmlfile",E,v)}h(y,T),y.enabled=function(_){return E.enabled&&_.sameOrigin},y.transportName="htmlfile",y.roundTrips=2,Me.exports=y},7415:(Me,z,A)=>{"use strict";var h=A(3894),E=A(17).v,v=A(947),T=A(1493),y=A(8075),_=A(3865),g=A(347);function m(x,P,p){if(!m.enabled())throw new Error("Transport created when disabled");E.call(this);var w=this;this.origin=T.getOrigin(p),this.baseUrl=p,this.transUrl=P,this.transport=x,this.windowId=g.string(8);var O=T.addPath(p,"/iframe.html")+"#"+this.windowId;this.iframeObj=y.createIframe(O,function(N){w.emit("close",1006,"Unable to load an iframe ("+N+")"),w.close()}),this.onmessageCallback=this._message.bind(this),_.attachEvent("message",this.onmessageCallback)}h(m,E),m.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){_.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(x){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},m.prototype._message=function(x){if(T.isOriginEqual(x.origin,this.origin)){var P;try{P=JSON.parse(x.data)}catch(w){return}if(P.windowId===this.windowId)switch(P.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([v,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",P.data);break;case"c":var p;try{p=JSON.parse(P.data)}catch(w){return}this.emit("close",p[0],p[1]),this.close()}}},m.prototype.postMessage=function(x,P){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:x,data:P||""}),this.origin)},m.prototype.send=function(x){this.postMessage("m",x)},m.enabled=function(){return y.iframeEnabled},m.transportName="iframe",m.roundTrips=2,Me.exports=m},545:(Me,z,A)=>{"use strict";var h=A(3894),E=A(4196),v=A(8785),T=A(3216);function y(_){if(!y.enabled())throw new Error("Transport created when disabled");E.call(this,_,"/jsonp",T,v)}h(y,E),y.enabled=function(){return!!global.document},y.transportName="jsonp-polling",y.roundTrips=1,y.needBody=!0,Me.exports=y},4172:(Me,z,A)=>{"use strict";var h=A(3894),E=A(1493),v=A(4196);function _(g,f,m,x){v.call(this,g,f,function y(g){return function(f,m,x){var P={};"string"==typeof m&&(P.headers={"Content-type":"text/plain"});var p=E.addPath(f,"/xhr_send"),w=new g("POST",p,m,P);return w.once("finish",function(O){if(w=null,200!==O&&204!==O)return x(new Error("http status "+O));x()}),function(){w.close(),w=null;var O=new Error("Aborted");O.code=1e3,x(O)}}}(x),m,x)}h(_,v),Me.exports=_},9661:(Me,z,A)=>{"use strict";var h=A(3894),E=A(17).v;function T(y,_){E.call(this),this.sendBuffer=[],this.sender=_,this.url=y}h(T,E),T.prototype.send=function(y){this.sendBuffer.push(y),this.sendStop||this.sendSchedule()},T.prototype.sendScheduleWait=function(){var _,y=this;this.sendStop=function(){y.sendStop=null,clearTimeout(_)},_=setTimeout(function(){y.sendStop=null,y.sendSchedule()},25)},T.prototype.sendSchedule=function(){var y=this;if(this.sendBuffer.length>0){var _="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,_,function(g){y.sendStop=null,g?(y.emit("close",g.code||1006,"Sending error: "+g),y.close()):y.sendScheduleWait()}),this.sendBuffer=[]}},T.prototype._cleanup=function(){this.removeAllListeners()},T.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Me.exports=T},9802:(Me,z,A)=>{"use strict";var h=A(3894),E=A(7415),v=A(2923);Me.exports=function(T){function y(_,g){E.call(this,T.transportName,_,g)}return h(y,E),y.enabled=function(_,g){if(!global.document)return!1;var f=v.extend({},g);return f.sameOrigin=!0,T.enabled(f)&&E.enabled()},y.transportName="iframe-"+T.transportName,y.needBody=!0,y.roundTrips=E.roundTrips+T.roundTrips-1,y.facadeTransport=T,y}},20:(Me,z,A)=>{"use strict";var h=A(3894),E=A(17).v;function T(y,_,g){E.call(this),this.Receiver=y,this.receiveUrl=_,this.AjaxObject=g,this._scheduleReceiver()}h(T,E),T.prototype._scheduleReceiver=function(){var y=this,_=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);_.on("message",function(g){y.emit("message",g)}),_.once("close",function(g,f){y.poll=_=null,y.pollIsClosing||("network"===f?y._scheduleReceiver():(y.emit("close",g||1006,f),y.removeAllListeners()))})},T.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Me.exports=T},4196:(Me,z,A)=>{"use strict";var h=A(3894),E=A(1493),v=A(9661),T=A(20);function _(g,f,m,x,P){var p=E.addPath(g,f),w=this;v.call(this,g,m),this.poll=new T(x,p,P),this.poll.on("message",function(O){w.emit("message",O)}),this.poll.once("close",function(O,N){w.poll=null,w.emit("close",O,N),w.close()})}h(_,v),_.prototype.close=function(){v.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Me.exports=_},3436:(Me,z,A)=>{"use strict";var h=A(3894),E=A(17).v,v=A(8513);function y(_){E.call(this);var g=this,f=this.es=new v(_);f.onmessage=function(m){g.emit("message",decodeURI(m.data))},f.onerror=function(m){var x=2!==f.readyState?"network":"permanent";g._cleanup(),g._close(x)}}h(y,E),y.prototype.abort=function(){this._cleanup(),this._close("user")},y.prototype._cleanup=function(){var _=this.es;_&&(_.onmessage=_.onerror=null,_.close(),this.es=null)},y.prototype._close=function(_){var g=this;setTimeout(function(){g.emit("close",null,_),g.removeAllListeners()},200)},Me.exports=y},288:(Me,z,A)=>{"use strict";var h=A(3894),E=A(8075),v=A(1493),T=A(17).v,y=A(347);function g(m){T.call(this);var x=this;E.polluteGlobalNamespace(),this.id="a"+y.string(6),m=v.addQuery(m,"c="+decodeURIComponent(E.WPrefix+"."+this.id));var P=g.htmlfileEnabled?E.createHtmlfile:E.createIframe;global[E.WPrefix][this.id]={start:function(){x.iframeObj.loaded()},message:function(p){x.emit("message",p)},stop:function(){x._cleanup(),x._close("network")}},this.iframeObj=P(m,function(){x._cleanup(),x._close("permanent")})}h(g,T),g.prototype.abort=function(){this._cleanup(),this._close("user")},g.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[E.WPrefix][this.id]},g.prototype._close=function(m){this.emit("close",null,m),this.removeAllListeners()},g.htmlfileEnabled=!1;var f=["Active"].concat("Object").join("X");if(f in global)try{g.htmlfileEnabled=!!new global[f]("htmlfile")}catch(m){}g.enabled=g.htmlfileEnabled||E.iframeEnabled,Me.exports=g},8785:(Me,z,A)=>{"use strict";var h=A(8075),E=A(347),v=A(480),T=A(1493),y=A(3894),_=A(17).v;function f(m){var x=this;_.call(this),h.polluteGlobalNamespace(),this.id="a"+E.string(6);var P=T.addQuery(m,"c="+encodeURIComponent(h.WPrefix+"."+this.id));global[h.WPrefix][this.id]=this._callback.bind(this),this._createScript(P),this.timeoutId=setTimeout(function(){x._abort(new Error("JSONP script loaded abnormally (timeout)"))},f.timeout)}y(f,_),f.prototype.abort=function(){if(global[h.WPrefix][this.id]){var m=new Error("JSONP user aborted read");m.code=1e3,this._abort(m)}},f.timeout=35e3,f.scriptErrorTimeout=1e3,f.prototype._callback=function(m){this._cleanup(),!this.aborting&&(m&&this.emit("message",m),this.emit("close",null,"network"),this.removeAllListeners())},f.prototype._abort=function(m){this._cleanup(),this.aborting=!0,this.emit("close",m.code,m.message),this.removeAllListeners()},f.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var m=this.script;m.parentNode.removeChild(m),m.onreadystatechange=m.onerror=m.onload=m.onclick=null,this.script=null}delete global[h.WPrefix][this.id]},f.prototype._scriptError=function(){var m=this;this.errorTimer||(this.errorTimer=setTimeout(function(){m.loadedOkay||m._abort(new Error("JSONP script loaded abnormally (onerror)"))},f.scriptErrorTimeout))},f.prototype._createScript=function(m){var p,x=this,P=this.script=global.document.createElement("script");if(P.id="a"+E.string(8),P.src=m,P.type="text/javascript",P.charset="UTF-8",P.onerror=this._scriptError.bind(this),P.onload=function(){x._abort(new Error("JSONP script loaded abnormally (onload)"))},P.onreadystatechange=function(){if(/loaded|closed/.test(P.readyState)){if(P&&P.htmlFor&&P.onclick){x.loadedOkay=!0;try{P.onclick()}catch(O){}}P&&x._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===P.async&&global.document.attachEvent)if(v.isOpera())(p=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+P.id+"'); if(a)a.onerror();}catch(x){};",P.async=p.async=!1;else{try{P.htmlFor=P.id,P.event="onclick"}catch(O){}P.async=!0}void 0!==P.async&&(P.async=!0);var w=global.document.getElementsByTagName("head")[0];w.insertBefore(P,w.firstChild),p&&w.insertBefore(p,w.firstChild)},Me.exports=f},6909:(Me,z,A)=>{"use strict";var h=A(3894),E=A(17).v;function T(y,_){E.call(this);var g=this;this.bufferPosition=0,this.xo=new _("POST",y,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(f,m){g._chunkHandler(f,m),g.xo=null,g.emit("close",null,200===f?"network":"permanent"),g._cleanup()})}h(T,E),T.prototype._chunkHandler=function(y,_){if(200===y&&_)for(var g=-1;;this.bufferPosition+=g+1){var f=_.slice(this.bufferPosition);if(-1===(g=f.indexOf("\n")))break;var m=f.slice(0,g);m&&this.emit("message",m)}},T.prototype._cleanup=function(){this.removeAllListeners()},T.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Me.exports=T},3216:(Me,z,A)=>{"use strict";var T,y,h=A(347),E=A(1493);Me.exports=function(f,m,x){T||function g(){(T=global.document.createElement("form")).style.display="none",T.style.position="absolute",T.method="POST",T.enctype="application/x-www-form-urlencoded",T.acceptCharset="UTF-8",(y=global.document.createElement("textarea")).name="d",T.appendChild(y),global.document.body.appendChild(T)}();var P="a"+h.string(8);T.target=P,T.action=E.addQuery(E.addPath(f,"/jsonp_send"),"i="+P);var p=function _(f){try{return global.document.createElement('<iframe name="'+f+'">')}catch(x){var m=global.document.createElement("iframe");return m.name=f,m}}(P);p.id=P,p.style.display="none",T.appendChild(p);try{y.value=m}catch(O){}T.submit();var w=function(O){p.onerror&&(p.onreadystatechange=p.onerror=p.onload=null,setTimeout(function(){p.parentNode.removeChild(p),p=null},500),y.value="",x(O))};return p.onerror=function(){w()},p.onload=function(){w()},p.onreadystatechange=function(O){"complete"===p.readyState&&w()},function(){w(new Error("Aborted"))}}},5705:(Me,z,A)=>{"use strict";var h=A(17).v,E=A(3894),v=A(3865),T=A(480),y=A(1493);function g(f,m,x){var P=this;h.call(this),setTimeout(function(){P._start(f,m,x)},0)}E(g,h),g.prototype._start=function(f,m,x){var P=this,p=new global.XDomainRequest;m=y.addQuery(m,"t="+ +new Date),p.onerror=function(){P._error()},p.ontimeout=function(){P._error()},p.onprogress=function(){P.emit("chunk",200,p.responseText)},p.onload=function(){P.emit("finish",200,p.responseText),P._cleanup(!1)},this.xdr=p,this.unloadRef=v.unloadAdd(function(){P._cleanup(!0)});try{this.xdr.open(f,m),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(x)}catch(w){this._error()}},g.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},g.prototype._cleanup=function(f){if(this.xdr){if(this.removeAllListeners(),v.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,f)try{this.xdr.abort()}catch(m){}this.unloadRef=this.xdr=null}},g.prototype.close=function(){this._cleanup(!0)},g.enabled=!(!global.XDomainRequest||!T.hasDomain()),Me.exports=g},7807:(Me,z,A)=>{"use strict";var h=A(3894),E=A(3134);function v(T,y,_,g){E.call(this,T,y,_,g)}h(v,E),v.enabled=E.enabled&&E.supportsCORS,Me.exports=v},9312:(Me,z,A)=>{"use strict";var h=A(17).v;function v(){var T=this;h.call(this),this.to=setTimeout(function(){T.emit("finish",200,"{}")},v.timeout)}A(3894)(v,h),v.prototype.close=function(){clearTimeout(this.to)},v.timeout=2e3,Me.exports=v},7898:(Me,z,A)=>{"use strict";var h=A(3894),E=A(3134);function v(T,y,_){E.call(this,T,y,_,{noCredentials:!0})}h(v,E),v.enabled=E.enabled,Me.exports=v},7040:(Me,z,A)=>{"use strict";var h=A(3865),E=A(1493),v=A(3894),T=A(17).v,y=A(3848);function g(f,m,x){if(!g.enabled())throw new Error("Transport created when disabled");T.call(this);var P=this,p=E.addPath(f,"/websocket");p="https"===p.slice(0,5)?"wss"+p.slice(5):"ws"+p.slice(4),this.url=p,this.ws=new y(this.url,[],x),this.ws.onmessage=function(w){P.emit("message",w.data)},this.unloadRef=h.unloadAdd(function(){P.ws.close()}),this.ws.onclose=function(w){P.emit("close",w.code,w.reason),P._cleanup()},this.ws.onerror=function(w){P.emit("close",1006,"WebSocket connection broken"),P._cleanup()}}v(g,T),g.prototype.send=function(f){this.ws.send("["+f+"]")},g.prototype.close=function(){var f=this.ws;this._cleanup(),f&&f.close()},g.prototype._cleanup=function(){var f=this.ws;f&&(f.onmessage=f.onclose=f.onerror=null),h.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},g.enabled=function(){return!!y},g.transportName="websocket",g.roundTrips=2,Me.exports=g},8931:(Me,z,A)=>{"use strict";var h=A(3894),E=A(4172),v=A(4053),T=A(6909),y=A(5705);function _(g){if(!y.enabled)throw new Error("Transport created when disabled");E.call(this,g,"/xhr",T,y)}h(_,E),_.enabled=v.enabled,_.transportName="xdr-polling",_.roundTrips=2,Me.exports=_},4053:(Me,z,A)=>{"use strict";var h=A(3894),E=A(4172),v=A(6909),T=A(5705);function y(_){if(!T.enabled)throw new Error("Transport created when disabled");E.call(this,_,"/xhr_streaming",v,T)}h(y,E),y.enabled=function(_){return!_.cookie_needed&&!_.nullOrigin&&T.enabled&&_.sameScheme},y.transportName="xdr-streaming",y.roundTrips=2,Me.exports=y},7237:(Me,z,A)=>{"use strict";var h=A(3894),E=A(4172),v=A(6909),T=A(7807),y=A(7898);function _(g){if(!y.enabled&&!T.enabled)throw new Error("Transport created when disabled");E.call(this,g,"/xhr",v,T)}h(_,E),_.enabled=function(g){return!g.nullOrigin&&(!(!y.enabled||!g.sameOrigin)||T.enabled)},_.transportName="xhr-polling",_.roundTrips=2,Me.exports=_},3897:(Me,z,A)=>{"use strict";var h=A(3894),E=A(4172),v=A(6909),T=A(7807),y=A(7898),_=A(480);function g(f){if(!y.enabled&&!T.enabled)throw new Error("Transport created when disabled");E.call(this,f,"/xhr_streaming",v,T)}h(g,E),g.enabled=function(f){return!f.nullOrigin&&!_.isOpera()&&T.enabled},g.transportName="xhr-streaming",g.roundTrips=2,g.needBody=!!global.document,Me.exports=g},8143:Me=>{"use strict";Me.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(z){var A=new Uint8Array(z);return global.crypto.getRandomValues(A),A}:function(z){for(var A=new Array(z),h=0;h<z;h++)A[h]=Math.floor(256*Math.random());return A}},480:Me=>{"use strict";Me.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(z){return!1}}}},8481:Me=>{"use strict";var A,z=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;Me.exports={quote:function(E){var v=JSON.stringify(E);return z.lastIndex=0,z.test(v)?(A||(A=function(E){var v,T={},y=[];for(v=0;v<65536;v++)y.push(String.fromCharCode(v));return E.lastIndex=0,y.join("").replace(E,function(_){return T[_]="\\u"+("0000"+_.charCodeAt(0).toString(16)).slice(-4),""}),E.lastIndex=0,T}(z)),v.replace(z,function(T){return A[T]})):v}}},3865:(Me,z,A)=>{"use strict";var h=A(347),E={},v=!1,T=global.chrome&&global.chrome.app&&global.chrome.app.runtime;Me.exports={attachEvent:function(_,g){void 0!==global.addEventListener?global.addEventListener(_,g,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+_,g),global.attachEvent("on"+_,g))},detachEvent:function(_,g){void 0!==global.addEventListener?global.removeEventListener(_,g,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+_,g),global.detachEvent("on"+_,g))},unloadAdd:function(_){if(T)return null;var g=h.string(8);return E[g]=_,v&&setTimeout(this.triggerUnloadCallbacks,0),g},unloadDel:function(_){_ in E&&delete E[_]},triggerUnloadCallbacks:function(){for(var _ in E)E[_](),delete E[_]}},T||Me.exports.attachEvent("unload",function(){v||(v=!0,Me.exports.triggerUnloadCallbacks())})},8075:(Me,z,A)=>{"use strict";var h=A(3865),E=A(480);Me.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){Me.exports.WPrefix in global||(global[Me.exports.WPrefix]={})},postMessage:function(T,y){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:Me.exports.currentWindowId,type:T,data:y||""}),"*")},createIframe:function(T,y){var g,f,_=global.document.createElement("iframe"),m=function(){clearTimeout(g);try{_.onload=null}catch(w){}_.onerror=null},x=function(){_&&(m(),setTimeout(function(){_&&_.parentNode.removeChild(_),_=null},0),h.unloadDel(f))},P=function(w){_&&(x(),y(w))};return _.src=T,_.style.display="none",_.style.position="absolute",_.onerror=function(){P("onerror")},_.onload=function(){clearTimeout(g),g=setTimeout(function(){P("onload timeout")},2e3)},global.document.body.appendChild(_),g=setTimeout(function(){P("timeout")},15e3),f=h.unloadAdd(x),{post:function(w,O){setTimeout(function(){try{_&&_.contentWindow&&_.contentWindow.postMessage(w,O)}catch(N){}},0)},cleanup:x,loaded:m}},createHtmlfile:function(T,y){var f,m,x,_=["Active"].concat("Object").join("X"),g=new global[_]("htmlfile"),P=function(){clearTimeout(f),x.onerror=null},p=function(){g&&(P(),h.unloadDel(m),x.parentNode.removeChild(x),x=g=null,CollectGarbage())},w=function($){g&&(p(),y($))};g.open(),g.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),g.close(),g.parentWindow[Me.exports.WPrefix]=global[Me.exports.WPrefix];var N=g.createElement("div");return g.body.appendChild(N),x=g.createElement("iframe"),N.appendChild(x),x.src=T,x.onerror=function(){w("onerror")},f=setTimeout(function(){w("timeout")},15e3),m=h.unloadAdd(p),{post:function($,V){try{setTimeout(function(){x&&x.contentWindow&&x.contentWindow.postMessage($,V)},0)}catch(J){}},cleanup:p,loaded:P}}},Me.exports.iframeEnabled=!1,global.document&&(Me.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!E.isKonqueror())},1433:Me=>{"use strict";var z={};["log","debug","warn"].forEach(function(A){var h;try{h=global.console&&global.console[A]&&global.console[A].apply}catch(E){}z[A]=h?function(){return global.console[A].apply(global.console,arguments)}:"log"===A?function(){}:z.log}),Me.exports=z},2923:Me=>{"use strict";Me.exports={isObject:function(z){var A=typeof z;return"function"===A||"object"===A&&!!z},extend:function(z){if(!this.isObject(z))return z;for(var A,h,E=1,v=arguments.length;E<v;E++)for(h in A=arguments[E])Object.prototype.hasOwnProperty.call(A,h)&&(z[h]=A[h]);return z}}},347:(Me,z,A)=>{"use strict";var h=A(8143),E="abcdefghijklmnopqrstuvwxyz012345";Me.exports={string:function(v){for(var T=E.length,y=h.randomBytes(v),_=[],g=0;g<v;g++)_.push(E.substr(y[g]%T,1));return _.join("")},number:function(v){return Math.floor(Math.random()*v)},numberString:function(v){var T=(""+(v-1)).length;return(new Array(T+1).join("0")+this.number(v)).slice(-T)}}},2264:Me=>{"use strict";Me.exports=function(A){return{filterToEnabled:function(h,E){var v={main:[],facade:[]};return h?"string"==typeof h&&(h=[h]):h=[],A.forEach(function(T){if(T){if("websocket"===T.transportName&&!1===E.websocket)return;if(h.length&&-1===h.indexOf(T.transportName))return;T.enabled(E)&&(v.main.push(T),T.facadeTransport&&v.facade.push(T.facadeTransport))}}),v}}}},1493:(Me,z,A)=>{"use strict";var h=A(7629);Me.exports={getOrigin:function(v){if(!v)return null;var T=new h(v);if("file:"===T.protocol)return null;var y=T.port;return y||(y="https:"===T.protocol?"443":"80"),T.protocol+"//"+T.hostname+":"+y},isOriginEqual:function(v,T){return this.getOrigin(v)===this.getOrigin(T)},isSchemeEqual:function(v,T){return v.split(":")[0]===T.split(":")[0]},addPath:function(v,T){var y=v.split("?");return y[0]+T+(y[1]?"?"+y[1]:"")},addQuery:function(v,T){return v+(-1===v.indexOf("?")?"?"+T:"&"+T)},isLoopbackAddr:function(v){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(v)||/^\[::1\]$/.test(v)}}},947:Me=>{Me.exports="1.6.1"},7629:(Me,z,A)=>{"use strict";var h=A(8237),E=A(2858),v=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,T=/[\n\r\t]/g,y=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,_=/:\d+$/,g=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,f=/^[a-zA-Z]:/;function m(X){return(X||"").toString().replace(v,"")}var x=[["#","hash"],["?","query"],function(Z,j){return w(j.protocol)?Z.replace(/\\/g,"/"):Z},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],P={hash:1,query:1};function p(X){var Z;Z="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var re,K={},Q=typeof(X=X||Z.location||{});if("blob:"===X.protocol)K=new $(unescape(X.pathname),{});else if("string"===Q)for(re in K=new $(X,{}),P)delete K[re];else if("object"===Q){for(re in X)re in P||(K[re]=X[re]);void 0===K.slashes&&(K.slashes=y.test(X.href))}return K}function w(X){return"file:"===X||"ftp:"===X||"http:"===X||"https:"===X||"ws:"===X||"wss:"===X}function O(X,Z){X=(X=m(X)).replace(T,""),Z=Z||{};var pe,j=g.exec(X),K=j[1]?j[1].toLowerCase():"",Q=!!j[2],re=!!j[3],ne=0;return Q?re?(pe=j[2]+j[3]+j[4],ne=j[2].length+j[3].length):(pe=j[2]+j[4],ne=j[2].length):re?(pe=j[3]+j[4],ne=j[3].length):pe=j[4],"file:"===K?ne>=2&&(pe=pe.slice(2)):w(K)?pe=j[4]:K?Q&&(pe=pe.slice(2)):ne>=2&&w(Z.protocol)&&(pe=j[4]),{protocol:K,slashes:Q||w(K),slashesCount:ne,rest:pe}}function $(X,Z,j){if(X=(X=m(X)).replace(T,""),!(this instanceof $))return new $(X,Z,j);var K,Q,re,ne,pe,be,Le=x.slice(),Se=typeof Z,xe=this,le=0;for("object"!==Se&&"string"!==Se&&(j=Z,Z=null),j&&"function"!=typeof j&&(j=E.parse),K=!(Q=O(X||"",Z=p(Z))).protocol&&!Q.slashes,xe.slashes=Q.slashes||K&&Z.slashes,xe.protocol=Q.protocol||Z.protocol||"",X=Q.rest,("file:"===Q.protocol&&(2!==Q.slashesCount||f.test(X))||!Q.slashes&&(Q.protocol||Q.slashesCount<2||!w(xe.protocol)))&&(Le[3]=[/(.*)/,"pathname"]);le<Le.length;le++)"function"!=typeof(ne=Le[le])?(be=ne[1],(re=ne[0])!=re?xe[be]=X:"string"==typeof re?~(pe="@"===re?X.lastIndexOf(re):X.indexOf(re))&&("number"==typeof ne[2]?(xe[be]=X.slice(0,pe),X=X.slice(pe+ne[2])):(xe[be]=X.slice(pe),X=X.slice(0,pe))):(pe=re.exec(X))&&(xe[be]=pe[1],X=X.slice(0,pe.index)),xe[be]=xe[be]||K&&ne[3]&&Z[be]||"",ne[4]&&(xe[be]=xe[be].toLowerCase())):X=ne(X,xe);j&&(xe.query=j(xe.query)),K&&Z.slashes&&"/"!==xe.pathname.charAt(0)&&(""!==xe.pathname||""!==Z.pathname)&&(xe.pathname=function N(X,Z){if(""===X)return Z;for(var j=(Z||"/").split("/").slice(0,-1).concat(X.split("/")),K=j.length,Q=j[K-1],re=!1,ne=0;K--;)"."===j[K]?j.splice(K,1):".."===j[K]?(j.splice(K,1),ne++):ne&&(0===K&&(re=!0),j.splice(K,1),ne--);return re&&j.unshift(""),("."===Q||".."===Q)&&j.push(""),j.join("/")}(xe.pathname,Z.pathname)),"/"!==xe.pathname.charAt(0)&&w(xe.protocol)&&(xe.pathname="/"+xe.pathname),h(xe.port,xe.protocol)||(xe.host=xe.hostname,xe.port=""),xe.username=xe.password="",xe.auth&&(~(pe=xe.auth.indexOf(":"))?(xe.username=xe.auth.slice(0,pe),xe.username=encodeURIComponent(decodeURIComponent(xe.username)),xe.password=xe.auth.slice(pe+1),xe.password=encodeURIComponent(decodeURIComponent(xe.password))):xe.username=encodeURIComponent(decodeURIComponent(xe.auth)),xe.auth=xe.password?xe.username+":"+xe.password:xe.username),xe.origin="file:"!==xe.protocol&&w(xe.protocol)&&xe.host?xe.protocol+"//"+xe.host:"null",xe.href=xe.toString()}$.prototype={set:function V(X,Z,j){var K=this;switch(X){case"query":"string"==typeof Z&&Z.length&&(Z=(j||E.parse)(Z)),K[X]=Z;break;case"port":K[X]=Z,h(Z,K.protocol)?Z&&(K.host=K.hostname+":"+Z):(K.host=K.hostname,K[X]="");break;case"hostname":K[X]=Z,K.port&&(Z+=":"+K.port),K.host=Z;break;case"host":K[X]=Z,_.test(Z)?(Z=Z.split(":"),K.port=Z.pop(),K.hostname=Z.join(":")):(K.hostname=Z,K.port="");break;case"protocol":K.protocol=Z.toLowerCase(),K.slashes=!j;break;case"pathname":case"hash":if(Z){var Q="pathname"===X?"/":"#";K[X]=Z.charAt(0)!==Q?Q+Z:Z}else K[X]=Z;break;case"username":case"password":K[X]=encodeURIComponent(Z);break;case"auth":var re=Z.indexOf(":");~re?(K.username=Z.slice(0,re),K.username=encodeURIComponent(decodeURIComponent(K.username)),K.password=Z.slice(re+1),K.password=encodeURIComponent(decodeURIComponent(K.password))):K.username=encodeURIComponent(decodeURIComponent(Z))}for(var ne=0;ne<x.length;ne++){var pe=x[ne];pe[4]&&(K[pe[1]]=K[pe[1]].toLowerCase())}return K.auth=K.password?K.username+":"+K.password:K.username,K.origin="file:"!==K.protocol&&w(K.protocol)&&K.host?K.protocol+"//"+K.host:"null",K.href=K.toString(),K},toString:function J(X){(!X||"function"!=typeof X)&&(X=E.stringify);var Z,j=this,K=j.host,Q=j.protocol;Q&&":"!==Q.charAt(Q.length-1)&&(Q+=":");var re=Q+(j.protocol&&j.slashes||w(j.protocol)?"//":"");return j.username?(re+=j.username,j.password&&(re+=":"+j.password),re+="@"):j.password?(re+=":"+j.password,re+="@"):"file:"!==j.protocol&&w(j.protocol)&&!K&&"/"!==j.pathname&&(re+="@"),(":"===K[K.length-1]||_.test(j.hostname)&&!j.port)&&(K+=":"),re+=K+j.pathname,(Z="object"==typeof j.query?X(j.query):j.query)&&(re+="?"!==Z.charAt(0)?"?"+Z:Z),j.hash&&(re+=j.hash),re}},$.extractProtocol=O,$.location=p,$.trimLeft=m,$.qs=E,Me.exports=$},1308:function(Me,z,A){var h;Me=A.nmd(Me),function(E){"object"==typeof global&&global;var _,g=2147483647,f=36,$=/^xn--/,V=/[^\x20-\x7E]/,J=/[\x2E\u3002\uFF0E\uFF61]/g,X={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=Math.floor,K=String.fromCharCode;function re(Te){throw new RangeError(X[Te])}function ne(Te,Ne){for(var Ke=Te.length,ot=[];Ke--;)ot[Ke]=Ne(Te[Ke]);return ot}function pe(Te,Ne){var Ke=Te.split("@"),ot="";return Ke.length>1&&(ot=Ke[0]+"@",Te=Ke[1]),ot+ne((Te=Te.replace(J,".")).split("."),Ne).join(".")}function be(Te){for(var Ze,mt,Ne=[],Ke=0,ot=Te.length;Ke<ot;)(Ze=Te.charCodeAt(Ke++))>=55296&&Ze<=56319&&Ke<ot?56320==(64512&(mt=Te.charCodeAt(Ke++)))?Ne.push(((1023&Ze)<<10)+(1023&mt)+65536):(Ne.push(Ze),Ke--):Ne.push(Ze);return Ne}function Le(Te){return ne(Te,function(Ne){var Ke="";return Ne>65535&&(Ke+=K((Ne-=65536)>>>10&1023|55296),Ne=56320|1023&Ne),Ke+K(Ne)}).join("")}function Se(Te){return Te-48<10?Te-22:Te-65<26?Te-65:Te-97<26?Te-97:f}function xe(Te,Ne){return Te+22+75*(Te<26)-((0!=Ne)<<5)}function le(Te,Ne,Ke){var ot=0;for(Te=Ke?j(Te/700):Te>>1,Te+=j(Te/Ne);Te>455;ot+=f)Te=j(Te/35);return j(ot+36*Te/(Te+38))}function Ce(Te){var ot,tt,me,Ie,ke,ze,st,lt,Be,Ve,Ne=[],Ke=Te.length,Ze=0,mt=128,yt=72;for((tt=Te.lastIndexOf("-"))<0&&(tt=0),me=0;me<tt;++me)Te.charCodeAt(me)>=128&&re("not-basic"),Ne.push(Te.charCodeAt(me));for(Ie=tt>0?tt+1:0;Ie<Ke;){for(ke=Ze,ze=1,st=f;Ie>=Ke&&re("invalid-input"),((lt=Se(Te.charCodeAt(Ie++)))>=f||lt>j((g-Ze)/ze))&&re("overflow"),Ze+=lt*ze,!(lt<(Be=st<=yt?1:st>=yt+26?26:st-yt));st+=f)ze>j(g/(Ve=f-Be))&&re("overflow"),ze*=Ve;yt=le(Ze-ke,ot=Ne.length+1,0==ke),j(Ze/ot)>g-mt&&re("overflow"),mt+=j(Ze/ot),Ze%=ot,Ne.splice(Ze++,0,mt)}return Le(Ne)}function ge(Te){var Ne,Ke,ot,Ze,mt,yt,tt,me,Ie,ke,ze,lt,Be,Ve,Qt,st=[];for(lt=(Te=be(Te)).length,Ne=128,Ke=0,mt=72,yt=0;yt<lt;++yt)(ze=Te[yt])<128&&st.push(K(ze));for(ot=Ze=st.length,Ze&&st.push("-");ot<lt;){for(tt=g,yt=0;yt<lt;++yt)(ze=Te[yt])>=Ne&&ze<tt&&(tt=ze);for(tt-Ne>j((g-Ke)/(Be=ot+1))&&re("overflow"),Ke+=(tt-Ne)*Be,Ne=tt,yt=0;yt<lt;++yt)if((ze=Te[yt])<Ne&&++Ke>g&&re("overflow"),ze==Ne){for(me=Ke,Ie=f;!(me<(ke=Ie<=mt?1:Ie>=mt+26?26:Ie-mt));Ie+=f)st.push(K(xe(ke+(Qt=me-ke)%(Ve=f-ke),0))),me=j(Qt/Ve);st.push(K(xe(me,0))),mt=le(Ke,Be,ot==Ze),Ke=0,++ot}++Ke,++Ne}return st.join("")}_={version:"1.4.1",ucs2:{decode:be,encode:Le},decode:Ce,encode:ge,toASCII:function he(Te){return pe(Te,function(Ne){return V.test(Ne)?"xn--"+ge(Ne):Ne})},toUnicode:function Xe(Te){return pe(Te,function(Ne){return $.test(Ne)?Ce(Ne.slice(4).toLowerCase()):Ne})}},void 0!==(h=function(){return _}.call(z,A,z,Me))&&(Me.exports=h)}()},8762:(Me,z,A)=>{"use strict";var E=A(1308);function v(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var T=/^([a-z0-9.+-]+:)/i,y=/:[0-9]*$/,_=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),m=["'"].concat(f),x=["%","/","?",";","#"].concat(m),P=["/","?","#"],w=/^[+a-z0-9A-Z_-]{0,63}$/,O=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},$={javascript:!0,"javascript:":!0},V={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},J=A(1781);function X(Q,re,ne){if(Q&&"object"==typeof Q&&Q instanceof v)return Q;var pe=new v;return pe.parse(Q,re,ne),pe}v.prototype.parse=function(Q,re,ne){if("string"!=typeof Q)throw new TypeError("Parameter 'url' must be a string, not "+typeof Q);var pe=Q.indexOf("?"),be=-1!==pe&&pe<Q.indexOf("#")?"?":"#",Le=Q.split(be);Le[0]=Le[0].replace(/\\/g,"/");var xe=Q=Le.join(be);if(xe=xe.trim(),!ne&&1===Q.split("#").length){var le=_.exec(xe);if(le)return this.path=xe,this.href=xe,this.pathname=le[1],le[2]?(this.search=le[2],this.query=re?J.parse(this.search.substr(1)):this.search.substr(1)):re&&(this.search="",this.query={}),this}var Ce=T.exec(xe);if(Ce){var ge=(Ce=Ce[0]).toLowerCase();this.protocol=ge,xe=xe.substr(Ce.length)}if(ne||Ce||xe.match(/^\/\/[^@/]+@[^@/]+/)){var Xe="//"===xe.substr(0,2);Xe&&(!Ce||!$[Ce])&&(xe=xe.substr(2),this.slashes=!0)}if(!$[Ce]&&(Xe||Ce&&!V[Ce])){for(var he=-1,Te=0;Te<P.length;Te++)-1!==(Ne=xe.indexOf(P[Te]))&&(-1===he||Ne<he)&&(he=Ne);var Ke,ot;for(-1!==(ot=-1===he?xe.lastIndexOf("@"):xe.lastIndexOf("@",he))&&(Ke=xe.slice(0,ot),xe=xe.slice(ot+1),this.auth=decodeURIComponent(Ke)),he=-1,Te=0;Te<x.length;Te++){var Ne;-1!==(Ne=xe.indexOf(x[Te]))&&(-1===he||Ne<he)&&(he=Ne)}-1===he&&(he=xe.length),this.host=xe.slice(0,he),xe=xe.slice(he),this.parseHost(),this.hostname=this.hostname||"";var Ze="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Ze)for(var mt=this.hostname.split(/\./),yt=(Te=0,mt.length);Te<yt;Te++){var tt=mt[Te];if(tt&&!tt.match(w)){for(var me="",Ie=0,ke=tt.length;Ie<ke;Ie++)tt.charCodeAt(Ie)>127?me+="x":me+=tt[Ie];if(!me.match(w)){var ze=mt.slice(0,Te),st=mt.slice(Te+1),lt=tt.match(O);lt&&(ze.push(lt[1]),st.unshift(lt[2])),st.length&&(xe="/"+st.join(".")+xe),this.hostname=ze.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Ze||(this.hostname=E.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Ze&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==xe[0]&&(xe="/"+xe))}if(!N[ge])for(Te=0,yt=m.length;Te<yt;Te++){var Qt=m[Te];if(-1!==xe.indexOf(Qt)){var Ut=encodeURIComponent(Qt);Ut===Qt&&(Ut=escape(Qt)),xe=xe.split(Qt).join(Ut)}}var rn=xe.indexOf("#");-1!==rn&&(this.hash=xe.substr(rn),xe=xe.slice(0,rn));var Dn=xe.indexOf("?");return-1!==Dn?(this.search=xe.substr(Dn),this.query=xe.substr(Dn+1),re&&(this.query=J.parse(this.query)),xe=xe.slice(0,Dn)):re&&(this.search="",this.query={}),xe&&(this.pathname=xe),V[ge]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},v.prototype.format=function(){var Q=this.auth||"";Q&&(Q=(Q=encodeURIComponent(Q)).replace(/%3A/i,":"),Q+="@");var re=this.protocol||"",ne=this.pathname||"",pe=this.hash||"",be=!1,Le="";this.host?be=Q+this.host:this.hostname&&(be=Q+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(be+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(Le=J.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Se=this.search||Le&&"?"+Le||"";return re&&":"!==re.substr(-1)&&(re+=":"),this.slashes||(!re||V[re])&&!1!==be?(be="//"+(be||""),ne&&"/"!==ne.charAt(0)&&(ne="/"+ne)):be||(be=""),pe&&"#"!==pe.charAt(0)&&(pe="#"+pe),Se&&"?"!==Se.charAt(0)&&(Se="?"+Se),re+be+(ne=ne.replace(/[?#]/g,function(xe){return encodeURIComponent(xe)}))+(Se=Se.replace("#","%23"))+pe},v.prototype.resolve=function(Q){return this.resolveObject(X(Q,!1,!0)).format()},v.prototype.resolveObject=function(Q){if("string"==typeof Q){var re=new v;re.parse(Q,!1,!0),Q=re}for(var ne=new v,pe=Object.keys(this),be=0;be<pe.length;be++){var Le=pe[be];ne[Le]=this[Le]}if(ne.hash=Q.hash,""===Q.href)return ne.href=ne.format(),ne;if(Q.slashes&&!Q.protocol){for(var Se=Object.keys(Q),xe=0;xe<Se.length;xe++){var le=Se[xe];"protocol"!==le&&(ne[le]=Q[le])}return V[ne.protocol]&&ne.hostname&&!ne.pathname&&(ne.pathname="/",ne.path=ne.pathname),ne.href=ne.format(),ne}if(Q.protocol&&Q.protocol!==ne.protocol){if(!V[Q.protocol]){for(var Ce=Object.keys(Q),ge=0;ge<Ce.length;ge++){var Xe=Ce[ge];ne[Xe]=Q[Xe]}return ne.href=ne.format(),ne}if(ne.protocol=Q.protocol,Q.host||$[Q.protocol])ne.pathname=Q.pathname;else{for(var yt=(Q.pathname||"").split("/");yt.length&&!(Q.host=yt.shift()););Q.host||(Q.host=""),Q.hostname||(Q.hostname=""),""!==yt[0]&&yt.unshift(""),yt.length<2&&yt.unshift(""),ne.pathname=yt.join("/")}return ne.search=Q.search,ne.query=Q.query,ne.host=Q.host||"",ne.auth=Q.auth,ne.hostname=Q.hostname||Q.host,ne.port=Q.port,(ne.pathname||ne.search)&&(ne.path=(ne.pathname||"")+(ne.search||"")),ne.slashes=ne.slashes||Q.slashes,ne.href=ne.format(),ne}var Ne=ne.pathname&&"/"===ne.pathname.charAt(0),Ke=Q.host||Q.pathname&&"/"===Q.pathname.charAt(0),ot=Ke||Ne||ne.host&&Q.pathname,Ze=ot,mt=ne.pathname&&ne.pathname.split("/")||[],tt=(yt=Q.pathname&&Q.pathname.split("/")||[],ne.protocol&&!V[ne.protocol]);if(tt&&(ne.hostname="",ne.port=null,ne.host&&(""===mt[0]?mt[0]=ne.host:mt.unshift(ne.host)),ne.host="",Q.protocol&&(Q.hostname=null,Q.port=null,Q.host&&(""===yt[0]?yt[0]=Q.host:yt.unshift(Q.host)),Q.host=null),ot=ot&&(""===yt[0]||""===mt[0])),Ke)ne.host=Q.host||""===Q.host?Q.host:ne.host,ne.hostname=Q.hostname||""===Q.hostname?Q.hostname:ne.hostname,ne.search=Q.search,ne.query=Q.query,mt=yt;else if(yt.length)mt||(mt=[]),mt.pop(),mt=mt.concat(yt),ne.search=Q.search,ne.query=Q.query;else if(null!=Q.search)return tt&&(ne.host=mt.shift(),ne.hostname=ne.host,(me=!!(ne.host&&ne.host.indexOf("@")>0)&&ne.host.split("@"))&&(ne.auth=me.shift(),ne.hostname=me.shift(),ne.host=ne.hostname)),ne.search=Q.search,ne.query=Q.query,(null!==ne.pathname||null!==ne.search)&&(ne.path=(ne.pathname?ne.pathname:"")+(ne.search?ne.search:"")),ne.href=ne.format(),ne;if(!mt.length)return ne.pathname=null,ne.path=ne.search?"/"+ne.search:null,ne.href=ne.format(),ne;for(var Ie=mt.slice(-1)[0],ke=(ne.host||Q.host||mt.length>1)&&("."===Ie||".."===Ie)||""===Ie,ze=0,st=mt.length;st>=0;st--)"."===(Ie=mt[st])?mt.splice(st,1):".."===Ie?(mt.splice(st,1),ze++):ze&&(mt.splice(st,1),ze--);if(!ot&&!Ze)for(;ze--;ze)mt.unshift("..");ot&&""!==mt[0]&&(!mt[0]||"/"!==mt[0].charAt(0))&&mt.unshift(""),ke&&"/"!==mt.join("/").substr(-1)&&mt.push("");var me,lt=""===mt[0]||mt[0]&&"/"===mt[0].charAt(0);return tt&&(ne.hostname=lt?"":mt.length?mt.shift():"",ne.host=ne.hostname,(me=!!(ne.host&&ne.host.indexOf("@")>0)&&ne.host.split("@"))&&(ne.auth=me.shift(),ne.hostname=me.shift(),ne.host=ne.hostname)),(ot=ot||ne.host&&mt.length)&&!lt&&mt.unshift(""),mt.length>0?ne.pathname=mt.join("/"):(ne.pathname=null,ne.path=null),(null!==ne.pathname||null!==ne.search)&&(ne.path=(ne.pathname?ne.pathname:"")+(ne.search?ne.search:"")),ne.auth=Q.auth||ne.auth,ne.slashes=ne.slashes||Q.slashes,ne.href=ne.format(),ne},v.prototype.parseHost=function(){var Q=this.host,re=y.exec(Q);re&&(":"!==(re=re[0])&&(this.port=re.substr(1)),Q=Q.substr(0,Q.length-re.length)),Q&&(this.hostname=Q)},z.Qc=X,z.DB=function j(Q,re){return X(Q,!1,!0).resolve(re)},z.WU=function Z(Q){return"string"==typeof Q&&(Q=X(Q)),Q instanceof v?Q.format():v.prototype.format.call(Q)}},4654:()=>{}},Me=>{Me(Me.s=8515)}]);